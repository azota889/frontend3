"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[6305],{67259:(W,G,s)=>{s.d(G,{G:()=>U});var C=s(59640),e=s(52811),t=s(48891),E=s(99743),n=s(34292),R=s(68106),K=s(54460),F=s(10936),x=s(65162),Q=s(47348),h=s(21656),p=s(15343),_=s(70050),b=s(5502),A=s(36894),y=s(17818),z=s(47712);function k(g,T){if(1&g){const u=t.RV6();t.j41(0,"span",8),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"span",9),t.bIt("click",function(v){return t.eBV(u),t.XpG().setTag(void 0,"CURRENT_ANSWER"),t.Njj(v.stopPropagation())}),t.nrm(5,"lucide-icon",10),t.k0s()()}if(2&g){const u=t.XpG(),j=t.sdS(5);t.FS9("matTooltip",t.bMT(1,3,u.currentQuestionTagName+"_name")),t.Y8G("matMenuTriggerFor",j),t.R7$(2),t.SpI(" ",t.bMT(3,5,u.currentQuestionTagName)," ")}}function $(g,T){if(1&g&&t.nrm(0,"lucide-icon",11),2&g){t.XpG();const u=t.sdS(5);t.Y8G("matMenuTriggerFor",u)}}function q(g,T){if(1&g){const u=t.RV6();t.j41(0,"li")(1,"a",12),t.bIt("click",function(){const v=t.eBV(u).$implicit,I=t.XpG();return t.Njj(I.setTag(v,"CURRENT_ANSWER"))}),t.EFF(2),t.k0s()()}if(2&g){const u=T.$implicit;t.R7$(2),t.SpI(" ",u.showName," ")}}function N(g,T){if(1&g){const u=t.RV6();t.j41(0,"li")(1,"button",13),t.bIt("click",function(){const v=t.eBV(u).$implicit,I=t.XpG();return t.Njj(I.setTag(v,"BELOW_ANSWER"))}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}if(2&g){const u=T.$implicit;t.R7$(2),t.Lme("",u.showName," - ",t.bMT(3,2,"lang_core_cho_cac_y_con_lai_trong_cau"),"")}}function P(g,T){if(1&g){const u=t.RV6();t.j41(0,"li")(1,"button",13),t.bIt("click",function(){const v=t.eBV(u).$implicit,I=t.XpG();return t.Njj(I.setTag(v,"BELOW_ANSWER_AND_QUESTION"))}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}if(2&g){const u=T.$implicit;t.R7$(2),t.Lme("",u.showName," - ",t.bMT(3,2,"lang_core_cho_cac_cau_con_lai"),"")}}let Y=(()=>{var g;class T extends C.H{constructor(){super(...arguments),this.sAztListenQuestionTagChangesService=(0,t.WQX)(n.c),this.sAztQuestionTagService=(0,t.WQX)(R.c),this.sAztChangeObjectiveTagForQuestionService=(0,t.WQX)(E.I),this.questionTags=[]}setTag(j,v){let I=j?[j]:[];this.questionObj=this.sAztChangeObjectiveTagForQuestionService.changeTagForTrueFalseQuestion(this.questionObj,this.currentAnswerKey,I),this.sAztListenQuestionTagChangesService.sendSetTagEvent({questionType:"true_false_question",tagType:v,questionObj:this.questionObj,questionViewObj:void 0,answerKey:this.currentAnswerKey,questionIndex:void 0,tagObjs:I}),this.initData()}initData(){this.viewQuestionTags=this.sAztQuestionTagService.formatTag(this.questionTags),this.currentQuestionTagName=this.sAztQuestionTagService.findCurrentTag(this.questionTags,this.questionObj.configAnswers,this.currentAnswerKey)}ngOnChanges(){this.sAztQuestionTagService.getQuestionTags().subscribe(j=>{this.questionTags=j,this.initData()})}}return(g=T).\u0275fac=(()=>{let u;return function(v){return(u||(u=t.xGo(g)))(v||g)}})(),g.\u0275cmp=t.VBU({type:g,selectors:[["azt-base-common-true-false-question-tag"]],inputs:{questionObj:"questionObj",currentAnswerKey:"currentAnswerKey"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],decls:16,vars:5,consts:[["notHaveQuestionTag",""],["tags","matMenu"],[1,"clickable"],["class","py-0.5 px-2 rounded-full bg-gray text-black font-medium flex items-center",3,"matMenuTriggerFor","matTooltip",4,"ngIf","ngIfElse"],[1,"dropdown-menu","show","relative",2,"width","322px"],[1,"dropdown-content"],[4,"ngFor","ngForOf"],[1,"dropdown-divider","border-slate-200","dark:border-darkmode-400"],[1,"py-0.5","px-2","rounded-full","bg-gray","text-black","font-medium","flex","items-center",3,"matMenuTriggerFor","matTooltip"],[1,"ml-1","hover:text-danger",3,"click"],["name","x","size","16"],["name","tag","size","16",3,"matMenuTriggerFor"],["azt-track-service","quest-header-6eo6V4JpI2",1,"dropdown-item",3,"click"],[1,"dropdown-item","w-full",3,"click"]],template:function(j,v){if(1&j&&(t.j41(0,"span",2),t.DNE(1,k,6,7,"span",3)(2,$,1,1,"ng-template",null,0,t.C5r),t.k0s(),t.j41(4,"mat-menu",null,1)(6,"div",4)(7,"ul",5),t.DNE(8,q,3,1,"li",6),t.qex(9),t.j41(10,"li"),t.nrm(11,"hr",7),t.k0s(),t.DNE(12,N,4,4,"li",6),t.j41(13,"li"),t.nrm(14,"hr",7),t.k0s(),t.DNE(15,P,4,4,"li",6),t.bVm(),t.k0s()()()),2&j){const I=t.sdS(3);t.R7$(),t.Y8G("ngIf",v.currentQuestionTagName)("ngIfElse",I),t.R7$(7),t.Y8G("ngForOf",v.viewQuestionTags),t.R7$(4),t.Y8G("ngForOf",v.viewQuestionTags),t.R7$(3),t.Y8G("ngForOf",v.viewQuestionTags)}},dependencies:[K.MD,K.Sq,K.bT,F.X1,x.iI,F.YN,Q.wp,h.s,y.kk,y.Cp,z.oV,p.flO,p.WGl,_.L,b.Id,A.k],encapsulation:2}),T})();function D(g,T){1&g&&t.nrm(0,"azt-loading-ui",2),2&g&&t.Y8G("size",16)}function B(g,T){if(1&g&&t.nrm(0,"azt-base-common-true-false-question-tag",3),2&g){const u=t.XpG();t.Y8G("questionObj",u.questionObj)("currentAnswerKey",u.currentAnswerKey)}}let U=(()=>{var g;class T extends C.H{}return(g=T).\u0275fac=(()=>{let u;return function(v){return(u||(u=t.xGo(g)))(v||g)}})(),g.\u0275cmp=t.VBU({type:g,selectors:[["azt-common-true-false-question-tag-in-edit-mode"]],inputs:{questionObj:"questionObj",currentAnswerKey:"currentAnswerKey"},standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:2,consts:[["loadingDone",""],["class","ml-3",3,"size",4,"ngIf","ngIfElse"],[1,"ml-3",3,"size"],[3,"questionObj","currentAnswerKey"]],template:function(j,v){if(1&j&&t.DNE(0,D,1,1,"azt-loading-ui",1)(1,B,1,2,"ng-template",null,0,t.C5r),2&j){const I=t.sdS(2);t.Y8G("ngIf",v.statusObj.loading)("ngIfElse",I)}},dependencies:[e.R,Y,K.MD,K.bT,F.X1,x.iI,F.YN,h.s,p.flO,_.L,b.Id,A.k],encapsulation:2}),T})()},46305:(W,G,s)=>{s.d(G,{Q:()=>ye});var C=s(54460),e=s(48891),t=s(10936),E=s(65162),n=s(15343),R=s(5502),K=s(21656),F=s(5955),x=s(47348),Q=s(70050),h=s(9570),p=s(46899),_=s(59640),b=s(99743),A=s(2433),y=s(36318),z=s(37320),k=s(52811),$=s(81300),q=s(36894);const N=()=>({"text-warning":!0,"mr-1":!0}),P=()=>({"mr-1":!0});function Y(o,d){1&o&&e.nrm(0,"azt-loading-ui",4),2&o&&e.Y8G("size",16)}function D(o,d){1&o&&(e.j41(0,"div",8)(1,"azt-check-vip-account",9)(2,"span",10),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","w-full")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","KNOWLEDGE_UNIT"),e.R7$(2),e.JRh(e.bMT(4,6,"lang_azt_upgrade_to_vip_account")))}function B(o,d){if(1&o){const i=e.RV6();e.j41(0,"div",8)(1,"span",11),e.nrm(2,"lucide-icon",12),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"a",14),e.nrm(7,"lucide-icon",15),e.j41(8,"span",16),e.bIt("click",function(){e.eBV(i);const l=e.XpG(3);return e.Njj(l.guessKnowledgeUnit())}),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()()}2&o&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(8,N)),e.R7$(2),e.JRh(e.bMT(5,4,"lang_knowledge_suggest_api_call_again")),e.R7$(3),e.Y8G("ngClass",e.lJ4(9,P)),e.R7$(2),e.JRh(e.bMT(10,6,"lang_auto_thu_lai")))}function U(o,d){if(1&o){const i=e.RV6();e.j41(0,"div",8),e.nrm(1,"azt-dynamic-hook",17),e.nI1(2,"mytranslate"),e.j41(3,"a",18),e.bIt("click",function(){e.eBV(i);const l=e.XpG(3);return e.Njj(l.openKnowledgeObjectiveTreeNodeDialog())}),e.nrm(4,"lucide-icon",19),e.j41(5,"span"),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()()}if(2&o){let i;const a=e.XpG(3);e.R7$(),e.Y8G("content",null!==(i=null==a.currentKnowledgeTreeNode?null:a.currentKnowledgeTreeNode.title)&&void 0!==i?i:e.bMT(2,3,"long_core_chon_khung_kien_thuc")),e.R7$(3),e.Y8G("ngClass",e.lJ4(7,P)),e.R7$(2),e.JRh(e.bMT(7,5,"lang_auto_sua"))}}function g(o,d){if(1&o&&(e.qex(0),e.j41(1,"div",6),e.DNE(2,D,5,8,"div",7)(3,B,11,10,"div",7)(4,U,8,8,"div",7),e.k0s(),e.bVm()),2&o){const i=e.XpG(2);e.R7$(2),e.Y8G("ngIf","vipRequired"==i.currentStatus),e.R7$(),e.Y8G("ngIf","callApiFail"==i.currentStatus),e.R7$(),e.Y8G("ngIf",null==i.currentStatus)}}function T(o,d){1&o&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&o&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_analyze_knowledge_no_support_for_this_school_level_and_subject")))}function u(o,d){if(1&o&&e.DNE(0,g,5,3,"ng-container",5)(1,T,3,3,"ng-template",null,1,e.C5r),2&o){const i=e.sdS(2),a=e.XpG();e.Y8G("ngIf",a.knowledgeObjs.length>0)("ngIfElse",i)}}let j=(()=>{var o;class d extends _.H{constructor(){super(...arguments),this.selectKnowledgeEmit=new e.bkB,this.sAztChangeObjectiveTagForQuestionService=(0,e.WQX)(b.I),this.sAztKnowledgeObjectiveService=(0,e.WQX)(A.h),this.sAztDialogService=(0,e.WQX)(p.i),this.sAztControlSuggestionKnowledgeUnitService=(0,e.WQX)(z.f),this.currentStatus=void 0,this.knowledgeObjs=[]}guessKnowledgeUnit(){if(this.ebankFrameId||this.currentKnowledgeTreeNode)return;this.currentStatus="loadingSuggestion";let a={questionId:this.questionObj.id,questionContent:this.questionObj.content??"",answerContents:this.questionObj.answers.filter(l=>this.commonService.isExistInArray(this.questionObj.answerResult,l.key)).map(l=>l.content),levelId:this.levelId,subjectId:this.subjectId,ebankId:void 0};this.sAztControlSuggestionKnowledgeUnitService.callApiToGuestKnowledge(!1,a,(l,w,Ke)=>{this.updateKnowledgeAndObjective(w,!0),this.currentStatus=void 0},l=>{this.currentStatus="lang_core_need_vip_upgrade"==l?"vipRequired":"callApiFail"})}openKnowledgeObjectiveTreeNodeDialog(){this.sAztDialogService.open(y.G,{data:{levelId:this.levelId,subjectId:this.subjectId,bookId:0,selectedObj:{ebankFrameId:this.ebankFrameId},allowSelectKnowledgeOrObjective:"knowledge_or_objective"},width:"100vw",restoreFocus:!1}).afterClosed().subscribe(l=>{l&&this.updateKnowledgeAndObjective(l.id,!0)})}updateKnowledgeAndObjective(a,l){this.currentKnowledgeTreeNode=this.sAztKnowledgeObjectiveService.getObjByObjectiveId(this.knowledgeObjs,a??0),this.currentKnowledgeTreeNode&&(this.ebankFrameId=this.currentKnowledgeTreeNode.id,this.questionObj=this.sAztChangeObjectiveTagForQuestionService.changeObjectiveForCommonQuestion(this.questionObj,{id:this.ebankFrameId,objectiveId:this.currentKnowledgeTreeNode.objectiveId}),l&&this.selectKnowledgeEmit.emit(this.questionObj))}ngOnInit(){super.ngOnInit(),this.ebankFrameId=this.questionObj.ebankFrameId,this.sAztKnowledgeObjectiveService.getKnowledgeByApi(this.levelId,this.subjectId,!1,void 0).subscribe(a=>{if(a.errorMessage||!a.data)return this.errorStatusObj(a.errorMessage??"",!0);this.knowledgeObjs=a.data.objs,this.updateKnowledgeAndObjective(this.ebankFrameId,!1),this.guessKnowledgeUnit()})}}return(o=d).\u0275fac=(()=>{let i;return function(l){return(i||(i=e.xGo(o)))(l||o)}})(),o.\u0275cmp=e.VBU({type:o,selectors:[["azt-common-question-knowledge-unit-to-auto-suggestion"]],inputs:{questionObj:"questionObj",levelId:"levelId",subjectId:"subjectId"},outputs:{selectKnowledgeEmit:"selectKnowledgeEmit"},standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:2,consts:[["notLoading",""],["noSupportLevelSubject",""],[1,"treeview-dd"],["class","ml-3",3,"size",4,"ngIf","ngIfElse"],[1,"ml-3",3,"size"],[4,"ngIf","ngIfElse"],[2,"padding","5px 0px"],["class","flex",4,"ngIf"],[1,"flex"],[3,"vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey"],[1,"pr-2"],[2,"display","inline-flex","align-items","center"],["name","info","size","16",3,"ngClass"],[2,"vertical-align","middle"],[1,"ml-2","link__hover","link__color",2,"display","inline-flex","align-items","center"],["name","refresh-ccw","size","16",3,"ngClass"],[1,"clickable",3,"click"],[3,"content"],[1,"ml-2","link__hover","link__color","clickable","text-right",2,"min-width","45px","align-content","center",3,"click"],["name","tags","size","16",3,"ngClass"],[1,"pl-3","pb-3"]],template:function(a,l){if(1&a&&(e.j41(0,"div",2),e.DNE(1,Y,1,1,"azt-loading-ui",3)(2,u,3,2,"ng-template",null,0,e.C5r),e.k0s()),2&a){const w=e.sdS(3);e.R7$(),e.Y8G("ngIf","loadingSuggestion"==l.currentStatus)("ngIfElse",w)}},dependencies:[k.R,$.F,h.x,C.MD,C.YU,C.bT,t.X1,E.iI,t.YN,x.wp,K.s,n.flO,n.WGl,Q.L,R.Id,q.k],styles:["label[_ngcontent-%COMP%]{margin-bottom:0;cursor:pointer}.bi[_ngcontent-%COMP%]{cursor:pointer;margin-right:.3rem}"]}),d})();const v=["*"],I=()=>({"text-warning":!0,"mr-1":!0}),L=()=>({"mr-1":!0});function r(o,d){1&o&&e.nrm(0,"azt-loading-ui",4),2&o&&e.Y8G("size",16)}function O(o,d){1&o&&(e.j41(0,"div",8)(1,"azt-check-vip-account",9)(2,"span",10),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","w-full")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","KNOWLEDGE_UNIT"),e.R7$(2),e.JRh(e.bMT(4,6,"lang_azt_upgrade_to_vip_account")))}function m(o,d){if(1&o){const i=e.RV6();e.j41(0,"div",8)(1,"span",11),e.nrm(2,"lucide-icon",12),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"a",14),e.nrm(7,"lucide-icon",15),e.j41(8,"span",16),e.bIt("click",function(){e.eBV(i);const l=e.XpG(3);return e.Njj(l.guessKnowledgeUnit())}),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()()}2&o&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(8,I)),e.R7$(2),e.JRh(e.bMT(5,4,"lang_knowledge_suggest_api_call_again")),e.R7$(3),e.Y8G("ngClass",e.lJ4(9,L)),e.R7$(2),e.JRh(e.bMT(10,6,"lang_auto_thu_lai")))}function c(o,d){if(1&o){const i=e.RV6();e.j41(0,"div",8),e.nrm(1,"azt-dynamic-hook",17),e.nI1(2,"mytranslate"),e.j41(3,"a",18),e.bIt("click",function(){e.eBV(i);const l=e.XpG(3);return e.Njj(l.openKnowledgeObjectiveTreeNodeDialog())}),e.nrm(4,"lucide-icon",19),e.j41(5,"span"),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()()}if(2&o){let i;const a=e.XpG(3);e.R7$(),e.Y8G("content",null!==(i=null==a.currentKnowledgeTreeNode?null:a.currentKnowledgeTreeNode.title)&&void 0!==i?i:e.bMT(2,3,"long_core_chon_khung_kien_thuc")),e.R7$(3),e.Y8G("ngClass",e.lJ4(7,L)),e.R7$(2),e.JRh(e.bMT(7,5,"lang_auto_sua"))}}function f(o,d){if(1&o&&(e.qex(0),e.j41(1,"div",6),e.DNE(2,O,5,8,"div",7)(3,m,11,10,"div",7)(4,c,8,8,"div",7),e.k0s(),e.bVm()),2&o){const i=e.XpG(2);e.R7$(2),e.Y8G("ngIf","vipRequired"==i.currentStatus),e.R7$(),e.Y8G("ngIf","callApiFail"==i.currentStatus),e.R7$(),e.Y8G("ngIf",null==i.currentStatus)}}function M(o,d){1&o&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&o&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_analyze_knowledge_no_support_for_this_school_level_and_subject")))}function S(o,d){if(1&o&&(e.DNE(0,f,5,3,"ng-container",5)(1,M,3,3,"ng-template",null,1,e.C5r),e.SdG(3)),2&o){const i=e.sdS(2),a=e.XpG();e.Y8G("ngIf",a.knowledgeObjs.length>0)("ngIfElse",i)}}let X=(()=>{var o;class d extends _.H{constructor(){super(...arguments),this.selectKnowledgeEmit=new e.bkB,this.sAztKnowledgeObjectiveService=(0,e.WQX)(A.h),this.sAztDialogService=(0,e.WQX)(p.i),this.sAztControlSuggestionKnowledgeUnitService=(0,e.WQX)(z.f),this.sAztChangeObjectiveTagForQuestionService=(0,e.WQX)(b.I),this.currentStatus=void 0,this.knowledgeObjs=[]}guessKnowledgeUnit(){if(this.ebankFrameId||this.currentKnowledgeTreeNode)return;this.currentStatus="loadingSuggestion";let a={questionId:this.questionObj.id,questionContent:this.questionObj.content??"",answerContents:this.questionObj.answers.filter(l=>this.commonService.compareLowerCase(l.key,this.currentAnswerKey)).map(l=>l.content),levelId:this.levelId,subjectId:this.subjectId,ebankId:void 0};this.sAztControlSuggestionKnowledgeUnitService.callApiToGuestKnowledge(!1,a,(l,w,Ke)=>{this.updateKnowledgeAndObjective(l,!0),this.currentStatus=void 0},l=>{this.currentStatus="lang_core_need_vip_upgrade"==l?"vipRequired":"callApiFail"})}openKnowledgeObjectiveTreeNodeDialog(){this.sAztDialogService.open(y.G,{data:{levelId:this.levelId,subjectId:this.subjectId,bookId:0,selectedObj:{knowledgeId:void 0,objectiveId:this.ebankFrameId},allowSelectKnowledgeOrObjective:"knowledge_or_objective"},width:"100vw",restoreFocus:!1}).afterClosed().subscribe(l=>{l&&this.updateKnowledgeAndObjective(l.knowledgeId,!0)})}updateKnowledgeAndObjective(a,l){this.ebankFrameId=a??0,this.currentKnowledgeTreeNode=this.sAztKnowledgeObjectiveService.getObjById(this.knowledgeObjs,this.ebankFrameId),this.currentKnowledgeTreeNode&&(this.questionObj=this.sAztChangeObjectiveTagForQuestionService.changeObjectiveForTrueFalseQuestion(this.questionObj,{id:this.ebankFrameId,objectiveId:this.currentKnowledgeTreeNode.objectiveId},this.currentAnswerKey),l&&this.selectKnowledgeEmit.emit(this.questionObj))}ngOnInit(){super.ngOnInit(),this.sAztKnowledgeObjectiveService.getKnowledgeByApi(this.levelId,this.subjectId,!1,void 0).subscribe(a=>{if(a.errorMessage||!a.data)return this.errorStatusObj(a.errorMessage??"",!0);this.knowledgeObjs=a.data.objs;let l=this.questionObj.configAnswers.find(w=>this.commonService.compareLowerCase(w.key,this.currentAnswerKey))?.knowledgeId;this.updateKnowledgeAndObjective(l,!1),this.guessKnowledgeUnit()})}}return(o=d).\u0275fac=(()=>{let i;return function(l){return(i||(i=e.xGo(o)))(l||o)}})(),o.\u0275cmp=e.VBU({type:o,selectors:[["azt-common-true-false-question-knowledge-unit-to-auto-suggestion"]],inputs:{questionObj:"questionObj",currentAnswerKey:"currentAnswerKey",levelId:"levelId",subjectId:"subjectId"},outputs:{selectKnowledgeEmit:"selectKnowledgeEmit"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:v,decls:4,vars:2,consts:[["notLoading",""],["noSupportLevelSubject",""],[1,"treeview-dd"],["class","ml-3",3,"size",4,"ngIf","ngIfElse"],[1,"ml-3",3,"size"],[4,"ngIf","ngIfElse"],[2,"padding","5px 0px"],["class","flex",4,"ngIf"],[1,"flex"],[3,"vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey"],[1,"pr-2"],[2,"display","inline-flex","align-items","center"],["name","info","size","16",3,"ngClass"],[2,"vertical-align","middle"],[1,"ml-2","link__hover","link__color",2,"display","inline-flex","align-items","center"],["name","refresh-ccw","size","16",3,"ngClass"],[1,"clickable",3,"click"],[3,"content"],[1,"ml-2","link__hover","link__color","clickable","text-right",2,"min-width","45px","align-content","center",3,"click"],["name","tags","size","16",3,"ngClass"],[1,"pl-3","pb-3"]],template:function(a,l){if(1&a&&(e.NAR(),e.j41(0,"div",2),e.DNE(1,r,1,1,"azt-loading-ui",3)(2,S,4,2,"ng-template",null,0,e.C5r),e.k0s()),2&a){const w=e.sdS(3);e.R7$(),e.Y8G("ngIf","loadingSuggestion"==l.currentStatus)("ngIfElse",w)}},dependencies:[Q.L,x.wp,k.R,$.F,h.x,C.MD,C.YU,C.bT,t.X1,E.iI,t.YN,K.s,n.flO,n.WGl,R.Id,q.k],styles:["label[_ngcontent-%COMP%]{margin-bottom:0;cursor:pointer}.bi[_ngcontent-%COMP%]{cursor:pointer;margin-right:.3rem}"]}),d})();var V=s(67259),Z=s(6625),ee=s(54313),ne=s(58447),te=s(60780),oe=s(64486),ie=s(66793),se=s(78111),ae=s(47426),H=s(33220),le=s(4375),re=s(47712),ce=s(42789);const de=o=>({"skeleton-box-loading":o}),ge=o=>({"pb-2":o}),ue=o=>({"flex-wrap":o}),J=o=>({"padding-mobile":o});function me(o,d){if(1&o&&e.nrm(0,"div",4),2&o){const i=e.XpG();e.Y8G("ngClass",e.eq3(1,de,i.renderConfigObj.isFirstRender))}}function _e(o,d){if(1&o&&e.nrm(0,"azt-test-audio-ui",23),2&o){const i=e.XpG(2);e.Y8G("questionObj",i.questionObj)("isShowList",!0)}}function pe(o,d){if(1&o&&(e.j41(0,"div",13),e.EFF(1),e.nI1(2,"isOfflineExam"),e.nI1(3,"mytranslate"),e.k0s()),2&o){let i;const a=e.XpG(2);e.R7$(),e.Lme(" ",a.customQuestionLabel+" "+((null!=a.questionObj.labelIndex?a.questionObj.labelIndex:a.curQuestionIndex)+(null!==(i=a.examObj.startQuestionIndex)&&void 0!==i?i:1))," ",e.bMT(2,2,a.examObj)?" ("+e.bMT(3,4,"lang_auto_hoi_de_thi_offline")+") ":null," ")}}function fe(o,d){1&o&&(e.j41(0,"div",14),e.EFF(1,"|"),e.k0s())}function be(o,d){1&o&&(e.j41(0,"div",14),e.EFF(1,"|"),e.k0s())}function he(o,d){1&o&&(e.j41(0,"div",24),e.nI1(1,"mytranslate"),e.nrm(2,"lucide-icon",25),e.k0s()),2&o&&e.FS9("matTooltip",e.bMT(1,1,"lang_auto_dap_an_cua_cau_hoi_nay_da_duoc_co_dinh"))}function ve(o,d){1&o&&(e.j41(0,"div",14),e.EFF(1,"|"),e.k0s())}function Oe(o,d){if(1&o&&(e.j41(0,"div",26)(1,"div",27)(2,"div",15)(3,"mat-chip-listbox")(4,"mat-chip-option",28),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()()()()),2&o){const i=e.XpG(2);e.R7$(5),e.SpI(" ",e.bMT(6,1,"azt_lang_tag_"+i.questionObj.tags[0].code)," ")}}function Ce(o,d){1&o&&(e.j41(0,"div",32)(1,"span",33),e.nrm(2,"azt-loading-ui"),e.k0s()())}function je(o,d){if(1&o){const i=e.RV6();e.j41(0,"div",39)(1,"div",40)(2,"div",41)(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"div",42)(7,"azt-common-true-false-question-knowledge-unit-to-auto-suggestion",43),e.bIt("selectKnowledgeEmit",function(l){e.eBV(i);const w=e.XpG(6);return e.Njj(w.selectKnowledgeEmit.emit(l))}),e.j41(8,"div",44)(9,"div",45)(10,"span",46),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()(),e.j41(13,"div",47),e.nrm(14,"azt-common-true-false-question-tag-in-edit-mode",48),e.k0s()()()()()()}if(2&o){let i,a;const l=e.XpG().$implicit,w=e.XpG(5);e.R7$(),e.Y8G("ngClass",e.eq3(14,J,w.isMobileDevice)),e.R7$(3),e.JRh(e.bMT(5,10,"lang_auto_don_vi_kien_thuc")),e.R7$(3),e.Y8G("ngClass",w.isMobileDevice?"w-full":"")("questionObj",w.questionObj)("currentAnswerKey",l.key)("levelId",null!==(i=w.examObj.schoolLevelId)&&void 0!==i?i:0)("subjectId",null!==(a=w.examObj.schoolSubjectId)&&void 0!==a?a:0),e.R7$(4),e.SpI("",e.bMT(12,12,"lang_auto_gan_nhan"),":"),e.R7$(3),e.Y8G("questionObj",w.questionObj)("currentAnswerKey",l.key)}}function we(o,d){if(1&o&&(e.j41(0,"div",35),e.nI1(1,"isTrueFalseAnswer"),e.j41(2,"b",36),e.EFF(3),e.nI1(4,"isTrueFalseAnswer"),e.k0s(),e.nrm(5,"azt-dynamic-hook",37),e.DNE(6,je,15,16,"div",38),e.nI1(7,"isTrueFalseAnswer"),e.k0s()),2&o){let i;const a=d.$implicit,l=e.XpG(5);e.Y8G("ngStyle",e.eq3(10,ue,e.bMT(1,4,l.questionObj)?"wrap":"")),e.R7$(3),e.JRh(e.bMT(4,6,l.questionObj)?(null!==(i=a.alpha)&&void 0!==i?i:a.key).toLowerCase()+")":(null!==(i=a.alpha)&&void 0!==i?i:a.key)+"."),e.R7$(2),e.Y8G("content",a.content),e.R7$(),e.Y8G("ngIf",e.bMT(7,8,l.questionObj))}}function xe(o,d){if(1&o&&e.DNE(0,we,8,12,"div",34),2&o){const i=e.XpG(4);e.Y8G("ngForOf",i.questionObj.answers)}}function Te(o,d){if(1&o&&(e.j41(0,"div",30),e.DNE(1,Ce,3,0,"div",31)(2,xe,1,1,"ng-template",null,1,e.C5r),e.k0s()),2&o){const i=e.sdS(3),a=e.XpG(3);e.Y8G("answerSizeManager",0),e.R7$(),e.Y8G("ngIf",a.questionObj.isLoading)("ngIfElse",i)}}function Ie(o,d){if(1&o&&(e.qex(0),e.DNE(1,Te,4,3,"div",29),e.nI1(2,"isOneChoiceAnswer"),e.nI1(3,"isTrueFalseAnswer"),e.bVm()),2&o){const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",(e.bMT(2,1,i.questionObj)||e.bMT(3,3,i.questionObj))&&i.questionObj.answers&&i.questionObj.answers.length>0)}}function Se(o,d){if(1&o&&(e.j41(0,"div",49)(1,"div",50)(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",42),e.nrm(6,"azt-dynamic-hook",37),e.k0s()()),2&o){const i=e.XpG(2);e.Y8G("ngClass",e.eq3(5,J,i.isMobileDevice)),e.R7$(3),e.JRh(e.bMT(4,3,"lang_auto_huong_dan_giai_upper")),e.R7$(3),e.Y8G("content",i.questionObj.help)}}function Fe(o,d){if(1&o){const i=e.RV6();e.j41(0,"div",49)(1,"div",41)(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",42)(6,"azt-common-question-knowledge-unit-to-auto-suggestion",51),e.bIt("selectKnowledgeEmit",function(l){e.eBV(i);const w=e.XpG(2);return e.Njj(w.selectKnowledgeEmit.emit(l))}),e.k0s()()()}if(2&o){let i,a;const l=e.XpG(2);e.Y8G("ngClass",e.eq3(7,J,l.isMobileDevice)),e.R7$(3),e.JRh(e.bMT(4,5,"lang_auto_don_vi_kien_thuc")),e.R7$(3),e.Y8G("questionObj",l.questionObj)("levelId",null!==(i=l.examObj.schoolLevelId)&&void 0!==i?i:0)("subjectId",null!==(a=l.examObj.schoolSubjectId)&&void 0!==a?a:0)}}function Ae(o,d){if(1&o&&(e.j41(0,"div",5)(1,"div",6),e.nrm(2,"azt-question-group-content-box",7),e.j41(3,"div",8),e.DNE(4,_e,1,2,"azt-test-audio-ui",9),e.j41(5,"div",10),e.DNE(6,pe,4,6,"div",11)(7,fe,2,0,"div",12),e.j41(8,"div",13),e.EFF(9),e.nI1(10,"mytranslate"),e.nI1(11,"number"),e.k0s(),e.j41(12,"div",14),e.EFF(13,"|"),e.k0s(),e.j41(14,"div",15)(15,"mat-select",16)(16,"mat-option",17),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s(),e.j41(19,"mat-option",17),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s(),e.j41(22,"mat-option",17),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s(),e.j41(25,"mat-option",17),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()()(),e.DNE(28,be,2,0,"div",12)(29,he,3,3,"div",18)(30,ve,2,0,"div",12),e.nI1(31,"isTrueFalseAnswer"),e.DNE(32,Oe,7,3,"div",19),e.nI1(33,"isTrueFalseAnswer"),e.k0s(),e.nrm(34,"azt-question-content-box",7),e.DNE(35,Ie,4,5,"ng-container",20),e.nI1(36,"isOfflineExam"),e.nrm(37,"azt-question-answer-view-with-simple-result-box-for-teacher",21),e.DNE(38,Se,7,7,"div",22)(39,Fe,7,9,"div",22),e.nI1(40,"isTrueFalseAnswer"),e.k0s()()()),2&o){const i=e.XpG();e.R7$(),e.xc7("font-size","1em")("line-height","1.7")("overflow","auto"),e.Y8G("id","question_render_container_"+i.questionObj.id)("ngClass",e.eq3(58,ge,i.questionObj.attachments.length>0)),e.R7$(),e.Y8G("examObj",i.examObj)("questionObj",i.questionObj)("renderConfigObj",i.renderConfigObj),e.R7$(2),e.Y8G("ngIf",i.questionObj.attachments.length>0),e.R7$(2),e.Y8G("ngIf",!i.hideQuestionLabel),e.R7$(),e.Y8G("ngIf",!i.hideQuestionLabel),e.R7$(2),e.Lme("",e.bMT(10,37,"lang_point"),": ",e.i5U(11,39,i.questionObj.scorePerQuestion,"1.0-2"),""),e.R7$(6),e.Y8G("ngModel",i.questionObj.answerType)("disabled",!0),e.R7$(),e.Y8G("value",3),e.R7$(),e.SpI(" ",e.bMT(18,42,"lang_testbank_create_exam_width_file_docx_essay")," "),e.R7$(2),e.Y8G("value",1),e.R7$(),e.SpI(" ",e.bMT(21,44,"lang_auto_trac_nghiem")," "),e.R7$(2),e.Y8G("value",4),e.R7$(),e.SpI(" ",e.bMT(24,46,"lang_auto_dien_tu")," "),e.R7$(2),e.Y8G("value",5),e.R7$(),e.SpI("",e.bMT(27,48,"lang_auto_trac_nghiem")," \u0110/S"),e.R7$(2),e.Y8G("ngIf",i.questionObj.isFixAns),e.R7$(),e.Y8G("ngIf",i.questionObj.isFixAns),e.R7$(),e.Y8G("ngIf",i.questionObj.tags&&i.questionObj.tags.length&&!e.bMT(31,50,i.questionObj)),e.R7$(2),e.Y8G("ngIf",i.questionObj.tags&&i.questionObj.tags.length>0&&!e.bMT(33,52,i.questionObj)),e.R7$(2),e.Y8G("examObj",i.examObj)("questionObj",i.questionObj)("renderConfigObj",i.renderConfigObj),e.R7$(),e.Y8G("ngIf",!e.bMT(36,54,i.examObj)),e.R7$(2),e.Y8G("questionObj",i.questionObj),e.R7$(),e.Y8G("ngIf",i.questionObj.help),e.R7$(),e.Y8G("ngIf",!e.bMT(40,56,i.questionObj))}}let ye=(()=>{var o;class d extends oe.I{ngOnInit(){super.ngOnInit();const a=this.commonService.castJsonToObj(this.examObj.expandInfo??"")??void 0;this.customQuestionLabel=a?.label??"C\xe2u";let l=new ie.C(!0,!1,!1);super.initData(l,this.follower,this.questionObj)}constructor(){super(),this.follower=new se.e,this.curQuestionIndex=0,this.hideQuestionLabel=!1,this.selectKnowledgeEmit=new e.bkB,this.customQuestionLabel=""}}return(o=d).\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["azt-question-standalone-for-analyze-knowledge"]],inputs:{examObj:"examObj",questionObj:"questionObj",follower:"follower",curQuestionIndex:"curQuestionIndex",hideQuestionLabel:"hideQuestionLabel"},outputs:{selectKnowledgeEmit:"selectKnowledgeEmit"},standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:3,consts:[["elementRended",""],["doneLoad",""],["load_effect_lazy","",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],[1,"question-standalone-container","box","border-none",3,"id","ngClass"],[3,"examObj","questionObj","renderConfigObj"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList",4,"ngIf"],[1,"flex","items-center","mb-2"],["class","box-service-question-name",4,"ngIf"],["class","edit-question-header-dr",4,"ngIf"],[1,"box-service-question-name"],[1,"edit-question-header-dr"],[1,"first-text"],[3,"ngModel","disabled"],[3,"value"],["class","fix-answer",3,"matTooltip",4,"ngIf"],["class","edit-question-header-show-tags",4,"ngIf"],[4,"ngIf"],[3,"questionObj"],["class","box-help mt-2","style","padding-right: 0px",3,"ngClass",4,"ngIf"],[3,"questionObj","isShowList"],[1,"fix-answer",3,"matTooltip"],["name","pin","size","16"],[1,"edit-question-header-show-tags"],[1,"box-service-type","no-wrap"],[1,"tag-chip"],["class","row answers",3,"answerSizeManager",4,"ngIf"],[1,"row","answers",3,"answerSizeManager"],["class","col-sm-12 text-center",4,"ngIf","ngIfElse"],[1,"col-sm-12","text-center"],[1,"w-6","h-6","inline-block","mx-auto"],["class","answer col-sm-12 col-md-6",3,"ngStyle",4,"ngFor","ngForOf"],[1,"answer","col-sm-12","col-md-6",3,"ngStyle"],[1,"answer-label"],[3,"content"],["class","w-full",4,"ngIf"],[1,"w-full"],[1,"box-help",2,"margin-top","20px",3,"ngClass"],[1,"help-title","uppercase"],[1,"tex2jax_process","help-content","text-slate-500"],[3,"selectKnowledgeEmit","ngClass","questionObj","currentAnswerKey","levelId","subjectId"],[1,"flex",2,"padding","5px 0px"],[1,"items-center"],[2,"vertical-align","middle"],[1,"ml-2"],[3,"questionObj","currentAnswerKey"],[1,"box-help","mt-2",2,"padding-right","0px",3,"ngClass"],[1,"help-title"],[3,"selectKnowledgeEmit","questionObj","levelId","subjectId"]],template:function(a,l){if(1&a&&(e.j41(0,"div",2),e.DNE(1,me,1,3,"div",3)(2,Ae,41,60,"ng-template",null,0,e.C5r),e.k0s()),2&a){const w=e.sdS(3);e.Y8G("id","question_render_element_"+l.questionObj.id),e.R7$(),e.Y8G("ngIf",!l.renderConfigObj.isRenderElement)("ngIfElse",w)}},dependencies:[F.C,ne.y,te.c,ee.$,k.R,h.x,X,V.G,Z.l,j,C.MD,C.YU,C.Sq,C.bT,C.B3,C.QX,t.X1,t.BC,E.iI,t.YN,t.vS,x.wp,K.s,ae.wT,H.uI,H.gq,le.VO,re.oV,n.flO,n.WGl,Q.L,x.st,x.V6,x.FC,R.Id,q.k,ce.N],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-help[_ngcontent-%COMP%]{border-top:1px solid #d7d7d7;padding:10px 30px 0 0}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{text-align:center;font-size:11px;margin-top:-20px}.box-help[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 10px;color:#d58e0b}.box-help[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{font-size:13px;overflow-x:auto;overflow-y:hidden}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}',".box-service-question-name[_ngcontent-%COMP%]{outline:1px solid #ccc;padding:3px 10px!important;border-radius:3px;font-weight:500}.box-service-question-name[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.edit-question-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:40px;padding:10px;border-radius:5px;margin-bottom:5px;flex-wrap:wrap}.edit-question-header-right[_ngcontent-%COMP%]{display:flex;align-items:center}.edit-question-header-tag[_ngcontent-%COMP%], .edit-question-header-content[_ngcontent-%COMP%]{padding:5px}.edit-question-header-tag[_ngcontent-%COMP%]:hover, .edit-question-header-content[_ngcontent-%COMP%]:hover{background:#2361ae2e;border-radius:5px}.edit-question-header-dr[_ngcontent-%COMP%]{color:#607d8b;margin:0 10px}.edit-question-header-content[_ngcontent-%COMP%]{cursor:pointer}.edit-question-header-point[_ngcontent-%COMP%]{text-align:right}.first-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0!important}.first-text[_ngcontent-%COMP%]   marquee[_ngcontent-%COMP%]{width:100px}.first-text[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;margin:0;padding:0;width:100%;display:flex;justify-content:center;align-items:center}@media screen and (max-width: 500px){.edit-question-header-tag[_ngcontent-%COMP%], .edit-question-header-content[_ngcontent-%COMP%]{padding:5px 0}.btn-reload[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{padding:.35rem .75rem!important}.btn-filter[_ngcontent-%COMP%]{padding-top:.35rem!important;padding-bottom:.35rem!important}.next-to-question[_ngcontent-%COMP%]{background:none!important}.inputMobile[_ngcontent-%COMP%], .btn-set-score[_ngcontent-%COMP%]{height:33px!important}.edit-question-header-dr[_ngcontent-%COMP%]{margin:0 9px}}"]}),d})()},2433:(W,G,s)=>{s.d(G,{h:()=>K});var C=s(48891),e=s(40679),t=s(85710),E=s(51698),n=s(88249),R=s(543);let K=(()=>{var F;class x{constructor(){this.subscriptions=new t.yU,this.aiElearningService=(0,C.WQX)(e.T5),this.commonService=(0,C.WQX)(R.R),this.mapCacheSubscribers$=new Map}getKnowledgeByApi(h,p,_,b){let A=this.getCacheKey(h,p,_,b),y=this.mapCacheSubscribers$.get(A);return y||(y=new E.c(z=>{this.subscriptions.add(this.commonService.wrapApiResponse(this.aiElearningService.aiApiV1ElearningGetKnowledgeTreeGet(h,p,_,b||void 0)).subscribe(k=>{if(!k.success)return this.mapCacheSubscribers$.set(A,null),z.next({errorMessage:k.message,data:void 0}),void z.complete();z.next({errorMessage:void 0,data:{objs:k.data?.nodes??[]}}),z.complete()}))}).pipe((0,n.t)(1)),this.mapCacheSubscribers$.set(A,y),y)}getObjByObjectiveId(h,p){for(var _ of h){if(_.objectiveId==p)return _;let b=this.getObjByObjectiveId(_.children,p);if(null!=b)return b}}getObjById(h,p){for(var _ of h){if(_.id==p)return _;let b=this.getObjById(_.children,p);if(null!=b)return b}}getObjByKnowledgeIdOrObjectiveId(h,p,_){for(var b of h){if(b.knowledgeId==p||b.objectiveId==_)return b;let A=this.getObjByKnowledgeIdOrObjectiveId(b.children,p,_);if(null!=A)return A}}getAllObjectiveObjs(h,p){return h.forEach(_=>{_.objectiveId&&p.push({id:_.objectiveId,name:_.title,questionHistories:[]}),_.children.length&&(p=p.concat(this.getAllObjectiveObjs(_.children,[])))}),p}getCacheKey(h,p,_,b){return`${h}_${p}_${_?"true":"false"}_${b??0}`}ngOnDestroy(){this.subscriptions.unsubscribe()}}return(F=x).\u0275fac=function(h){return new(h||F)},F.\u0275prov=C.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),x})()},36318:(W,G,s)=>{s.d(G,{G:()=>L});var C=s(89163),e=s(33887),t=s(32099),E=s(2915),n=s(48891),R=s(50334),K=s(2433),F=s(18718),x=s(54460),Q=s(10936),h=s(65162),p=s(21656),_=s(15343),b=s(70050),A=s(5502),y=s(36894),z=s(47348);const k=r=>({nodeObjs:r}),$=(r,O)=>({"text-pending":r," link-color-hover":O});function q(r,O){if(1&r&&n.nrm(0,"azt-loading-effect",3),2&r){const m=n.XpG();n.Y8G("currentStatusObj",m.statusObj)}}function N(r,O){1&r&&n.eu8(0)}function P(r,O){if(1&r&&(n.j41(0,"table")(1,"tbody"),n.DNE(2,N,1,0,"ng-container",4),n.k0s()()),2&r){const m=n.XpG(),c=n.sdS(4);n.R7$(2),n.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",n.eq3(2,k,m.nodeObjs))}}function Y(r,O){1&r&&n.nrm(0,"lucide-icon",13)}function D(r,O){1&r&&n.nrm(0,"lucide-icon",14)}function B(r,O){if(1&r&&(n.j41(0,"i"),n.DNE(1,Y,1,0,"lucide-icon",11)(2,D,1,0,"lucide-icon",12),n.k0s()),2&r){const m=n.XpG().$implicit;n.R7$(),n.Y8G("ngIf",m.isExpand),n.R7$(),n.Y8G("ngIf",!m.isExpand)}}function U(r,O){1&r&&(n.j41(0,"i"),n.nrm(1,"lucide-icon",15),n.k0s())}function g(r,O){1&r&&n.eu8(0)}function T(r,O){if(1&r&&(n.qex(0),n.DNE(1,g,1,0,"ng-container",4),n.bVm()),2&r){const m=n.XpG().$implicit;n.XpG(3);const c=n.sdS(4);n.R7$(),n.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",n.eq3(2,k,m.children))}}function u(r,O){if(1&r){const m=n.RV6();n.qex(0),n.j41(1,"tr",7)(2,"td")(3,"div",8),n.bIt("click",function(){const f=n.eBV(m).$implicit,M=n.XpG(3);return n.Njj(M.clickToNode(f))}),n.DNE(4,B,3,2,"i",5)(5,U,2,0,"i",5),n.j41(6,"label",9),n.nrm(7,"span",10),n.nI1(8,"mathJaxContent"),n.nI1(9,"async"),n.nI1(10,"safeContentQuestion"),n.k0s()()()(),n.DNE(11,T,2,4,"ng-container",5),n.bVm()}if(2&r){const m=O.$implicit;n.R7$(),n.Y8G("hidden",!m.isShow),n.R7$(),n.xc7("padding-left",14*(m.level+1),"px"),n.R7$(),n.Y8G("ngClass",n.l_i(14,$,m.isSelected,!m.isSelected)),n.R7$(),n.Y8G("ngIf",m.children.length),n.R7$(),n.Y8G("ngIf",!m.children.length),n.R7$(2),n.Y8G("innerHTML",n.bMT(10,12,n.bMT(9,10,n.bMT(8,8,"L"+(m.level+1)+". "+m.text))),n.npT),n.R7$(4),n.Y8G("ngIf",m.isExpand)}}function j(r,O){if(1&r&&(n.qex(0),n.DNE(1,u,12,17,"ng-container",6),n.bVm()),2&r){const m=O.$implicit;n.R7$(),n.Y8G("ngForOf",m)}}function v(r,O){if(1&r&&n.DNE(0,j,2,1,"ng-container",5),2&r){const m=O.nodeObjs,c=n.XpG();n.Y8G("ngIf",c.asTemplateDataObj(m))}}let I=(()=>{var r;class O extends R.C{constructor(){super(...arguments),this.allowSelectKnowledgeOrObjective="only_objective",this.selectKnowledgeOrObjectiveEvent=new n.bkB,this.nodeObjs=[],this.sAztKnowledgeObjectiveService=(0,n.WQX)(K.h)}clickToNode(c){return"only_objective"==this.allowSelectKnowledgeOrObjective&&c.data.objectiveId||"knowledge_or_objective"==this.allowSelectKnowledgeOrObjective&&(c.data.knowledgeId||c.data.objectiveId)?this.selectKnowledgeOrObjectiveEvent.emit(c.data):void(c.isExpand?this.collapse(c):this.expand(c))}asTemplateDataObj(c){return c}initData(c,f,M){this.initStatusObj(),this.sAztKnowledgeObjectiveService.getKnowledgeByApi(c,f,!1,M).subscribe(S=>{if(S.errorMessage||!S.data)return this.errorStatusObj(S.errorMessage??"",!0);this.nodeObjs=this.standardTreeNodes(S.data.objs,0),this.stopStatusObj()})}standardTreeNodes(c,f){let M=[];return c.forEach(S=>{let X=!1;this.selectedObj?.knowledgeId&&S.knowledgeId==this.selectedObj.knowledgeId&&(X=!0),this.selectedObj?.objectiveId&&S.objectiveId==this.selectedObj.objectiveId&&(X=!0);let V={level:f,typeNode:S.objectiveId?"objective":"knowledge",isExpand:!0,isShow:!0,isSelected:X,text:S.title,data:{...S,children:[]},children:[]};V.children=this.standardTreeNodes(S.children,f+1),M.push(V)}),M}ngOnChanges(c){c.searchContent&&this.searchByText(this.searchContent??"")}ngOnInit(){super.ngOnInit(),this.initData(this.levelId,this.subjectId,this.bookId)}}return(r=O).\u0275fac=(()=>{let m;return function(f){return(m||(m=n.xGo(r)))(f||r)}})(),r.\u0275cmp=n.VBU({type:r,selectors:[["coazt-knowledge-objective-tree-for-common-question"]],inputs:{levelId:"levelId",subjectId:"subjectId",bookId:"bookId",selectedObj:"selectedObj",searchContent:"searchContent",allowSelectKnowledgeOrObjective:"allowSelectKnowledgeOrObjective"},outputs:{selectKnowledgeOrObjectiveEvent:"selectKnowledgeOrObjectiveEvent"},standalone:!0,features:[n.Vt3,n.OA$,n.aNF],decls:5,vars:2,consts:[["doneLoading",""],["recursiveListTmpl",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"hidden"],[1,"clickable",3,"click","ngClass"],[1,"form-check-label",2,"line-height","1.5"],[3,"innerHTML"],["name","chevron-down","size","14",4,"ngIf"],["name","chevron-right","size","14",4,"ngIf"],["name","chevron-down","size","14"],["name","chevron-right","size","14"],["name","dot","size","14"]],template:function(c,f){if(1&c&&n.DNE(0,q,1,1,"azt-loading-effect",2)(1,P,3,4,"ng-template",null,0,n.C5r)(3,v,1,1,"ng-template",null,1,n.C5r),2&c){const M=n.sdS(2);n.Y8G("ngIf",f.statusObj.loading)("ngIfElse",M)}},dependencies:[F.K,x.MD,x.YU,x.Sq,x.bT,x.T3,x.Jj,Q.X1,h.iI,Q.YN,p.s,_.flO,_.WGl,b.L,z.km,z.ep,A.Id,y.k],encapsulation:2}),O})(),L=(()=>{var r;class O extends e._{searchByText(c){this.searchContent=c}selectKnowledgeOrObjective(c){this.dialogRef.close(c)}btnCloseDialog(){this.dialogRef.close(void 0)}constructor(c,f){super(f,c),this.dialogRef=c,this.data=f}}return(r=O).\u0275fac=function(c){return new(c||r)(n.rXU(C.CP,8),n.rXU(C.Vh,8))},r.\u0275cmp=n.VBU({type:r,selectors:[["coazt-knowledge-objective-dialog-for-common-question"]],standalone:!0,features:[n.Vt3,n.aNF],decls:12,vars:14,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"box","p-3"],[1,"pb-3"],[3,"onSearch","isServerSearch","placeholder"],[3,"minHeight"],[3,"selectKnowledgeOrObjectiveEvent","levelId","subjectId","bookId","selectedObj","searchContent","allowSelectKnowledgeOrObjective"],[1,"text-right","border-t","border-slate-200","dark:border-darkmode-400","p-3"],[1,"btn","btn-secondary","w-24",3,"click"]],template:function(c,f){1&c&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"azt-search-box",4),n.nI1(5,"mytranslate"),n.bIt("onSearch",function(S){return f.searchByText(S.searchObj)}),n.k0s()(),n.j41(6,"azt-mat-dialog-content",5)(7,"coazt-knowledge-objective-tree-for-common-question",6),n.bIt("selectKnowledgeOrObjectiveEvent",function(S){return f.selectKnowledgeOrObjective(S)}),n.k0s()()(),n.j41(8,"div",7)(9,"button",8),n.bIt("click",function(){return f.btnCloseDialog()}),n.EFF(10),n.nI1(11,"mytranslate"),n.k0s()()()()),2&c&&(n.R7$(4),n.Y8G("isServerSearch",!1)("placeholder",n.bMT(5,10,"lang_common_search_by_name")),n.R7$(2),n.Y8G("minHeight","calc(var(--vh, 1vh) * 100 - 300px)"),n.R7$(),n.Y8G("levelId",f.data.levelId)("subjectId",f.data.subjectId)("bookId",f.data.bookId)("selectedObj",f.data.selectedObj)("searchContent",null==f.searchContent?null:f.searchContent.searchContent)("allowSelectKnowledgeOrObjective",f.data.allowSelectKnowledgeOrObjective),n.R7$(3),n.SpI(" ",n.bMT(11,12,"lang_button_close")," "))},dependencies:[t.W,E.U,I,x.MD,Q.X1,h.iI,Q.YN,z.wp,p.s,_.flO,b.L,A.Id,y.k],encapsulation:2}),O})()}}]);