"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[6617],{74871:(rt,V,c)=>{c.d(V,{$:()=>t});var o=c(81519),s=c(34514),_=c(47426),x=c(89163),G=c(99503),A=c(79347),F=c(33887),z=c(9691),d=c(48891),N=c(46289),X=c(54460),R=c(64160),E=c(52811),m=c(15343),h=c(47348);const H=()=>({"mr-2":!0});function q(J,it){1&J&&(d.j41(0,"h3",4),d.EFF(1),d.nI1(2,"mytranslate"),d.k0s()),2&J&&(d.R7$(),d.SpI(" ",d.bMT(2,1,"lang_core_dat_lai_mat_khau")," "))}function at(J,it){1&J&&d.nrm(0,"azt-loading-ui",11)}function pt(J,it){if(1&J){const T=d.RV6();d.j41(0,"div")(1,"div",5),d.EFF(2),d.nI1(3,"mytranslate"),d.j41(4,"span",6),d.EFF(5),d.k0s()(),d.j41(6,"div",5),d.EFF(7),d.nI1(8,"mytranslate"),d.k0s(),d.j41(9,"div",7)(10,"button",8),d.bIt("click",function(){d.eBV(T);const C=d.XpG();return d.Njj(C.dialogRef.close())}),d.EFF(11),d.nI1(12,"mytranslate"),d.k0s(),d.j41(13,"button",9),d.bIt("click",function(){d.eBV(T);const C=d.XpG();return d.Njj(C.confirmResetPass())}),d.DNE(14,at,1,0,"azt-loading-ui",10),d.EFF(15),d.nI1(16,"mytranslate"),d.k0s()()()}if(2&J){const T=d.XpG();d.R7$(2),d.SpI(" ",d.bMT(3,7,"lang_core_ban_co_chac_chan_dat_lai_mat_khau")," "),d.R7$(3),d.JRh(T.data.name),d.R7$(2),d.SpI(" ",d.bMT(8,9,"lang_core_neu_chac_chan_hay_chon_tiep_tuc_de_dat_lai")," "),d.R7$(4),d.JRh(d.bMT(12,11,"lang_cms_common_close_btn")),d.R7$(2),d.Y8G("disabled",T.statusObj.loading),d.R7$(),d.Y8G("ngIf",T.statusObj.loading),d.R7$(),d.SpI(" ",d.bMT(16,13,"lang_powerpoint_frontend_detail_continue")," ")}}function ct(J,it){if(1&J){const T=d.RV6();d.j41(0,"div")(1,"div",12),d.EFF(2),d.nI1(3,"mytranslate"),d.k0s(),d.j41(4,"div",13),d.EFF(5),d.nI1(6,"mytranslate"),d.j41(7,"span",6),d.EFF(8),d.k0s()(),d.j41(9,"div",7),d.nrm(10,"input",14),d.j41(11,"button",15),d.bIt("click",function(){d.eBV(T);const C=d.XpG();return d.Njj(C.showCopySuccess())}),d.nrm(12,"lucide-icon",16),d.EFF(13),d.nI1(14,"mytranslate"),d.k0s()(),d.j41(15,"button",17),d.bIt("click",function(){d.eBV(T);const C=d.XpG();return d.Njj(C.dialogRef.close())}),d.EFF(16),d.nI1(17,"mytranslate"),d.k0s()()}if(2&J){const T=d.XpG();d.R7$(2),d.SpI(" ",d.bMT(3,9,"lang_auto_dat_lai_mat_khau_thanh_cong")," "),d.R7$(3),d.SpI(" ",d.bMT(6,11,"lang_core_dat_lai_mat_khau_note")," "),d.R7$(3),d.JRh(T.data.name),d.R7$(2),d.Y8G("disabled",!0)("value",T.passwordNew),d.R7$(),d.Y8G("cdkCopyToClipboard",T.copyPassword()),d.R7$(),d.Y8G("ngClass",d.lJ4(17,H)),d.R7$(),d.SpI(" ",d.bMT(14,13,"lang_auto_copy")," "),d.R7$(3),d.JRh(d.bMT(17,15,"lang_homework_export_homework_complete"))}}function gt(J,it){if(1&J){const T=d.RV6();d.j41(0,"div")(1,"div",18),d.nrm(2,"lucide-icon",19),d.j41(3,"span",20),d.EFF(4),d.nI1(5,"mytranslate"),d.k0s()(),d.j41(6,"div",21)(7,"button",22),d.bIt("click",function(){d.eBV(T);const C=d.XpG();return d.Njj(C.dialogRef.close())}),d.EFF(8),d.nI1(9,"mytranslate"),d.k0s()()()}if(2&J){const T=d.XpG();d.R7$(4),d.SpI(" ",d.bMT(5,2,T.errorMessage)," "),d.R7$(4),d.JRh(d.bMT(9,4,"lang_button_close"))}}let t=(()=>{var J;class it extends F._{confirmResetPass(){this.getApiResetPass()}copyPassword(){return this.passwordNew}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}getApiResetPass(){this.errorMessage="",this.initStatusObj(),this.domainUsersManagementService.apiDomainUsersManagementResetDomainUsersPasswordPost({userId:this.data.id}).subscribe(C=>{C.success||(this.errorMessage=C.message),this.passwordNew=C.data??"",this.isAccept=!0,this.successStatusObj()})}ngOnInit(){super.ngOnInit()}constructor(D,C,S){super(S,C),this.domainUsersManagementService=D,this.dialogRef=C,this.data=S,this.isAccept=!1,this.passwordNew="",this.errorMessage=""}ngOnDestroy(){super.ngOnDestroy()}}return(J=it).\u0275fac=function(D){return new(D||J)(d.rXU(N.Z),d.rXU(x.CP,8),d.rXU(x.Vh,8))},J.\u0275cmp=d.VBU({type:J,selectors:[["azt-reset-password"]],features:[d.Jv_([{provide:o.$O,useClass:G.fb,deps:[_.Ju,s.ij]},{provide:o.vq,useFactory:A.fJ,deps:[z.F]}]),d.Vt3],decls:6,vars:4,consts:[[1,"box","p-4"],[1,"container-fluid","mb-1","overflow-hidden","document-market-list","w-full"],["class","text-md font-medium truncate mr-auto mb-2",4,"ngIf"],[4,"ngIf"],[1,"text-md","font-medium","truncate","mr-auto","mb-2"],[1,"text-slate-500"],[1,"font-medium"],[1,"flex","justify-center","mt-5"],["azt-track-service","reset-password-diaglog-Jkn-zarZu",1,"mr-2","btn","btn-secondary",3,"click"],["azt-track-service","reset-password-diaglog-d5x6c9spAk",1,"btn","btn-primary",3,"click","disabled"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-2"],[1,"text-slate-500","text-success"],[1,"text-slate-500","mt-2"],["type","text",1,"form-control",3,"disabled","value"],["azt-track-service","reset-password-diaglog-1T3L9ZyoV",1,"ml-2","btn","btn-secondary","btn-copy",3,"click","cdkCopyToClipboard"],["name","copy","size","16",3,"ngClass"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","mt-3","w-full",3,"click"],[1,"flex","items-center"],["name","octagon-alert",1,"text-danger"],[1,"font-medium","ml-2"],[1,"text-right","mt-3"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","min-width-100",3,"click"]],template:function(D,C){1&D&&(d.j41(0,"div",0)(1,"div",1),d.DNE(2,q,3,3,"h3",2)(3,pt,17,15,"div",3)(4,ct,18,18,"div",3)(5,gt,10,6,"div",3),d.k0s()()),2&D&&(d.R7$(2),d.Y8G("ngIf",!C.isAccept),d.R7$(),d.Y8G("ngIf",!C.isAccept),d.R7$(),d.Y8G("ngIf",C.isAccept&&C.passwordNew),d.R7$(),d.Y8G("ngIf",C.isAccept&&!C.passwordNew))},dependencies:[X.YU,X.bT,R.dF,E.R,m.WGl,h.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),it})()},59518:(rt,V,c)=>{c.d(V,{s:()=>G});var o=c(48891),s=c(53793),_=c(51113),x=c(50589);let G=(()=>{var A;class F{ExamExerciseOfProgramToSessionStorage(d,N,X){const R=this.commonService.getMyQueryParam("indexSession"),E=this.commonService.getMyQueryParam("programId");if(null!=R&&null!=E){const m=this.browserStorageService.getSessionStorage(`${this.key+E}`);if(m){const h=this.zipDataService.decodeContentGzip(m),H=this.commonService.castJsonToObj(h),q={id:-1,refId:d,name:N,type:X,willRemove:!1};H?.sessionFormArray[R].documentObjs.push(q);const at=this.zipDataService.convertContentGzip(this.commonService.serializeJson(H??{}));this.browserStorageService.saveSessionStorage(`${this.key+E}`,at)}}}removeProgramDataLocal(d){this.browserStorageService.removeSessionStorage(`${this.key+d}`)}constructor(d,N,X){this.commonService=d,this.zipDataService=N,this.browserStorageService=X,this.key="data_educational_program_"}}return(A=F).\u0275fac=function(d){return new(d||A)(o.KVO(s.R),o.KVO(_.j),o.KVO(x.z))},A.\u0275prov=o.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),F})()},23750:(rt,V,c)=>{c.d(V,{J:()=>Mt});var o=c(48891),s=c(59640),_=c(73202),x=c(10936),G=c(89163),A=c(51698),F=c(33887),z=c(64198),d=c(93518),N=c(39712),X=c(40111),R=c(27691);let E=(()=>{var p;class W{constructor(y){this.http=y,this.apiKey="AIzaSyCnVr7hAO9K6J2uIHVnAA3U2bD1gir2_Eo"}getVideoDetails(y){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?id=${y}&key=${this.apiKey}&part=snippet`)}}return(p=W).\u0275fac=function(y){return new(y||p)(o.KVO(R.Qq))},p.\u0275prov=o.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),W})();var m=c(54460),h=c(60303),H=c(2915),q=c(22851),at=c(63349),pt=c(15343),ct=c(47348);const gt=(p,W)=>[p,W],t=()=>({"text-success mr-2":!0});function J(p,W){if(1&p){const f=o.RV6();o.j41(0,"div",10)(1,"div",11)(2,"azt-upload-multiple-box",12),o.bIt("uploadComplete",function(O){o.eBV(f);const w=o.XpG();return o.Njj(w.handleUploadComplete(O))}),o.j41(3,"div",13)(4,"div",14)(5,"div",15),o.nrm(6,"lucide-icon",16),o.j41(7,"span",17),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s()(),o.j41(10,"div",18),o.EFF(11),o.nI1(12,"mytranslate"),o.j41(13,"a",19),o.bIt("click",function(O){return o.eBV(f),o.Njj(O.stopPropagation())}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s()()()()()()()}if(2&p){const f=o.XpG();o.R7$(2),o.Y8G("uploadToCdnMenu",f.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",o.l_i(12,gt,f.allUploadFileTypes.SYNTHETIC,f.allUploadFileTypes.AZT)),o.R7$(4),o.Y8G("ngClass",o.lJ4(15,t)),o.R7$(2),o.SpI(" ",o.bMT(9,6,"lang_wsuper_admin_upload_file_choose_file_upload")," "),o.R7$(3),o.SpI(" ",o.bMT(12,8,"lang_auto_azota_support_file_type")," .docx, .azt, .pdf, .pptx, .ppt "),o.R7$(3),o.SpI(" ",o.bMT(15,10,"lang_auto_tim_hieu_them")," ")}}function it(p,W){1&p&&(o.j41(0,"div",28)(1,"div",29),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&p&&(o.R7$(2),o.JRh(o.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function T(p,W){if(1&p&&o.nrm(0,"azt-preview-file",33),2&p){const f=o.XpG(3);o.Y8G("fileUrl",f.docsLinkControl.value)("customHeight",f.boxContentHeight)("fileType",f.shareTypeDocument)}}function D(p,W){if(1&p&&(o.j41(0,"div",30)(1,"div",31),o.DNE(2,T,1,3,"azt-preview-file",32),o.k0s()()),2&p){const f=o.XpG(2);o.R7$(2),o.Y8G("ngIf",f.docsLinkControl.value)}}function C(p,W){if(1&p){const f=o.RV6();o.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"input",23),o.nI1(4,"mytranslate"),o.bIt("input",function(){o.eBV(f);const O=o.XpG();return o.Njj(O.getVideoNameFromUrl())}),o.k0s()(),o.j41(5,"div",24),o.nrm(6,"input",25),o.nI1(7,"mytranslate"),o.k0s(),o.DNE(8,it,4,3,"div",26),o.k0s(),o.DNE(9,D,3,1,"div",27),o.k0s()}if(2&p){const f=o.XpG();o.R7$(3),o.FS9("placeholder",o.bMT(4,6,"homework_view"==f.data.type?"lang_document_insert_lecture_video_Google_docs_dropbox_link":"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),o.Y8G("formControl",f.docsLinkControl),o.R7$(3),o.FS9("placeholder",o.bMT(7,8,"lang_document_insert_lecture_file_name")+"..."),o.Y8G("formControl",f.fileNameControl),o.R7$(2),o.Y8G("ngIf",f.fileNameControl.invalid),o.R7$(),o.Y8G("ngIf",f.checkShowPreviewLink())}}let S=(()=>{var p;class W extends F._{onTabChanged(y){this.selectedIndex=y.index,this.shareTypeDocument=0==this.selectedIndex?_.d.exam:_.d.google_docs}btnCloseDialog(){this.dialogRef.close()}handleUploadComplete(y){y.forEach(O=>{let w=this.sAztFileTypeService.getTypeFileByMime(O);w?this.dialogRef.close({name:O.name??"",refId:0,groupType:this.groupTypeFile,type:w,link:O.url??""}):this.showErrorSnack("lang_document_the_file_format_is_not_supported_in_reference")})}checkShowPreviewLink(){return!(!this.docsLinkControl.valid||!((0,z.y1)(this.docsLinkControl.value)||(0,z.Kb)(this.docsLinkControl.value)||(0,z.VJ)(this.docsLinkControl.value)))}getNameVideo(y){return new A.c(O=>{this.youtubeService.getVideoDetails(y).subscribe(w=>{O.next(w.items&&w.items.length?w.items[0].snippet.title:"undefined"),O.complete()},w=>{O.next(void 0),O.complete()})})}getVideoNameFromUrl(){this.data.type==d.k.homework_view&&(0,z.VJ)(this.docsLinkControl.value)&&(this.shareTypeDocument=_.d.video,this.getNameVideo((0,z.b3)(this.docsLinkControl.value)??"").subscribe(y=>{y&&this.fileNameControl.setValue(y)}))}confirmUpload(){if(this.docsLinkControl.valid&&(0,z.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:this.docsLinkControl.value?this.docsLinkControl.value:""}),this.docsLinkControl.valid&&(0,z.VJ)(this.docsLinkControl.value)&&this.fileNameControl.valid){let y={name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:(0,z.Hf)(this.docsLinkControl.value)?this.docsLinkControl.value:""};this.dialogRef.close(y)}}ngOnInit(){super.ngOnInit(),this.shareTypeDocument=this.commonService.getEnumTypeWithDefault(_.d,this.data.type,_.d.unknown),this.groupTypeFile=this.commonService.getEnumTypeWithDefault(d.k,this.data.type,d.k.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}ngAfterViewInit(){this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}constructor(y,O,w,nt){super(nt,w),this.sAztFileTypeService=y,this.youtubeService=O,this.dialogRef=w,this.data=nt,this.docsLinkControl=new x.MJ("",{nonNullable:!0,validators:[x.k0.required]}),this.fileNameControl=new x.MJ("",{nonNullable:!0,validators:[x.k0.required]}),this.shareTypeDocument=_.d.exam,this.groupTypeFile=d.k.document,this.allDocumentGroupTypes=d.k,this.boxContentHeight=0,this.selectedIndex=0,this.allUploadToCdnMenuTypes=N.b8,this.allUploadFileTypes=N.PO}}return(p=W).\u0275fac=function(y){return new(y||p)(o.rXU(X.k),o.rXU(E),o.rXU(G.CP,8),o.rXU(G.Vh,8))},p.\u0275cmp=o.VBU({type:p,selectors:[["add-document-session-dialog"]],features:[o.Vt3],decls:19,vars:16,consts:[["id","box-add-link-content",1,"box","scroll-menu-test",2,"height","80vh"],[1,"p-3"],[3,"selectedTabChange","selectedIndex"],[3,"label"],[2,"height","auto"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],[1,"form-group"],[1,"intro","mt-4"],[3,"uploadComplete","uploadToCdnMenu","fileType"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[1,"px-4","pb-8","mt-8","text-center","cursor-pointer","relative"],[1,"flex","items-center",2,"justify-content","center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","upload-document-GHbxbRMZOV","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"px-2"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],["class","h-full px-3",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[3,"fileUrl","customHeight","fileType"]],template:function(y,O){1&y&&(o.j41(0,"div",0)(1,"div")(2,"azt-mat-dialog-content")(3,"div",1)(4,"mat-tab-group",2),o.bIt("selectedTabChange",function(nt){return O.onTabChanged(nt)}),o.nrm(5,"mat-tab",3),o.nI1(6,"mytranslate"),o.nrm(7,"mat-tab",3),o.nI1(8,"mytranslate"),o.k0s(),o.j41(9,"div",4),o.DNE(10,J,16,16,"div",5)(11,C,10,10,"div",6),o.k0s()()()(),o.j41(12,"div",7)(13,"button",8),o.bIt("click",function(){return O.btnCloseDialog()}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"button",9),o.bIt("click",function(){return O.confirmUpload()}),o.EFF(17),o.nI1(18,"mytranslate"),o.k0s()()()),2&y&&(o.R7$(4),o.Y8G("selectedIndex",O.selectedIndex),o.R7$(),o.FS9("label",o.bMT(6,8,"lang_auto_upload_file")),o.R7$(2),o.FS9("label",o.bMT(8,10,"lang_config_educational_program_use_link")),o.R7$(3),o.Y8G("ngIf",0==O.selectedIndex),o.R7$(),o.Y8G("ngIf",1==O.selectedIndex),o.R7$(3),o.SpI(" ",o.bMT(15,12,"lang_auto_dong")," "),o.R7$(2),o.Y8G("disabled",O.fileNameControl.invalid),o.R7$(),o.SpI(" ",o.bMT(18,14,"lang_auto_luu")," "))},dependencies:[m.YU,m.bT,h.mq,h.T8,x.me,x.BC,x.l_,H.U,q.N,at.V,pt.WGl,ct.wp],encapsulation:2}),W})();var M=c(66772),tt=c(52811);function et(p,W){1&p&&(o.j41(0,"div",16)(1,"div",17),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&p&&(o.R7$(2),o.JRh(o.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function xt(p,W){if(1&p&&o.nrm(0,"azt-preview-file",18),2&p){const f=o.XpG(2);o.Y8G("fileUrl",f.embedLinkControl.value)("fileType",f.shareTypeFile)}}function ft(p,W){1&p&&o.nrm(0,"azt-loading-ui",19)}function mt(p,W){if(1&p){const f=o.RV6();o.qex(0),o.j41(1,"div",3)(2,"div",4)(3,"input",5),o.nI1(4,"mytranslate"),o.bIt("input",function(){o.eBV(f);const O=o.XpG();return o.Njj(O.getVideoNameFromUrl())}),o.k0s()(),o.j41(5,"div",6),o.nrm(6,"input",7),o.nI1(7,"mytranslate"),o.k0s(),o.DNE(8,et,4,3,"div",8),o.k0s(),o.j41(9,"div",9)(10,"div",10),o.DNE(11,xt,1,2,"azt-preview-file",11),o.k0s()(),o.j41(12,"div",12)(13,"button",13),o.bIt("click",function(){o.eBV(f);const O=o.XpG();return o.Njj(O.btnCloseDialog())}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"button",14),o.bIt("click",function(){o.eBV(f);const O=o.XpG();return o.Njj(O.confirmUpload())}),o.DNE(17,ft,1,0,"azt-loading-ui",15),o.EFF(18),o.nI1(19,"mytranslate"),o.k0s()(),o.bVm()}if(2&p){const f=o.XpG();o.R7$(3),o.FS9("placeholder",o.bMT(4,10,"lang_document_insert_lecture_video_link")+"..."),o.Y8G("formControl",f.embedLinkControl),o.R7$(3),o.FS9("placeholder",o.bMT(7,12,"lang_document_insert_lecture_video_name")+"..."),o.Y8G("formControl",f.fileNameControl),o.R7$(2),o.Y8G("ngIf",f.fileNameControl.invalid),o.R7$(3),o.Y8G("ngIf",f.embedLinkControl.value),o.R7$(3),o.SpI(" ",o.bMT(15,14,"lang_auto_dong")," "),o.R7$(2),o.Y8G("disabled",!f.isValidEmbedUrl()||f.fileNameControl.invalid||f.statusObj.loading),o.R7$(),o.Y8G("ngIf",f.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(19,16,"lang_auto_luu")," ")}}function Ft(p,W){1&p&&(o.j41(0,"div",16)(1,"div",17),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&p&&(o.R7$(2),o.JRh(o.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function yt(p,W){if(1&p&&o.nrm(0,"azt-preview-file",23),2&p){const f=o.XpG(2);o.Y8G("fileUrl",f.docsLinkControl.value)("customHeight",f.boxContentHeight)("fileType",f.shareTypeFile)}}function It(p,W){1&p&&o.nrm(0,"azt-loading-ui",19)}function k(p,W){if(1&p){const f=o.RV6();o.qex(0),o.j41(1,"div",3)(2,"div",4),o.nrm(3,"input",7),o.nI1(4,"mytranslate"),o.k0s(),o.j41(5,"div",6),o.nrm(6,"input",7),o.nI1(7,"mytranslate"),o.k0s(),o.DNE(8,Ft,4,3,"div",8),o.k0s(),o.j41(9,"div",9)(10,"div",20),o.DNE(11,yt,1,3,"azt-preview-file",21),o.k0s()(),o.j41(12,"div",22)(13,"button",13),o.bIt("click",function(){o.eBV(f);const O=o.XpG();return o.Njj(O.btnCloseDialog())}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"button",14),o.bIt("click",function(){o.eBV(f);const O=o.XpG();return o.Njj(O.confirmUpload())}),o.DNE(17,It,1,0,"azt-loading-ui",15),o.EFF(18),o.nI1(19,"mytranslate"),o.k0s()(),o.bVm()}if(2&p){const f=o.XpG();o.R7$(3),o.FS9("placeholder",o.bMT(4,10,"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),o.Y8G("formControl",f.docsLinkControl),o.R7$(3),o.FS9("placeholder",o.bMT(7,12,"lang_document_insert_lecture_file_name")+"..."),o.Y8G("formControl",f.fileNameControl),o.R7$(2),o.Y8G("ngIf",f.fileNameControl.invalid),o.R7$(3),o.Y8G("ngIf",f.docsLinkControl.value),o.R7$(3),o.SpI(" ",o.bMT(15,14,"lang_auto_dong")," "),o.R7$(2),o.Y8G("disabled",!f.isValidDocsUrl()||f.fileNameControl.invalid||f.statusObj.loading),o.R7$(),o.Y8G("ngIf",f.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(19,16,"lang_auto_luu")," ")}}let K=(()=>{var p;class W extends F._{btnCloseDialog(){this.dialogRef.close()}isValidEmbedUrl(){return(0,z.VJ)(this.embedLinkControl.value)}isValidDocsUrl(){return(0,z.si)(this.docsLinkControl.value)}getNameVideo(y){return new A.c(O=>{this.youtubeService.getVideoDetails(y).subscribe(w=>{O.next(w.items&&w.items.length?w.items[0].snippet.title:"undefined"),O.complete()},w=>{O.next(void 0),O.complete()})})}getVideoNameFromUrl(){this.getNameVideo((0,z.b3)(this.embedLinkControl.value)??"").subscribe(y=>{y&&this.fileNameControl.setValue(y)})}confirmUpload(){if(this.data.type==_.d.video&&this.embedLinkControl.valid&&(0,z.VJ)(this.embedLinkControl.value)&&this.fileNameControl.valid){this.initStatusObj();let y={name:this.fileNameControl.value,type:this.shareTypeFile,groupType:d.k.video,link:(0,z.Hf)(this.embedLinkControl.value)?this.embedLinkControl.value:""};this.dialogRef.close(y)}this.data.type==_.d.google_docs&&this.docsLinkControl.valid&&(0,z.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&(this.initStatusObj(),this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeFile,groupType:d.k.video,link:this.docsLinkControl.value?this.docsLinkControl.value:""}))}ngOnInit(){super.ngOnInit(),this.shareTypeFile=this.commonService.getEnumTypeWithDefault(_.d,this.data.type,_.d.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??700}constructor(y,O,w,nt,Rt){super(Rt,nt),this.sAZTranslateService=y,this.http=O,this.youtubeService=w,this.dialogRef=nt,this.data=Rt,this.embedLinkControl=new x.MJ("",{nonNullable:!0,validators:[x.k0.required]}),this.docsLinkControl=new x.MJ("",{nonNullable:!0,validators:[x.k0.required]}),this.fileNameControl=new x.MJ("",{nonNullable:!0,validators:[x.k0.required]}),this.shareTypeFile=_.d.video,this.boxContentHeight=0}}return(p=W).\u0275fac=function(y){return new(y||p)(o.rXU(M.o),o.rXU(R.Qq),o.rXU(E),o.rXU(G.CP,8),o.rXU(G.Vh,8))},p.\u0275cmp=o.VBU({type:p,selectors:[["add-video-session"]],features:[o.Vt3],decls:4,vars:2,consts:[[1,"box","mt-3","relative",2,"height","80vh"],["id","box-add-link-content",1,"h-full","flex","flex-col","mx-auto"],[4,"ngIf"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-3","mx-auto",2,"max-width","720px"],[3,"fileUrl","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[3,"fileUrl","fileType"],[1,"mr-1"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[3,"fileUrl","customHeight","fileType"]],template:function(y,O){1&y&&(o.j41(0,"div",0)(1,"div",1),o.DNE(2,mt,20,18,"ng-container",2)(3,k,20,18,"ng-container",2),o.k0s()()),2&y&&(o.R7$(2),o.Y8G("ngIf","video"==O.data.type),o.R7$(),o.Y8G("ngIf","google_docs"==O.data.type))},dependencies:[m.bT,x.me,x.BC,x.l_,tt.R,q.N,ct.wp],encapsulation:2}),W})();var L=c(46899),ot=c(17818);const I=[[["span"]]],Y=["span"];function $(p,W){1&p&&o.nrm(0,"azt-loading-ui",11)}function j(p,W){1&p&&(o.j41(0,"span"),o.EFF(1," + "),o.k0s())}function g(p,W){if(1&p){const f=o.RV6();o.qex(0),o.j41(1,"button",8),o.bIt("click",function(O){return o.eBV(f),o.Njj(O.stopPropagation())}),o.DNE(2,$,1,0,"azt-loading-ui",9)(3,j,2,0,"span",10),o.SdG(4),o.k0s(),o.bVm()}if(2&p){const f=o.XpG(),y=o.sdS(4);o.R7$(),o.HbH("btn btn-transparent w-48 block "+f.customClass),o.Y8G("disabled",f.loadingUpload)("matMenuTriggerFor",y),o.R7$(),o.Y8G("ngIf",f.loadingUpload),o.R7$(),o.Y8G("ngIf",!f.loadingUpload)}}function Z(p,W){1&p&&o.nrm(0,"azt-loading-ui",11)}function ht(p,W){1&p&&(o.j41(0,"span"),o.EFF(1," + "),o.k0s())}function lt(p,W){if(1&p){const f=o.RV6();o.j41(0,"span",12),o.bIt("click",function(O){return o.eBV(f),o.Njj(O.stopPropagation())}),o.DNE(1,Z,1,0,"azt-loading-ui",9)(2,ht,2,0,"span",10),o.j41(3,"span"),o.EFF(4),o.nI1(5,"mytranslate"),o.nI1(6,"mytranslate"),o.k0s()()}if(2&p){const f=o.XpG(),y=o.sdS(4);o.Y8G("matMenuTriggerFor",y),o.R7$(),o.Y8G("ngIf",f.loadingUpload),o.R7$(),o.Y8G("ngIf",!f.loadingUpload),o.R7$(2),o.Lme("",o.bMT(5,5,"lang_button_add")," ",o.bMT(6,7,"lang_auto_tai_lieu"),"")}}let Mt=(()=>{var p;class W extends s.H{showAddLinkDialog(y){this.loadingUpload=!0,this.sAztDialogService.open(K,{width:y==_.d.video?"750px":"950px",data:{showUp:!0,type:y},restoreFocus:!1}).afterClosed().subscribe(w=>{w?(this.emitFileDocument.emit({name:w.name,refId:0,groupType:w.groupType,type:w.type,link:w.link}),this.loadingUpload=!1):this.loadingUpload=!1})}showAddDocumentDialog(y){this.loadingUpload=!0,this.sAztDialogService.open(S,{width:"950px",data:{showUp:!0,type:y},restoreFocus:!1}).afterClosed().subscribe(w=>{w?(this.emitFileDocument.emit({name:w.name,refId:0,groupType:w.groupType,type:w.type,link:w.link}),this.loadingUpload=!1):this.loadingUpload=!1})}ngOnInit(){super.ngOnInit()}constructor(y){super(),this.sAztDialogService=y,this.isBtn=!0,this.customClass="",this.emitFileDocument=new o.bkB,this.loadingUpload=!1}}return(p=W).\u0275fac=function(y){return new(y||p)(o.rXU(L.i))},p.\u0275cmp=o.VBU({type:p,selectors:[["app-upload-document-for-session"]],inputs:{isBtn:"isBtn",customClass:"customClass"},outputs:{emitFileDocument:"emitFileDocument"},features:[o.Vt3],ngContentSelectors:Y,decls:27,vars:14,consts:[["otherBtnTemplate",""],["addDocumentMenu","matMenu"],[4,"ngIf","ngIfElse"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],["azt-track-service","list-educational-program-sessions-alTxPjwR-Y",1,"dropdown-item",2,"align-items","center",3,"click"],[1,"dropdown-item",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-rZNJK7p4k4",2,"text-align","left",3,"click","disabled","matMenuTriggerFor"],["type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],["type","bootstrap-spinner"],["azt-track-service","add-or-edit-educational-program-wqT22r4zB",1,"clickable",2,"text-align","left",3,"click","matMenuTriggerFor"]],template:function(y,O){if(1&y){const w=o.RV6();o.NAR(I),o.DNE(0,g,5,6,"ng-container",2)(1,lt,7,9,"ng-template",null,0,o.C5r),o.j41(3,"mat-menu",3,1)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),o.bIt("click",function(){return o.eBV(w),o.Njj(O.showAddLinkDialog("video"))}),o.j41(9,"span"),o.EFF(10),o.nI1(11,"mytranslate"),o.k0s()()(),o.j41(12,"li")(13,"a",7),o.bIt("click",function(){return o.eBV(w),o.Njj(O.showAddDocumentDialog("document"))}),o.j41(14,"span"),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s()()(),o.j41(17,"li")(18,"a",7),o.bIt("click",function(){return o.eBV(w),o.Njj(O.showAddDocumentDialog("homework"))}),o.j41(19,"span"),o.EFF(20),o.nI1(21,"mytranslate"),o.k0s()()(),o.j41(22,"li")(23,"a",7),o.bIt("click",function(){return o.eBV(w),o.Njj(O.showAddDocumentDialog("homework_view"))}),o.j41(24,"span"),o.EFF(25),o.nI1(26,"mytranslate"),o.k0s()()()()()()}if(2&y){const w=o.sdS(2);o.Y8G("ngIf",O.isBtn)("ngIfElse",w),o.R7$(10),o.SpI(" ",o.bMT(11,6,"lang_config_educational_program_add_ytb_link")," "),o.R7$(5),o.SpI(" ",o.bMT(16,8,"lang_config_educational_program_add_document")," "),o.R7$(5),o.SpI(" ",o.bMT(21,10,"lang_config_educational_program_add_homework")," "),o.R7$(5),o.SpI(" ",o.bMT(26,12,"lang_config_educational_program_add_homework_view")," ")}},dependencies:[m.bT,ot.kk,ot.Cp,tt.R,ct.wp],encapsulation:2}),W})()},10127:(rt,V,c)=>{c.d(V,{B:()=>ot});var o=c(81519),s=c(10936),_=c(34514),x=c(47426),G=c(89163),A=c(99503),F=c(79347),z=c(33887),d=c(9691);class N{static formGroupClassrooms(Y){return void 0!==Y.controls.find(g=>g.controls.classroomId.errors)?{identityRevealed:!0,invalidData:!0}:null}}var X=c(93493),R=c(74742),E=c(60902),m=c(48891),h=c(49842),H=c(46899),q=c(17187),at=c(54460),pt=c(12992),ct=c(95670),gt=c(4375),t=c(47712),J=c(18718),it=c(81587),T=c(2915),D=c(43165),C=c(45344),S=c(43166),M=c(15343),tt=c(44233),et=c(47348);const xt=()=>({"text-danger":!0});function ft(I,Y){if(1&I&&m.nrm(0,"azt-loading-effect",7),2&I){const $=m.XpG();m.Y8G("currentStatusObj",$.statusObj)}}function mt(I,Y){1&I&&(m.j41(0,"div",21),m.EFF(1),m.nI1(2,"mytranslate"),m.k0s()),2&I&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"lang_core_them_lop_hoc_neu_ban_muon_cap_nhat_so_tien")," "))}function Ft(I,Y){if(1&I&&(m.j41(0,"mat-option",34),m.EFF(1),m.k0s()),2&I){const $=Y.$implicit,j=m.XpG(3);m.Y8G("value",$.id)("disabled",j.isSelectClassroom($.id)),m.R7$(),m.SpI(" ",$.name," ")}}function yt(I,Y){if(1&I){const $=m.RV6();m.j41(0,"button",35),m.nI1(1,"mytranslate"),m.bIt("click",function(){m.eBV($);const g=m.XpG().$implicit,Z=m.XpG(2);return m.Njj(Z.removeClassroom(g))}),m.nrm(2,"lucide-icon",36),m.k0s()}2&I&&(m.FS9("matTooltip",m.bMT(1,2,"lang_student_classroom_list_delete")),m.R7$(2),m.Y8G("ngClass",m.lJ4(4,xt)))}function It(I,Y){1&I&&(m.j41(0,"div",37),m.EFF(1),m.nI1(2,"mytranslate"),m.k0s()),2&I&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"lang_testbank_test_config_you_not_yet_class")," "))}function k(I,Y){if(1&I){const $=m.RV6();m.j41(0,"div",38)(1,"mat-checkbox",39),m.EFF(2),m.nI1(3,"mytranslate"),m.k0s(),m.j41(4,"button",40),m.nI1(5,"mytranslate"),m.bIt("click",function(){m.eBV($);const g=m.XpG().$implicit,Z=m.XpG(2);return m.Njj(Z.removeClassroom(g))}),m.nrm(6,"lucide-icon",36),m.k0s()()}if(2&I){const $=m.XpG().$implicit;m.R7$(),m.Y8G("checked",$.controls.isTryLearning.value),m.R7$(),m.SpI(" ",m.bMT(3,4,"lang_core_hoc_thu")," "),m.R7$(2),m.FS9("matTooltip",m.bMT(5,6,"lang_student_classroom_list_delete")),m.R7$(2),m.Y8G("ngClass",m.lJ4(8,xt))}}function K(I,Y){if(1&I&&(m.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"div",14)(4,"div",25)(5,"mat-form-field",26)(6,"mat-select",27,1)(8,"mat-option"),m.nrm(9,"ngx-mat-select-search",28),m.nI1(10,"mytranslate"),m.nI1(11,"mytranslate"),m.k0s(),m.j41(12,"mat-option",29),m.EFF(13),m.nI1(14,"mytranslate"),m.k0s(),m.DNE(15,Ft,2,3,"mat-option",30),m.k0s()(),m.DNE(16,yt,3,5,"button",31),m.k0s(),m.DNE(17,It,3,3,"div",32),m.k0s()(),m.DNE(18,k,7,9,"div",33),m.k0s()()),2&I){const $=Y.$implicit,j=m.sdS(7),g=m.XpG(2);m.R7$(),m.Y8G("formGroup",$),m.R7$(5),m.Y8G("formControl",$.controls.classroomId),m.R7$(3),m.FS9("placeholderLabel",m.bMT(10,11,"lang_search_by_name")),m.FS9("noEntriesFoundLabel",m.bMT(11,13,"lang_search_not_found")),m.Y8G("formControl",j.searchControl),m.R7$(3),m.Y8G("value",0),m.R7$(),m.SpI("---",m.bMT(14,15,"lang_student_classroom_list_utils_create_class_new_course_choose_class"),""),m.R7$(2),m.Y8G("ngForOf",j.filter(g.classroomOwner,"name")),m.R7$(),m.Y8G("ngIf",g.isSelectedMonth()),m.R7$(),m.Y8G("ngIf",$.controls.classroomId.errors),m.R7$(),m.Y8G("ngIf",!g.isSelectedMonth())}}function L(I,Y){if(1&I){const $=m.RV6();m.j41(0,"azt-mat-dialog-content")(1,"div",8)(2,"div",9)(3,"div",10)(4,"h3",11),m.EFF(5),m.nI1(6,"mytranslate"),m.k0s(),m.j41(7,"azt-form-enter-info-student",12),m.bIt("closeDialog",function(){m.eBV($);const g=m.XpG();return m.Njj(g.dialogRef.close())}),m.k0s()(),m.j41(8,"div",13)(9,"div",14),m.nrm(10,"azt-checkbox-month",15),m.j41(11,"h3",16),m.EFF(12),m.nI1(13,"mytranslate"),m.k0s(),m.DNE(14,mt,3,3,"div",17)(15,K,19,17,"div",18),m.j41(16,"div",19)(17,"div",20),m.bIt("click",function(){m.eBV($);const g=m.XpG();return m.Njj(g.addClassroom())}),m.EFF(18),m.nI1(19,"mytranslate"),m.k0s()()()()()()()}if(2&I){const $=m.XpG();m.R7$(5),m.SpI(" ",m.bMT(6,9,"lang_auto_thong_tin_chung")," "),m.R7$(2),m.Y8G("studentForm",$.studentForm)("hasUser",!!$.data&&$.data.hasUser),m.R7$(3),m.Y8G("checkboxMonth",$.checkboxMonth)("histories",$.histories),m.R7$(2),m.SpI(" ",m.bMT(13,11,"lang_auto_lop_hoc")," "),m.R7$(2),m.Y8G("ngIf",0==$.formClassrooms.controls.length),m.R7$(),m.Y8G("ngForOf",$.formClassrooms.controls),m.R7$(3),m.SpI("+ ",m.bMT(19,13,"lang_student_classroom_list_utils_create_class_add_class"),"")}}let ot=(()=>{var I;class Y extends z._{removeClassroom(j){let g=this.formClassrooms.controls.filter(Z=>Z!=j);this.formClassrooms=new s.Yp(g)}addClassroom(){let j=this.formClassrooms.controls;j.push(new s.gE({classroomId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1)]}),isTryLearning:new s.MJ(!1,{nonNullable:!0})})),this.formClassrooms=new s.Yp(j,{validators:[N.formGroupClassrooms]}),this.formClassrooms.updateValueAndValidity()}isSelectClassroom(j){return null!=this.formClassrooms.controls.find(g=>g.controls.classroomId.value==j)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(j=>1==j.selected)}saveData(){var j=this.studentForm.form.getRawValue(),g=[],Z=[];this.checkboxMonth.checkboxMonth.filter(lt=>1==lt.selected).forEach(lt=>{Z.push({month:lt.month,year:lt.year})}),this.formClassrooms.controls.forEach(lt=>{g.push({classroomId:lt.controls.classroomId.value,trialLearning:!(Z.length>0)&&lt.controls.isTryLearning.value})}),this.isSaving=!0;var ht={id:this.data?this.data.id:void 0,fullName:j.fullName,gender:j.gender,phone:j.phoneNumber,email:j.email,userName:j.userName,birthday:j.birthday?this.timeService.formatDateTimeToPostToServer(new Date(j.birthday).toDateString()):void 0,password:j.password,classrooms:g,attachPayments:Z,schoolName:j.school,facebookLink:j.facebookLink,identificationNumber:j.identificationNumber?Number(j.identificationNumber):void 0};this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentPost(ht)).subscribe(lt=>{if(this.isSaving=!1,!lt.success)return this.errorStatusObj(lt.message,!0);this.dialogRef.close(!0),this.successStatusObj(this.data?"lang_core_cap_nhat_thanh_cong_hoc_sinh_nop_tien":"lang_core_them_thanh_cong_hoc_sinh_nop_tien",!0)}))}getClassroomName(j){var g=this.classroomOwner.filter(Z=>j==Z.id)??[];return g.length>0?g[0].name:""}getHistories(){if(!this.data)return this.stopStatusObj();this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.data.id)).subscribe(j=>{if(this.isSaving=!1,!j.success)return this.errorStatusObj(j.message,!0);this.histories=j.data?.histories??[],this.checkboxMonth.checkboxMonth.map(Z=>Z.selected=null!=this.histories.find(ht=>ht.month==Z.month&&Z.year==ht.year));var g=[];j.data?.classrooms.forEach(Z=>{g.push(new s.gE({classroomId:new s.MJ(Z.classroomId,{nonNullable:!0,validators:[s.k0.min(1)]}),isTryLearning:new s.MJ(Z.trialLearning,{nonNullable:!0})}))}),this.formClassrooms=new s.Yp(g,{validators:[N.formGroupClassrooms]}),this.stopStatusObj()}))}getOwnerClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(j=>{if(!j.success)return this.errorStatusObj(j.message,!0),void this.stopStatusObj();this.classroomOwner=j.data?.objs??[],this.getHistories()}))}ngOnInit(){super.ngOnInit(),this.getOwnerClassroom()}constructor(j,g,Z,ht,lt,Mt,p){super(p,Mt),this.classroomGroupService=j,this.sAztDialogService=g,this.sAztTimeService=Z,this.timeService=ht,this.paymentService=lt,this.dialogRef=Mt,this.data=p,this.histories=[],this.checkboxMonth=new E.L,this.studentForm=new R.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,p&&(this.checkboxMonth.studentId=this.data.id,p.hasUser?this.studentForm.form=new s.gE({fullName:new s.MJ(p.fullName??"",{nonNullable:!0,validators:[s.k0.required]}),gender:new s.MJ(p.gender??0,{nonNullable:!0}),birthday:new s.MJ(p.birthday,{nonNullable:!0}),email:new s.MJ(p.email??"",{nonNullable:!0,validators:[s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ(p.phone??"",{nonNullable:!0,validators:[s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),parentPhoneNumber:new s.MJ(p.phone??"",{nonNullable:!0,validators:[s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),identificationNumber:new s.MJ(p.identificationNumber?p.identificationNumber.toString():"",{nonNullable:!0,validators:[s.k0.min(1),s.k0.maxLength(this.myEnvironment.maxStudentCodeLength),s.k0.pattern("^[0-9]*$")]}),facebookLink:new s.MJ(p.facebookLink,{nonNullable:!0}),school:new s.MJ(p.schoolName,{nonNullable:!0}),userName:new s.MJ(p.parentUserName??"",{nonNullable:!0,validators:[X.i.validateUserName]})}):this.studentForm.form.setValue({fullName:p.fullName??"",gender:p.gender??0,birthday:p.birthday,email:p.email??"",phoneNumber:p.phone??"",parentPhoneNumber:p.parentPhone??"",identificationNumber:p.identificationNumber?p.identificationNumber.toString():"",facebookLink:p.facebookLink,school:p.schoolName,password:"",userName:p.parentUserName??""})),this.formClassrooms=new s.Yp([new s.gE({classroomId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1)]}),isTryLearning:new s.MJ(!1,{nonNullable:!0})})],{validators:[N.formGroupClassrooms]})}ngOnDestroy(){super.ngOnDestroy()}}return(I=Y).\u0275fac=function(j){return new(j||I)(m.rXU(h.kG),m.rXU(H.i),m.rXU(d.F),m.rXU(d.F),m.rXU(q.W),m.rXU(G.CP,8),m.rXU(G.Vh,8))},I.\u0275cmp=m.VBU({type:I,selectors:[["azt-send-feedback"]],features:[m.Jv_([{provide:o.$O,useClass:A.fb,deps:[x.Ju,_.ij]},{provide:o.vq,useFactory:F.fJ,deps:[d.F]}]),m.Vt3],decls:11,vars:10,consts:[["doneLoading",""],["searchInListClassroomName","searchInList"],[1,"box"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"p-3","text-right","border-t","border-slate-200/60","dark:border-darkmode-400"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-2","btn","btn-secondary",3,"click","disabled"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",3,"click","disabled"],[3,"currentStatusObj"],[1,"container-fluid","mt-2","mb-2","overflow-hidden","document-market-list","w-full"],[1,"grid","grid-cols-12","px-2"],[1,"col-span-12","md:col-span-6","px-3","py-2"],[1,"text-md","font-medium","flex","items-center"],[3,"closeDialog","studentForm","hasUser"],[1,"col-span-12","md:col-span-6","px-3","py-2","md:border-l","md:border-slate-200/60","dark:border-darkmode-400"],[1,"w-full"],[3,"checkboxMonth","histories"],[1,"text-md","font-medium","flex","items-center","mt-2"],["class","mt-2 text-xs text-danger ml-1",4,"ngIf"],["class","form-single-class p-2 mt-1",4,"ngFor","ngForOf"],[1,"flex","justify-start"],["azt-track-service","add-or-edit-tuition-fee-mnjxAfd3U",1,"btn-add-class","clickable","mt-2",3,"click"],[1,"mt-2","text-xs","text-danger","ml-1"],[1,"form-single-class","p-2","mt-1"],[3,"formGroup"],[1,"flex"],[1,"flex","items-center"],["id","classroomId","appearance","fill",1,"mt-1",2,"width","100%","background","#fff"],["searchInList","","name","classroomId",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","btn-delete-room ml-2",3,"matTooltip","click",4,"ngIf"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-2 flex justify-between",4,"ngIf"],[3,"value","disabled"],[1,"btn-delete-room","ml-2",3,"click","matTooltip"],["name","trash-2","size","20",3,"ngClass"],[1,"text-xs","text-danger","mt-1"],[1,"mt-2","flex","justify-between"],["formControlName","isTryLearning",1,"example-margin",3,"checked"],[1,"btn-delete-room",3,"click","matTooltip"]],template:function(j,g){if(1&j){const Z=m.RV6();m.j41(0,"div",2),m.DNE(1,ft,1,1,"azt-loading-effect",3)(2,L,20,15,"ng-template",null,0,m.C5r),m.j41(4,"div",4)(5,"button",5),m.bIt("click",function(){return m.eBV(Z),m.Njj(g.dialogRef.close())}),m.EFF(6),m.nI1(7,"mytranslate"),m.k0s(),m.j41(8,"button",6),m.bIt("click",function(){return m.eBV(Z),m.Njj(g.saveData())}),m.EFF(9),m.nI1(10,"mytranslate"),m.k0s()()()}if(2&j){const Z=m.sdS(3);m.R7$(),m.Y8G("ngIf",g.statusObj.loading)("ngIfElse",Z),m.R7$(4),m.Y8G("disabled",g.isSaving),m.R7$(),m.JRh(m.bMT(7,6,"lang_cms_common_close_btn")),m.R7$(2),m.Y8G("disabled",!g.isSaving&&(g.formClassrooms.invalid||g.studentForm.form.invalid)||0==g.formClassrooms.controls.length),m.R7$(),m.SpI(" ",m.bMT(10,8,"lang_button_save")," ")}},dependencies:[at.YU,at.Sq,at.bT,x.wT,pt.So,ct.rl,gt.VO,t.oV,s.qT,s.BC,s.cb,s.l_,s.j4,s.JD,J.K,it.t,T.U,D.s,C.u,S.x,M.WGl,tt.U9,et.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),Y})()},60902:(rt,V,c)=>{c.d(V,{L:()=>o});class o{constructor(){this.currentDate=new Date,this.studentId=-1,this.checkboxMonth=[{selected:!1,month:1,year:this.currentDate.getFullYear()-1},{selected:!1,month:2,year:this.currentDate.getFullYear()-1},{selected:!1,month:3,year:this.currentDate.getFullYear()-1},{selected:!1,month:4,year:this.currentDate.getFullYear()-1},{selected:!1,month:5,year:this.currentDate.getFullYear()-1},{selected:!1,month:6,year:this.currentDate.getFullYear()-1},{selected:!1,month:7,year:this.currentDate.getFullYear()-1},{selected:!1,month:8,year:this.currentDate.getFullYear()-1},{selected:!1,month:9,year:this.currentDate.getFullYear()-1},{selected:!1,month:10,year:this.currentDate.getFullYear()-1},{selected:!1,month:11,year:this.currentDate.getFullYear()-1},{selected:!1,month:12,year:this.currentDate.getFullYear()-1},{selected:!1,month:1,year:this.currentDate.getFullYear()},{selected:!1,month:2,year:this.currentDate.getFullYear()},{selected:!1,month:3,year:this.currentDate.getFullYear()},{selected:!1,month:4,year:this.currentDate.getFullYear()},{selected:!1,month:5,year:this.currentDate.getFullYear()},{selected:!1,month:6,year:this.currentDate.getFullYear()},{selected:!1,month:7,year:this.currentDate.getFullYear()},{selected:!1,month:8,year:this.currentDate.getFullYear()},{selected:!1,month:9,year:this.currentDate.getFullYear()},{selected:!1,month:10,year:this.currentDate.getFullYear()},{selected:!1,month:11,year:this.currentDate.getFullYear()},{selected:!1,month:12,year:this.currentDate.getFullYear()},{selected:!1,month:1,year:this.currentDate.getFullYear()+1},{selected:!1,month:2,year:this.currentDate.getFullYear()+1},{selected:!1,month:3,year:this.currentDate.getFullYear()+1},{selected:!1,month:4,year:this.currentDate.getFullYear()+1},{selected:!1,month:5,year:this.currentDate.getFullYear()+1},{selected:!1,month:6,year:this.currentDate.getFullYear()+1},{selected:!1,month:7,year:this.currentDate.getFullYear()+1},{selected:!1,month:8,year:this.currentDate.getFullYear()+1},{selected:!1,month:9,year:this.currentDate.getFullYear()+1},{selected:!1,month:10,year:this.currentDate.getFullYear()+1},{selected:!1,month:11,year:this.currentDate.getFullYear()+1},{selected:!1,month:12,year:this.currentDate.getFullYear()+1}]}}},26617:(rt,V,c)=>{c.r(V),c.d(V,{AzotaBusinessModule:()=>lr});var o=c(54460),s=c(10936),_=c(89163),x=c(65162),G=c(81275),A=c(69223),F=c(23047),z=c(15437),d=c(15343),N=c(13763),X=c(10123),R=c(25571),E=c(44233),m=c(5502),h=c(70050),H=c(7050),q=c(35143),at=c(43234),pt=c(21656),ct=c(1133),gt=c(50866),t=c(48891),J=c(60260),it=c(46289),T=c(46723),D=c(46899),C=c(59640),S=c(37497),M=c(75421),tt=c(27208),et=c(81519),xt=c(34514),ft=c(47426),mt=c(17818),Ft=c(14999),yt=c(99503),It=c(79347),k=c(33887),K=c(9691),L=c(74742),ot=c(6440),I=c(2915),Y=c(52811),$=c(5800),j=c(43165),g=c(47348);function Z(e,l){1&e&&(t.qex(0),t.j41(1,"li",24)(2,"span",25),t.nrm(3,"azt-loading-ui"),t.k0s()(),t.bVm())}function ht(e,l){if(1&e&&(t.qex(0),t.j41(1,"li",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&e){const a=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,a.firstInit?"lang_auto_nhap_ten_hoac_sdt_hoc_sinh":"lang_student_classroom_list_detail_not_student")," ")}}function lt(e,l){if(1&e){const a=t.RV6();t.j41(0,"li",28),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG(3);return t.Njj(r.selectStudent(i))}),t.nrm(1,"azt-student-info-box",29),t.k0s()}if(2&e){const a=l.$implicit;t.R7$(),t.Y8G("name",a.fullName)("avatar",a.avatar)("gender",a.gender)("phone",a.phone)("email",a.email)("showPhone",!0)("showTooltip",!1)}}function Mt(e,l){if(1&e&&(t.qex(0),t.DNE(1,lt,2,7,"li",27),t.bVm()),2&e){const a=t.XpG(2);t.R7$(),t.Y8G("ngForOf",a.listStudentSearched)}}function p(e,l){if(1&e&&t.DNE(0,ht,4,3,"ng-container",19)(1,Mt,2,1,"ng-container",19),2&e){const a=t.XpG();t.Y8G("ngIf",!a.listStudentSearched.length),t.R7$(),t.Y8G("ngIf",a.listStudentSearched.length)}}function W(e,l){1&e&&(t.qex(0),t.j41(1,"div",30)(2,"span",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.bVm()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_business_no_student_selected_yet")))}function f(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",32)(1,"button",33),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.removeStudent(i))}),t.nrm(2,"lucide-icon",34),t.k0s(),t.nrm(3,"azt-student-info-box",35),t.k0s()}if(2&e){const a=l.$implicit;t.R7$(3),t.Y8G("name",a.fullName)("avatar",a.avatar)("gender",a.gender)("phone",a.phone)("email",a.email)}}let y=(()=>{var e;class l extends k._{saveData(){var n=this.studentForm.form.getRawValue();this.isSaving=!0;var i={id:this.data?.id,studentParentIds:this.listStudentChoose.map(r=>r.id),fullName:n.fullName,gender:Number(n.gender)??1,phone:n.phoneNumber,email:n.email,birthday:n.birthday?this.timeService.formatDateTimeToPostToServer(new Date(n.birthday).toDateString()):void 0,password:n.password??""};this.waitDestroy(this.studentService.apiStudentUpsertParentUsersPost(i).subscribe(r=>{r&&r.success?(this.isSaving=!1,this.successStatusObj("lang_student_utils_add_parent_successfully",!0),this.dialogRef.close(!0)):(this.isSaving=!1,this.errorStatusObj(r.message,!0))}))}selectStudent(n){this.commonService.isExistInArray(this.listStudentChoose,n)||(this.listStudentChoose.push(n),this.listStudentSearched=this.listStudentSearched.filter(i=>i.id!=n.id))}removeStudent(n){this.data?this.sAztDialogService.open(Ft.d,{data:{deleteOnParent:!0,studentObj:Object.assign({classroomId:0,parentId:this.data.id},n),classroomObj:{id:0,name:"",teacherId:0,countStudents:0,showAddStudent:0,grade:0,isShareClassroom:!1,isWaitingConfirm:0,permissionObj:{},teamPermissions:[]}},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(r=>{r&&this.data&&(this.isSaving=!0,this.waitDestroy(this.studentService.apiStudentRemoveParentUsersPost({id:this.data.id,studentParentIds:[n.id]}).subscribe(b=>{if(this.isSaving=!1,!b.success)return this.errorStatusObj(b.message,!0);this.listStudentChoose=this.listStudentChoose.filter(P=>P.id!=n.id),this.isEdited=!0,this.successStatusObj("lang_auto_xoa_hoc_sinh_thanh_cong",!0)})))}):this.listStudentChoose=this.listStudentChoose.filter(r=>r.id!=n.id)}searchStudent(){if(!this.searchStudentControl.value)return this.firstInit=!0,void(this.listStudentSearched=[]);this.isSearching=!0,this.firstInit=!1,this.listStudentSearched=[],this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementGetUsersInDomainPost({page:1,pageSize:100,textSearch:this.searchStudentControl.value,role:"STUDENT"}).subscribe(i=>{if(this.isSearching=!1,!i.success)return this.errorStatusObj(i.message,!0);this.menuTrigger.openMenu(),this.listStudentSearched=i.data?.objs.filter(this.commonService.notEmpty).filter(r=>!this.listStudentChoose.find(u=>r.id==u.id))??[],this.isSearching=!1}))}closeDialog(){this.dialogRef.close(this.isEdited)}ngOnInit(){super.ngOnInit()}constructor(n,i,r,u,b,P,Q){super(Q,P),this.studentService=n,this.sAztDialogService=i,this.sAztTimeService=r,this.domainUsersManagementService=u,this.timeService=b,this.dialogRef=P,this.data=Q,this.histories=[],this.searchStudentControl=new s.MJ("",{nonNullable:!0}),this.studentForm=new L.d,this.isSaving=!1,this.firstInit=!0,this.isSearching=!1,this.isEdited=!1,this.currentDate=new Date,this.listStudentSearched=[],this.listStudentChoose=[],this.studentForm.form=new s.gE(this.data?{fullName:new s.MJ(this.data?.fullName??"",{nonNullable:!0,validators:[s.k0.required]}),gender:new s.MJ(this.data?.gender??0,{nonNullable:!0}),birthday:new s.MJ(new Date(this.data?.birthday??""),{nonNullable:!0,validators:[s.k0.required]}),email:new s.MJ(this.data?.email??"",{nonNullable:!0,validators:[s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ(this.data?.phone??"",{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),parentPhoneNumber:new s.MJ(this.data?.phone??"",{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]})}:{fullName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required]}),gender:new s.MJ(0,{nonNullable:!0}),birthday:new s.MJ(new Date(""),{nonNullable:!0,validators:[s.k0.required]}),email:new s.MJ("",{nonNullable:!0,validators:[s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),password:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.minLength(6)]}),parentPhoneNumber:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]})}),this.listStudentChoose=this.data?.childUsers?.map(v=>Object.assign({isParent:!1,isAdmin:!1},v))??[]}ngOnDestroy(){super.ngOnDestroy()}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(ot.b0),t.rXU(D.i),t.rXU(K.F),t.rXU(J.ZF),t.rXU(K.F),t.rXU(_.CP,8),t.rXU(_.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-add-parent"]],viewQuery:function(n,i){if(1&n&&t.GBs(mt.Cp,5),2&n){let r;t.mGM(r=t.lsd())&&(i.menuTrigger=r.first)}},features:[t.Jv_([{provide:et.$O,useClass:yt.fb,deps:[ft.Ju,xt.ij]},{provide:et.vq,useFactory:It.fJ,deps:[K.F]}]),t.Vt3],decls:36,vars:26,consts:[["listStudentMenu","matMenu"],["doneSearch",""],[1,"box"],[1,"p-3","border-b","border-slate-200","dark:border-darkmode-400"],[1,"text-base","font-medium","flex","items-center"],[1,"document-market-list",2,"margin-left","5px"],[1,"grid","grid-cols-12","gap-4","p-3"],[1,"col-span-12","md:col-span-6",2,"margin-top","-0.75rem"],[3,"closeDialog","studentForm","hasUser","isAddParent"],[1,"col-span-12","md:col-span-6"],[1,"relative","flex"],[1,"search","w-full"],["type","text",1,"form-control","py-1","px-4","w-full","box","pr-10","h-10",2,"border-radius","0.375rem",3,"keyup.enter","formControl","matMenuTriggerFor","placeholder"],[1,"absolute","my-auto","inset-y-0","mr-3","right-0","text-slate-500","cursor-pointer",3,"click"],["name","search","size","16"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content",2,"max-height","200px","overflow-y","auto","width","250px"],[4,"ngIf","ngIfElse"],[1,"text-md","font-medium","flex","items-center","mt-3"],[4,"ngIf"],["class","flex mt-2",4,"ngFor","ngForOf"],[1,"p-3","text-right","border-t","border-slate-200","dark:border-darkmode-400"],["azt-track-service","add-parent-dialog-Yv0rmUIbhV",1,"mr-3","btn","btn-secondary","min-width-100",3,"click","disabled"],["azt-track-service","add-parent-dialog-RJ4JwiS_xG",1,"btn","btn-primary","min-width-100",3,"click","disabled"],[1,"text-center","mt-2"],[1,"w-6","h-6","inline-block"],[1,"p-2","text-center","text-xs"],["azt-track-service","add-parent-dialog-O3q5vOzZp","class","p-2",3,"click",4,"ngFor","ngForOf"],["azt-track-service","add-parent-dialog-O3q5vOzZp",1,"p-2",3,"click"],[3,"name","avatar","gender","phone","email","showPhone","showTooltip"],["role","alert",1,"bg-red-100","mt-2","border","border-red-400","text-red-700","px-4","py-1","rounded","relative"],[1,"block","sm:inline"],[1,"flex","mt-2"],["azt-track-service","add-parent-dialog-CxnSrTyDC_",1,"btn","btn-outline-danger","btn-sm","border-0","shadow-0","mr-2",3,"click"],["name","trash-2","size","18"],[3,"name","avatar","gender","phone","email"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h3",4),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"azt-mat-dialog-content")(6,"div",5)(7,"div",6)(8,"div",7)(9,"azt-form-enter-info-student",8),t.bIt("closeDialog",function(){return t.eBV(r),t.Njj(i.closeDialog())}),t.k0s()(),t.j41(10,"div",9)(11,"div",10)(12,"div",11)(13,"input",12),t.nI1(14,"mytranslate"),t.bIt("keyup.enter",function(){return t.eBV(r),t.Njj(i.searchStudent())}),t.k0s(),t.j41(15,"button",13),t.bIt("click",function(){return t.eBV(r),t.Njj(i.searchStudent())}),t.nrm(16,"lucide-icon",14),t.k0s()(),t.j41(17,"mat-menu",null,0)(19,"div",15)(20,"ul",16),t.DNE(21,Z,4,0,"ng-container",17)(22,p,2,2,"ng-template",null,1,t.C5r),t.k0s()()()(),t.j41(24,"h3",18),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.DNE(27,W,5,3,"ng-container",19)(28,f,4,5,"div",20),t.k0s()()()(),t.j41(29,"div",21)(30,"button",22),t.bIt("click",function(){return t.eBV(r),t.Njj(i.closeDialog())}),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"button",23),t.bIt("click",function(){return t.eBV(r),t.Njj(i.saveData())}),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s()()()}if(2&n){const r=t.sdS(18),u=t.sdS(23);t.R7$(3),t.SpI(" ",t.bMT(4,16,"lang_student_utils_add_parent")," "),t.R7$(6),t.Y8G("studentForm",i.studentForm)("hasUser",!1)("isAddParent",!0),t.R7$(4),t.FS9("placeholder",t.bMT(14,18,"lang_auto_nhap_ten_hoac_sdt_hoc_sinh")),t.Y8G("formControl",i.searchStudentControl)("matMenuTriggerFor",r),t.R7$(8),t.Y8G("ngIf",i.isSearching)("ngIfElse",u),t.R7$(4),t.SpI(" ",t.bMT(26,20,"lang_student_utils_parent_childs")," "),t.R7$(2),t.Y8G("ngIf",!i.listStudentChoose.length),t.R7$(),t.Y8G("ngForOf",i.listStudentChoose),t.R7$(2),t.Y8G("disabled",i.isSaving),t.R7$(),t.JRh(t.bMT(32,22,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",i.isSaving||i.studentForm.form.invalid||!i.listStudentChoose.length),t.R7$(),t.JRh(t.bMT(35,24,"lang_button_save"))}},dependencies:[o.Sq,o.bT,mt.kk,mt.Cp,s.me,s.BC,s.l_,I.U,Y.R,$.B,j.s,d.WGl,g.wp]}),l})();var O=c(74871),w=c(49842),nt=c(95670),Rt=c(4375),Xt=c(43166);const xe=e=>({"error-border":e});function ke(e,l){if(1&e&&(t.j41(0,"mat-option",16),t.EFF(1),t.k0s()),2&e){const a=l.$implicit;t.Y8G("value",a.id),t.R7$(),t.SpI(" ",a.name," ")}}function ye(e,l){1&e&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_chon_lop")," "))}let Ie=(()=>{var e;class l extends k._{constructor(n,i,r){super(i,n),this.dialogRef=n,this.data=i,this.classroomGroupService=r,this.classroomList=[],this.classroomSelected=new s.MJ(0,{nonNullable:!0,validators:[s.k0.required,s.k0.min(1)]})}ngOnInit(){super.ngOnInit(),this.getClassroomList()}getClassroomList(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.classroomList=this.commonService.concatMultipleArray((n.data?.activeClassroomData??[]).map(r=>r.classroomObjs)),this.successStatusObj()}))}handleCloseDialog(){this.dialogRef.close()}confirmDialog(){if(this.classroomSelected.invalid)return this.classroomSelected.markAllAsTouched();const n=this.classroomList.find(i=>i.id===this.classroomSelected.value);this.dialogRef.close(n)}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(_.CP,8),t.rXU(_.Vh,8),t.rXU(w.kG))},e.\u0275cmp=t.VBU({type:e,selectors:[["dialog-select-classroom"]],features:[t.Vt3],decls:28,vars:28,consts:[["searchInListProvince","searchInList"],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[1,"text-base","font-medium"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],["for","group-name",1,"form-label","font-medium"],[1,"mt-0"],["appearance","outline",2,"width","100%",3,"ngClass"],["searchInList","","name","provinceId","id","provinceId",3,"placeholder","formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["class","mt-2 text-xs font-medium text-danger",4,"ngIf"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click"],[3,"value"],[1,"mt-2","text-xs","font-medium","text-danger"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h3",3),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",4)(6,"div",5)(7,"label",6),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",7)(11,"mat-form-field",8)(12,"mat-select",9,0),t.nI1(14,"mytranslate"),t.j41(15,"mat-option"),t.nrm(16,"ngx-mat-select-search",10),t.nI1(17,"mytranslate"),t.nI1(18,"mytranslate"),t.k0s(),t.DNE(19,ke,2,2,"mat-option",11),t.k0s()(),t.DNE(20,ye,3,3,"div",12),t.k0s()()(),t.j41(21,"div",13)(22,"button",14),t.bIt("click",function(){return t.eBV(r),t.Njj(i.handleCloseDialog())}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"button",15),t.bIt("click",function(){return t.eBV(r),t.Njj(i.confirmDialog())}),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s()()()}if(2&n){const r=t.sdS(13);t.R7$(3),t.JRh(t.bMT(4,12,"lang_transfer_students")),t.R7$(5),t.JRh(t.bMT(9,14,"lang_auto_chon_lop")),t.R7$(3),t.Y8G("ngClass",t.eq3(26,xe,i.classroomSelected.invalid&&i.classroomSelected.touched)),t.R7$(),t.FS9("placeholder",t.bMT(14,16,"lang_auto_vui_long_chon_lop")),t.Y8G("formControl",i.classroomSelected),t.R7$(4),t.FS9("placeholderLabel",t.bMT(17,18,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(18,20,"lang_search_not_found")),t.Y8G("formControl",r.searchControl),t.R7$(3),t.Y8G("ngForOf",r.filter(i.classroomList,"name")),t.R7$(),t.Y8G("ngIf",i.classroomSelected.invalid&&i.classroomSelected.touched),t.R7$(3),t.SpI(" ",t.bMT(24,22,"lang_auto_huy")," "),t.R7$(3),t.SpI(" ",t.bMT(27,24,"lang_auto_xac_nhan")," ")}},dependencies:[o.YU,o.Sq,o.bT,ft.wT,nt.rl,Rt.VO,s.BC,s.l_,Xt.x,E.U9,g.wp],encapsulation:2}),l})();var dt=c(18718),ae=c(22613),Jt=c(32099),Wt=c(94743),ut=c(96451);const Et=()=>({"mr-2":!0}),Oe=e=>({opacity:e}),Fe=e=>[e],je=e=>({backTo:e}),ie=e=>({user:e}),$t=()=>({"ml-1":!0});function Te(e,l){1&e&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Se(e,l){1&e&&t.nrm(0,"div",37)}function Me(e,l){if(1&e&&(t.j41(0,"div",38),t.nrm(1,"azt-loading-effect",39),t.k0s()),2&e){const a=t.XpG();t.R7$(),t.Y8G("currentStatusObj",a.statusObj)}}function Re(e,l){1&e&&t.nrm(0,"lucide-icon",58)}function Ee(e,l){1&e&&t.nrm(0,"azt-loading-ui",59),2&e&&t.Y8G("size",14)}function De(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",52)(1,"div",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",54),t.bIt("click",function(){t.eBV(a);const i=t.XpG(2);return t.Njj(i.dialogTransferStudent())}),t.DNE(5,Re,1,0,"lucide-icon",55)(6,Ee,1,1,"azt-loading-ui",56),t.j41(7,"span",57),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()}if(2&e){const a=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,4,"lang_auto_da_chon")+" "+a.totalSelected," "),t.R7$(3),t.Y8G("ngIf",!a.isLoadingTransfer),t.R7$(),t.Y8G("ngIf",a.isLoadingTransfer),t.R7$(2),t.JRh(t.bMT(9,6,"lang_transfer_students"))}}function Pe(e,l){1&e&&(t.j41(0,"div",60),t.nrm(1,"azt-svg-icon",61),t.j41(2,"div",62),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&e&&(t.R7$(),t.Y8G("size",84),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_not_data")," "))}function ze(e,l){1&e&&t.eu8(0)}function we(e,l){if(1&e&&(t.j41(0,"a",73),t.nI1(1,"navigationLocalize"),t.DNE(2,ze,1,0,"ng-container",74),t.k0s()),2&e){const a=t.XpG().$implicit,n=t.XpG(3),i=t.sdS(70);t.Y8G("routerLink",t.eq3(6,Fe,t.bMT(1,4,"/admin/student/profile-student/"+a.classrooms[0].id+"/"+a.classrooms[0].studentId)))("queryParams",t.eq3(8,je,"/business/account-management?page="+n.pageObj.page)),t.R7$(2),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.eq3(10,ie,a))}}function Ae(e,l){1&e&&t.eu8(0)}function $e(e,l){if(1&e&&t.DNE(0,Ae,1,0,"ng-container",74),2&e){const a=t.XpG().$implicit;t.XpG(3);const n=t.sdS(70);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,ie,a))}}function Ge(e,l){if(1&e){const a=t.RV6();t.j41(0,"button",79),t.bIt("click",function(){t.eBV(a);const i=t.XpG(2).$implicit,r=t.XpG(3);return t.Njj(r.editStudentDialog(i))}),t.nrm(1,"lucide-icon",80),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Et)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function Ne(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",75),t.DNE(1,Ge,4,5,"button",76),t.j41(2,"button",77),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,r=t.XpG(3);return t.Njj(r.deleteAccount(i))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"button",78),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,r=t.XpG(3);return t.Njj(r.openDialogResetPass(i))}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()}if(2&e){const a=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",a.student&&!(null!=a.roles&&a.roles.includes("TEACHER"))&&(null==a.classrooms?null:a.classrooms.length)||a.isParent),t.R7$(),t.Y8G("disabled",a.isAdmin),t.R7$(),t.SpI(" ",t.bMT(4,5,"lang_auto_xoa")," "),t.R7$(2),t.Y8G("disabled",a.isAdmin),t.R7$(),t.SpI(" ",t.bMT(7,7,"lang_core_dat_lai_mat_khau")," ")}}function Be(e,l){if(1&e){const a=t.RV6();t.qex(0),t.j41(1,"div",64)(2,"div",65)(3,"div",66)(4,"input",67),t.mxI("ngModelChange",function(i){const r=t.eBV(a).$implicit;return t.DH7(r.isChecked,i)||(r.isChecked=i),t.Njj(i)}),t.bIt("change",function(){t.eBV(a);const i=t.XpG(3);return t.Njj(i.handleUserSelect())}),t.k0s(),t.j41(5,"div",68),t.DNE(6,we,3,12,"a",69)(7,$e,1,4,"ng-template",null,3,t.C5r),t.k0s()(),t.j41(9,"div",70),t.EFF(10),t.nI1(11,"maxRoleNameBusinessForUser"),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"div",71),t.DNE(14,Ne,8,9,"div",72),t.k0s()()(),t.bVm()}if(2&e){const a=l.$implicit,n=t.sdS(8);t.R7$(),t.Y8G("ngStyle",t.eq3(10,Oe,a.isChecked?.8:1)),t.R7$(3),t.R50("ngModel",a.isChecked),t.R7$(2),t.Y8G("ngIf",a.classrooms&&a.classrooms.length)("ngIfElse",n),t.R7$(4),t.SpI(" ",t.bMT(12,8,t.bMT(11,6,a.listRoles))," "),t.R7$(4),t.Y8G("ngIf",!a.deletedAt)}}function Le(e,l){if(1&e&&(t.j41(0,"div"),t.DNE(1,Be,15,12,"ng-container",63),t.k0s()),2&e){const a=t.XpG(2);t.R7$(),t.Y8G("ngForOf",a.userList)}}function Ye(e,l){if(1&e){const a=t.RV6();t.j41(0,"azt-paging",83),t.bIt("goToPaginationPage",function(i){t.eBV(a);const r=t.XpG(3);return t.Njj(r.setPageStudent(i))}),t.k0s()}if(2&e){const a=t.XpG(3);t.Y8G("pageObj",a.pageObj)}}function Ue(e,l){if(1&e&&(t.j41(0,"div",81),t.DNE(1,Ye,1,1,"azt-paging",82),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&e){const a=t.XpG(2);t.R7$(),t.Y8G("ngIf",a.totalUser>a.pageObj.pageSize),t.R7$(2),t.JRh(a.totalUser+" "+t.bMT(4,2,"lang_student_frontend_fooder_account"))}}function Ve(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",40),t.DNE(1,De,10,8,"div",41),t.k0s(),t.j41(2,"div",42)(3,"div",43)(4,"input",44),t.bIt("change",function(){t.eBV(a);const i=t.XpG();return t.Njj(i.toggleSelectAll())}),t.k0s(),t.j41(5,"div",45),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"div",46),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",47),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.j41(14,"div",48),t.DNE(15,Pe,5,4,"div",49)(16,Le,2,1,"div",50),t.k0s()(),t.DNE(17,Ue,5,4,"div",51)}if(2&e){const a=t.XpG();t.R7$(),t.Y8G("ngIf",a.totalSelected),t.R7$(3),t.Y8G("checked",a.isSelectAll),t.R7$(2),t.JRh(t.bMT(7,8,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,10,"lang_azt_role")),t.R7$(3),t.SpI(" ",t.bMT(13,12,"lang_auto_hanh_dong")," "),t.R7$(3),t.Y8G("ngIf",!a.userList.length),t.R7$(),t.Y8G("ngIf",a.userList.length),t.R7$(),t.Y8G("ngIf",a.totalUser>0)}}function Xe(e,l){1&e&&t.nrm(0,"lucide-icon",84),2&e&&t.Y8G("ngClass",t.lJ4(1,$t))}function Je(e,l){1&e&&t.nrm(0,"lucide-icon",84),2&e&&t.Y8G("ngClass",t.lJ4(1,$t))}function We(e,l){1&e&&t.nrm(0,"lucide-icon",84),2&e&&t.Y8G("ngClass",t.lJ4(1,$t))}function He(e,l){1&e&&t.nrm(0,"lucide-icon",84),2&e&&t.Y8G("ngClass",t.lJ4(1,$t))}function Ke(e,l){if(1&e&&t.nrm(0,"azt-student-info-box",85),2&e){const a=l.user;t.Y8G("name",a.fullName)("parentUserName",a.userName)("phone",a.phone)("showPhone",!0)("email",a.email)("gender",a.gender)("birthday",a.birthday)("classrooms",a.classrooms)("identificationNumber",null==a.student?null:a.student.identificationNumber)}}let Qe=(()=>{var e;class l extends C.H{constructor(){super(...arguments),this.dialogService=(0,t.WQX)(D.i),this.domainUsersManagementService=(0,t.WQX)(it.Z),this.backLink="/business/dashboard",this.userList=[],this.totalUser=0,this.searchContentObj=new tt.Z,this.pageObj=new S.d(20),this.userIdRevert=0,this.roleFilter="",this.onDelete=!1,this.isSelectAll=!1,this.totalSelected=0,this.isLoadingTransfer=!1}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.commonService.translateMetaData({title:"lang_core_quan_ly_tai_khoan",image:"lang_cms_test_image"}),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}getData(){this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementGetUsersInDomainPost({page:this.pageObj.page,pageSize:this.pageObj.pageSize,textSearch:this.searchContentObj.searchContent,role:this.roleFilter}).subscribe(i=>{if(this.searchContentObj.setLoading(!1),!i.success)return this.errorStatusObj(i.message,!0);this.userList=i.data?.objs??[],this.userList.map(r=>r.isChecked=!1),this.totalUser=i.data?.total??0,this.pageObj.setTotalPages(this.totalUser),this.stopStatusObj()}))}transferStudent(n,i){const r=this.userList.filter(u=>u.isChecked).map(u=>u.id);r.length&&(this.isLoadingTransfer=!0,this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementAddUsersToClassroomPost({userIds:r,classroomId:n}).subscribe(u=>{if(!u.success)return this.errorStatusObj(u.message,!0);const b=this.commonService.myTranslateInstant("lang_transfer_students_success_msg")?.replace("______",r.length.toString()).replace("------",i);this.successStatusObj(b,!0),this.userList.forEach(P=>P.isChecked=!1),this.isLoadingTransfer=!1})))}search(n){this.searchContentObj.setLoading(!0),this.searchContentObj=n,this.setPageStudent(1)}changeRoleFilter(n){this.roleFilter=n,this.initStatusObj(),this.getData()}setPageStudent(n){this.myNavigationWithQueryString("/business/account-management","?page="+n),this.pageObj.setPageNumber(n),this.initStatusObj(),this.getData()}openDialogResetPass(n){this.dialogService.open(O.$,{width:"500px",restoreFocus:!1,data:{id:n.id,name:n.fullName}}).afterClosed().subscribe(i=>{i&&(this.initStatusObj(),this.getData())})}deleteAccount(n){const i=`\n\t\t\t${this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")}&nbsp;\n\t\t\t${this.commonService.myTranslateInstant("lang_student_frontend_fooder_account")?.toLowerCase()}:&nbsp;\n\t\t\t<div class="text-md font-bold inline"> ${n.fullName} </div>\n\t\t`;this.dialogService.open(M.u,{data:{content:i},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(u=>{u&&(this.onDelete=!0,this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementDeleteUsersPost({userIds:[n.id]}).subscribe(b=>{if(this.onDelete=!1,!b.success)return this.errorStatusObj(b.message,!0);this.getData(),this.successStatusObj("lang_cms_delete_success",!0)})))})}editStudentDialog(n){let i=Object.assign({},n.student),r=Object.assign({teacherId:0,countStudents:0,showAddStudent:0,grade:0,isShareClassroom:!1,isWaitingConfirm:0,permissionObj:{},teamPermissions:[]},n.classrooms?.[0]);(n.isParent?this.dialogService.open(y,{data:n,restoreFocus:!1,width:"900px"}):this.dialogService.open(T.B,{data:{studentObj:i,classroomObj:r},restoreFocus:!1,width:"550px"})).afterClosed().subscribe(b=>{b&&(this.initStatusObj(),this.getData())})}revertStudent(n){this.userIdRevert=n.id;const i={isShow:!0,content:this.commonService.myTranslateInstant("lang_azt_ban_co_chac_chan_muon_khoi_phuc_tai_khoan")+"<b>"+n.fullName+"</b>?"};this.dialogService.open(M.u,{data:i,restoreFocus:!1,width:"550px"}).afterClosed().subscribe(u=>{u?this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementRevertUserPost({userId:n.id}).subscribe(P=>{if(this.userIdRevert=0,!P.success)return this.errorStatusObj(P.message,!0);this.getData(),this.successStatusObj("lang_azt_khoi_phuc_tai_khoan_thanh_cong",!0)})):this.userIdRevert=0})}dialogTransferStudent(){this.dialogService.open(Ie,{width:"600px"}).afterClosed().subscribe(i=>{i&&this.transferStudent(i.id,i.name)})}toggleSelectAll(){this.isSelectAll=!this.isSelectAll,this.userList.forEach(n=>n.isChecked=this.isSelectAll),this.totalSelected=this.isSelectAll?this.userList.length:0}handleUserSelect(){this.totalSelected=this.userList.filter(n=>n.isChecked).length,this.isSelectAll=this.userList.every(n=>n.isChecked)}redirectToAddAdmin(){this.myNavigationWithQueryString("/business/admin-management","?backto=/business/account-management&showDialogAddUser=1")}redirectToAddTeacher(){this.myNavigationWithQueryString("/admin/teacher-group/0/0","?backto=/business/account-management&showDialogAddUser=1")}redirectToAddStudent(){this.myNavigationWithQueryString("/business/student-management/1","?backto=/business/account-management&showDialogAddUser=1")}}return(e=l).\u0275fac=(()=>{let a;return function(i){return(a||(a=t.xGo(e)))(i||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-azota-business-account-management"]],features:[t.Vt3],decls:71,vars:52,consts:[["doneLoading",""],["menuRoleFilter","matMenu"],["studentInfo",""],["isNotYetClassroom",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],[1,"w-full","sm:w-auto","grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-1"],[1,"col-span-12","md:col-span-3"],[1,"btn","btn-primary","text-white","shadow-md","w-full",3,"click"],["name","user-cog","size","16"],[1,"ml-2"],[1,"btn","px-2","box","shadow-md","mr-2","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400","w-full",3,"click"],["name","user-plus","size","16"],["name","plus","size","16"],[1,"col-span-12","md:col-span-2"],[1,"w-full","shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],["style","width: 10px; height: 10px; border-radius: 50%; margin-left: 5px","class","bg-primary",4,"ngIf"],["class","flex w-full justify-center",4,"ngIf","ngIfElse"],["xPosition","before"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[1,"dropdown-item","w-full",3,"click"],["name","rows-4","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","shield-check","size","16",3,"ngClass"],["name","notebook","size","16",3,"ngClass"],["name","baby","size","16",3,"ngClass"],[1,"mt-1"],[1,"bg-primary",2,"width","10px","height","10px","border-radius","50%","margin-left","5px"],[1,"flex","w-full","justify-center"],[3,"currentStatusObj"],[1,"flex","mt-5"],["class","ml-auto flex items-center",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto","box","mt-5"],[1,"p-5","flex","items-center","border-b","border-slate-200/60","font-medium",2,"min-width","860px"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"ml-5","w-80","flex"],[1,"w-24","flex-none","flex","items-center","mr-5"],[1,"flex","items-center","justify-center","ml-auto",2,"width","220px"],[1,"sm:overflow-x-visible"],["class","empty-box p-3 flex items-center justify-center flex-col h-full","style","height: 250px",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-2 pb-3",4,"ngIf"],[1,"ml-auto","flex","items-center"],[1,"font-medium","mr-1"],[1,"btn","btn-sm","btn-primary",3,"click"],["name","folder-input","size","14",4,"ngIf"],[3,"size",4,"ngIf"],[1,"ml-1"],["name","folder-input","size","14"],[3,"size"],[1,"empty-box","p-3","flex","items-center","justify-center","flex-col","h-full",2,"height","250px"],["type","inbox-empty",3,"size"],[1,"mt-3","font-medium"],[4,"ngFor","ngForOf"],[1,"inbox__item","inline-block","sm:block","border-b","border-slate-200/60","dark:border-darkmode-400",3,"ngStyle"],[1,"flex","items-center","px-5","py-3"],[1,"w-90","flex-none","flex","items-center","mr-5"],["type","checkbox",1,"form-check-input","flex-none",3,"ngModelChange","change","ngModel"],[1,"ml-5"],[3,"routerLink","queryParams",4,"ngIf","ngIfElse"],[1,"w-24","truncate"],[1,"inbox__item--time","whitespace-nowrap","ml-auto","pl-10"],["class","flex items-center justify-end",4,"ngIf"],[3,"routerLink","queryParams"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","items-center","justify-end"],["class","btn btn-sm btn-outline-primary mr-3 w-20",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm","shadow-md","w-full","mr-3","whitespace-nowrap",3,"click","disabled"],[1,"btn","btn-primary","btn-sm","shadow-md","w-full","w-32","whitespace-nowrap",3,"click","disabled"],[1,"btn","btn-sm","btn-outline-primary","mr-3","w-20",3,"click"],["name","square-pen","size","16",3,"ngClass"],[1,"flex","justify-between","items-center","mt-2","pb-3"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[3,"goToPaginationPage","pageObj"],["name","check","size","16",3,"ngClass"],[3,"name","parentUserName","phone","showPhone","email","gender","birthday","classrooms","identificationNumber"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"teacher-layout",4)(1,"div",5)(2,"div",6)(3,"h3",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,Te,3,3,"div",8),t.k0s(),t.j41(7,"div",9)(8,"div",10)(9,"div",11)(10,"azt-search-box",12),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(b){return t.eBV(r),t.Njj(i.search(b.searchObj))}),t.k0s()(),t.j41(12,"div",13),t.nrm(13,"div",14),t.j41(14,"div",15)(15,"button",16),t.bIt("click",function(){return t.eBV(r),t.Njj(i.redirectToAddAdmin())}),t.nrm(16,"lucide-icon",17),t.j41(17,"span",18),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()(),t.j41(20,"div",15)(21,"button",19),t.bIt("click",function(){return t.eBV(r),t.Njj(i.redirectToAddTeacher())}),t.nrm(22,"lucide-icon",20),t.j41(23,"span",18),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()(),t.j41(26,"div",15)(27,"button",19),t.bIt("click",function(){return t.eBV(r),t.Njj(i.redirectToAddStudent())}),t.nrm(28,"lucide-icon",21),t.j41(29,"span",18),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"div",22)(33,"button",23),t.nrm(34,"lucide-icon",24),t.EFF(35),t.nI1(36,"mytranslate"),t.DNE(37,Se,1,0,"div",25),t.k0s()()()()(),t.DNE(38,Me,2,1,"div",26)(39,Ve,18,14,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(41,"mat-menu",27,1)(43,"div",28)(44,"ul",29)(45,"li")(46,"button",30),t.bIt("click",function(){return t.eBV(r),t.Njj(i.changeRoleFilter(""))}),t.nrm(47,"lucide-icon",31),t.EFF(48),t.nI1(49,"mytranslate"),t.DNE(50,Xe,1,2,"lucide-icon",32),t.k0s()(),t.j41(51,"li")(52,"button",30),t.bIt("click",function(){return t.eBV(r),t.Njj(i.changeRoleFilter("ADMIN"))}),t.nrm(53,"lucide-icon",33),t.EFF(54),t.nI1(55,"mytranslate"),t.DNE(56,Je,1,2,"lucide-icon",32),t.k0s()(),t.j41(57,"li")(58,"button",30),t.bIt("click",function(){return t.eBV(r),t.Njj(i.changeRoleFilter("TEACHER"))}),t.nrm(59,"lucide-icon",34),t.EFF(60),t.nI1(61,"mytranslate"),t.DNE(62,We,1,2,"lucide-icon",32),t.k0s()(),t.j41(63,"li")(64,"button",30),t.bIt("click",function(){return t.eBV(r),t.Njj(i.changeRoleFilter("STUDENT"))}),t.nrm(65,"lucide-icon",35),t.EFF(66),t.nI1(67,"mytranslate"),t.DNE(68,He,1,2,"lucide-icon",32),t.k0s()()()()(),t.DNE(69,Ke,1,9,"ng-template",null,2,t.C5r)}if(2&n){const r=t.sdS(40),u=t.sdS(42);t.Y8G("headerBackToLink",i.backLink),t.R7$(4),t.SpI(" ",t.bMT(5,27,"lang_core_quan_ly_tai_khoan")," "),t.R7$(2),t.Y8G("ngIf",i.isMobileDevice&&i.userList.length>0),t.R7$(4),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(11,29,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",i.searchContentObj),t.R7$(8),t.JRh(t.bMT(19,31,"lang_azt_add_an_admin_account")),t.R7$(6),t.JRh(t.bMT(25,33,"lang_teacher_group_group_add_student")),t.R7$(6),t.JRh(t.bMT(31,35,"lang_auto_them_hoc_sinh")),t.R7$(3),t.Y8G("matMenuTriggerFor",u),t.R7$(),t.Y8G("ngClass",t.lJ4(47,Et)),t.R7$(),t.SpI(" ",t.bMT(36,37,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf",""!=i.roleFilter),t.R7$(),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r),t.R7$(9),t.Y8G("ngClass",t.lJ4(48,Et)),t.R7$(),t.SpI(" ",t.bMT(49,39,"lang_homework_content_store_all")," "),t.R7$(2),t.Y8G("ngIf",""==i.roleFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(49,Et)),t.R7$(),t.SpI(" ",t.bMT(55,41,"lang_azt_admin")," "),t.R7$(2),t.Y8G("ngIf","ADMIN"==i.roleFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(50,Et)),t.R7$(),t.SpI(" ",t.bMT(61,43,"lang_auto_giao_vien")," "),t.R7$(2),t.Y8G("ngIf","TEACHER"==i.roleFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(51,Et)),t.R7$(),t.SpI(" ",t.bMT(67,45,"lang_auto_hoc_sinh")," "),t.R7$(2),t.Y8G("ngIf","STUDENT"==i.roleFilter)}},dependencies:[x.Wk,o.YU,o.Sq,o.bT,o.T3,o.B3,mt.kk,mt.Cp,s.Zm,s.BC,s.vS,dt.K,ae.q,Y.R,Jt.W,$.B,Wt.m,ut.Q,d.WGl,g.F2,g.wp,g.VM],encapsulation:2}),l})();var Ze=c(44477),Ot=c(15766),Dt=c(81587);const qe=()=>({"dark:text-slate-500":!0});function tn(e,l){1&e&&(t.j41(0,"div",26)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("",t.bMT(3,1,"lang_cms_utils_folder_name_validate_space"),"!"))}function en(e,l){if(1&e&&(t.j41(0,"div",26),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const a=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,1,a.msgError)," ")}}function nn(e,l){if(1&e&&(t.j41(0,"div",11)(1,"label",27),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",8),t.nrm(5,"input",28),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,en,3,3,"div",10),t.k0s()),2&e){const a=t.XpG();t.R7$(2),t.JRh(t.bMT(3,3,"lang_auto_nhap_sdt_hoac_email")),t.R7$(3),t.FS9("placeholder",t.bMT(6,5,"lang_auto_nhap_sdt_hoac_email")),t.R7$(2),t.Y8G("ngIf",a.form.controls.phoneOrEmail.touched&&a.isInvalidUserPhoneOrEmail())}}function on(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function an(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function sn(e,l){if(1&e&&(t.j41(0,"div",26),t.DNE(1,on,3,3,"span",34)(2,an,3,3,"span",34),t.k0s()),2&e){const a=t.XpG(2);t.R7$(),t.Y8G("ngIf",a.form.controls.password.errors.required),t.R7$(),t.Y8G("ngIf",a.form.controls.password.errors.minlength)}}function rn(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",11)(1,"label",29),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",30),t.nrm(5,"input",31),t.nI1(6,"mytranslate"),t.j41(7,"button",32),t.bIt("click",function(){t.eBV(a);const i=t.XpG();return t.Njj(i.togglePassword())}),t.nrm(8,"lucide-icon",33),t.k0s()(),t.DNE(9,sn,3,2,"div",10),t.k0s()}if(2&e){const a=t.XpG();t.R7$(2),t.JRh(t.bMT(3,6,"lang_auto_mat_khau")),t.R7$(3),t.FS9("placeholder",t.bMT(6,8,"lang_auto_mat_khau")),t.Y8G("type",a.showPassword?"text":"password"),t.R7$(3),t.FS9("name",a.showPassword?"eye":"eye-off"),t.Y8G("ngClass",t.lJ4(10,qe)),t.R7$(),t.Y8G("ngIf",a.form.controls.password.errors&&a.form.controls.password.touched)}}function ln(e,l){1&e&&t.nrm(0,"azt-loading-ui",35),2&e&&t.Y8G("size",15)}let cn=(()=>{var e;class l extends k._{handleCloseDialog(){this.dialogRef.close()}handleSubmit(){if(this.form.invalid||this.isInvalidUserPhoneOrEmail())return this.form.markAllAsTouched();this.initStatusObj();const n=this.form.getRawValue(),i={fullName:n.fullName,phoneOrEmail:n.phoneOrEmail,password:n.password,gender:n.gender},u=this.data?this.domainAdminManagementService.apiDomainAdminManagementUpdateObjPost({userId:this.data?.id,fullName:n.fullName,password:n.password?n.password:void 0,gender:n.gender}):this.domainAdminManagementService.apiDomainAdminManagementAddObjPost(i);this.waitDestroy(u.subscribe(b=>{if(!b.success)return this.errorStatusObj(b.message,!0);this.dialogRef.close(b.data),this.successStatusObj(this.data?"lang_auto_cap_nhat_thanh_cong":"lang_auto_them_thanh_cong",!0)}))}isInvalidUserPhoneOrEmail(){return!this.data&&(this.msgError=Ze.U.validPhoneOrEmail(this.form.getRawValue().phoneOrEmail),""!=this.msgError)}togglePassword(){this.showPassword=!this.showPassword}initData(){this.data&&this.form.patchValue({fullName:this.data.fullName,phoneOrEmail:this.data.phone?this.data.phone:this.data.email?this.data.email:"",gender:this.data.gender??0})}constructor(n,i,r){super(r,i),this.domainAdminManagementService=n,this.dialogRef=i,this.data=r,this.msgError="",this.showPassword=!1,this.form=new s.gE(r?{fullName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Ot.M.noWhiteSpace]}),phoneOrEmail:new s.MJ("",{nonNullable:!0}),gender:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),password:new s.MJ("",{nonNullable:!0,validators:[s.k0.minLength(6)]})}:{fullName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Ot.M.noWhiteSpace]}),phoneOrEmail:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Ot.M.noWhiteSpace]}),gender:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),password:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.minLength(6),Ot.M.noWhiteSpace]})})}ngOnInit(){super.ngOnInit(),this.initData()}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(J.ax),t.rXU(_.CP,8),t.rXU(_.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["selector-name"]],features:[t.Vt3],decls:44,vars:31,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-base","font-bold","flex","items-center"],[1,"p-3"],[1,"azt-form-group"],["for","full-name",1,"form-label","font-medium"],[1,"input-group"],["type","text","id","full-name","autocomplete","new-full-name","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs font-medium mt-2",4,"ngIf"],[1,"azt-form-group","mt-3"],[1,"flex","justify-between","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],["for","gender",1,"text-sm"],[1,"flex","justify-end"],[1,"form-check","w-20","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio",1,"form-check-input",3,"value"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender",1,"form-check-input",3,"value"],["for","azt-acs-gender-female",1,"form-check-label"],["class","azt-form-group mt-3",4,"ngIf"],[1,"p-3","flex"],[1,"ml-auto"],["type","button",1,"btn","btn-secondary","min-width-100","mr-2",3,"click"],[1,"btn","btn-primary","min-width-100",3,"click"],["class","mr-1",3,"size",4,"ngIf"],[1,"text-danger","text-xs","font-medium","mt-2"],["for","phoneOrEmail",1,"form-label","font-medium"],["type","text","autocapitalize","none","formControlName","phoneOrEmail","id","phoneOrEmail",1,"form-control",3,"placeholder"],["for","password",1,"form-label","font-medium"],[1,"relative"],["id","password","formControlName","password","autocapitalize","none","autocomplete","new-password",1,"form-control","px-4","block",3,"type","placeholder"],["type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","20",3,"name","ngClass"],[4,"ngIf"],[1,"mr-1",3,"size"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"div",5)(8,"div",6)(9,"label",7),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"div",8),t.nrm(13,"input",9),t.nI1(14,"mytranslate"),t.k0s(),t.DNE(15,tn,4,3,"div",10),t.k0s(),t.j41(16,"div",11)(17,"div",12)(18,"label",13),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",14)(22,"div",15),t.nrm(23,"input",16),t.j41(24,"label",17),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()(),t.j41(27,"div",15),t.nrm(28,"input",18),t.j41(29,"label",19),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()()()(),t.DNE(32,nn,8,7,"div",20)(33,rn,10,11,"div",20),t.k0s()(),t.j41(34,"div",21)(35,"div",22)(36,"button",23),t.bIt("click",function(){return i.handleCloseDialog()}),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.j41(39,"button",24),t.bIt("click",function(){return i.handleSubmit()}),t.DNE(40,ln,1,1,"azt-loading-ui",25),t.j41(41,"span"),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s()()()()()()),2&n&&(t.R7$(),t.Y8G("formGroup",i.form),t.R7$(4),t.SpI(" ",t.bMT(6,15,i.data?"lang_azt_update_admin":"lang_azt_create_admin")," "),t.R7$(5),t.JRh(t.bMT(11,17,"lang_auto_ho_va_ten")),t.R7$(3),t.FS9("placeholder",t.bMT(14,19,"lang_auto_ho_va_ten")),t.R7$(2),t.Y8G("ngIf",i.form.controls.fullName.errors&&i.form.controls.fullName.touched),t.R7$(4),t.SpI(" ",t.bMT(20,21,"lang_auto_gioi_tinh")," "),t.R7$(4),t.Y8G("value",1),t.R7$(2),t.SpI(" ",t.bMT(26,23,"lang_auto_nam")," "),t.R7$(3),t.Y8G("value",0),t.R7$(2),t.SpI(" ",t.bMT(31,25,"lang_auto_nu")," "),t.R7$(2),t.Y8G("ngIf",!i.data),t.R7$(),t.Y8G("ngIf",!i.data),t.R7$(4),t.SpI(" ",t.bMT(38,27,"lang_button_cancel")," "),t.R7$(3),t.Y8G("ngIf",i.statusObj.loading),t.R7$(2),t.JRh(t.bMT(43,29,i.data?"lang_button_update":"lang_button_save")))},dependencies:[o.YU,o.bT,s.qT,s.me,s.Fm,s.BC,s.cb,s.j4,s.JD,Dt.t,Y.R,d.WGl,g.wp],encapsulation:2}),l})();const se=()=>["fullName","phone","email"],re=()=>({"mr-2":!0});function mn(e,l){1&e&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function dn(e,l){if(1&e&&(t.j41(0,"div",17),t.nrm(1,"azt-loading-effect",18),t.k0s()),2&e){const a=t.XpG();t.R7$(),t.Y8G("currentStatusObj",a.statusObj)}}function un(e,l){if(1&e){const a=t.RV6();t.j41(0,"tr")(1,"td",26),t.nrm(2,"azt-student-info-box",27),t.k0s(),t.j41(3,"td",28),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"td",29)(7,"div",30)(8,"button",31),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG(3);return t.Njj(r.createOrUpdateAdmin(i))}),t.nrm(9,"lucide-icon",32),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"button",33),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG(3);return t.Njj(r.removeAdminRole(i))}),t.nrm(13,"lucide-icon",34),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()}if(2&e){const a=l.$implicit;t.R7$(2),t.Y8G("name",a.fullName)("phone",a.phone)("parentUserName",a.userName)("showPhone",!0)("email",a.email)("gender",a.gender)("birthday",a.birthday)("phone",a.phone),t.R7$(2),t.SpI(" ",t.bMT(5,13,"")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(19,re)),t.R7$(),t.SpI(" ",t.bMT(11,15,"lang_auto_sua")," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(20,re)),t.R7$(),t.SpI(" ",t.bMT(15,17,"X\xf3a quy\u1ec1n")," ")}}function _n(e,l){if(1&e&&(t.j41(0,"div")(1,"div",21)(2,"table",22)(3,"thead")(4,"tr")(5,"th",23),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.nrm(8,"th",24)(9,"th",24),t.k0s()(),t.j41(10,"tbody"),t.DNE(11,un,16,21,"tr",25),t.nI1(12,"appFilter"),t.k0s()()()()),2&e){const a=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,2,"lang_auto_ho_va_ten")),t.R7$(5),t.Y8G("ngForOf",t.brH(12,4,a.userList,a.searchContentObj.searchContent,t.lJ4(8,se)))}}function pn(e,l){1&e&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_khong_co_tai_khoan")," "))}function gn(e,l){if(1&e&&(t.j41(0,"div",19),t.DNE(1,_n,13,9,"div",20),t.nI1(2,"appFilter"),t.DNE(3,pn,3,3,"ng-template",null,1,t.C5r),t.k0s()),2&e){const a=t.sdS(4),n=t.XpG();t.R7$(),t.Y8G("ngIf",t.brH(2,2,n.userList,n.searchContentObj.searchContent,t.lJ4(6,se)).length>0)("ngIfElse",a)}}let hn=(()=>{var e;class l extends C.H{search(n){this.searchContentObj=n}createOrUpdateAdmin(n){this.sAztDialogService.open(cn,{width:"600px",restoreFocus:!1,data:n}).afterClosed().subscribe(r=>{r&&(n?(n.fullName=r.fullName,n.phone=r.phone,n.email=r.email,n.gender=r.gender):this.userList.unshift(r))})}removeAdminRole(n){const i=`${this.commonService.myTranslateInstant("lang_azt_title_confirm_remove_admin_role")?.replace("________",n.fullName)}`;this.sAztDialogService.open(M.u,{data:{content:i,iconName:"trash-2"},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(u=>{u&&this.callApiRemoveAdminRole(n)})}callApiRemoveAdminRole(n){this.initStatusObj(),this.waitDestroy(this.domainAdminManagementService.apiDomainAdminManagementRemoveAdminRoleGet(n.id).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message,!0);const r=this.userList.findIndex(u=>u.id===n.id);this.userList.splice(r,1),this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0)}))}getData(){this.waitDestroy(this.domainAdminManagementService.apiDomainAdminManagementGetObjsGet().subscribe(n=>{if(this.searchContentObj.setLoading(!1),!n.success)return this.errorStatusObj(n.message,!0);this.userList=n.data?.objs??[],this.totalUser=n.data?.objs?.length??0,this.pageObj.setTotalPages(this.totalUser),this.stopStatusObj()}))}ngOnInit(){super.ngOnInit(),this.commonService.translateMetaData({title:"lang_azt_admin",image:"lang_cms_test_image"}),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard";const n=Number(this.commonService.getMyQueryParam("showDialogAddUser")??0);this.getData(),n&&this.createOrUpdateAdmin()}constructor(n,i){super(),this.sAztDialogService=n,this.domainAdminManagementService=i,this.backLink="",this.userList=[],this.totalUser=0,this.searchContentObj=new tt.Z,this.pageObj=new S.d(20),this.userIdRevert=0}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(D.i),t.rXU(J.ax))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-azota-business-admin-management"]],features:[t.Vt3],decls:21,vars:15,consts:[["doneLoading",""],["emptyUser",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],[1,"ml-auto"],[1,"btn","btn-primary",3,"click"],["name","plus","size","16"],[1,"ml-2"],["class","flex w-full justify-center",4,"ngIf","ngIfElse"],[1,"mt-1"],[1,"flex","w-full","justify-center"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],[4,"ngIf","ngIfElse"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap",2,"padding-left","0"],[4,"ngFor","ngForOf"],[1,"!py-3.5","clickable","w-full"],[3,"name","phone","parentUserName","showPhone","email","gender","birthday"],[2,"min-width","120px"],[2,"min-width","170px"],[1,"flex","items-center"],[1,"btn","btn-sm","btn-primary-soft","mr-3","w-20",3,"click"],["name","square-pen","size","16",3,"ngClass"],[1,"btn","btn-danger-soft","btn-sm","shadow-md","w-full","w-32","whitespace-nowrap",3,"click"],["name","trash-2","size","16",3,"ngClass"],[1,"mt-10","text-center"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,mn,3,3,"div",6),t.k0s(),t.j41(7,"div",7)(8,"div",8)(9,"div",9)(10,"azt-search-box",10),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(b){return t.eBV(r),t.Njj(i.search(b.searchObj))}),t.k0s()(),t.j41(12,"div",11)(13,"button",12),t.bIt("click",function(){return t.eBV(r),t.Njj(i.createOrUpdateAdmin())}),t.nrm(14,"lucide-icon",13),t.j41(15,"span",14),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()()(),t.DNE(18,dn,2,1,"div",15)(19,gn,5,7,"ng-template",null,0,t.C5r),t.k0s()()}if(2&n){const r=t.sdS(20);t.Y8G("headerBackToLink",i.backLink),t.R7$(4),t.SpI(" ",t.bMT(5,9,"lang_azt_admin")," "),t.R7$(2),t.Y8G("ngIf",i.isMobileDevice&&i.userList.length>0),t.R7$(4),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(11,11,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",i.searchContentObj),t.R7$(6),t.JRh(t.bMT(17,13,"lang_azt_create_admin")),t.R7$(2),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[o.YU,o.Sq,o.bT,dt.K,Jt.W,$.B,ut.Q,d.WGl,g.wp,g.WL],encapsulation:2}),l})();const fn=e=>({"text-danger":e});function bn(e,l){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function vn(e,l){1&e&&(t.j41(0,"span",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_billing_is_active_subscription")))}function Cn(e,l){1&e&&(t.j41(0,"span",18),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_billing_is_inactive_subscription")))}function xn(e,l){if(1&e&&(t.qex(0),t.j41(1,"tr")(2,"td"),t.EFF(3),t.nI1(4,"formatFullDateTimeByUserUnitPipe"),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"formatFullDateTimeByUserUnitPipe"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"td"),t.EFF(12),t.nI1(13,"formatMoney"),t.nI1(14,"mytranslate"),t.k0s()(),t.bVm()),2&e){const a=l.$implicit;t.R7$(3),t.JRh(t.bMT(4,4,a.createdAt)),t.R7$(3),t.JRh(t.bMT(7,6,a.endDate)),t.R7$(3),t.JRh(t.bMT(10,8,a.packageName)),t.R7$(3),t.JRh(t.bMT(13,10,a.packageMoney)+" "+t.bMT(14,12,"lang_auto_vnd_upper"))}}function kn(e,l){if(1&e){const a=t.RV6();t.qex(0),t.j41(1,"div")(2,"b"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.EFF(5),t.nI1(6,"mytranslate"),t.DNE(7,vn,3,3,"span",7)(8,Cn,3,3,"span",8),t.EFF(9," ) "),t.j41(10,"button",9),t.bIt("click",function(){t.eBV(a);const i=t.XpG(2);return t.Njj(i.extendPackage())}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",10),t.bIt("click",function(){t.eBV(a);const i=t.XpG(2);return t.Njj(i.upgradePackage())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",11)(17,"b"),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.EFF(20),t.nI1(21,"formatFullDateTimeByUserUnitPipe"),t.j41(22,"b"),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.EFF(25),t.nI1(26,"formatFullDateTimeByUserUnitPipe"),t.j41(27,"span",12),t.EFF(28),t.nI1(29,"mytranslate"),t.nI1(30,"mytranslate"),t.k0s()(),t.nrm(31,"hr",13),t.j41(32,"div")(33,"b"),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s(),t.j41(36,"table",14)(37,"thead")(38,"tr",15)(39,"td"),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s(),t.j41(42,"td"),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s(),t.j41(45,"td"),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s(),t.j41(48,"td"),t.EFF(49),t.nI1(50,"mytranslate"),t.k0s()()(),t.j41(51,"tbody"),t.DNE(52,xn,15,14,"ng-container",16),t.k0s()()(),t.bVm()}if(2&e){const a=t.XpG(2);t.R7$(3),t.SpI("",t.bMT(4,21,"lang_business_config_billing_current_subscription_package"),":"),t.R7$(2),t.SpI(" ",t.bMT(6,23,null==a.subscriptionObj.businessPackage?null:a.subscriptionObj.businessPackage.name)," ( "),t.R7$(2),t.Y8G("ngIf",a.isActiveSubscription),t.R7$(),t.Y8G("ngIf",!a.isActiveSubscription),t.R7$(3),t.JRh(t.bMT(12,25,"lang_business_config_billing_extend_package")),t.R7$(3),t.JRh(t.bMT(15,27,"lang_business_config_billing_upgrade_package")),t.R7$(4),t.SpI("",t.bMT(19,29,"lang_business_config_billing_start_time"),":"),t.R7$(2),t.SpI(" ",t.bMT(21,31,a.subscriptionObj.startTime),"\xa0\xa0 "),t.R7$(3),t.SpI("",t.bMT(24,33,"lang_business_config_billing_end_time_subscription"),":"),t.R7$(2),t.SpI(" ",t.bMT(26,35,a.subscriptionObj.endTime)," ( "),t.R7$(2),t.Y8G("ngClass",t.eq3(51,fn,a.subscriptionTimeDtoObj.days<10)),t.R7$(),t.LHq("",a.subscriptionTimeDtoObj.days," ",t.bMT(29,37,"lang_auto_day"),", ",a.subscriptionTimeDtoObj.hours," ",t.bMT(30,39,"lang_auto_clock"),")"),t.R7$(6),t.JRh(t.bMT(35,41,"lang_business_config_billing_history_list")),t.R7$(6),t.JRh(t.bMT(41,43,"lang_business_config_billing_history_start_date")),t.R7$(3),t.JRh(t.bMT(44,45,"lang_business_config_billing_history_end_date")),t.R7$(3),t.JRh(t.bMT(47,47,"lang_business_config_billing_history_package_name")),t.R7$(3),t.JRh(t.bMT(50,49,"lang_business_config_billing_history_package_price")),t.R7$(3),t.Y8G("ngForOf",a.subscriptionObj.subscriptionHistories)}}function yn(e,l){1&e&&(t.EFF(0),t.nI1(1,"mytranslate")),2&e&&t.SpI(" ",t.bMT(1,1,"lang_business_config_billing_there_is_no_subscription")," ")}function In(e,l){if(1&e&&(t.j41(0,"div",4)(1,"div",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div"),t.DNE(5,kn,53,53,"ng-container",6)(6,yn,2,3,"ng-template",null,1,t.C5r),t.k0s()()),2&e){const a=t.sdS(7),n=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_business_config_billing_title")," "),t.R7$(3),t.Y8G("ngIf",n.subscriptionObj)("ngIfElse",a)}}let On=(()=>{var e;class l extends C.H{extendPackage(){this.myNavigation("/auth/business-packages/extend_package/0/0")}upgradePackage(){this.myNavigation("/auth/business-packages/upgrade_package/0/0")}initData(){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesMeGet().subscribe(n=>{n.success?(this.subscriptionObj=n.data?.obj,this.subscriptionTimeDtoObj=this.sAztTimeService.getDayHourMinuteOfSubtract(this.subscriptionObj?.endTime),(this.subscriptionTimeDtoObj.days<0||this.subscriptionTimeDtoObj.hours<0||this.subscriptionTimeDtoObj.minutes<0)&&(this.subscriptionTimeDtoObj={days:0,hours:0,minutes:0},this.isActiveSubscription=!1),this.stopStatusObj()):this.errorStatusObj(n.message,!0)}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(n,i){super(),this.businessPackageService=n,this.sAztTimeService=i,this.subscriptionObj=void 0,this.subscriptionHistories=[],this.subscriptionTimeDtoObj={days:0,hours:0,minutes:0},this.isActiveSubscription=!0}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(J.WC),t.rXU(K.F))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-business-billing-configs"]],features:[t.Vt3],decls:3,vars:2,consts:[["doneLoading",""],["notFoundSubscription",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"config-business-billing"],[1,"flex","items-center","border-b","border-slate-200/60","pb-5","mb-5","text-base","font-medium","dark:border-darkmode-400"],[4,"ngIf","ngIfElse"],["class","text-success",4,"ngIf"],["class","text-dagner",4,"ngIf"],[1,"btn","btn-pending","mr-2",3,"click"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"pt-3"],[3,"ngClass"],[1,"mt-6","mb-6"],[1,"table","table-bordered","mt-3"],[1,"table-header"],[4,"ngFor","ngForOf"],[1,"text-success"],[1,"text-dagner"]],template:function(n,i){if(1&n&&t.DNE(0,bn,1,1,"azt-loading-effect",2)(1,In,8,5,"ng-template",null,0,t.C5r),2&n){const r=t.sdS(2);t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[o.YU,o.Sq,o.bT,dt.K,g.wp,g.Rr,g.t0],encapsulation:2}),l})();var Gt=c(39712),Fn=c(96670);const jn=e=>({src:e,type:"bigLogo"}),Tn=e=>({src:e,type:"favicon"}),Sn=e=>({src:e,type:"smallLogo"}),Mn=e=>({src:e,type:"socialLogo"}),Rn=()=>({standalone:!0}),En=(e,l)=>({width:e,height:l}),Dn=e=>[e],Pn=()=>({"mr-2":!0});function zn(e,l){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function wn(e,l){1&e&&t.eu8(0)}function An(e,l){1&e&&t.eu8(0)}function $n(e,l){1&e&&t.eu8(0)}function Gn(e,l){1&e&&t.eu8(0)}function Nn(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",4)(1,"div",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",6),t.DNE(5,wn,1,0,"ng-container",7),t.k0s(),t.j41(6,"div",8),t.DNE(7,An,1,0,"ng-container",7),t.k0s(),t.j41(8,"div",8),t.DNE(9,$n,1,0,"ng-container",7),t.k0s(),t.j41(10,"div",8),t.DNE(11,Gn,1,0,"ng-container",7),t.k0s(),t.j41(12,"div",9)(13,"label",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"div",11)(17,"input",12),t.nI1(18,"mytranslate"),t.mxI("ngModelChange",function(i){t.eBV(a);const r=t.XpG();return t.DH7(r.domainConfigObj.defaultPageTitle,i)||(r.domainConfigObj.defaultPageTitle=i),t.Njj(i)}),t.k0s()()(),t.j41(19,"div",9)(20,"div",13),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"div",11)(24,"editor",14),t.nI1(25,"getTinyMceKey"),t.nI1(26,"getTinyMceConfig"),t.mxI("ngModelChange",function(i){t.eBV(a);const r=t.XpG();return t.DH7(r.domainConfigObj.welcomeTextAtLogin,i)||(r.domainConfigObj.welcomeTextAtLogin=i),t.Njj(i)}),t.k0s()()(),t.j41(27,"div",15)(28,"button",16),t.bIt("click",function(){t.eBV(a);const i=t.XpG();return t.Njj(i.saveConfigObj())}),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()()}if(2&e){const a=t.XpG(),n=t.sdS(4);t.R7$(2),t.SpI(" ",t.bMT(3,18,"lang_business_config_logo_title")," "),t.R7$(3),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(32,jn,a.domainConfigObj.bigLogo)),t.R7$(2),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(34,Tn,a.domainConfigObj.favicon)),t.R7$(2),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(36,Sn,a.domainConfigObj.smallLogo)),t.R7$(2),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(38,Mn,a.domainConfigObj.socialLogo)),t.R7$(3),t.SpI(" ",t.bMT(15,20,"lang_azt_page_title")," "),t.R7$(3),t.FS9("placeholder",t.bMT(18,22,"lang_azt_enter_page_title")),t.R50("ngModel",a.domainConfigObj.defaultPageTitle),t.R7$(4),t.SpI(" ",t.bMT(22,24,"lang_business_config_welcome_text_at_login_page")," "),t.R7$(3),t.FS9("apiKey",t.bMT(25,26,"")),t.R50("ngModel",a.domainConfigObj.welcomeTextAtLogin),t.Y8G("ngModelOptions",t.lJ4(40,Rn))("init",t.bMT(26,28,"upload_for_business_config")),t.R7$(5),t.SpI(" ",t.bMT(30,30,"lang_auto_luu")," ")}}function Bn(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_big_logo_title")))}function Ln(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_social_title")))}function Yn(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_small_logo_title")))}function Un(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_favicon_title")))}function Vn(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_azt_note_big_logo")))}function Xn(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_azt_note_socialLogo")))}function Jn(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_azt_note_small_logo")))}function Wn(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_azt_note_favicon")))}function Hn(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_big_logo_title")))}function Kn(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_social_title")))}function Qn(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_small_logo_title")))}function Zn(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_favicon_title")))}function qn(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",6)(1,"div",13),t.DNE(2,Bn,3,3,"span",17)(3,Ln,3,3,"span",17)(4,Yn,3,3,"span",17)(5,Un,3,3,"span",17),t.k0s(),t.j41(6,"div",18)(7,"div",19),t.nrm(8,"img",20),t.nI1(9,"mycdn"),t.nI1(10,"getSystemDefaultLogo"),t.k0s(),t.j41(11,"azt-upload-image-cropper",21),t.bIt("uploadComplete",function(i){const r=t.eBV(a).type,u=t.XpG();return t.Njj(u.uploadNewLogo(r,i))}),t.j41(12,"div",22)(13,"button",23),t.nrm(14,"lucide-icon",24),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",25)(18,"button",26),t.bIt("click",function(){const i=t.eBV(a).type,r=t.XpG();return t.Njj(r.deleteLogo(i))}),t.nrm(19,"lucide-icon",27),t.j41(20,"span",28),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.j41(23,"div",29)(24,"div",30),t.DNE(25,Vn,3,3,"span",17)(26,Xn,3,3,"span",17)(27,Jn,3,3,"span",17)(28,Wn,3,3,"span",17),t.k0s()(),t.j41(29,"div",31),t.DNE(30,Hn,3,3,"span",17)(31,Kn,3,3,"span",17)(32,Qn,3,3,"span",17)(33,Zn,3,3,"span",17),t.k0s()()()()}if(2&e){const a=l.src,n=l.type,i=t.XpG();t.R7$(2),t.Y8G("ngIf","bigLogo"===n),t.R7$(),t.Y8G("ngIf","socialLogo"===n),t.R7$(),t.Y8G("ngIf","smallLogo"===n),t.R7$(),t.Y8G("ngIf","favicon"===n),t.R7$(2),t.Y8G("ngStyle",t.l_i(30,En,"bigLogo"===n?"190px":"socialLogo"===n?"600px":"75px","socialLogo"===n?"315px":"auto")),t.R7$(),t.Y8G("src",a?t.bMT(9,22,a):t.bMT(10,24,"bigLogo"),t.B4B),t.R7$(3),t.Y8G("uploadToCdnMenu",i.allUploadToCdnMenuTypes.AVATAR)("fileType",t.eq3(33,Dn,i.allUploadFileTypes.IMAGE))("limitSize",5)("widthResize","socialLogo"===n?600:150)("aspectRatio","bigLogo"===n?10/3:"socialLogo"===n?40/21:1),t.R7$(3),t.Y8G("ngClass",t.lJ4(35,Pn)),t.R7$(),t.SpI(" ",t.bMT(16,26,"lang_auto_tai_len")," "),t.R7$(6),t.JRh(t.bMT(22,28,"lang_auto_xoa")),t.R7$(4),t.Y8G("ngIf","bigLogo"===n),t.R7$(),t.Y8G("ngIf","socialLogo"===n),t.R7$(),t.Y8G("ngIf","smallLogo"===n),t.R7$(),t.Y8G("ngIf","favicon"===n),t.R7$(2),t.Y8G("ngIf","bigLogo"===n),t.R7$(),t.Y8G("ngIf","socialLogo"===n),t.R7$(),t.Y8G("ngIf","smallLogo"===n),t.R7$(),t.Y8G("ngIf","favicon"===n)}}let to=(()=>{var e;class l extends C.H{deleteLogo(n){const i=this.commonService.myTranslateInstant("lang_business_config_are_your_sure_to_delete_this_logo");this.sAztDialogService.open(M.u,{data:{content:i,iconName:"trash-2"},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(u=>{u&&("smallLogo"==n&&this.domainConfigObj&&(this.domainConfigObj.smallLogo=void 0),"bigLogo"==n&&this.domainConfigObj&&(this.domainConfigObj.bigLogo=void 0),"favicon"==n&&this.domainConfigObj&&(this.domainConfigObj.favicon=void 0),"socialLogo"==n&&this.domainConfigObj&&(this.domainConfigObj.socialLogo=void 0),this.saveConfigObj())})}uploadNewLogo(n,i){"smallLogo"==n&&this.domainConfigObj&&(this.domainConfigObj.smallLogo=i.url),"bigLogo"==n&&this.domainConfigObj&&(this.domainConfigObj.bigLogo=i.url),"favicon"==n&&this.domainConfigObj&&(this.domainConfigObj.favicon=i.url),"socialLogo"==n&&this.domainConfigObj&&(this.domainConfigObj.socialLogo=i.url),this.saveConfigObj()}saveConfigObj(){this.initStatusObj(),this.waitDestroy(this.domainConfigService.apiDomainConfigsPost(this.domainConfigObj).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.successStatusObj("lang_auto_luu_thanh_cong",!0)}))}initData(){this.initStatusObj(),this.waitDestroy(this.domainConfigService.apiDomainConfigsGet().subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);n.data?.obj&&(this.domainConfigObj=n.data.obj,this.domainConfigObj.socialLogo||(this.domainConfigObj.socialLogo=this.domainConfigObj.bigLogo)),this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(n,i){super(),this.domainConfigService=n,this.sAztDialogService=i,this.allUploadToCdnMenuTypes=Gt.b8,this.allUploadFileTypes=Gt.PO}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(J.K1),t.rXU(D.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-business-info-configs"]],features:[t.Vt3],decls:5,vars:2,consts:[["doneLoading",""],["uploadSection",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"config-business-logo"],[1,"flex","items-center","border-b","border-slate-200/60","pb-5","mb-5","text-base","font-medium","dark:border-darkmode-400"],[1,"mt-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mt-6"],[1,"mt-4"],["for","title",1,"font-medium"],[1,"mt-2"],["type","text","id","title",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"font-medium"],[3,"ngModelChange","ngModel","ngModelOptions","apiKey","init"],[1,"mt-4","pt-4","flex","items-center","border-t","border-slate-200","dark:border-darkmode-400"],[1,"btn","btn-primary","min-width-100","ml-auto",3,"click"],[4,"ngIf"],[1,"flex","flex-col","sm:flex-row","md:items-center","mt-1"],[1,"box","p-2","overflow-hidden","border","border-slate-200","dark:border-darkmode-400",3,"ngStyle"],["width","100%","height","100%",3,"src"],[3,"uploadComplete","uploadToCdnMenu","fileType","limitSize","widthResize","aspectRatio"],["btnUpload",""],[1,"btn","btn-sm","btn-outline-primary"],["name","upload","size","16",3,"ngClass"],["btnRemove","",1,"ml-2"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],["name","trash-2","size","16"],[1,"ml-1"],["body","",1,"ml-0","sm:ml-3","mt-2","sm:mt-0","mr-auto"],[1,"text-slate-500","mt-1","text-xs"],["header","",1,"font-medium","text-base","mr-auto"]],template:function(n,i){if(1&n&&t.DNE(0,zn,1,1,"azt-loading-effect",2)(1,Nn,31,41,"ng-template",null,0,t.C5r)(3,qn,34,36,"ng-template",null,1,t.C5r),2&n){const r=t.sdS(2);t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[o.YU,o.bT,o.T3,o.B3,A.xn,s.me,s.BC,s.vS,dt.K,Fn.y,d.WGl,g.wp,g.nf,g.Vo,g.Hw,g.yc],encapsulation:2}),l})(),eo=(()=>{var e;class l extends C.H{ngOnInit(){this.commonService.translateMetaData({title:"lang_business_config_title",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(){super()}}return(e=l).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-business-configs"]],features:[t.Vt3],decls:12,vars:1,consts:[[3,"headerBackToLink"],[1,"azt-config-business-domain","mx-auto","mt-5",2,"max-width","1150px"],[1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12"],[1,"setting-advanced","mt-5"],[1,"box","p-5","mt-3"],[1,"p-0"]],template:function(n,i){1&n&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.nrm(7,"app-business-billing-configs"),t.k0s()()(),t.j41(8,"div",4)(9,"div",5)(10,"div",6),t.nrm(11,"app-business-info-configs"),t.k0s()()()()()()()),2&n&&t.Y8G("headerBackToLink","/business/dashboard")},dependencies:[ut.Q,On,to],encapsulation:2}),l})();var Ct=c(76627),Nt=c(47947),Bt=c(17178);class Lt{static tuitionFeeValidator(l){const a=l;return a?!a.value||Lt.validateTuitionFee(a.value)?(a.setErrors(null),null):(a.setErrors({wrongFormatTuitionFee:!0}),{wrongFormatTuitionFee:!0,identityRevealed:!0}):null}static validateTuitionFee(l){return l.match(/^\d{1,3}(\.\d{3})*$/)}}var _t=c(73202),Pt=c(93518),Ht=c(87157),Kt=c(3826),le=c(93422),ce=c(59518),wt=c(65728),no=c(11002);const oo=()=>[];function ao(e,l){1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_core_vui_long_nhap_ten_chuong_trinh"),""))}function io(e,l){if(1&e&&(t.j41(0,"mat-option",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const a=l.$implicit;t.Y8G("value",a.id),t.R7$(),t.SpI(" ",t.bMT(2,2,a.key)," ")}}function so(e,l){1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_auto_vui_long_chon_khoi_hoc"),""))}function ro(e,l){if(1&e&&(t.j41(0,"mat-option",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const a=l.$implicit;t.Y8G("value",a.id)("hidden",43==a.id),t.R7$(),t.SpI(" ",t.bMT(2,3,a.key)," ")}}function lo(e,l){1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_auto_vui_long_chon_mon_hoc"),""))}let me=(()=>{var e;class l extends C.H{setListSubject(){let n=this.schoolAndLevelObjs.schoolLevelSubjectObjs.find(i=>this.form.controls.schoolLevelId.value==i.schoolLevel?.id);this.listSchoolSubjectObjs=n?.schoolSubjectObjs??[],this.form.controls.schoolSubjectId.setValue(this.listSchoolSubjectObjs.find(i=>i.id==this.form.controls.schoolSubjectId.value)?.id??0)}setValueAmount(){var n=this.commonService.formatMoney(this.form.controls.tuition.value??""),i=this.getPositionCaret()+(n.length-this.form.controls.tuition.value.length);this.form.controls.tuition.setValue(n),this.goToPositionCaret(i)}getPositionCaret(){try{return document.getElementById("tuition").selectionEnd??0}catch{return 0}}goToPositionCaret(n){try{document.getElementById("tuition").setSelectionRange(n,n)}catch{}}initData(){this.form.patchValue({educationalProgramName:this.educationalProgramObj?.name??"",schoolLevelId:this.educationalProgramObj?.schoolLevelId??0,schoolSubjectId:this.educationalProgramObj?.schoolSubjectId??0,tuition:(this.educationalProgramObj?.fee??0)>0?this.educationalProgramObj?.fee?.toString():"0",description:this.educationalProgramObj?.description??""}),this.setListSubject(),(this.educationalProgramObj?.fee?.toString().length??0)>3&&this.setValueAmount()}ngOnInit(){super.ngOnInit(),this.form=this.programForm.controls.generalFormGroup,this.avoidWarningError(()=>{this.initData()})}constructor(){super(),this.listSchoolSubjectObjs=[]}}return(e=l).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-educational-program-general-info-form"]],inputs:{programForm:"programForm",schoolAndLevelObjs:"schoolAndLevelObjs",educationalProgramObj:"educationalProgramObj"},features:[t.Vt3],decls:47,vars:48,consts:[["searchInListSchoolLevel","searchInList"],["searchInListSchoolSubject","searchInList"],[3,"formGroup"],[1,"mt-1"],["for","educationalProgramName",1,"form-label","font-medium","text-sm"],["id","educationalProgramName","formControlName","educationalProgramName","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-2"],["for","schoolLevelId",1,"form-label","font-medium","text-sm"],["appearance","outline"],["searchInList","","formControlName","schoolLevelId",3,"selectionChange"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","schoolSubjectId",1,"form-label","font-medium","text-sm"],["searchInList","","formControlName","schoolSubjectId"],[3,"value","hidden",4,"ngFor","ngForOf"],["for","description",1,"form-label","font-medium","text-sm"],["formControlName","description",1,"description",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],[3,"value","hidden"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"form",2)(1,"div",2)(2,"div",3)(3,"label",4),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.nrm(6,"input",5),t.nI1(7,"mytranslate"),t.DNE(8,ao,3,3,"div",6),t.k0s(),t.j41(9,"div",7)(10,"label",8),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"mat-form-field",9)(14,"mat-select",10,0),t.bIt("selectionChange",function(){return t.eBV(r),t.Njj(i.setListSubject())}),t.j41(16,"mat-option"),t.nrm(17,"ngx-mat-select-search",11),t.nI1(18,"mytranslate"),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"mat-option",12),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.DNE(23,io,3,4,"mat-option",13),t.k0s()(),t.DNE(24,so,3,3,"div",6),t.k0s(),t.j41(25,"div",7)(26,"label",14),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"mat-form-field",9)(30,"mat-select",15,1)(32,"mat-option"),t.nrm(33,"ngx-mat-select-search",11),t.nI1(34,"mytranslate"),t.nI1(35,"mytranslate"),t.k0s(),t.j41(36,"mat-option",12),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.DNE(39,ro,3,5,"mat-option",16),t.k0s()(),t.DNE(40,lo,3,3,"div",6),t.k0s(),t.j41(41,"div",7)(42,"label",17),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s(),t.nrm(45,"textarea",18),t.nI1(46,"mytranslate"),t.k0s()()()}if(2&n){let r;const u=t.sdS(15),b=t.sdS(31);t.Y8G("formGroup",i.programForm),t.R7$(),t.Y8G("formGroup",i.form),t.R7$(3),t.SpI(" ",t.bMT(5,23,"lang_core_ten_chuong_trinh")," "),t.R7$(2),t.FS9("placeholder",t.bMT(7,25,"lang_core_nhap_ten_chuong_trinh")+" ..."),t.R7$(2),t.Y8G("ngIf",i.form.controls.educationalProgramName.errors),t.R7$(3),t.SpI(" ",t.bMT(12,27,"lang_auto_khoi_hoc")," "),t.R7$(6),t.FS9("placeholderLabel",t.bMT(18,29,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(19,31,"lang_search_not_found")),t.Y8G("formControl",u.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("---",t.bMT(22,33,"lang_auto_chon_khoi"),""),t.R7$(2),t.Y8G("ngForOf",u.filter(u.mergeSchoolLevel(null!==(r=null==i.schoolAndLevelObjs?null:i.schoolAndLevelObjs.schoolLevelSubjectObjs)&&void 0!==r?r:t.lJ4(47,oo)),"key")),t.R7$(),t.Y8G("ngIf",i.form.controls.schoolLevelId.errors),t.R7$(3),t.SpI(" ",t.bMT(28,35,"lang_auto_mon_hoc")," "),t.R7$(6),t.FS9("placeholderLabel",t.bMT(34,37,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(35,39,"lang_search_not_found")),t.Y8G("formControl",b.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI(" ",t.bMT(38,41,"lang_auto_---chon_mon")," "),t.R7$(2),t.Y8G("ngForOf",b.filter(i.listSchoolSubjectObjs,"key")),t.R7$(),t.Y8G("ngIf",i.form.controls.schoolSubjectId.errors),t.R7$(3),t.SpI(" ",t.bMT(44,43,"lang_auto_mo_ta")," "),t.R7$(2),t.FS9("placeholder",t.bMT(46,45,"lang_auto_nhap_noi_dung"))}},dependencies:[o.Sq,o.bT,ft.wT,nt.rl,Rt.VO,s.qT,s.me,s.BC,s.cb,s.l_,s.j4,s.JD,Dt.t,Xt.x,E.U9,g.wp],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),l})();var Yt=c(53043),Qt=c(40111),Zt=c(91584),de=c(23750);function co(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",6)(1,"azt-document-type-file",7),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,r=t.XpG();return t.Njj(r.previewDocumentFileDialog(i))}),t.k0s(),t.j41(2,"div",8)(3,"button",9),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,r=t.XpG();return t.Njj(r.removeObj(i))}),t.nrm(4,"lucide-icon",10),t.k0s()()()}if(2&e){const a=t.XpG().$implicit;t.R7$(),t.Y8G("type",a.documentType)("name",a.name)("url",a.link)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("customClass","w-4 h-4")("textWidth","90%")}}function mo(e,l){if(1&e&&(t.j41(0,"div"),t.DNE(1,co,5,8,"div",5),t.k0s()),2&e){const a=l.$implicit;t.R7$(),t.Y8G("ngIf",!a.willRemove)}}let uo=(()=>{var e;class l extends C.H{uploadFileEmitted(n){this.listDocumentObjs.push({id:this.commonService.getVirtualIdWithoutInList(!0,this.listDocumentObjs.map(i=>i.id)),name:n.name??"",link:n.link??"",type:n.type??"",documentType:this.commonService.getEnumTypeWithDefault(_t.d,n.type??"",_t.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(Pt.k,n.groupType??"",Pt.k.unknown),willRemove:!1}),this.listDocumentObjsChange.emit(this.listDocumentObjs)}removeObj(n){this.listDocumentObjs.map(i=>i.willRemove=i.id==n.id||i.willRemove),this.listDocumentObjsChange.emit(this.listDocumentObjs)}previewDocumentFileDialog(n){const i={name:n.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(n.type),type:n.type,url:n.link};this.sAztDialogService.open(Yt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...i,index:0},showDownloadIcon:!1},restoreFocus:!1})}ngOnInit(){super.ngOnInit()}constructor(n,i){super(),this.sAztDialogService=n,this.sAztFileTypeService=i,this.listDocumentObjsChange=new t.bkB}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(D.i),t.rXU(Qt.k))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-educational-program-document-form"]],inputs:{listDocumentObjs:"listDocumentObjs"},outputs:{listDocumentObjsChange:"listDocumentObjsChange"},features:[t.Vt3],decls:7,vars:5,consts:[[1,"mt-2","flex","justify-between"],["for","description",1,"text-sm","mb-1","items-center","font-medium"],[1,"flex","justify-end","btn-add-document"],[3,"emitFileDocument","isBtn"],[4,"ngFor","ngForOf"],["class","items-center mb-2 relative",4,"ngIf"],[1,"items-center","mb-2","relative"],[1,"clickable",3,"click","type","name","url","showBorder","onlyOneLine","iconVerticalStyle","customClass","textWidth"],[1,"flex","absolute","right-0",2,"width","13px","height","13px","top","3px"],[1,"btn","btn-sm","p-0","btn-danger-soft",3,"click"],["name","x","size","16"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"label",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",2)(5,"app-upload-document-for-session",3),t.bIt("emitFileDocument",function(u){return i.uploadFileEmitted(u)}),t.k0s()()(),t.DNE(6,mo,2,1,"div",4)),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_testbank_document_list_header_title")," "),t.R7$(3),t.Y8G("isBtn",!1),t.R7$(),t.Y8G("ngForOf",i.listDocumentObjs))},dependencies:[o.Sq,o.bT,Zt.m,d.WGl,de.J,g.wp],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),l})();var _o=c(20013);const po=e=>[e];function go(e,l){1&e&&(t.j41(0,"small",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_core_vui_long_nhap_ten_sach"),""))}function ho(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"azt-upload-single-box",9),t.bIt("uploadComplete",function(i){const r=t.eBV(a).$implicit,u=t.XpG();return t.Njj(u.handleUploadComplete(i,r))}),t.j41(4,"div")(5,"div",10),t.nrm(6,"img",11),t.nI1(7,"coreModConvertCdnLinkOfGitHub"),t.nI1(8,"mycdn"),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",12)(11,"div"),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()(),t.j41(14,"div",13),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.previewBookImageDialog(i))}),t.EFF(15),t.nI1(16,"mytranslate"),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"button",14),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.removeBookForm(i))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.j41(21,"div",15),t.nrm(22,"input",16),t.nI1(23,"mytranslate"),t.nrm(24,"textarea",17),t.nI1(25,"mytranslate"),t.DNE(26,go,3,3,"small",18),t.k0s()()}if(2&e){const a=l.$implicit,n=t.XpG();t.Y8G("formGroup",a)("hidden",a.controls.willRemove.value),t.R7$(3),t.Y8G("uploadToCdnMenu",n.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",t.eq3(36,po,n.allUploadFileTypes.IMAGE))("limitSize",n.limitSize),t.R7$(3),t.FS9("src",""==a.controls.iconLink.value?t.bMT(7,18,"images/business-book.svg"):t.bMT(8,20,a.controls.iconLink.value),t.B4B),t.FS9("alt",t.bMT(9,22,"lang_core_anh_sach")),t.R7$(4),t.Y8G("ngClass",""==a.controls.iconLink.value?"":"btn-edit-image"),t.R7$(2),t.SpI(" ",t.bMT(13,24,""==a.controls.iconLink.value?"lang_core_them_anh":"lang_auto_tai_len")," "),t.R7$(2),t.Y8G("hidden",""==a.controls.iconLink.value),t.R7$(),t.Lme(" ",t.bMT(16,26,"lang_test_market_view_question")," ",t.bMT(17,28,"lang_testbank_update_exam_image")," "),t.R7$(4),t.SpI(" ",t.bMT(20,30,"lang_button_delete")," "),t.R7$(3),t.FS9("placeholder",t.bMT(23,32,"lang_core_ten_sach")),t.Y8G("value",a.controls.name.value),t.R7$(2),t.FS9("placeholder",t.bMT(25,34,"lang_auto_mo_ta")),t.Y8G("value",a.controls.description.value),t.R7$(2),t.Y8G("ngIf",a.controls.name.invalid)}}let fo=(()=>{var e;class l extends C.H{previewBookImageDialog(n){this.sAztDialogService.open(Yt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:n.controls.name.value,mimes:"image/jpeg",url:n.controls.iconLink.value,index:-1}},restoreFocus:!1})}handleUploadComplete(n,i){i.controls.iconLink.setValue(n.url??"")}removeBookForm(n){n.patchValue({willRemove:!0,name:"empty"}),this.bookFormArray.controls.map(i=>i.controls.id.value==n.controls.id.value?n:i),this.programForm.controls.bookFormArray=this.bookFormArray,this.programForm.updateValueAndValidity()}addMoreBookForm(){this.bookFormArray.push(new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,this.bookFormArray.getRawValue().map(n=>n.id)),{nonNullable:!0,validators:[s.k0.required]}),name:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Ot.M.noWhiteSpace]}),description:new s.MJ("",{nonNullable:!0}),iconLink:new s.MJ("",{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),this.programForm.controls.bookFormArray=this.bookFormArray,this.programForm.updateValueAndValidity()}initFormArray(){this.bookFormArray.clear(),this.bookObjs.forEach(n=>{this.bookFormArray.push(new s.gE({id:new s.MJ(n.id,{nonNullable:!0,validators:[s.k0.required]}),name:new s.MJ(n.name,{nonNullable:!0,validators:[s.k0.required,Ot.M.noWhiteSpace]}),description:new s.MJ(n.description??"",{nonNullable:!0}),iconLink:new s.MJ(n.iconLink??"",{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})}))})}ngOnInit(){super.ngOnInit(),this.bookFormArray=this.programForm.controls.bookFormArray,this.avoidWarningError(()=>{this.initFormArray()})}constructor(n){super(),this.sAztDialogService=n,this.allUploadToCdnMenuTypes=Gt.b8,this.allUploadFileTypes=Gt.PO,this.limitSize=5}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(D.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-educational-program-book-form"]],inputs:{programForm:"programForm",bookObjs:"bookObjs"},features:[t.Vt3],decls:11,vars:11,consts:[[1,"mt-3","flex","justify-between"],["for","description",1,"form-label","font-medium","text-sm"],["azt-track-service","add-or-edit-educational-program--eJ6MP8NK",1,"btn-add-document","text-sm","clickable",3,"click"],[3,"formGroup"],["formArrayName","bookFormArray"],["class","flex mt-2 box-book",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","mt-2","box-book",3,"formGroup","hidden"],[1,"pb-1"],[1,"box-image"],[3,"uploadComplete","uploadToCdnMenu","fileType","limitSize"],[1,"flex",2,"height","87px"],["id","blah",3,"src","alt"],["azt-track-service","add-or-edit-educational-program-ySondJc2qe",1,"add-image-label","clickable",2,"margin-bottom","10px",3,"ngClass"],["azt-track-service","add-or-edit-educational-program-4lu0PqnQg",1,"btn-edit-image","add-image-label","clickable",3,"click","hidden"],["azt-track-service","add-or-edit-educational-program-TGWpE3kwi6",1,"btn","btn-danger",3,"click"],[1,"ml-3",2,"width","100%"],["type","text","formControlName","name",1,"form-control","input-name-book","mb-1",3,"placeholder","value"],["formControlName","description",1,"form-control","textarea-description",3,"placeholder","value"],["class","text-danger text-left mt-1",4,"ngIf"],[1,"text-danger","text-left","mt-1"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"label",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",2),t.bIt("click",function(){return i.addMoreBookForm()}),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"form",3)(9,"div",4),t.DNE(10,ho,27,38,"div",5),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_core_sach")," "),t.R7$(3),t.Lme("+ ",t.bMT(6,7,"lang_button_add")," ",t.bMT(7,9,"lang_core_sach"),""),t.R7$(3),t.Y8G("formGroup",i.programForm),t.R7$(2),t.Y8G("ngForOf",i.bookFormArray.controls))},dependencies:[o.YU,o.Sq,o.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,s.v8,Dt.t,_o.T,g.wp,g.nf,g.Vs],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),l})();var bo=c(50589),vo=c(51113),At=c(47712),Co=c(69135);const xo=e=>({flex:e}),ko=e=>({"flex mt-3":e}),yo=e=>[e],Io=e=>({backto:e}),Oo=()=>({"text-pending":!0}),Fo=()=>({"text-primary":!0}),jo=e=>({"p-3":e});function To(e,l){if(1&e){const a=t.RV6();t.j41(0,"lucide-icon",24),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,r=t.XpG();return t.Njj(r.removeSessionForm(i))}),t.k0s()}2&e&&t.Y8G("size",16)}function So(e,l){1&e&&(t.j41(0,"div",25)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function Mo(e,l){if(1&e){const a=t.RV6();t.j41(0,"lucide-icon",31),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,r=t.XpG().$implicit,u=t.XpG();return t.Njj(u.removeDescriptionForm(r,i))}),t.k0s()}2&e&&t.Y8G("size",16)}function Ro(e,l){1&e&&(t.j41(0,"div",32)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function Eo(e,l){if(1&e&&(t.j41(0,"div",26)(1,"div",27),t.nrm(2,"input",28),t.nI1(3,"mytranslate"),t.DNE(4,Mo,1,1,"lucide-icon",29),t.k0s(),t.DNE(5,Ro,4,3,"div",30),t.k0s()),2&e){const a=l.$implicit,n=t.XpG().$implicit;t.Y8G("formGroup",a)("hidden",a.controls.willRemove.value),t.R7$(),t.Mz_("id","description-conten-session-",a.controls.id.value,""),t.R7$(),t.FS9("placeholder",t.bMT(3,7,"lang_core_nhap_noi_dung_buoi_hoc")),t.R7$(2),t.Y8G("ngIf",n.controls.totalDescriptionNotDeleted.value>1),t.R7$(),t.Y8G("ngIf",a.controls.content.errors)}}function Do(e,l){1&e&&(t.qex(0),t.j41(1,"div",42),t.nrm(2,"img",43),t.nI1(3,"coreModConvertCdnLinkOfGitHub"),t.k0s(),t.bVm()),2&e&&(t.R7$(2),t.Y8G("src",t.bMT(3,1,"images/type_file/unknown-file.svg"),t.B4B))}function Po(e,l){1&e&&(t.qex(0),t.nrm(1,"lucide-icon",44),t.bVm()),2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,Oo)))}function zo(e,l){1&e&&(t.qex(0),t.nrm(1,"lucide-icon",45),t.bVm()),2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,Fo)))}function wo(e,l){if(1&e&&(t.j41(0,"div",34)(1,"a",35),t.nI1(2,"navigationLocalize"),t.j41(3,"div",36)(4,"div",37),t.DNE(5,Do,4,3,"ng-container",38)(6,Po,2,2,"ng-container",38)(7,zo,2,2,"ng-container",38),t.k0s(),t.j41(8,"div",39)(9,"div",40)(10,"span",41,0),t.EFF(12),t.k0s()()()()()()),2&e){const a=t.sdS(11),n=t.XpG().$implicit,i=t.XpG(2);t.R7$(),t.Y8G("routerLink",t.eq3(11,yo,t.bMT(2,9,n.controls.type.value==i.allDocumentTypes.exam?"/admin/testbank/exam-results-list/0/"+(null==n.controls.refId?null:n.controls.refId.value)+"/0":"/admin/testbank/homework-results-list/0/"+n.controls.id.value+"/0")))("queryParams",t.eq3(13,Io,i.currentUrl)),t.R7$(4),t.Y8G("ngIf",!n.controls.type.value),t.R7$(),t.Y8G("ngIf",n.controls.type.value==i.allDocumentTypes.exam),t.R7$(),t.Y8G("ngIf",n.controls.type.value==i.allDocumentTypes.homework),t.R7$(3),t.FS9("matTooltip",n.controls.name.value),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.R7$(2),t.SpI(" ",n.controls.name.value," ")}}function Ao(e,l){if(1&e&&(t.j41(0,"div",26),t.DNE(1,wo,13,15,"div",33),t.k0s()),2&e){const a=l.$implicit,n=t.XpG(2);t.Y8G("formGroup",a)("hidden",a.controls.willRemove.value),t.R7$(),t.Y8G("ngIf",a.controls.type.value===n.allDocumentTypes.exam||a.controls.type.value===n.allDocumentTypes.homework)}}function $o(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",47)(1,"azt-document-type-file",48),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.previewDocumentFileDialog(i))}),t.k0s(),t.j41(2,"button",49),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,r=t.XpG().$implicit,u=t.XpG();return t.Njj(u.removeDocumentForm(r,i))}),t.nrm(3,"lucide-icon",50),t.k0s()()}if(2&e){const a=t.XpG().$implicit,n=t.XpG(2);t.Y8G("ngClass",t.eq3(9,jo,n.isMobileWebView)),t.R7$(),t.Y8G("type",a.controls.documentType.value)("name",a.controls.name.value)("url",a.controls.link.value)("showBorder",!1)("iconVerticalStyle","baseline")("customClass","w-4 h-4 image-fit")("textWidth","100%"),t.R7$(2),t.Y8G("size",16)}}function Go(e,l){if(1&e&&(t.j41(0,"div",26),t.DNE(1,$o,4,11,"div",46),t.k0s()),2&e){const a=l.$implicit,n=t.XpG(2);t.Y8G("formGroup",a)("hidden",a.controls.willRemove.value),t.R7$(),t.Y8G("ngIf",a.controls.type.value!==n.allDocumentTypes.exam&&a.controls.type.value!==n.allDocumentTypes.homework)}}function No(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h3",8),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,To,1,1,"lucide-icon",9),t.k0s(),t.DNE(6,So,4,3,"div",10)(7,Eo,6,9,"div",11),t.j41(8,"div",12)(9,"div",13)(10,"span",14),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.addMoreDescriptionForm(i))}),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s()()(),t.j41(14,"div",15)(15,"div",16)(16,"span",17),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"div",18),t.DNE(20,Ao,2,3,"div",11),t.j41(21,"div",19)(22,"a",20),t.bIt("click",function(){const i=t.eBV(a).index,r=t.XpG();return t.Njj(r.redirectToCreateNewDocument(i))}),t.j41(23,"span",21),t.EFF(24,"+"),t.k0s(),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()()(),t.j41(27,"div",15)(28,"div",16)(29,"span",17),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()(),t.j41(32,"div",22),t.DNE(33,Go,2,3,"div",11),t.j41(34,"div",19)(35,"app-upload-document-for-session",23),t.bIt("emitFileDocument",function(i){const r=t.eBV(a).$implicit,u=t.XpG();return t.Njj(u.uploadFileEmitted(i,r))}),t.j41(36,"span"),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s()()()()()()}if(2&e){const a=l.$implicit,n=t.XpG();t.Y8G("formGroup",a)("hidden",a.controls.willRemove.value),t.R7$(3),t.Lme("",t.bMT(4,21,"lang_core_buoi")," ",a.controls.session.value,""),t.R7$(2),t.Y8G("ngIf",n.programForm.controls.totalSessionNotDeleted.value>1),t.R7$(),t.Y8G("ngIf",a.controls.totalDescriptionNotDeleted.value<=0),t.R7$(),t.Y8G("ngForOf",a.controls.descriptionObjs.controls),t.R7$(4),t.Lme(" + ",t.bMT(12,23,"lang_button_add")," ",t.bMT(13,25,"lang_auto_noi_dung").toLowerCase()," "),t.R7$(6),t.JRh(t.bMT(18,27,"lang_cms_auto_gen_test_exam_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(35,xo,!n.isMobileWebView)),t.R7$(),t.Y8G("ngForOf",a.controls.documentObjs.controls),t.R7$(2),t.HbH("btn btn-transparent w-48 block font-weight-400"),t.R7$(3),t.SpI(" ",t.bMT(26,29,"lang_business_assign_exams")," "),t.R7$(5),t.JRh(t.bMT(31,31,"lang_testbank_document_list_header_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(37,ko,!n.isMobileWebView)),t.R7$(),t.Y8G("ngForOf",a.controls.documentObjs.controls),t.R7$(2),t.Y8G("isBtn",!0)("customClass"," font-weight-400"),t.R7$(2),t.JRh(t.bMT(38,33,"lang_core_dinh_kem_tai_lieu"))}}let Bo=(()=>{var e;class l extends C.H{previewDocumentFileDialog(n){const i={name:n.controls.name.value,mimes:this.sAztFileTypeService.getMineTypeByFileType(n.controls.type.value),type:n.controls.type.value,url:n.controls.link.value};this.sAztDialogService.open(Yt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...i,index:0},showDownloadIcon:!1},restoreFocus:!1})}addNewSession(){let n=this.commonService.concatMultipleArray(this.sessionFormArray.controls.map(u=>u.controls.descriptionObjs).map(u=>u.controls.map(b=>b.controls.id.value))),i=this.sessionFormArray.controls.map(u=>u.controls.sessionId.value),r=new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,n),{nonNullable:!0,validators:[s.k0.required]}),content:new s.MJ("",{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})});this.sessionFormArray.push(new s.gE({sessionId:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,i),{nonNullable:!0,validators:[s.k0.required]}),session:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),documentObjs:new s.Yp([]),totalDocumentNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),descriptionObjs:new s.Yp([r],{validators:[s.k0.required,s.k0.minLength(1)]}),totalDescriptionNotDeleted:new s.MJ(1,{nonNullable:!0,validators:[s.k0.required]}),isUploadingImage:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),this.updateFormData()}removeSessionForm(n){n.controls.sessionId.value<0?this.sessionFormArray.controls=this.sessionFormArray.controls.filter(i=>i.controls.sessionId.value!=n.controls.sessionId.value):(n.controls.willRemove.setValue(!0),n.controls.descriptionObjs.controls.map(i=>{i.controls.content.setValue(i.controls.content.defaultValue&&""!=i.controls.content.defaultValue?i.controls.content.defaultValue:"remove")})),this.sessionFormArray.controls.map(i=>i.controls.sessionId.value==n.controls.sessionId.value?n:i),this.updateFormData()}addMoreDescriptionForm(n){let i=this.commonService.concatMultipleArray(this.sessionFormArray.controls.map(r=>r.controls.descriptionObjs).map(r=>r.controls.map(u=>u.controls.id.value)));n.controls.descriptionObjs.push(new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,i),{nonNullable:!0,validators:[s.k0.required]}),content:new s.MJ("",{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),this.sessionFormArray.controls.map(r=>r.controls.sessionId.value==n.controls.sessionId.value?n:r),this.updateFormData()}removeDescriptionForm(n,i){n.controls.descriptionObjs.controls.map(r=>{r.controls.willRemove.setValue(r.controls.id.value==i.controls.id.value||r.controls.willRemove.value),r.controls.content.setValue(r.controls.id.value==i.controls.id.value?r.controls.content.defaultValue&&""!=r.controls.content.defaultValue?r.controls.content.defaultValue:"remove":r.controls.content.value)}),this.sessionFormArray.controls.map(r=>r.controls.sessionId.value==n.controls.sessionId.value?n:r),this.updateFormData()}removeDocumentForm(n,i){n.controls.documentObjs.controls.map(r=>r.controls.willRemove.setValue(r.controls.id.value==i.controls.id.value||r.controls.willRemove.value)),this.sessionFormArray.controls.map(r=>r.controls.sessionId.value==n.controls.sessionId.value?n:r),this.updateFormData()}uploadFileEmitted(n,i){i&&this.addDataFormDocument({url:n.link,name:n.name,extension:n.type},n.groupType,i)}addDataFormDocument(n,i,r){r.controls.documentObjs.push(new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,[]),{nonNullable:!0,validators:[s.k0.required]}),name:new s.MJ(n.name??"",{nonNullable:!0,validators:[s.k0.required]}),link:new s.MJ(n.url??"",{nonNullable:!0,validators:[s.k0.required]}),type:new s.MJ(n.extension??"",{nonNullable:!0,validators:[s.k0.required]}),documentType:new s.MJ(this.commonService.getEnumTypeWithDefault(_t.d,n.extension??"",_t.d.unknown),{nonNullable:!0,validators:[s.k0.required]}),groupType:new s.MJ(i,{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),r.controls.isUploadingImage.setValue(!1),this.sessionFormArray.controls.map(b=>b.controls.sessionId.value==r.controls.sessionId.value?r:b),this.updateFormData()}redirectToCreateNewDocument(n){const i=this.programForm.getRawValue(),r=this.zipDataService.convertContentGzip(this.serializeJson(i));this.browserStorageService.saveSessionStorage(`${this.programFormService.key+this.educationalProgramObj?.id}`,r),this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backTo=${this.currentUrl}&programId=${this.educationalProgramObj?.id}&levelId=${this.educationalProgramObj?.schoolLevelId??0}&subjectId=${this.educationalProgramObj?.schoolSubjectId??0}&indexSession=${n}`)}initFormArray(){this.sessionFormArray.clear();const n=this.extractValueFromZipData();n?n.sessionFormArray.forEach(this.processItem.bind(this)):this.convertSessionDtoToSessionFormArray(this.sessionObjs).forEach(this.processItem.bind(this)),this.sessionObjs.length<=0&&!n?.sessionFormArray.length&&this.addNewSession(),this.updateFormData()}updateFormData(){let n=1;this.sessionFormArray.controls.forEach(i=>{i.controls.willRemove.value||(i.controls.session.setValue(n),n+=1),i.controls.totalDescriptionNotDeleted.setValue(i.controls.descriptionObjs.controls.filter(r=>!r.controls.willRemove.value).length),i.controls.totalDocumentNotDeleted.setValue(i.controls.documentObjs.controls.filter(r=>!r.controls.willRemove.value).length)}),this.programForm.controls.totalSessionNotDeleted.setValue(this.programForm.controls.sessionFormArray.controls.filter(i=>!i.controls.willRemove.value).length),this.programForm.controls.sessionFormArray=this.sessionFormArray,this.programForm.updateValueAndValidity()}extractValueFromZipData(){const n=this.browserStorageService.getSessionStorage(`${this.programFormService.key+this.educationalProgramObj?.id}`);if(!n)return;const i=this.zipDataService.decodeContentGzip(n);return this.castJsonToObj(i)}createDocumentFormGroup(n){return new s.gE({id:new s.MJ(n.id,{nonNullable:!0,validators:[s.k0.required]}),refId:new s.MJ(n.refId??0,{nonNullable:!0}),name:new s.MJ(n.name??"",{nonNullable:!0,validators:[s.k0.required]}),link:new s.MJ(n.link??"",{nonNullable:!0}),type:new s.MJ(n.type,{nonNullable:!0,validators:[s.k0.required]}),documentType:new s.MJ(this.commonService.getEnumTypeWithDefault(_t.d,n.type,_t.d.unknown),{nonNullable:!0,validators:[s.k0.required]}),groupType:new s.MJ(n.groupType??"",{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})}createDescriptionFormGroup(n){return new s.gE({id:new s.MJ(n.id,{nonNullable:!0,validators:[s.k0.required]}),content:new s.MJ(n.content,{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})}processItem(n){const i=n.documentObjs.filter(u=>u&&!u.willRemove).map(this.createDocumentFormGroup.bind(this)),r=n.descriptionObjs.filter(u=>document&&!u.willRemove).map(this.createDescriptionFormGroup.bind(this));this.sessionFormArray.push(new s.gE({sessionId:new s.MJ(n.sessionId,{nonNullable:!0,validators:[s.k0.required]}),session:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),documentObjs:new s.Yp(i),totalDocumentNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),descriptionObjs:new s.Yp(r,{validators:[s.k0.required,s.k0.minLength(1)]}),totalDescriptionNotDeleted:new s.MJ(r.length,{nonNullable:!0,validators:[s.k0.required]}),isUploadingImage:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})}))}convertSessionDtoToSessionFormArray(n){let i=[];return n.forEach(r=>{let u=[];r.documents.forEach(Q=>{u.push({id:Q.id,refId:Q.refId,name:Q.name??"",link:Q.link,type:Q.type,documentType:Q.type,willRemove:!1})});let b=[];r.contents.forEach(Q=>{b.push({id:Q.id,content:Q.content,willRemove:!1})}),i.push({sessionId:r.id,documentObjs:u,descriptionObjs:b,totalDescriptionNotDeleted:0,totalDocumentNotDeleted:0,session:r.sort,isUploadingImage:!1,willRemove:!1})}),i}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.sessionFormArray=this.programForm.controls.sessionFormArray,this.avoidWarningError(()=>{this.initFormArray()})}constructor(n,i,r,u,b,P){super(),this.cd=n,this.sAztDialogService=i,this.sAztFileTypeService=r,this.browserStorageService=u,this.zipDataService=b,this.programFormService=P,this.sessionObjs=[],this.currentUrl=this.commonService.getCurrentUrlWithoutLocale(),this.allDocumentTypes=_t.d}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(t.gRc),t.rXU(D.i),t.rXU(Qt.k),t.rXU(bo.z),t.rXU(vo.j),t.rXU(ce.s))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-educational-program-session-form"]],inputs:{programForm:"programForm",sessionObjs:"sessionObjs",educationalProgramObj:"educationalProgramObj"},features:[t.Vt3],decls:7,vars:5,consts:[["c","isDisabled"],[3,"formGroup"],["formArrayName","sessionFormArray"],["class","box pt-3 pl-3 pr-3 mt-3",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","justify-center"],["azt-track-service","add-or-edit-educational-program-22QBASGLIe",1,"btn-add-session","mt-2","clickable",3,"click"],[1,"box","pt-3","pl-3","pr-3","mt-3",3,"formGroup","hidden"],[1,"flex"],[1,"text-md","font-medium","truncate","mr-auto"],["name","x","class","clickable ml-1",3,"size","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted mt-2",4,"ngIf"],[3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","justify-start","py-2"],[1,"btn-add-document","text-sm","px-3"],["azt-track-service","add-or-edit-educational-program-izd-G_-kRf",1,"clickable",3,"click"],[1,"azt-answer"],[1,"strike"],[1,"uppercase","text-slate-600","text-xs"],[1,"items-center","mt-3","pb-3","scroll",3,"ngClass"],[1,"btn-add-document","text-sm"],["azt-track-service","session-form-7wsWmtscNU",2,"text-align","left",3,"click"],[1,"inline-block"],[1,"items-center","pb-3","scroll",3,"ngClass"],[3,"emitFileDocument","isBtn","customClass"],["name","x",1,"clickable","ml-1",3,"click","size"],[1,"text-xs","font-medium","text-danger","ng-star-inserted","mt-2"],[3,"formGroup","hidden"],[1,"flex","items-center",3,"id"],["type","text","formControlName","content",1,"form-control","mt-2","mb-2","pr-5",3,"placeholder"],["name","x","class","clickable btn-clear-form-content ml-1",3,"size","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],["name","x",1,"clickable","btn-clear-form-content","ml-1",3,"click","size"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],["class","flex items-center mr-4",4,"ngIf"],[1,"flex","items-center","mr-4"],["azt-track-service","session-form-uEv4oFbN4",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[4,"ngIf"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"whitespace-nowrap",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"w-4","h-4","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],["name","file-check","size","16",3,"ngClass"],["name","file-text","size","16",3,"ngClass"],["class","flex items-center mr-4",3,"ngClass",4,"ngIf"],[1,"flex","items-center","mr-4",3,"ngClass"],[1,"clickable",3,"click","type","name","url","showBorder","iconVerticalStyle","customClass","textWidth"],[1,"btn","btn-sm","btn-danger-soft","p-0","ml-1",3,"click"],["name","x",3,"size"]],template:function(n,i){1&n&&(t.j41(0,"form",1)(1,"div",2),t.DNE(2,No,39,39,"div",3),t.j41(3,"div",4)(4,"div",5),t.bIt("click",function(){return i.addNewSession()}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()()),2&n&&(t.Y8G("formGroup",i.programForm),t.R7$(2),t.Y8G("ngForOf",i.sessionFormArray.controls),t.R7$(3),t.SpI("+ ",t.bMT(6,3,"lang_core_them_bui_hoc"),""))},dependencies:[x.Wk,o.YU,o.Sq,o.bT,At.oV,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,s.v8,Dt.t,Co.f,Zt.m,d.WGl,de.J,g.F2,g.wp,g.Vs],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),l})();const Lo=e=>[e];function Yo(e,l){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function Uo(e,l){if(1&e&&t.nrm(0,"app-educational-program-general-info-form",21),2&e){const a=t.XpG(2);t.Y8G("programForm",a.form)("educationalProgramObj",a.educationalProgramObj)("schoolAndLevelObjs",a.schoolAndLevelObjs)}}function Vo(e,l){if(1&e&&t.nrm(0,"app-educational-program-book-form",22),2&e){const a=t.XpG(2);t.Y8G("programForm",a.form)("bookObjs",a.bookObjs)}}function Xo(e,l){1&e&&t.nrm(0,"azt-loading-ui",23)}function Jo(e,l){if(1&e){const a=t.RV6();t.j41(0,"form",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),t.DNE(5,Uo,1,3,"app-educational-program-general-info-form",9),t.j41(6,"app-educational-program-document-form",10),t.mxI("listDocumentObjsChange",function(i){t.eBV(a);const r=t.XpG();return t.DH7(r.generalDocumentObjs,i)||(r.generalDocumentObjs=i),t.Njj(i)}),t.k0s(),t.DNE(7,Vo,1,2,"app-educational-program-book-form",11),t.nI1(8,"allowFeatureBusinessForUser"),t.nI1(9,"async"),t.k0s()(),t.j41(10,"div",12)(11,"div",13)(12,"h3",14),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"flexed-on-the-top",15)(16,"a",16),t.nI1(17,"navigationLocalize"),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"button",17),t.bIt("click",function(){t.eBV(a);const i=t.XpG();return t.Njj(i.saveEducationalProgram())}),t.DNE(21,Xo,1,0,"azt-loading-ui",18),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()(),t.nrm(24,"app-educational-program-session-form",19),t.k0s()()()(),t.nrm(25,"azt-scroll-to-top-bottom",20)}if(2&e){const a=t.XpG();t.Y8G("formGroup",a.form),t.R7$(5),t.Y8G("ngIf",a.schoolAndLevelObjs),t.R7$(),t.R50("listDocumentObjs",a.generalDocumentObjs),t.R7$(),t.Y8G("ngIf",t.bMT(9,18,t.i5U(8,15,"training_center_student_book",!1))),t.R7$(6),t.SpI(" ",t.bMT(14,20,"lang_core_noi_dung_chuong_trinh")," "),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(),t.Y8G("routerLink",t.eq3(28,Lo,t.bMT(17,22,a.backLink))),t.R7$(2),t.JRh(t.bMT(19,24,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",a.form.invalid||a.isSaving),t.R7$(),t.Y8G("ngIf",a.isSaving),t.R7$(),t.SpI(" ",t.bMT(23,26,"lang_button_save")," "),t.R7$(2),t.Y8G("programForm",a.form)("sessionObjs",a.sessionObjs)("educationalProgramObj",a.educationalProgramObj),t.R7$(),t.Y8G("isScrollToTop",!0)}}let ue=(()=>{var e;class l extends C.H{saveEducationalProgram(){let n=this.form.getRawValue(),i=[];if(null!=this.educationalProgramId){let v=this.educationalProgramId,B=n.sessionFormArray.filter(U=>U.willRemove&&U.sessionId>0).map(U=>U.sessionId),st=this.generalDocumentObjs.filter(U=>U.willRemove&&U.id>0).map(U=>U.id),jt=this.commonService.concatMultipleArray(n.sessionFormArray.map(U=>U.documentObjs)).filter(U=>U.willRemove&&U.id>0).map(U=>U.id),Tt=n.sessionFormArray.map(U=>({sessionId:U.sessionId,contentIds:U.descriptionObjs.filter(St=>St.willRemove&&St.id>0).map(St=>St.id)})).filter(U=>U.contentIds.length>0),vt=n.bookFormArray.filter(U=>U.willRemove&&U.id>0).map(U=>U.id),oe=B.map(U=>this.programService.apiProgramsProgramIdSessionsSessionIdDelete(v,U)),cr=st.map(U=>this.programService.apiProgramsProgramIdDocumentsDocumentIdDelete(v,U)),mr=jt.map(U=>this.programService.apiProgramsProgramIdDocumentsDocumentIdDelete(v,U)),dr=this.commonService.concatMultipleArray(Tt.map(U=>{let St=[];return U.contentIds.forEach(_r=>{St.push(this.programService.apiProgramsProgramIdSessionsSessionIdContentsContentIdDelete(v,U.sessionId,_r))}),St})),ur=vt.map(U=>this.bookService.apiBooksIdDelete(U));i=this.commonService.concatMultipleArray([oe,cr,mr,dr,ur])}let r=[];n.sessionFormArray.filter(v=>!v.willRemove).forEach(v=>{r.push({id:v.sessionId>0?v.sessionId:void 0,contents:v.descriptionObjs.filter(B=>!B.willRemove).map(B=>({id:B.id>0?B.id:void 0,content:B.content})),documents:v.documentObjs.filter(B=>!B.willRemove&&B.id<=0).map(B=>({refId:B.refId,name:B.name,link:B.link,type:B.type,groupType:B.groupType}))})});let u=this.generalDocumentObjs.filter(v=>!v.willRemove&&v.id<=0).map(v=>({name:v.name,link:v.link,type:v.type,groupType:v.groupType})),b=n.bookFormArray.filter(v=>!v.willRemove).map(v=>({id:v.id>0?v.id:void 0,name:v.name,description:v.description,iconLink:v.iconLink}));var P={name:n.generalFormGroup.educationalProgramName,fee:Number(n.generalFormGroup.tuition.replace(/\./g,"")??"0"),schoolLevelId:n.generalFormGroup.schoolLevelId,schoolSubjectId:n.generalFormGroup.schoolSubjectId,description:n.generalFormGroup.description,sessions:r,documents:u,books:b};this.isSaving=!0;let Q=(0,Ct.z)([...i,this.programService.apiProgramsIdPut(this.educationalProgramId??0,P)]);this.waitDestroy(this.wrapApiResponse(Q).subscribe(v=>{if(this.isSaving=!1,!v.success)return this.errorStatusObj(v.message,!0);this.successStatusObj("lang_core_sua_chuong_trinh_thanh_cong",!0),this.commonService.myNavigation(this.backLink),this.programFormService.removeProgramDataLocal(this.educationalProgramId??0)}))}callMultipleApi(){const i=this.bookService.apiBooksListPost({page:1,size:-1,programId:this.educationalProgramId}),r=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());if(this.educationalProgramId){const u=this.programService.apiProgramsIdDocumentsGet(this.educationalProgramId),b=this.programService.apiProgramsIdClassroomsListPost(this.educationalProgramId,{page:1,size:-1}),P=this.programService.apiProgramsIdGet(this.educationalProgramId),Q=this.programService.apiProgramsIdSessionsGet(this.educationalProgramId);return(0,Ct.z)([i,u,b,P,Q,r]).pipe((0,Nt.T)(([v,B,st,jt,Tt,vt])=>({bookResponse:v,documentResponse:B,classroomResponse:st,programResponse:jt,sessionResponse:Tt,subjectAndLevelResponse:vt})),(0,Bt.W)(v=>{throw v}))}return(0,Ct.z)([r]).pipe((0,Nt.T)(([u])=>({bookResponse:void 0,documentResponse:void 0,classroomResponse:void 0,programResponse:void 0,sessionResponse:void 0,subjectAndLevelResponse:u})),(0,Bt.W)(u=>{throw u}))}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.callMultipleApi()).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.educationalProgramObj=n.data?.programResponse,this.schoolAndLevelObjs=n.data?.subjectAndLevelResponse.data,this.generalDocumentObjs=n.data?.documentResponse?.list.map(i=>({id:i.id,name:i.name??"",link:i.link??"",type:i.type,documentType:this.commonService.getEnumTypeWithDefault(_t.d,i.type,_t.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(Pt.k,i.groupType??"",Pt.k.unknown),willRemove:!1}))??[],this.bookObjs=n.data?.bookResponse?.list??[],this.sessionObjs=(n?.data?.sessionResponse?.list??[]).sort((i,r)=>i.sort-r.sort),this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chuong_trinh_hoc",image:"lang_cms_test_image"}),super.ngOnInit(),this.educationalProgramId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.backLink=this.commonService.getMyQueryParam("backto")??`/business/educational-program/${this.educationalProgramId}`,this.getData()}constructor(n,i,r,u,b){super(),this.activeRoute=n,this.programService=i,this.commonListService=r,this.bookService=u,this.programFormService=b,this.backLink="",this.bookObjs=[],this.generalDocumentObjs=[],this.sessionObjs=[],this.isSaving=!1,this.allDocumentTypes=_t.d,this.form=new s.gE({generalFormGroup:new s.gE({educationalProgramName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Ot.M.noWhiteSpace]}),tuition:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Lt.tuitionFeeValidator]}),schoolLevelId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),schoolSubjectId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),description:new s.MJ("",{nonNullable:!0})}),bookFormArray:new s.Yp([]),sessionFormArray:new s.Yp([],{validators:[s.k0.required,s.k0.minLength(1)]}),totalSessionNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]})})}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(x.nX),t.rXU(Ht.s),t.rXU(Kt.N),t.rXU(le.l),t.rXU(ce.s))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-add-or-edit-educational-program"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"formGroup"],[1,"container-fluid","mt-3","overflow-hidden","document-market-list"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-3"],[1,"box","p-3"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs",4,"ngIf"],[3,"listDocumentObjsChange","listDocumentObjs"],[3,"programForm","bookObjs",4,"ngIf"],[1,"col-span-12","md:col-span-9"],[1,"flex","justify-between"],[1,"text-md","font-medium","mr-auto","uppercase"],[3,"colorBackground"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-3","btn","btn-secondary",2,"width","100%",3,"routerLink"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",2,"width","100%",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"programForm","sessionObjs","educationalProgramObj"],[3,"isScrollToTop"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs"],[3,"programForm","bookObjs"],[1,"mr-1"]],template:function(n,i){if(1&n&&(t.j41(0,"teacher-layout",1),t.DNE(1,Yo,1,1,"azt-loading-effect",2)(2,Jo,26,30,"ng-template",null,0,t.C5r),t.k0s()),2&n){const r=t.sdS(3);t.Y8G("headerBackToLink",i.backLink),t.R7$(),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[x.Wk,o.bT,s.qT,s.cb,s.j4,dt.K,wt.I,Y.R,no.$,ut.Q,me,uo,fo,Bo,o.Jj,g.F2,g.wp,g.bj],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),l})();var zt=c(62221),_e=c(92540);const Wo=e=>[e];function Ho(e,l){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function Ko(e,l){if(1&e&&t.nrm(0,"app-educational-program-general-info-form",15),2&e){const a=t.XpG(2);t.Y8G("programForm",a.form)("educationalProgramObj",a.educationalProgramObj)("schoolAndLevelObjs",a.schoolAndLevelObjs)}}function Qo(e,l){1&e&&t.nrm(0,"azt-loading-ui",16)}function Zo(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",4)(1,"form",5)(2,"div",6)(3,"h3",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",8),t.DNE(7,Ko,1,3,"app-educational-program-general-info-form",9),t.k0s(),t.j41(8,"div",10)(9,"div",11)(10,"button",12),t.nI1(11,"navigationLocalize"),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",13),t.bIt("click",function(){t.eBV(a);const i=t.XpG();return t.Njj(i.saveEducationalProgram())}),t.DNE(15,Qo,1,0,"azt-loading-ui",14),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()()()()}if(2&e){const a=t.XpG();t.R7$(),t.Y8G("formGroup",a.form),t.R7$(3),t.SpI(" ",t.bMT(5,8,"lang_program_create_new_curriculum")," "),t.R7$(3),t.Y8G("ngIf",a.schoolAndLevelObjs),t.R7$(3),t.Y8G("routerLink",t.eq3(16,Wo,t.bMT(11,10,a.backLink))),t.R7$(2),t.SpI(" ",t.bMT(13,12,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",a.form.invalid||a.isSaving),t.R7$(),t.Y8G("ngIf",a.isSaving),t.R7$(),t.SpI(" ",t.bMT(17,14,"lang_auto_luu")," ")}}let qo=(()=>{var e;class l extends C.H{saveEducationalProgram(){let n=this.form.getRawValue(),r=[];n.sessionFormArray.filter(v=>!v.willRemove).forEach(v=>{r.push({id:v.sessionId>0?v.sessionId:void 0,contents:v.descriptionObjs.filter(B=>!B.willRemove).map(B=>({id:B.id>0?B.id:void 0,content:B.content})),documents:v.documentObjs.filter(B=>!B.willRemove&&B.id<=0).map(B=>({name:B.name,link:B.link,type:B.type,groupType:""}))})});let u=this.generalDocumentObjs.filter(v=>!v.willRemove&&v.id<=0).map(v=>({name:v.name,link:v.link,type:v.type,groupType:""})),b=n.bookFormArray.filter(v=>!v.willRemove).map(v=>({id:v.id>0?v.id:void 0,name:v.name,description:v.description,iconLink:v.iconLink}));const P={name:n.generalFormGroup.educationalProgramName,fee:Number(n.generalFormGroup.tuition.replace(/\./g,"")??"0"),schoolLevelId:n.generalFormGroup.schoolLevelId,schoolSubjectId:n.generalFormGroup.schoolSubjectId,description:n.generalFormGroup.description,sessions:r,documents:u,books:b};this.isSaving=!0;let Q=(0,Ct.z)([this.programService.apiProgramsPost(P)]);this.waitDestroy(this.wrapApiResponse(Q).subscribe(v=>{if(this.isSaving=!1,!v.success)return this.errorStatusObj(v.message,!0);this.successStatusObj("lang_core_them_chuong_trinh_thanh_cong",!0);const B=v.data?.[0];B?.id&&this.commonService.myNavigation(`/business/edit-educational-program/${B?.id}`)}))}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.callMultipleApi()).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.educationalProgramObj=n.data?.programResponse,this.schoolAndLevelObjs=n.data?.subjectAndLevelResponse.data,this.generalDocumentObjs=n.data?.documentResponse?.list.map(i=>({id:i.id,name:i.name??"",link:i.link??"",type:i.type,documentType:this.commonService.getEnumTypeWithDefault(_t.d,i.type,_t.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(Pt.k,i.groupType??"",Pt.k.unknown),willRemove:!1}))??[],this.stopStatusObj()}))}callMultipleApi(){const n=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());return(0,Ct.z)([n]).pipe((0,Nt.T)(([i])=>({bookResponse:void 0,documentResponse:void 0,classroomResponse:void 0,programResponse:void 0,sessionResponse:void 0,subjectAndLevelResponse:i})),(0,Bt.W)(i=>{throw i}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/educational-program",this.getData()}constructor(n,i,r){super(),this.programService=n,this.commonListService=i,this.bookService=r,this.backLink="",this.generalDocumentObjs=[],this.isSaving=!1,this.bookObjs=[],this.form=new s.gE({generalFormGroup:new s.gE({educationalProgramName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Ot.M.noWhiteSpace]}),tuition:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Lt.tuitionFeeValidator]}),schoolLevelId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),schoolSubjectId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),description:new s.MJ("",{nonNullable:!0})}),bookFormArray:new s.Yp([]),sessionFormArray:new s.Yp([]),totalSessionNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]})})}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(zt.sC),t.rXU(_e.Nz),t.rXU(zt.lb))},e.\u0275cmp=t.VBU({type:e,selectors:[["create-general-education-program"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y","mt-5"],[3,"formGroup"],[1,"mx-auto",2,"max-width","1000px"],[1,"font-medium","text-md","uppercase"],[1,"box","mt-5","p-3"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs",4,"ngIf"],[1,"mt-5"],[1,"text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"routerLink"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs"],[1,"mr-1"]],template:function(n,i){if(1&n&&(t.j41(0,"teacher-layout",1),t.DNE(1,Ho,1,1,"azt-loading-effect",2)(2,Zo,18,18,"ng-template",null,0,t.C5r),t.k0s()),2&n){const r=t.sdS(3);t.Y8G("headerBackToLink",i.backLink),t.R7$(),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[x.Wk,o.bT,s.qT,s.cb,s.j4,dt.K,Y.R,ut.Q,me,g.F2,g.wp],encapsulation:2}),l})();var ta=c(47160);const qt=e=>[e],ea=e=>({programId:e}),pe=e=>({backTo:e});function na(e,l){if(1&e&&t.nrm(0,"azt-loading-effect",4),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function oa(e,l){if(1&e&&(t.j41(0,"div",19)(1,"span",20),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.EFF(4," : "),t.j41(5,"span",21),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()),2&e){const a=t.XpG(3);t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_mon_hoc")),t.R7$(4),t.JRh(t.bMT(7,4,a.schoolSubjectKey))}}function aa(e,l){if(1&e&&(t.j41(0,"div",19)(1,"span",20),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",21),t.nrm(5,"azt-see-more-content",28),t.k0s()()),2&e){const a=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_mo_ta")," "),t.R7$(3),t.Y8G("content",a.educationalProgramObj.description)("maxLength",200)}}function ia(e,l){if(1&e){const a=t.RV6();t.j41(0,"div")(1,"azt-document-type-file",30),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG(4);return t.Njj(r.previewFile(i))}),t.k0s()()}if(2&e){let a;const n=l.$implicit;t.R7$(),t.Y8G("type",n.documentType)("name",null!==(a=n.name)&&void 0!==a?a:"")("url",n.link)("showBorder",!1)("customClass","w-4 h-4")("textWidth","100%")}}function sa(e,l){if(1&e&&(t.qex(0),t.DNE(1,ia,2,6,"div",29),t.bVm()),2&e){const a=t.XpG(3);t.R7$(),t.Y8G("ngForOf",a.listDocumentObjs)}}function ra(e,l){1&e&&(t.j41(0,"div",31),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_document_market_no_data_found")," "))}function la(e,l){if(1&e&&(t.j41(0,"div",33)(1,"span",21),t.EFF(2),t.k0s()()),2&e){const a=l.$implicit;t.Y8G("hidden",l.index>1),t.R7$(2),t.SpI("- ",a.name,"")}}function ca(e,l){1&e&&(t.j41(0,"div",34),t.EFF(1,"..."),t.k0s())}function ma(e,l){if(1&e&&(t.j41(0,"div",19)(1,"span",20),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,la,3,2,"div",32)(5,ca,2,0,"div",26),t.k0s()),2&e){const a=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_core_sach")," "),t.R7$(2),t.Y8G("ngForOf",a.listBookObjs),t.R7$(),t.Y8G("ngIf",a.listBookObjs.length>1)}}function da(e,l){1&e&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_noi_dung")," "))}function ua(e,l){if(1&e&&(t.j41(0,"div",39)(1,"span",40),t.EFF(2),t.k0s()()),2&e){const a=l.$implicit;t.R7$(2),t.SpI("- ",a.content,"")}}function _a(e,l){if(1&e&&(t.j41(0,"div",36)(1,"h3",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,ua,3,1,"div",38),t.k0s()),2&e){const a=l.$implicit;t.Y8G("hidden",l.index>1),t.R7$(2),t.Lme("",t.bMT(3,4,"lang_core_buoi")," ",a.sort,""),t.R7$(2),t.Y8G("ngForOf",a.contents)}}function pa(e,l){1&e&&(t.j41(0,"div",34),t.EFF(1,"..."),t.k0s())}function ga(e,l){if(1&e&&(t.j41(0,"div",17)(1,"h3",18),t.EFF(2),t.k0s(),t.j41(3,"div",19)(4,"span",20),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.EFF(7," : "),t.j41(8,"span",21),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.DNE(11,oa,8,6,"div",22)(12,aa,6,5,"div",22),t.j41(13,"div",19)(14,"span",20),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.DNE(17,sa,2,1,"ng-container",23)(18,ra,3,3,"ng-template",null,1,t.C5r),t.k0s(),t.DNE(20,ma,6,5,"div",22),t.j41(21,"div",19)(22,"span",20),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.DNE(25,da,3,3,"div",24)(26,_a,5,6,"div",25)(27,pa,2,0,"div",26),t.k0s(),t.j41(28,"div",19)(29,"a",27),t.nI1(30,"navigationLocalize"),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()()()),2&e){const a=t.sdS(19),n=t.XpG(2);t.R7$(),t.FS9("matTooltip",n.educationalProgramObj.name),t.R7$(),t.SpI(" ",n.educationalProgramObj.name," "),t.R7$(3),t.JRh(t.bMT(6,18,"lang_homework_create_homework_success_class")),t.R7$(4),t.Lme("",t.bMT(10,20,"lang_homework_create_homework_success_class")," ",n.schoolLevelValue,""),t.R7$(2),t.Y8G("ngIf",n.schoolSubjectKey),t.R7$(),t.Y8G("ngIf",n.educationalProgramObj.description&&n.educationalProgramObj.description.length>0),t.R7$(3),t.SpI(" ",t.bMT(16,22,"lang_testbank_document_list_header_title")," "),t.R7$(2),t.Y8G("ngIf",n.listDocumentObjs.length>0)("ngIfElse",a),t.R7$(3),t.Y8G("ngIf",n.listBookObjs.length>0),t.R7$(3),t.SpI(" ",t.bMT(24,24,"lang_core_noi_dung_chuong_trinh")," "),t.R7$(2),t.Y8G("ngIf",0==n.listEducationProgramSessionObjs.length),t.R7$(),t.Y8G("ngForOf",n.listEducationProgramSessionObjs),t.R7$(),t.Y8G("ngIf",n.listEducationProgramSessionObjs.length>1),t.R7$(2),t.Y8G("routerLink",t.eq3(30,qt,t.bMT(30,26,"/business/edit-educational-program/"+n.educationalProgramId)))("queryParams",t.eq3(32,pe,"/business/educational-program/"+n.educationalProgramId)),t.R7$(2),t.SpI(" ",t.bMT(32,28,"lang_testbank_folder_and_file_edit")," ")}}function ha(e,l){if(1&e&&(t.j41(0,"div",41)(1,"a",42),t.nI1(2,"navigationLocalize"),t.j41(3,"div",43)(4,"div",44)(5,"div",45)(6,"div",46)(7,"h3",18),t.EFF(8),t.k0s()(),t.j41(9,"div",47)(10,"span",21),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",39)(14,"span",21),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"div",48),t.EFF(18),t.k0s()()()()()),2&e){const a=l.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("routerLink",t.eq3(16,qt,t.bMT(2,10,"/admin/student/classroom-details/"+a.classroomId+"/3")))("queryParams",t.eq3(18,pe,"/business/educational-program/"+n.educationalProgramId)),t.R7$(6),t.FS9("matTooltip",a.classroomName),t.R7$(),t.SpI(" ",a.classroomName," "),t.R7$(3),t.Lme("",t.bMT(12,12,"lang_student_classroom_list_detail_quantity"),": ",a.totalStudent,""),t.R7$(4),t.E5c("",t.bMT(16,14,"lang_core_so_buoi_da_hoc"),": ",a.totalLearnedSession,"/",a.totalSession,""),t.R7$(3),t.SpI("",a.learnedPercent,"%")}}function fa(e,l){if(1&e&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.DNE(3,ga,33,34,"div",8),t.k0s(),t.j41(4,"div",9)(5,"div",10)(6,"h3",11),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",12),t.DNE(10,ha,19,20,"div",13),t.k0s(),t.j41(11,"div",14)(12,"a",15),t.nI1(13,"navigationLocalize"),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()()(),t.nrm(16,"azt-scroll-to-top-bottom",16)),2&e){const a=t.XpG();t.R7$(3),t.Y8G("ngIf",a.educationalProgramObj),t.R7$(4),t.Lme("",t.bMT(8,8,"lang_core_cac_lop_hoc_chuong_trinh_nay")," (",a.listClassroomObjs.length,")"),t.R7$(3),t.Y8G("ngForOf",a.listClassroomObjs),t.R7$(2),t.Y8G("routerLink",t.eq3(14,qt,t.bMT(13,10,"/admin/student/manage-classroom/0")))("queryParams",t.eq3(16,ea,a.educationalProgramId)),t.R7$(2),t.SpI("+",t.bMT(15,12,"lang_auto_them_lop_cho_chuong_trinh_hoc"),""),t.R7$(2),t.Y8G("isScrollToTop",!0)}}let ba=(()=>{var e;class l extends C.H{previewFile(n){const i={name:n.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(n.type),type:n.type,url:n.link};this.sAztDialogService.open(Yt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...i,index:0},showDownloadIcon:!1},restoreFocus:!1})}callMultipleApi(){const i=this.bookService.apiBooksListPost({page:1,size:-1,programId:this.educationalProgramId}),r=this.programService.apiProgramsIdDocumentsGet(this.educationalProgramId),u=this.programService.apiProgramsIdClassroomsListPost(this.educationalProgramId,{page:1,size:-1}),b=this.programService.apiProgramsIdGet(this.educationalProgramId),P=this.programService.apiProgramsIdSessionsGet(this.educationalProgramId),Q=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());return(0,Ct.z)([i,r,u,b,P,Q]).pipe((0,Nt.T)(([v,B,st,jt,Tt,vt])=>({bookResponse:v,documentResponse:B,classroomResponse:st,programResponse:jt,sessionResponse:Tt,subjectAndLevelResponse:vt})),(0,Bt.W)(v=>{throw v}))}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.callMultipleApi()).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.educationalProgramObj=n.data?.programResponse,this.listBookObjs=n.data?.bookResponse.list.sort((r,u)=>r.id-u.id)??[],this.listClassroomObjs=n.data?.classroomResponse.list??[],this.listDocumentObjs=n.data?.documentResponse.list.map(r=>({...r,documentType:this.commonService.getEnumTypeWithDefault(_t.d,r.type,_t.d.unknown)}))??[],this.listEducationProgramSessionObjs=n.data?.sessionResponse.list.sort((r,u)=>r.sort-u.sort)??[];let i=n.data?.subjectAndLevelResponse.data?.schoolLevelSubjectObjs.find(r=>r.schoolLevel?.id==this.educationalProgramObj?.schoolLevelId);this.schoolLevelValue=i?.schoolLevel?.value?.toString()??"",this.schoolSubjectKey=i?.schoolSubjectObjs.find(r=>r.id==this.educationalProgramObj?.schoolSubjectId)?.key??"",this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chi_tiet_chuong_trinh_hoc",image:"lang_cms_test_image"}),super.ngOnInit(),this.educationalProgramId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getData()}constructor(n,i,r,u,b,P){super(),this.activeRoute=n,this.commonListService=i,this.sAztDialogService=r,this.bookService=u,this.programService=b,this.sAztFileTypeService=P,this.backLink="/business/educational-program",this.educationalProgramId=0,this.schoolLevelValue="",this.schoolSubjectKey="",this.listDocumentObjs=[],this.listClassroomObjs=[],this.listEducationProgramSessionObjs=[],this.listBookObjs=[]}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(x.nX),t.rXU(Kt.N),t.rXU(D.i),t.rXU(le.l),t.rXU(Ht.s),t.rXU(Qt.k))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-educational-program-detail"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["emptyListDocument",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"container-fluid","mt-5","overflow-hidden","document-market-list"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-3"],["class","box-info p-3",4,"ngIf"],[1,"col-span-12","md:col-span-9"],[1,"box-content","p-3"],[1,"text-md","font-medium","truncate","mr-auto"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4 clickable",4,"ngFor","ngForOf"],[1,"flex","justify-start","mt-4"],[1,"btn-add-class",3,"routerLink","queryParams"],[3,"isScrollToTop"],[1,"box-info","p-3"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"mt-2"],[1,"text-sm","mb-1","items-center","font-medium"],[1,"text-sm"],["class","mt-2",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","text-sm flex justify-center m-2 mb-1","style","color: gray",4,"ngIf"],["class","items-center mb-2",3,"hidden",4,"ngFor","ngForOf"],["class","flex justify-start",4,"ngIf"],["azt-track-service","detail-educational-program-zQWRXarDBe",1,"btn","btn-primary",2,"width","100%","background","rgba(22, 155, 213, 1)","border-width","0px",3,"routerLink","queryParams"],[3,"content","maxLength"],[4,"ngFor","ngForOf"],[1,"clickable",3,"click","type","name","url","showBorder","customClass","textWidth"],[1,"text-sm","flex","justify-center","m-2",2,"color","gray"],["class","items-center",3,"hidden",4,"ngFor","ngForOf"],[1,"items-center",3,"hidden"],[1,"flex","justify-start"],[1,"text-sm","flex","justify-center","m-2","mb-1",2,"color","gray"],[1,"items-center","mb-2",3,"hidden"],[1,"text-sm","font-medium","mr-auto"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"text-sm",2,"white-space","pre-line"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4","clickable"],["azt-track-service","detail-educational-program-2h2h8T3CP",3,"routerLink","queryParams"],[1,"box-info-content","zoom-in"],[1,"flex","justify-between","items-center","py-2","px-4"],[1,"col-information"],[1,"grid","items-center"],[1,"flex","items-center","mt-1"],[1,"box-percent"]],template:function(n,i){if(1&n&&(t.j41(0,"teacher-layout",2),t.DNE(1,na,1,1,"azt-loading-effect",3)(2,fa,17,18,"ng-template",null,0,t.C5r),t.k0s()),2&n){const r=t.sdS(3);t.Y8G("headerBackToLink",i.backLink),t.R7$(),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[x.Wk,o.Sq,o.bT,At.oV,dt.K,ta.l,wt.I,Zt.m,ut.Q,g.F2,g.wp],styles:[".box-info-content[_ngcontent-%COMP%]{background:#f2f2f2;border-radius:5px}.box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px}.description[_ngcontent-%COMP%]{min-height:150px;border-radius:5px;font-size:14px;width:100%}.btn-add-class[_ngcontent-%COMP%]{color:#2262ae}.btn-add-class[_ngcontent-%COMP%]:hover{color:#2a74cf}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.text-sm[_ngcontent-%COMP%]{font-size:13px!important}.box-content[_ngcontent-%COMP%]{background:#fff;border-radius:5px}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.box-percent[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:#a4e6f4;display:flex;align-items:center;justify-content:center;font-weight:500;border:1px solid #00a8cc}.btn-primary[_ngcontent-%COMP%]:hover{background:#5dc0ea!important}.col-information[_ngcontent-%COMP%]{width:75%}"]}),l})();const ge=e=>[e],va=()=>({"mr-2":!0}),Ca=e=>({"py-1 px-3 rounded-full bg-success text-white font-medium":e}),xa=()=>({"mr-2 text-danger":!0});function ka(e,l){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function ya(e,l){1&e&&t.nrm(0,"azt-loading-ui",26)}function Ia(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",14)(1,"div",15)(2,"a",16),t.nI1(3,"navigationLocalize"),t.j41(4,"div",17)(5,"h3",18),t.EFF(6),t.k0s()(),t.j41(7,"div",19)(8,"span",20),t.EFF(9),t.nI1(10,"mytranslate"),t.j41(11,"span",21),t.EFF(12),t.k0s()()(),t.j41(13,"div",17)(14,"span",20),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",17)(18,"span",20),t.EFF(19),t.nI1(20,"mytranslate"),t.nI1(21,"formatMoney"),t.k0s()()(),t.j41(22,"div",22)(23,"button",23),t.nI1(24,"mytranslate"),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG(3);return t.Njj(r.showDeleteDialog(i))}),t.DNE(25,ya,1,0,"azt-loading-ui",24),t.nrm(26,"lucide-icon",25),t.k0s()()()()}if(2&e){const a=l.$implicit,n=t.XpG(3);t.R7$(2),t.Y8G("routerLink",t.eq3(25,ge,t.bMT(3,13,"/business/educational-program/"+a.id))),t.R7$(3),t.FS9("matTooltip",a.name),t.R7$(),t.SpI(" ",a.name," "),t.R7$(3),t.SpI(" ",t.bMT(10,15,"lang_core_so_lop_hoc"),": "),t.R7$(2),t.Y8G("ngClass",t.eq3(27,Ca,a.totalClassroom)),t.R7$(),t.JRh(a.totalClassroom),t.R7$(3),t.Lme("",t.bMT(16,17,"lang_core_buoi_tiet_hoc"),": ",a.totalSession,""),t.R7$(4),t.Lme("",t.bMT(20,19,"lang_core_hoc_phi"),": ",t.bMT(21,21,a.fee)," \u0111"),t.R7$(4),t.FS9("matTooltip",t.bMT(24,23,"lang_auto_xoa")),t.R7$(2),t.Y8G("ngIf",n.isDeletingId==a.id),t.R7$(),t.Y8G("ngClass",t.lJ4(29,xa))}}function Oa(e,l){if(1&e&&(t.j41(0,"div",10)(1,"h3",11),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",12),t.DNE(5,Ia,27,30,"div",13),t.k0s()()),2&e){const a=l.$implicit;t.Y8G("hidden",0==a.programObjs.length),t.R7$(2),t.Lme("",t.bMT(3,4,"lang_homework_create_homework_success_class")," ",a.schoolLevelObj.value,""),t.R7$(3),t.Y8G("ngForOf",a.programObjs)}}function Fa(e,l){if(1&e&&(t.j41(0,"div",4)(1,"h3",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"a",6),t.nI1(5,"navigationLocalize"),t.nrm(6,"lucide-icon",7),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,Oa,6,6,"div",8),t.nrm(10,"azt-scroll-to-top-bottom",9)),2&e){const a=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,6,"lang_student_educational_program")," "),t.R7$(2),t.Y8G("routerLink",t.eq3(12,ge,t.bMT(5,8,"/business/create-general-educational-program"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(14,va)),t.R7$(),t.SpI(" ",t.bMT(8,10,"lang_testbank_create_new_matrix")," "),t.R7$(2),t.Y8G("ngForOf",a.groupEducationalProgramDtoObjs),t.R7$(),t.Y8G("isScrollToTop",!0)}}let ja=(()=>{var e;class l extends C.H{showDeleteDialog(n){var i=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+n.name+" </div> ?";this.sAztDialogService.open(M.u,{data:{content:i},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(r=>{r&&(this.isDeletingId=n.id,this.waitDestroy(this.wrapApiResponse(this.programService.apiProgramsIdDelete(n.id)).subscribe(u=>{if(this.isDeletingId=0,!u.success)return this.errorStatusObj(u.message,!0);this.groupEducationalProgramDtoObjs.forEach(b=>b.programObjs=b.programObjs.filter(P=>P.id!=n.id)),this.successStatusObj("lang_core_xoa_chuong_trinh_hoc_thanh_cong",!0)})))})}getSchoolLevel(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(n=>{n.success?(n.data?.schoolLevelSubjectObjs.filter(i=>i.schoolLevel).forEach(i=>{i.schoolLevel&&this.groupEducationalProgramDtoObjs.push({schoolLevelObj:i.schoolLevel,programObjs:[]})}),this.getListProgramObjs()):this.errorStatusObj(n.message,!0)}))}getListProgramObjs(){this.waitDestroy(this.wrapApiResponse(this.programService.apiProgramsListPost({page:1,size:-1})).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.groupEducationalProgramDtoObjs.forEach(i=>{i.programObjs=[...i.programObjs,...(n.data?.list??[]).filter(r=>i.schoolLevelObj.id==r.schoolLevelId)]}),this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_student_educational_program",description:"lang_student_educational_program",image:"lang_cms_test_image"}),this.waitDestroy((0,Ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let n=this.commonService.getMyQueryParam("backto");this.backLink=n||"/business/dashboard"})),super.ngOnInit(),this.getSchoolLevel()}constructor(n,i,r,u){super(),this.activeRoute=n,this.programService=i,this.commonListService=r,this.sAztDialogService=u,this.backLink="",this.groupEducationalProgramDtoObjs=[],this.isDeletingId=0}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(x.nX),t.rXU(Ht.s),t.rXU(Kt.N),t.rXU(D.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-azt-business-educational-program"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"flex","justify-between","mt-5",2,"flex-wrap","wrap"],[1,"text-md-title","font-medium","mr-auto","mt-1"],["azt-track-service","business-educational-program-H1qyTyPt5",1,"btn","btn-primary","px-5","py-2","mt-1",3,"routerLink"],["name","plus","size","16",3,"ngClass"],["class","mt-5",3,"hidden",4,"ngFor","ngForOf"],[3,"isScrollToTop"],[1,"mt-5",3,"hidden"],[1,"text-md-class","font-medium","truncate","mr-auto","mb-3"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-4 xl:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","xl:col-span-3"],[1,"flex","info-infrastructure"],["azt-track-service","business-educational-program-ETIELn-OoJ",1,"col-information","clickable",3,"routerLink"],[1,"flex","items-center"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[3,"ngClass"],[1,"flex","justify-end","items-center"],["azt-track-service","business-educational-program-Kk4G8pkpL",1,"flex","items-center","justify-center",3,"click","matTooltip"],["class","mr-1",4,"ngIf"],["name","trash-2","size","16",3,"ngClass"],[1,"mr-1"]],template:function(n,i){if(1&n&&(t.j41(0,"teacher-layout",1),t.DNE(1,ka,1,1,"azt-loading-effect",2)(2,Fa,11,15,"ng-template",null,0,t.C5r),t.k0s()),2&n){const r=t.sdS(3);t.Y8G("headerBackToLink",i.backLink),t.R7$(),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[x.Wk,o.YU,o.Sq,o.bT,At.oV,dt.K,wt.I,Y.R,ut.Q,d.WGl,g.F2,g.wp,g.t0],styles:[".btn-activity[_ngcontent-%COMP%]{padding:4px 20px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]{padding:4px 20px;background:#8b0000;color:#fff;border-radius:10px;font-weight:500}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{padding:2px 5px;width:calc(100% - 20px)}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#a9a9a9;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:6px;height:100%;box-shadow:0 0 9px #00000024}.btn-delete[_ngcontent-%COMP%]{padding:2px;border-radius:5px}.btn-delete[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:scale(1.1)}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.text-md-class[_ngcontent-%COMP%]{font-size:16px}.truncate[_ngcontent-%COMP%]{width:100%!important}"]}),l})();var he=c(74151),Ut=c(63244);function Ta(e,l){1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_ten_phong_hoc")," "))}function Sa(e,l){1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_so_cho_ngoi")," "))}function Ma(e,l){1&e&&(t.j41(0,"div",20),t.nrm(1,"azt-loading-ui",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dang_luu_doing")," "))}function Ra(e,l){if(1&e){const a=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){t.eBV(a);const i=t.XpG();return t.Njj(i.saveRoom(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&e){const a=t.XpG();t.Y8G("disabled",a.statusObj.loading||a.form.invalid),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_core_luu_va_dong")," ")}}let Ea=(()=>{var e;class l extends k._{closeDialog(){this.dialogRef.close(this.isLoadData)}saveRoom(n){var i={name:this.form.getRawValue().roomName,numberSeat:this.form.getRawValue().numberSeat};this.initStatusObj(),this.waitDestroy(this.data.room?this.wrapApiResponse(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsRoomIdPut(this.data.infrastructureId,this.data.room.id,i)).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);this.dialogRef.close(!0),this.successStatusObj("lang_core_sua_phong_hoc_thanh_cong",!0)}):this.wrapApiResponse(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsPost(this.data.infrastructureId,i)).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);n?this.dialogRef.close(!0):(this.isLoadData=!0,this.form.reset(),this.stopStatusObj()),this.successStatusObj("lang_core_them_phong_hoc_thanh_cong",!0)}))}ngOnInit(){}constructor(n,i,r){super(r,i),this.infrastructureService=n,this.dialogRef=i,this.data=r,this.isLoadData=!1,this.form=new s.gE({roomName:new s.MJ(r.room?.name??"",{nonNullable:!0,validators:[s.k0.required]}),numberSeat:new s.MJ(r.room?.numberSeat,{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9]+$|^[1-9][0-9]*$/)]})})}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(Ut.B),t.rXU(_.CP,8),t.rXU(_.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-create-business-room-dialog"]],features:[t.Vt3],decls:33,vars:27,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[2,"padding","1px"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","roomName",1,"form-label"],["type","text","id","roomName","formControlName","roomName",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","numberSeat",1,"form-label"],["type","text","id","numberSeat","formControlName","numberSeat",1,"form-control",3,"placeholder"],["class","box-save-doing",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-primary",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8","class","btn btn-info ml-2",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"box-save-doing"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-info","ml-2",3,"click","disabled"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",9),t.nI1(15,"mytranslate"),t.DNE(16,Ta,3,3,"div",10),t.k0s(),t.j41(17,"div",11)(18,"label",12),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.nrm(21,"input",13),t.nI1(22,"mytranslate"),t.DNE(23,Sa,3,3,"div",10),t.k0s(),t.DNE(24,Ma,4,3,"div",14),t.k0s()()()(),t.j41(25,"div",15)(26,"button",16),t.bIt("click",function(){return i.closeDialog()}),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"button",17),t.bIt("click",function(){return i.saveRoom(!1)}),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s(),t.DNE(32,Ra,3,4,"button",18),t.k0s()()()),2&n&&(t.R7$(),t.Y8G("formGroup",i.form),t.R7$(4),t.SpI(" ",t.bMT(6,13,i.data.room?"lang_auth_sua_phong_hoc":"lang_core_tao_phong_hoc")," "),t.R7$(7),t.SpI(" ",t.bMT(13,15,"lang_core_ten_phong")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,17,"lang_core_nhap_ten_phong")),t.R7$(2),t.Y8G("ngIf",i.form.controls.roomName.dirty&&i.form.controls.roomName.errors),t.R7$(3),t.SpI(" ",t.bMT(20,19,"lang_core_so_cho_ngoi")," "),t.R7$(2),t.FS9("placeholder",t.bMT(22,21,"lang_auto_nhap_so_cho_ngoi")),t.R7$(2),t.Y8G("ngIf",i.form.controls.numberSeat.dirty&&i.form.controls.numberSeat.errors),t.R7$(),t.Y8G("ngIf",i.statusObj.loading),t.R7$(3),t.JRh(t.bMT(28,23,"lang_button_close")),t.R7$(2),t.Y8G("disabled",i.statusObj.loading||i.form.invalid),t.R7$(),t.SpI(" ",t.bMT(31,25,i.data.room?"lang_student_classroom_list_update":"lang_button_save")," "),t.R7$(2),t.Y8G("ngIf",!i.data.room))},dependencies:[o.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,Dt.t,I.U,Y.R,g.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box-save-doing[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;background:#ffffffad}"]}),l})();var te=c(45785),Da=c(64198),Pa=c(9241);function za(e,l){if(1&e&&(t.nrm(0,"iframe",1),t.nI1(1,"safe")),2&e){const a=t.XpG();t.Y8G("src",t.bMT(1,2,a.embedGoogleMapUrl),t.f$h)("width",a.width)}}let fe=(()=>{var e;class l extends C.H{checkValidLink(){this.embedGoogleMapUrl=(0,Da.lR)(this.htmlEmbedCode)??""}onLoad(){setTimeout(()=>{this.loadedEvent.emit(!0)},0)}ngOnChanges(){this.checkValidLink()}ngOnInit(){super.ngOnInit(),this.checkValidLink()}constructor(){super(),this.width="600px",this.height="400px",this.loadedEvent=new t.bkB,this.embedGoogleMapUrl=""}}return(e=l).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-google-map-embed"]],inputs:{htmlEmbedCode:"htmlEmbedCode",width:"width",height:"height"},outputs:{loadedEvent:"loadedEvent"},features:[t.Vt3,t.OA$],decls:1,vars:1,consts:[["allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade","style","width: -webkit-fill-available; height: auto;min-height:300px",3,"src","width",4,"ngIf"],["allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"width","-webkit-fill-available","height","auto","min-height","300px",3,"src","width"]],template:function(n,i){1&n&&t.DNE(0,za,2,4,"iframe",0),2&n&&t.Y8G("ngIf",i.embedGoogleMapUrl)},dependencies:[o.bT,Pa.w,g.JI],encapsulation:2}),l})();const wa=["drawer"],Aa=(e,l)=>({"w-85":e,"w-25":l}),$a=e=>({"azt-mobile-draw-left":e}),Ga=e=>({"ml-25":e}),Na=e=>({"ml-5":e}),Ba=()=>({height:"80%"}),La=()=>({"text-primary":!0}),Ya=()=>({"text-danger":!0});function Ua(e,l){if(1&e&&t.nrm(0,"azt-loading-effect",6),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function Va(e,l){1&e&&t.nrm(0,"azt-loading-ui",37)}function Xa(e,l){if(1&e&&(t.j41(0,"div",38),t.nrm(1,"azt-google-map-embed",39),t.k0s()),2&e){const a=t.XpG(2);t.R7$(),t.Y8G("htmlEmbedCode",a.obj.mapAddress)}}function Ja(e,l){if(1&e){const a=t.RV6();t.j41(0,"button",40),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(a);const i=t.XpG(2);return t.Njj(i.sAztMatDrawerService.openDrawer())}),t.nrm(2,"lucide-icon",41),t.k0s()}2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_mo_menu"))}function Wa(e,l){if(1&e){const a=t.RV6();t.j41(0,"button",42),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(a);const i=t.XpG(2);return t.Njj(i.sAztMatDrawerService.closeDrawer())}),t.nrm(2,"lucide-icon",43),t.k0s()}2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_dong_menu"))}function Ha(e,l){1&e&&(t.j41(0,"span",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_them_phong_hoc")))}function Ka(e,l){1&e&&t.nrm(0,"azt-loading-ui",37)}function Qa(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",47)(1,"div",48)(2,"div",49)(3,"h3",50),t.EFF(4),t.k0s(),t.j41(5,"div"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",51)(9,"button",52),t.nI1(10,"mytranslate"),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG(3);return t.Njj(r.addOrUpdateRoom(i))}),t.nrm(11,"lucide-icon",53),t.k0s(),t.j41(12,"button",54),t.nI1(13,"mytranslate"),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG(3);return t.Njj(r.showDeleteRoomDialog(i))}),t.DNE(14,Ka,1,0,"azt-loading-ui",18),t.nrm(15,"lucide-icon",55),t.k0s()()()()}if(2&e){const a=l.$implicit,n=t.XpG(3);t.R7$(3),t.FS9("matTooltip",a.name),t.R7$(),t.SpI(" ",a.name," "),t.R7$(2),t.Lme("",t.bMT(7,9,"lang_core_so_cho_ngoi"),": ",a.numberSeat,""),t.R7$(3),t.FS9("matTooltip",t.bMT(10,11,"lang_button_edit")),t.R7$(2),t.Y8G("ngClass",t.lJ4(15,La)),t.R7$(),t.FS9("matTooltip",t.bMT(13,13,"lang_student_classroom_list_delete")),t.R7$(2),t.Y8G("ngIf",n.isDeletingId==a.id),t.R7$(),t.Y8G("ngClass",t.lJ4(16,Ya))}}function Za(e,l){if(1&e&&(t.j41(0,"div")(1,"div",45),t.DNE(2,Qa,16,17,"div",46),t.k0s()()),2&e){const a=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",a.roomObjs)}}function qa(e,l){1&e&&(t.j41(0,"div",56),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_danh_sach_phong_hoc_trong")," "))}function ti(e,l){if(1&e){const a=t.RV6();t.j41(0,"mat-drawer-container",7)(1,"mat-drawer",8,1)(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12)(7,"h3",13),t.EFF(8),t.k0s()(),t.j41(9,"div",14)(10,"span",15),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",14)(14,"span",15),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",14)(18,"span",15),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.j41(21,"div")(22,"div",16)(23,"div",17),t.DNE(24,Va,1,0,"azt-loading-ui",18),t.EFF(25),t.nI1(26,"mytranslate"),t.nrm(27,"lucide-icon",19),t.k0s()(),t.j41(28,"mat-menu",null,2)(30,"div",20)(31,"ul",21)(32,"li")(33,"button",22),t.bIt("click",function(){t.eBV(a);const i=t.XpG();return t.Njj(i.changeActivity())}),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s()()()()()(),t.DNE(36,Xa,2,1,"div",23),t.k0s()()()(),t.j41(37,"mat-drawer-content",24)(38,"div",25)(39,"div",26),t.DNE(40,Ja,3,3,"button",27)(41,Wa,3,3,"button",28),t.j41(42,"div",29)(43,"button",30),t.bIt("click",function(){t.eBV(a);const i=t.XpG();return t.Njj(i.addOrUpdateRoom())}),t.nrm(44,"lucide-icon",31),t.DNE(45,Ha,3,3,"span",32),t.k0s()()(),t.j41(46,"div",33)(47,"h2",34),t.EFF(48),t.nI1(49,"mytranslate"),t.k0s(),t.DNE(50,Za,3,1,"div",35)(51,qa,3,3,"ng-template",null,3,t.C5r),t.k0s()()()(),t.nrm(53,"azt-scroll-to-top-bottom",36)}if(2&e){const a=t.sdS(29),n=t.sdS(52),i=t.XpG();t.Y8G("hasBackdrop",i.sAztMatDrawerService.hasBackdrop),t.R7$(),t.FS9("opened",i.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Y8G("ngClass",t.l_i(41,Aa,i.isMobileDevice,!i.isMobileDevice))("mode",i.sAztMatDrawerService.mode),t.R7$(2),t.Y8G("ngClass",t.eq3(44,$a,i.isMobileDevice)),t.R7$(4),t.FS9("matTooltip",i.obj.name),t.R7$(),t.SpI(" ",i.obj.name," "),t.R7$(3),t.Lme("",t.bMT(12,29,"lang_test_market_address"),": ",i.obj.address,""),t.R7$(4),t.Lme("",t.bMT(16,31,"lang_auto_dien_thoai"),": ",i.obj.phone,""),t.R7$(4),t.Lme("",t.bMT(20,33,"lang_auto_tong_so_phong_hoc"),": ",i.obj.totalRoom,""),t.R7$(3),t.Y8G("matMenuTriggerFor",a),t.R7$(),t.Y8G("ngClass",1==i.obj.status?"btn-activity":"btn-not-activity"),t.R7$(),t.Y8G("ngIf",i.isChangingActivityId==i.obj.id),t.R7$(),t.SpI(" ",t.bMT(26,35,0==i.obj.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(9),t.SpI(" ",t.bMT(35,37,1==i.obj.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(2),t.Y8G("ngIf",i.obj.mapAddress),t.R7$(),t.Y8G("ngClass",t.eq3(46,Ga,!i.isMobileDevice&&i.sAztMatDrawerService.isOpenSideNav)),t.R7$(),t.Y8G("ngClass",t.eq3(48,Na,!i.isMobileDevice&&i.sAztMatDrawerService.isOpenSideNav)),t.R7$(2),t.Y8G("ngIf",!i.sAztMatDrawerService.isOpenSideNav||i.isMobileDevice),t.R7$(),t.Y8G("ngIf",i.sAztMatDrawerService.isOpenSideNav&&!i.isMobileDevice),t.R7$(4),t.Y8G("ngIf",!i.isMobileDevice||i.isMobileWebView),t.R7$(),t.Y8G("ngStyle",t.lJ4(50,Ba)),t.R7$(2),t.SpI(" ",t.bMT(49,39,"lang_core_danh_sach_phong_hoc")," "),t.R7$(2),t.Y8G("ngIf",i.roomObjs.length>0)("ngIfElse",n),t.R7$(3),t.Y8G("isScrollToTop",!0)}}let ei=(()=>{var e;class l extends C.H{set drawer(n){this.sAztMatDrawerService.resizeDrawerHeight(!0,n)}addOrUpdateRoom(n){this.sAztDialogService.open(Ea,{data:{infrastructureId:this.infrastructureId,room:n},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(r=>{r&&this.getRooms()})}showDeleteRoomDialog(n){var i=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+n.name+" </div>";this.sAztDialogService.open(M.u,{data:{content:i},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(r=>{r&&(this.isDeletingId=n.id,this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsRoomIdDelete(this.obj.id,n.id)).subscribe(u=>{if(this.isDeletingId=0,!u.success)return this.errorStatusObj(u.message,!0);this.roomObjs=this.roomObjs.filter(b=>n.id!=b.id),this.successStatusObj("lang_core_xoa_phong_hoc_thanh_cong",!0)})))})}changeActivity(){if(!this.obj)return;this.isChangingActivityId=this.obj.id;let n=0==this.obj.status?this.infrastructureService.apiInfrastructuresIdActivatePut(this.obj.id):this.infrastructureService.apiInfrastructuresIdDeactivatePut(this.obj.id);this.waitDestroy(this.wrapApiResponse(n).subscribe(i=>(this.isChangingActivityId=0,i.success?i.data&&this.obj?void(this.obj.status=0==this.obj.status?1:0):this.errorStatusObj("lang_core_co_loi_khi_doi_trang_thai",!0):this.errorStatusObj(i.message,!0))))}initData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresIdGet(this.infrastructureId)).subscribe(n=>{if(!n.success||!n.data)return this.errorStatusObj(n.message,!0);this.obj=n.data,this.getRooms()}))}getRooms(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsGet(this.infrastructureId,-1,100)).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.roomObjs=n.data?.list??[],this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chi_tiet_co_so",image:"lang_cms_test_image"}),super.ngOnInit(),this.infrastructureId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.initData()}constructor(n,i,r,u){super(),this.activeRoute=n,this.infrastructureService=i,this.sAztDialogService=r,this.sAztMatDrawerService=u,this.backToLink="/business/infrastructure",this.infrastructureId=0,this.roomObjs=[],this.isChangingActivityId=0,this.isDeletingId=0}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(x.nX),t.rXU(Ut.B),t.rXU(D.i),t.rXU(he.n))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-list-classroom-in-infrastructure"]],viewQuery:function(n,i){if(1&n&&t.GBs(wa,5),2&n){let r;t.mGM(r=t.lsd())&&(i.drawer=r.first)}},features:[t.Jv_([he.n]),t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["drawer",""],["menuSelectActivity","matMenu"],["emptyList",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"azt-drawer-container","mt-5",3,"hasBackdrop"],[3,"ngClass","mode","opened"],[1,"azt-draw-left",2,"overflow-x","hidden",3,"ngClass"],[1,"box"],[1,"p-3"],[1,"flex","items-center"],[1,"text-md","font-medium","truncate","mr-auto","mt-2",3,"matTooltip"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[1,"flex","items-center","mt-2",3,"matMenuTriggerFor"],[1,"text-sm","clickable","btn","btn-primary",3,"ngClass"],["class","mr-1",4,"ngIf"],["name","chevron-down","size","16"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full","clickable",3,"click"],["class","pt-3",4,"ngIf"],[3,"ngClass"],[1,"azt-drawer-content",3,"ngClass"],[1,"flex","box","sm:h-auto","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-2"],["azt-track-service","detail-infrastructure-dBQFBBora","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","detail-infrastructure-qa6EG4yZyv","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"relative","flex","ml-auto"],["azt-track-service","detail-infrastructure-LAD7A9vcci",1,"btn","btn-primary","pl-2","pr-2","py-1",3,"click"],["name","plus","size","16"],["class","text-sm ml-2",4,"ngIf"],[1,"box","relative","p-3",3,"ngStyle"],[1,"font-medium","truncate","mr-auto"],[4,"ngIf","ngIfElse"],[3,"isScrollToTop"],[1,"mr-1"],[1,"pt-3"],[3,"htmlEmbedCode"],["azt-track-service","detail-infrastructure-dBQFBBora",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-open","size","16"],["azt-track-service","detail-infrastructure-qa6EG4yZyv",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-close","size","16"],[1,"text-sm","ml-2"],[1,"grid","grid-cols-12","gap-3"],["class","col-span-12 sm:col-span-6 md:col-span-4 2xl:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","2xl:col-span-3"],[1,"flex","justify-between","info-class-room"],[1,"col-information"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"flex"],["azt-track-service","list-classroom-in-infrastructure--l-N2YP70a",1,"btn-flex","items-center","justify-center","mr-2",3,"click","matTooltip"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","list-classroom-in-infrastructure-QSKDgXBGhe",1,"flex","items-center","justify-center",3,"click","matTooltip"],["name","trash-2","size","16",3,"ngClass"],[1,"flex","justify-center"]],template:function(n,i){if(1&n&&(t.j41(0,"teacher-layout",4),t.DNE(1,Ua,1,1,"azt-loading-effect",5)(2,ti,54,51,"ng-template",null,0,t.C5r),t.k0s()),2&n){const r=t.sdS(3);t.Y8G("headerBackToLink",i.backToLink),t.R7$(),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[o.YU,o.Sq,o.bT,o.B3,mt.kk,mt.Cp,te.qe,te.$C,te.$l,At.oV,dt.K,wt.I,Y.R,fe,ut.Q,d.WGl,g.wp],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:#37ca37!important}.btn-not-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#98110c;color:#fff;border-radius:10px;font-weight:500}.btn-not-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{padding:2px 5px;width:calc(100% - 50px)}.info-class-room[_ngcontent-%COMP%]{background:#f0f8ff;padding:10px;border-radius:6px}.setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.azt-draw-left-container[_ngcontent-%COMP%] > .mat-drawer-inner-container[_ngcontent-%COMP%]{overflow:auto!important}.hide[_ngcontent-%COMP%]{display:none!important}.hover[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{width:20px!important;height:20px!important;stroke-width:1.8px!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:#354567}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),l})();function ni(e,l){1&e&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_ten_co_so")," "))}function oi(e,l){1&e&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_dia_chi")," "))}function ai(e,l){1&e&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function ii(e,l){1&e&&(t.j41(0,"div",25),t.nrm(1,"azt-loading-ui",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dang_luu_doing")," "))}function si(e,l){if(1&e){const a=t.RV6();t.j41(0,"button",27),t.bIt("click",function(){t.eBV(a);const i=t.XpG();return t.Njj(i.saveData(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&e){const a=t.XpG();t.Y8G("disabled",a.statusObj.loading||a.form.controls.infrastructureName.errors||a.form.controls.phoneNumber.errors||a.form.controls.address.errors),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_core_luu_va_dong")," ")}}let ri=(()=>{var e;class l extends k._{closeDialog(){this.dialogRef.close(this.isLoadData)}saveData(n){var i={name:this.form.getRawValue().infrastructureName,address:this.form.getRawValue().address,mapAddress:this.form.getRawValue().mapAddress,phone:this.form.getRawValue().phoneNumber};this.initStatusObj(),this.waitDestroy(this.data?this.infrastructureService.apiInfrastructuresIdPut(this.data.id,i).subscribe(r=>{r.success?(this.successStatusObj("lang_core_tsua_co_so_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_core_sua_co_so_khong_thanh_cong",!0)}):this.wrapApiResponse(this.infrastructureService.apiInfrastructuresPost(i)).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);n?this.dialogRef.close(!0):(this.isLoadData=!0,this.form.reset(),this.stopStatusObj()),this.successStatusObj("lang_core_them_co_so_thanh_cong",!0)}))}ngOnInit(){}constructor(n,i,r){super(r,i),this.infrastructureService=n,this.dialogRef=i,this.data=r,this.isLoadData=!1,this.form=new s.gE({infrastructureName:new s.MJ(r?.name??"",{nonNullable:!0,validators:[s.k0.required]}),address:new s.MJ(r?.address??"",{nonNullable:!0,validators:[s.k0.required]}),phoneNumber:new s.MJ(r?.phone??"",{nonNullable:!0,validators:[s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),mapAddress:new s.MJ(r?.mapAddress??"",{nonNullable:!0})})}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(Ut.B),t.rXU(_.CP,8),t.rXU(_.Vh))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-create-or-info-infrastructure"]],features:[t.Vt3],decls:56,vars:51,consts:[[1,"box","infrastructure-dialog"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","list-class"],["for","infrastructureName",1,"form-label"],["type","text","id","infrastructureName","formControlName","infrastructureName",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control",3,"placeholder"],["for","phoneNumber",1,"form-label"],["type","text","id","phoneNumber","formControlName","phoneNumber",1,"form-control",3,"placeholder"],["for","map",1,"form-label"],[1,"text-sm"],["azt-track-service","create-or-update-info-infrastructure-dialog-0UswBviDw","href","https://www.google.com/maps","target","_blank",2,"color","blue","text-decoration","underline"],["type","text","formControlName","mapAddress",1,"form-control",3,"placeholder"],[3,"htmlEmbedCode"],["class","box-save-doing",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-primary",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8","class","btn btn-info ml-2",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"box-save-doing"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-info","ml-2",3,"click","disabled"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div")(10,"label",6),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.nrm(13,"input",7),t.nI1(14,"mytranslate"),t.DNE(15,ni,3,3,"div",8),t.k0s(),t.j41(16,"div",9)(17,"label",10),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.nrm(20,"input",11),t.nI1(21,"mytranslate"),t.DNE(22,oi,3,3,"div",8),t.k0s(),t.j41(23,"div",9)(24,"label",12),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.nrm(27,"input",13),t.nI1(28,"mytranslate"),t.DNE(29,ai,3,3,"div",8),t.k0s(),t.j41(30,"div",9)(31,"label",14),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.j41(34,"div",15),t.EFF(35),t.nI1(36,"mytranslate"),t.j41(37,"a",16),t.EFF(38,"Google Maps"),t.k0s(),t.EFF(39),t.nI1(40,"mytranslate"),t.nrm(41,"br"),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s(),t.nrm(44,"input",17),t.nI1(45,"mytranslate"),t.k0s(),t.nrm(46,"azt-google-map-embed",18),t.DNE(47,ii,4,3,"div",19),t.k0s()()(),t.j41(48,"div",20)(49,"button",21),t.bIt("click",function(){return i.closeDialog()}),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s(),t.j41(52,"button",22),t.bIt("click",function(){return i.saveData(!1)}),t.EFF(53),t.nI1(54,"mytranslate"),t.k0s(),t.DNE(55,si,3,4,"button",23),t.k0s()()()),2&n&&(t.R7$(),t.Y8G("formGroup",i.form),t.R7$(4),t.SpI(" ",t.bMT(6,23,i.data?"lang_core_sua_co_so":"lang_core_them_co_so")," "),t.R7$(6),t.SpI(" ",t.bMT(12,25,"lang_core_ten_co_so")," "),t.R7$(2),t.FS9("placeholder",t.bMT(14,27,"lang_core_nhap_ten_co_so")),t.BMQ("autofocus",!1),t.R7$(2),t.Y8G("ngIf",i.form.controls.infrastructureName.dirty&&i.form.controls.infrastructureName.errors),t.R7$(3),t.SpI(" ",t.bMT(19,29,"lang_test_market_address")," "),t.R7$(2),t.FS9("placeholder",t.bMT(21,31,"lang_core_vui_nhap_dia_chi")),t.R7$(2),t.Y8G("ngIf",i.form.controls.address.dirty&&i.form.controls.address.errors),t.R7$(3),t.SpI(" ",t.bMT(26,33,"lang_number_phone")," "),t.R7$(2),t.FS9("placeholder",t.bMT(28,35,"lang_auto_nhap_so_dien_thoai")),t.R7$(2),t.Y8G("ngIf",i.form.controls.phoneNumber.dirty&&i.form.controls.phoneNumber.errors),t.R7$(3),t.SpI(" ",t.bMT(33,37,"lang_auto_ban_do")," "),t.R7$(3),t.SpI(" ",t.bMT(36,39,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_1")," "),t.R7$(4),t.SpI(" ",t.bMT(40,41,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_2")," "),t.R7$(3),t.SpI(" ",t.bMT(43,43,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_3")," "),t.R7$(2),t.FS9("placeholder",t.bMT(45,45,"lang_core_dan_dia_chi_da_sao_chep")),t.R7$(2),t.Y8G("htmlEmbedCode",i.form.controls.mapAddress.value),t.R7$(),t.Y8G("ngIf",i.statusObj.loading),t.R7$(3),t.JRh(t.bMT(51,47,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",i.statusObj.loading||i.form.controls.infrastructureName.errors||i.form.controls.phoneNumber.errors||i.form.controls.address.errors),t.R7$(),t.SpI(" ",t.bMT(54,49,i.data?"lang_student_classroom_list_update":"lang_button_save")," "),t.R7$(2),t.Y8G("ngIf",!i.data))},dependencies:[o.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,Dt.t,I.U,Y.R,fe,g.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}.iframeViewMap[_ngcontent-%COMP%]{width:-webkit-fill-available;height:auto}iframe[_ngcontent-%COMP%]{width:-webkit-fill-available}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.text-sm[_ngcontent-%COMP%]{font-size:12px}.box-save-doing[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;background:#ffffffad}"]}),l})();const li=()=>({"mr-2":!0}),ci=e=>[e],mi=()=>({"mr-2 text-danger":!0});function di(e,l){if(1&e&&t.nrm(0,"azt-loading-effect",4),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function ui(e,l){1&e&&t.nrm(0,"azt-loading-ui",32)}function _i(e,l){1&e&&t.nrm(0,"azt-loading-ui",32)}function pi(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",14)(1,"a",15),t.nI1(2,"navigationLocalize"),t.j41(3,"h3",16),t.EFF(4),t.k0s(),t.j41(5,"div",17)(6,"span",18),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"div",17)(11,"span",18),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.EFF(14),t.k0s(),t.j41(15,"div",17)(16,"span",18),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.EFF(19),t.k0s()(),t.j41(20,"div",19)(21,"div")(22,"div",20),t.DNE(23,ui,1,0,"azt-loading-ui",21),t.EFF(24),t.nI1(25,"mytranslate"),t.nrm(26,"lucide-icon",22),t.k0s(),t.j41(27,"mat-menu",23,1)(29,"div",24)(30,"ul",25)(31,"li")(32,"button",26),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG(2);return t.Njj(r.changeActivity(i))}),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s()()()()()(),t.j41(35,"div",27)(36,"button",28),t.nI1(37,"mytranslate"),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG(2);return t.Njj(r.openAddOrEditInfrastructure(i))}),t.nrm(38,"lucide-icon",29),t.k0s(),t.j41(39,"button",30),t.nI1(40,"mytranslate"),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG(2);return t.Njj(r.showDeleteRoomDialog(i))}),t.DNE(41,_i,1,0,"azt-loading-ui",21),t.nrm(42,"lucide-icon",31),t.k0s()()()()}if(2&e){const a=l.$implicit,n=t.sdS(28),i=t.XpG(2);t.R7$(),t.Y8G("routerLink",t.eq3(34,ci,t.bMT(2,18,"/business/infrastructure/"+a.id))),t.R7$(2),t.FS9("matTooltip",a.name),t.R7$(),t.SpI(" ",a.name," "),t.R7$(3),t.JRh(t.bMT(8,20,"lang_test_market_address")),t.R7$(2),t.SpI(" : ",a.address," "),t.R7$(3),t.JRh(t.bMT(13,22,"lang_auto_dien_thoai")),t.R7$(2),t.SpI(" : ",a.phone," "),t.R7$(3),t.JRh(t.bMT(18,24,"lang_auto_tong_so_phong_hoc")),t.R7$(2),t.SpI(" : ",a.totalRoom," "),t.R7$(3),t.Y8G("ngClass",1==a.status?"btn-activity":"btn-un-activity")("matMenuTriggerFor",n),t.R7$(),t.Y8G("ngIf",i.isChangingActivityId==a.id),t.R7$(),t.SpI(" ",t.bMT(25,26,0==a.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(9),t.SpI(" ",t.bMT(34,28,1==a.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(3),t.FS9("matTooltip",t.bMT(37,30,"lang_button_edit")),t.R7$(3),t.FS9("matTooltip",t.bMT(40,32,"lang_student_classroom_list_delete")),t.R7$(2),t.Y8G("ngIf",i.isDeletingId==a.id),t.R7$(),t.Y8G("ngClass",t.lJ4(36,mi))}}function gi(e,l){if(1&e){const a=t.RV6();t.j41(0,"h3",5),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.j41(3,"div",6),t.DNE(4,pi,43,37,"div",7),t.j41(5,"div",8)(6,"div",9),t.bIt("click",function(){t.eBV(a);const i=t.XpG();return t.Njj(i.openAddOrEditInfrastructure())}),t.j41(7,"div",10),t.nrm(8,"lucide-icon",11),t.j41(9,"div",12),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()()()(),t.nrm(12,"azt-scroll-to-top-bottom",13)}if(2&e){const a=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,5,"lang_auto_quan_ly_co_so_vat_chat")," "),t.R7$(3),t.Y8G("ngForOf",a.objs),t.R7$(4),t.Y8G("ngClass",t.lJ4(9,li)),t.R7$(2),t.SpI(" ",t.bMT(11,7,"lang_auto_them_co_so")," "),t.R7$(2),t.Y8G("isScrollToTop",!0)}}let hi=(()=>{var e;class l extends C.H{openAddOrEditInfrastructure(n){this.sAztDialogService.open(ri,{data:n,restoreFocus:!1,width:"800px"}).afterClosed().subscribe(i=>{i&&this.getData()})}showDeleteRoomDialog(n){var i=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+n.name+" </div> ?";this.sAztDialogService.open(M.u,{data:{content:i},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(r=>{r&&(this.isDeletingId=n.id,this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresIdDelete(n.id)).subscribe(u=>(this.isDeletingId=0,u.success?u?(this.objs=this.objs.filter(b=>b.id!=n.id),void this.successStatusObj("lang_core_xoa_co_so_thanh_cong")):this.errorStatusObj("lang_core_xoa_co_so_khong_thanh_cong",!0):this.errorStatusObj(u.message,!0)))))})}changeActivity(n){var i=this.objs.find(u=>u.id==n.id);if(!i)return;this.isChangingActivityId=n.id;let r=0==i.status?this.infrastructureService.apiInfrastructuresIdActivatePut(n.id):this.infrastructureService.apiInfrastructuresIdDeactivatePut(n.id);this.waitDestroy(this.wrapApiResponse(r).subscribe(u=>(this.isChangingActivityId=0,u.success?u.data&&i?void(i.status=0==i.status?1:0):this.errorStatusObj("lang_core_co_loi_khi_doi_trang_thai",!0):this.errorStatusObj(u.message,!0))))}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresListPost({size:-1,page:1})).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.objs=n.data?.list??[],this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_co_so_vat_chat",image:"lang_cms_test_image"}),super.ngOnInit(),this.getData()}constructor(n,i){super(),this.infrastructureService=n,this.sAztDialogService=i,this.objs=[],this.isChangingActivityId=0,this.isDeletingId=0}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(Ut.B),t.rXU(D.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["list-infrastructure"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["menuSelectActivity","matMenu"],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"text-md-title","font-medium","truncate","mr-auto","mt-5"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["class","col-span-12 sm:col-span-6 xl:col-span-3 box",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","xl:col-span-3"],["azt-track-service","list-infrastructure-0HrlOWafsi",1,"grid","items-center","btn-add-infrastructure","clickable",3,"click"],[1,"flex","justify-center"],["name","plus","size","24",3,"ngClass"],[1,"text-add-cs"],[3,"isScrollToTop"],[1,"col-span-12","sm:col-span-6","xl:col-span-3","box"],["azt-track-service","list-infrastructure-tBcgbalH2n",1,"clickable","block","p-3","pb-0",3,"routerLink"],[1,"text-md","font-bold","truncate","mr-auto",3,"matTooltip"],[1,"text-sm"],[1,"font-medium"],[1,"flex","justify-between","items-center","p-3"],[1,"text-sm","medium","clickable","btn","btn-primary",3,"ngClass","matMenuTriggerFor"],["class","mr-1",4,"ngIf"],["name","chevron-down","size","16"],["xPosition","before"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],[1,"flex"],["azt-track-service","list-infrastructure-xLbmhq55M",1,"btn-flex","items-center","justify-center","mr-2",3,"click","matTooltip"],["name","square-pen","size","20",2,"color","dodgerblue"],["azt-track-service","list-infrastructure--kkgd3LUEQ",1,"flex","items-center","justify-center",3,"click","matTooltip"],["name","trash-2","size","16",3,"ngClass"],[1,"mr-1"]],template:function(n,i){if(1&n&&(t.j41(0,"teacher-layout",2),t.DNE(1,di,1,1,"azt-loading-effect",3)(2,gi,13,10,"ng-template",null,0,t.C5r),t.k0s()),2&n){const r=t.sdS(3);t.Y8G("headerBackToLink","/business/dashboard"),t.R7$(),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[x.Wk,o.YU,o.Sq,o.bT,mt.kk,mt.Cp,At.oV,dt.K,wt.I,Y.R,ut.Q,d.WGl,g.F2,g.wp],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:#37ca37!important}.btn-un-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#8b0000;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{width:100%}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#909090;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%], .btn-add-infrastructure[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:6px;height:100%}.btn-add-infrastructure[_ngcontent-%COMP%]:hover{background:#e1e0e0}.lucide-plus[_ngcontent-%COMP%]{stroke-width:4px!important;color:#a9a9a9}.col-information[_ngcontent-%COMP%]{padding:2px 5px}.col-information[_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px 5px}.btn-delete-room[_ngcontent-%COMP%]{z-index:999}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px}.text-md-title[_ngcontent-%COMP%]{font-size:20px}"]}),l})();var be=c(26988),fi=c(78916),bi=c(68323);const vi=e=>({"mt-5":e}),Ci=e=>[e],xi=e=>({backTo:e}),ki=e=>({"z-index":e});function yi(e,l){if(1&e&&t.nrm(0,"azt-loading-effect",4),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function Ii(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_config_educational_program_day_0"),","))}function Oi(e,l){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){let a;const n=t.XpG().$implicit;t.R7$(),t.SpI("",t.bMT(2,1,"lang_config_educational_program_day_"+(null!==(a=n.day)&&void 0!==a?a:0)),",")}}function Fi(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auto_hom_nay"),","))}function ji(e,l){if(1&e&&(t.j41(0,"div",27)(1,"div"),t.nrm(2,"azt-create-avatar",28),t.k0s()()),2&e){const a=l.$implicit,n=l.index,i=t.XpG(2).$implicit;t.Y8G("ngStyle",t.eq3(4,ki,i.users.length-n)),t.R7$(2),t.Y8G("linkAvatar",a.avatar)("nameCreateAvatar",a.fullName)("size",25)}}function Ti(e,l){if(1&e&&(t.j41(0,"div",24)(1,"span",25),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,ji,3,6,"div",26),t.k0s()),2&e){const a=t.XpG().$implicit;t.R7$(2),t.SpI("",t.bMT(3,2,"lang_auto_giang_vien"),":\xa0"),t.R7$(2),t.Y8G("ngForOf",a.users)}}function Si(e,l){if(1&e&&(t.j41(0,"div",13)(1,"div",14)(2,"h3",15),t.EFF(3),t.k0s()(),t.j41(4,"a",16),t.nI1(5,"navigationLocalize"),t.j41(6,"div",17)(7,"h3",18),t.EFF(8),t.k0s(),t.j41(9,"div",19),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"div",20)(13,"span",21),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",22)(17,"span",21),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()(),t.DNE(20,Ti,5,4,"div",23),t.k0s()()),2&e){const a=l.$implicit,n=t.XpG(4);t.R7$(3),t.Lme("",a.fromTime," - ",a.toTime,""),t.R7$(),t.Y8G("routerLink",t.eq3(21,Ci,t.bMT(5,13,"/admin/student/classroom-details/"+a.classroomId+"/3")))("queryParams",t.eq3(23,xi,n.returnUrl)),t.R7$(4),t.SpI(" ",a.classroomName," "),t.R7$(2),t.Lme("",t.bMT(11,15,"lang_core_buoi")," ",null==a.currentSession?null:a.currentSession.sort,""),t.R7$(4),t.Lme("",t.bMT(15,17,"lang_student_educational_program"),": ",null==a.program?null:a.program.name,""),t.R7$(4),t.E5c("",t.bMT(19,19,"lang_core_phong_hoc"),": ",null==a.infrastructure?null:a.infrastructure.name," - ",null==a.room?null:a.room.name,""),t.R7$(2),t.Y8G("ngIf",a.users&&a.users.length>0)}}function Mi(e,l){if(1&e&&(t.j41(0,"div",9)(1,"h2",10),t.DNE(2,Ii,3,3,"span",11)(3,Oi,3,3,"span",11)(4,Fi,3,3,"span",11),t.EFF(5),t.nI1(6,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.DNE(7,Si,21,25,"div",12),t.k0s()),2&e){let a;const n=l.$implicit,i=t.XpG(3);t.R7$(),t.Y8G("ngClass",i.isTodayDate(n.date)?"date-color":""),t.R7$(),t.Y8G("ngIf",0==n.day&&!i.isTodayDate(n.date)),t.R7$(),t.Y8G("ngIf",(null!==(a=n.day)&&void 0!==a?a:0)>0),t.R7$(),t.Y8G("ngIf",0==n.day&&i.isTodayDate(n.date)),t.R7$(),t.SpI(" ",t.bMT(6,6,n.date)," "),t.R7$(2),t.Y8G("ngForOf",n.sessions)}}function Ri(e,l){1&e&&t.nrm(0,"azt-loading-ui",33)}function Ei(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",29)(1,"span",30),t.bIt("click",function(){t.eBV(a);const i=t.XpG(3);return t.Njj(!i.sAztNextPaginationService.isLoadingNextPage&&i.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"lucide-icon",31),t.DNE(5,Ri,1,0,"azt-loading-ui",32),t.k0s()()}if(2&e){const a=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_instructional_work_see_more")," "),t.R7$(3),t.Y8G("ngIf",a.sAztNextPaginationService.isLoadingNextPage)}}function Di(e,l){if(1&e&&(t.qex(0),t.DNE(1,Mi,8,8,"div",7)(2,Ei,6,4,"div",8),t.bVm()),2&e){const a=t.XpG(2);t.R7$(),t.Y8G("ngForOf",a.listGroupScheduleObjs),t.R7$(),t.Y8G("ngIf",a.listGroupScheduleObjs.length&&a.sAztNextPaginationService.hasNextPage)}}function Pi(e,l){1&e&&(t.j41(0,"div",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_list_null")," "))}function zi(e,l){if(1&e&&(t.j41(0,"h3",5),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.DNE(3,Di,3,2,"ng-container",6)(4,Pi,3,3,"ng-template",null,1,t.C5r)),2&e){const a=t.sdS(5),n=t.XpG();t.Y8G("ngClass",t.eq3(6,vi,!n.isMobileWebView)),t.R7$(),t.SpI(" ",t.bMT(2,4,"lang_business_instructional_work_title")," "),t.R7$(2),t.Y8G("ngIf",n.listGroupScheduleObjs.length>0)("ngIfElse",a)}}let wi=(()=>{var e;class l extends C.H{isTodayDate(n){if(!n)return!1;var i=new Date;return i.getDay()==n.getDay()&&n.getMonth()==i.getMonth()&&i.getFullYear()==n.getFullYear()}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}formatHour(n){let i=new Date(n??"");return`${i.getHours().toString().padStart(2,"0")}:${i.getMinutes().toString().padStart(2,"0")}`}getData(n){n?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.schedulerService.apiSchedulersListPost({page:this.sAztNextPaginationService.curPage,size:this.sAztNextPaginationService.itemPerPage})).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message,!0);this.scheduleObjs=this.scheduleObjs.concat(i.data?.list??[]);let r=this.commonService.arrayToDictionary(this.scheduleObjs,b=>b.currentSession?.date?.toString()??""),u=[];Object.entries(r).forEach(([b,P],Q)=>{if(P.length<=0)return;let v=P[0],B=this.formatHour(v.currentSession?.fromTime),st=this.formatHour(v.currentSession?.toTime);var jt=(P=P.sort((vt,oe)=>(vt.currentSession?.sort??0)-(oe.currentSession?.sort??1))).map(vt=>({...vt,fromTime:this.formatHour(vt.currentSession?.fromTime),toTime:this.formatHour(vt.currentSession?.toTime)}));const Tt={date:new Date(v.currentSession?.date??""),day:v.currentSession?.day,fromTime:B,toTime:st,sessions:jt};u.push(Tt)}),this.listGroupScheduleObjs=u,this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(i.data?.total??0),this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_business_instructional_work_title",image:"lang_cms_test_image"}),this.waitDestroy((0,Ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let n=this.commonService.getMyQueryParam("backto");this.backLink=n||"/business/dashboard"})),super.ngOnInit(),this.getData(!1)}constructor(n,i,r){super(),this.activeRoute=n,this.schedulerService=i,this.sAztNextPaginationService=r,this.backLink="",this.returnUrl="/business/instructional-work",this.scheduleObjs=[],this.listGroupScheduleObjs=[]}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(x.nX),t.rXU(fi.P),t.rXU(be.h))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-azota-business-instructional"]],features:[t.Jv_([be.h]),t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["emptyList",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"text-md-title","font-medium","truncate","mr-auto",3,"ngClass"],[4,"ngIf","ngIfElse"],["class","pt-5",4,"ngFor","ngForOf"],["class","pt-3 font-medium",4,"ngIf"],[1,"pt-5"],[1,"text-md","font-medium","truncate","mr-auto","title-day",3,"ngClass"],[4,"ngIf"],["class","flex mt-3","style","flex-wrap: wrap",4,"ngFor","ngForOf"],[1,"flex","mt-3",2,"flex-wrap","wrap"],[1,"mr-5"],[1,"text-md","font-medium",2,"white-space","pre"],["azt-track-service","business-instructional-work-wb-lhbFmj",1,"box-teaching-hour","clickable",3,"routerLink","queryParams"],[1,"flex"],[1,"text-md","font-medium","truncate","mr-auto"],[1,"session"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[1,"flex","items-center","justify-between","mt-1"],["class","flex items-center mt-1","style","flex-wrap: wrap;",4,"ngIf"],[1,"flex","items-center","mt-1",2,"flex-wrap","wrap"],[2,"font-weight","500","white-space","nowrap"],["class","show-tickets clickable","style","margin: 3px 0 3px 0.25rem;",3,"ngStyle",4,"ngFor","ngForOf"],[1,"show-tickets","clickable",2,"margin","3px 0 3px 0.25rem",3,"ngStyle"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"pt-3","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["name","chevron-down","size","20"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"flex","justify-center","pt-3"]],template:function(n,i){if(1&n&&(t.j41(0,"teacher-layout",2),t.DNE(1,yi,1,1,"azt-loading-effect",3)(2,zi,6,8,"ng-template",null,0,t.C5r),t.k0s()),2&n){const r=t.sdS(3);t.Y8G("headerBackToLink",i.backLink),t.R7$(),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[x.Wk,o.YU,o.Sq,o.bT,o.B3,dt.K,bi.p,Y.R,ut.Q,d.WGl,g.F2,g.wp,g.vv],styles:[".title-day[_ngcontent-%COMP%]{color:#708090;font-weight:800}.box-teaching-hour[_ngcontent-%COMP%]{background:#fff;padding:15px;border:1px solid steelblue;border-radius:8px;width:100%;max-width:500px}.date-color[_ngcontent-%COMP%]{color:#4682b4}.session[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:5px;font-size:12px;padding:0 5px;font-weight:500}.box-teaching-hour[_ngcontent-%COMP%]:hover{background:#f9f9f9}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}"]}),l})();var Ai=c(20381),$i=c(10296),bt=c(66114),Gi=c(39471),Ni=c(97839);function Bi(e,l){1&e&&(t.j41(0,"span"),t.EFF(1,"(1)"),t.k0s())}function Li(e,l){1&e&&(t.j41(0,"span"),t.EFF(1,"(2)"),t.k0s())}function Yi(e,l){1&e&&(t.j41(0,"span"),t.EFF(1,"(3)"),t.k0s())}function Ui(e,l){if(1&e&&(t.j41(0,"tr",15)(1,"td",16)(2,"span",17),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,Bi,2,0,"span",18)(6,Li,2,0,"span",18)(7,Yi,2,0,"span",18),t.k0s()(),t.j41(8,"td",19)(9,"span",20),t.EFF(10),t.k0s()(),t.j41(11,"td",19)(12,"span",21),t.EFF(13),t.k0s()()()),2&e){let a,n,i;const r=l.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,6,r.subjectName)," "),t.R7$(2),t.Y8G("ngIf",(null!==(a=r.subjectTo)&&void 0!==a?a:0)<=5&&(null!==(a=r.subjectFrom)&&void 0!==a?a:0)>=1),t.R7$(),t.Y8G("ngIf",(null!==(n=r.subjectTo)&&void 0!==n?n:0)<=9&&(null!==(n=r.subjectFrom)&&void 0!==n?n:0)>=6),t.R7$(),t.Y8G("ngIf",(null!==(i=r.subjectTo)&&void 0!==i?i:0)<=13&&(null!==(i=r.subjectFrom)&&void 0!==i?i:0)>=10),t.R7$(3),t.JRh(r.totalExam),t.R7$(3),t.JRh(r.totalExamResult)}}function Vi(e,l){if(1&e&&(t.qex(0),t.DNE(1,Ui,14,8,"tr",14),t.bVm()),2&e){const a=t.XpG();t.R7$(),t.Y8G("ngForOf",a.countPreMonthBySubject)}}function Xi(e,l){1&e&&(t.j41(0,"tr",15)(1,"td",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_statistical_cant_data_statistics")," "))}function Ji(e,l){if(1&e&&(t.j41(0,"tr",15)(1,"td",16)(2,"span",17),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"td",19)(6,"span",20),t.EFF(7),t.k0s()(),t.j41(8,"td",19)(9,"span",21),t.EFF(10),t.k0s()()()),2&e){const a=l.$implicit;t.R7$(3),t.JRh(t.bMT(4,3,a.classroomName)),t.R7$(4),t.JRh(a.totalExam),t.R7$(3),t.JRh(a.totalExamResult)}}function Wi(e,l){if(1&e&&(t.qex(0),t.DNE(1,Ji,11,5,"tr",14),t.bVm()),2&e){const a=t.XpG();t.R7$(),t.Y8G("ngForOf",a.countPreMonthByClassroom)}}function Hi(e,l){1&e&&(t.j41(0,"tr",15)(1,"td",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_statistical_cant_data_statistics")," "))}function Ki(e,l){if(1&e&&(t.j41(0,"tr",15)(1,"td",16)(2,"span",17),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"td",19)(6,"span",20),t.EFF(7),t.k0s()(),t.j41(8,"td",19)(9,"span",21),t.EFF(10),t.k0s()()()),2&e){const a=l.$implicit;t.R7$(3),t.JRh(t.bMT(4,3,a.teacherFullName)),t.R7$(4),t.JRh(a.totalExam),t.R7$(3),t.JRh(a.totalExamResult)}}function Qi(e,l){if(1&e&&(t.qex(0),t.DNE(1,Ki,11,5,"tr",14),t.bVm()),2&e){const a=t.XpG();t.R7$(),t.Y8G("ngForOf",a.countPreMonthByTeacher)}}function Zi(e,l){1&e&&(t.j41(0,"tr",15)(1,"td",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_statistical_cant_data_statistics")," "))}let qi=(()=>{var e;class l extends C.H{constructor(){super(...arguments),this.countPreMonthBySubject=[],this.countPreMonthByClassroom=[],this.countPreMonthByTeacher=[]}}return(e=l).\u0275fac=(()=>{let a;return function(i){return(a||(a=t.xGo(e)))(i||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-count-pre-month-table"]],inputs:{countPreMonthBySubject:"countPreMonthBySubject",countPreMonthByClassroom:"countPreMonthByClassroom",countPreMonthByTeacher:"countPreMonthByTeacher"},features:[t.Vt3],decls:55,vars:33,consts:[["emptyPreMonthBySubject",""],["emptyPreMonthByClassroom",""],["emptyPreMonthByTeacher",""],[1,"grid","grid-cols-12","gap-6","intro-y"],[1,"col-span-12","md:col-span-4"],[1,"box","overflow-auto","custom-scroll",2,"height","208px"],[1,"w-full","table-sticky-header","text-xs","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400","py-5","border-b","border-slate-200","dark:border-darkmode-400","box"],["scope","col",1,"px-6","py-4","position-sticky"],["scope","col",1,"px-6","py-4","text-center","position-sticky"],[4,"ngIf","ngIfElse"],["scope","col",1,"px-6","py-4"],["scope","col",1,"px-6","py-4","text-center"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400","py-5","border-slate-200","dark:border-darkmode-400","box"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700",4,"ngFor","ngForOf"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700"],["scope","row",1,"px-6","py-4"],[1,"font-medium"],[4,"ngIf"],["scope","row",1,"px-6","py-4","text-center"],[1,"text-primary","font-medium"],[1,"whitespace-nowrap","py-0.5","px-2","rounded-md","alert","alert-primary-soft","font-medium"],["colspan","3",1,"text-center","text-slate-500"]],template:function(n,i){if(1&n&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"table",6)(4,"thead",7)(5,"tr")(6,"th",8),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"th",9),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"th",9),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,Vi,2,1,"ng-container",10)(17,Xi,4,3,"ng-template",null,0,t.C5r),t.k0s()()()(),t.j41(19,"div",4)(20,"div",5)(21,"table",6)(22,"thead",7)(23,"tr")(24,"th",11),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"th",12),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s(),t.j41(30,"th",12),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()()(),t.j41(33,"tbody"),t.DNE(34,Wi,2,1,"ng-container",10)(35,Hi,4,3,"ng-template",null,1,t.C5r),t.k0s()()()(),t.j41(37,"div",4)(38,"div",5)(39,"table",6)(40,"thead",13)(41,"tr")(42,"th",11),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s(),t.j41(45,"th",12),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s(),t.j41(48,"th",12),t.EFF(49),t.nI1(50,"mytranslate"),t.k0s()()(),t.j41(51,"tbody"),t.DNE(52,Qi,2,1,"ng-container",10)(53,Zi,4,3,"ng-template",null,2,t.C5r),t.k0s()()()()()),2&n){const r=t.sdS(18),u=t.sdS(36),b=t.sdS(54);t.R7$(7),t.SpI(" ",t.bMT(8,15,"lang_auto_mon_hoc")," "),t.R7$(3),t.JRh(t.bMT(11,17,"lang_azt_number_of_exam_papers")),t.R7$(3),t.JRh(t.bMT(14,19,"lang_testbank_tested_list_number_quizzes")),t.R7$(3),t.Y8G("ngIf",i.countPreMonthBySubject)("ngIfElse",r),t.R7$(9),t.SpI(" ",t.bMT(26,21,"lang_auto_lop_hoc")," "),t.R7$(3),t.JRh(t.bMT(29,23,"lang_azt_number_of_exam_papers")),t.R7$(3),t.JRh(t.bMT(32,25,"lang_testbank_tested_list_number_quizzes")),t.R7$(3),t.Y8G("ngIf",i.countPreMonthByClassroom)("ngIfElse",u),t.R7$(9),t.SpI(" ",t.bMT(44,27,"lang_auto_giao_vien")," "),t.R7$(3),t.JRh(t.bMT(47,29,"lang_azt_number_of_exam_papers")),t.R7$(3),t.JRh(t.bMT(50,31,"lang_testbank_tested_list_number_quizzes")),t.R7$(3),t.Y8G("ngIf",i.countPreMonthByTeacher)("ngIfElse",b)}},dependencies:[o.Sq,o.bT,g.wp],encapsulation:2}),l})(),ts=(()=>{var e;class l extends C.H{constructor(){super(...arguments),this.chart=new F.t1}createChart(){let n=this.countExamByWeek.map(r=>r.total);n.length<7&&n.push(...Array(7-n.length).fill(0));let i=new F.t1({chart:{type:"column",style:{fontFamily:"Arial"},width:this.isMobileDevice?220:290,height:120},colors:["#1e40af"],title:{text:""},credits:{enabled:!1},xAxis:{categories:["M","T","W","T","F","S","S"],gridLineWidth:0},yAxis:{title:{text:""},gridLineWidth:0},plotOptions:{area:{}},series:[{name:"",type:"column",data:n}]});this.chart=i}ngOnInit(){super.ngOnInit(),this.createChart()}}return(e=l).\u0275fac=(()=>{let a;return function(i){return(a||(a=t.xGo(e)))(i||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-chart-pre-exam-by-day"]],inputs:{countExamByWeek:"countExamByWeek"},features:[t.Vt3],decls:2,vars:1,consts:[[1,"chart-pre-exam-by-day"],[3,"chart"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.k0s()),2&n&&(t.R7$(),t.Y8G("chart",i.chart))},dependencies:[F.S6],encapsulation:2}),l})(),es=(()=>{var e;class l extends C.H{constructor(){super(...arguments),this.chart=new F.t1}createChart(){let n=this.countExamResultByWeek.map(r=>r.total);n.length<7&&n.push(...Array(7-n.length).fill(0));const i=new F.t1({chart:{type:"area",style:{fontFamily:"Arial"},width:this.isMobileDevice?220:290,height:120},colors:["#68cc00"],title:{text:""},credits:{enabled:!1},xAxis:{categories:["Mo","Tu","We","Th","Fr","Sa","Su"],gridLineWidth:0},yAxis:{title:{text:""},gridLineWidth:0},plotOptions:{area:{}},series:[{name:"",type:"line",data:n}]});this.chart=i}ngOnInit(){super.ngOnInit(),this.createChart()}}return(e=l).\u0275fac=(()=>{let a;return function(i){return(a||(a=t.xGo(e)))(i||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-chart-pre-exam-result-by-day"]],inputs:{countExamResultByWeek:"countExamResultByWeek"},features:[t.Vt3],decls:2,vars:1,consts:[[1,"chart-pre-exam-result-by-day"],[3,"chart"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.k0s()),2&n&&(t.R7$(),t.Y8G("chart",i.chart))},dependencies:[F.S6],encapsulation:2}),l})(),ns=(()=>{var e;class l extends C.H{constructor(){super(...arguments),this.chart=new F.t1}createChart(){const n=this.commonService.myTranslateInstant("lang_testbank_folder_and_file_times"),i=new F.t1({chart:{type:"area",style:{fontFamily:"Arial"},zoomType:"xy"},colors:["#f97316"],title:{text:""},credits:{enabled:!1},xAxis:{scrollbar:{enabled:!0},categories:this.countExamResultByMonth.map(r=>this.formatDateToDayMonth(r.date))},yAxis:{title:{text:""}},plotOptions:{area:{}},series:[{name:n,type:"line",data:this.countExamResultByMonth.map(r=>r.total)}]});this.chart=i}formatDateToDayMonth(n){return n?`${(n=new Date(n)).getDate().toString().padStart(2,"0")}/${(n.getMonth()+1).toString().padStart(2,"0")}`:""}ngOnInit(){super.ngOnInit(),this.createChart()}}return(e=l).\u0275fac=(()=>{let a;return function(i){return(a||(a=t.xGo(e)))(i||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-chart-pre-exam-by-month"]],inputs:{countExamResultByMonth:"countExamResultByMonth"},features:[t.Vt3],decls:2,vars:1,consts:[[1,"chart-pre-exam-by-month"],[3,"chart"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.k0s()),2&n&&(t.R7$(),t.Y8G("chart",i.chart))},dependencies:[F.S6],encapsulation:2}),l})();const os=["startDatePicker"],as=["toDatePicker"],is=e=>[e],ss=()=>({backto:"/business/business-statistics-overview-v2"}),ee=(e,l)=>({"text-danger":e,"text-success":l});function rs(e,l){if(1&e&&t.nrm(0,"azt-loading-effect",5),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function ls(e,l){1&e&&(t.j41(0,"div",66)(1,"div",67),t.nrm(2,"azt-loading-ui",68),t.j41(3,"h3",69),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(4),t.JRh(t.bMT(5,1,"lang_cms_common_loading")))}function cs(e,l){if(1&e&&t.nrm(0,"app-count-pre-month-table",70),2&e){const a=t.XpG(3);t.Y8G("countPreMonthBySubject",a.dashboardGeneral.countMonthBySubject)("countPreMonthByClassroom",a.dashboardGeneral.countMonthByClassroom)("countPreMonthByTeacher",a.dashboardGeneral.countMonthByTeacher)}}function ms(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"div",13),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",14),t.EFF(10),t.k0s(),t.j41(11,"div",15),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"div",16)(15,"a",17),t.nI1(16,"navigationLocalize"),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()(),t.j41(19,"div",18),t.nrm(20,"azt-svg-icon",19),t.k0s()()()(),t.j41(21,"div",20)(22,"div",21)(23,"div",22)(24,"div",23)(25,"div",24)(26,"div",25),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"div",26)(30,"div",27),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()(),t.j41(33,"div",28)(34,"div",29)(35,"div",30),t.EFF(36),t.k0s(),t.j41(37,"div",31),t.nrm(38,"lucide-icon",32),t.j41(39,"span",33),t.EFF(40),t.k0s()()(),t.j41(41,"div",34),t.nrm(42,"app-chart-pre-exam-by-day",35),t.k0s()()()(),t.j41(43,"div",36)(44,"div",24)(45,"div",25),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s(),t.j41(48,"div",26)(49,"div",27),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s()(),t.j41(52,"div",28)(53,"div",29)(54,"div",30),t.EFF(55),t.k0s(),t.j41(56,"div",31),t.nrm(57,"lucide-icon",32),t.j41(58,"span",33),t.EFF(59),t.k0s()()(),t.j41(60,"div",34),t.nrm(61,"app-chart-pre-exam-result-by-day",37),t.k0s()()()()()()()(),t.j41(62,"div",38)(63,"div",39)(64,"span"),t.EFF(65),t.nI1(66,"mytranslate"),t.k0s(),t.j41(67,"div",40)(68,"span"),t.EFF(69),t.nI1(70,"mytranslate"),t.nI1(71,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(72,"div",41)(73,"input",42),t.bIt("click",function(){t.eBV(a);const i=t.sdS(77);return t.Njj(i.open())}),t.k0s(),t.j41(74,"button",43),t.bIt("click",function(i){return t.eBV(a),t.sdS(77).open(),t.Njj(i.stopPropagation())}),t.nrm(75,"lucide-icon",44),t.k0s(),t.j41(76,"ngx-mat-datetime-picker",45,1)(78,"ngx-mat-datepicker-actions")(79,"button",46),t.EFF(80,"OK"),t.k0s()()()(),t.j41(81,"span"),t.EFF(82),t.nI1(83,"mytranslate"),t.nI1(84,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(85,"div",41)(86,"input",47),t.bIt("click",function(){t.eBV(a);const i=t.sdS(90);return t.Njj(i.open())}),t.k0s(),t.j41(87,"button",43),t.bIt("click",function(i){return t.eBV(a),t.sdS(90).open(),t.Njj(i.stopPropagation())}),t.nrm(88,"lucide-icon",44),t.k0s(),t.j41(89,"ngx-mat-datetime-picker",45,2)(91,"ngx-mat-datepicker-actions")(92,"button",46),t.EFF(93,"OK"),t.k0s()()()(),t.j41(94,"span"),t.EFF(95,")"),t.k0s()()(),t.j41(96,"div",48)(97,"div",49),t.nrm(98,"lucide-icon",50),t.j41(99,"span",51),t.EFF(100),t.nI1(101,"mytranslate"),t.k0s()(),t.j41(102,"div",52)(103,"button",53),t.bIt("click",function(){t.eBV(a);const i=t.XpG(2);return t.Njj(i.exportExcel())}),t.nrm(104,"lucide-icon",54),t.j41(105,"span",55),t.EFF(106),t.nI1(107,"mytranslate"),t.k0s()()()(),t.j41(108,"div",56),t.DNE(109,ls,6,3,"div",57)(110,cs,1,3,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(112,"div",58)(113,"div",40)(114,"div",59)(115,"div",13),t.EFF(116),t.nI1(117,"mytranslate"),t.k0s()(),t.j41(118,"div",60)(119,"div",61),t.EFF(120),t.k0s(),t.j41(121,"div",62),t.nrm(122,"lucide-icon",63),t.j41(123,"span",33),t.EFF(124),t.k0s()()()(),t.j41(125,"div",64),t.nrm(126,"app-chart-pre-exam-by-month",65),t.k0s()()()}if(2&e){const a=t.sdS(77),n=t.sdS(90),i=t.sdS(111),r=t.XpG(2);t.R7$(7),t.SpI(" ",t.bMT(8,46,"lang_azt_number_of_tests_per_month")," "),t.R7$(3),t.SpI(" ",r.dashboardGeneral.totalExamResultInCurrentMonth," "),t.R7$(2),t.SpI(" ",r.dashboardGeneral.totalExamInCurrentMonth+" "+t.bMT(13,48,"lang_testbank_test_list_exam")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(78,is,t.bMT(16,50,"/admin/testbank/document-management/0/0/1")))("queryParams",t.lJ4(80,ss)),t.R7$(2),t.SpI(" ",t.bMT(18,52,"lang_azt_view_exam_list")," "),t.R7$(3),t.Y8G("size",r.isMobileDevice?110:130),t.R7$(7),t.SpI(" ",t.bMT(28,54,"lang_azt_number_of_exam_questions_created_by_day")," "),t.R7$(4),t.SpI(" ",t.bMT(32,56,"lang_azt_compared_to_last_week")," "),t.R7$(5),t.SpI(" ",r.dashboardGeneral.totalExamInWeek," "),t.R7$(),t.Y8G("ngClass",t.l_i(81,ee,r.dashboardGeneral.percentCompareExamInWeek<0,r.dashboardGeneral.percentCompareExamInWeek>=0)),t.R7$(),t.FS9("name",r.dashboardGeneral.percentCompareExamInWeek<0?"move-down":"move-up"),t.R7$(2),t.JRh(r.dashboardGeneral.percentCompareExamInWeek+"%"),t.R7$(2),t.Y8G("countExamByWeek",r.dashboardGeneral.countExamByWeek),t.R7$(4),t.SpI(" ",t.bMT(47,58,"lang_azt_number_of_times_doing_the_test_per_day")," "),t.R7$(4),t.SpI(" ",t.bMT(51,60,"lang_azt_compared_to_last_week")," "),t.R7$(5),t.SpI(" ",r.dashboardGeneral.totalExamResultInWeek," "),t.R7$(),t.Y8G("ngClass",t.l_i(84,ee,r.dashboardGeneral.percentCompareExamResultInWeek<0,r.dashboardGeneral.percentCompareExamResultInWeek>=0)),t.R7$(),t.FS9("name",r.dashboardGeneral.percentCompareExamResultInWeek<0?"move-down":"move-up"),t.R7$(2),t.JRh(r.dashboardGeneral.percentCompareExamResultInWeek+"%"),t.R7$(2),t.Y8G("countExamResultByWeek",r.dashboardGeneral.countExamResultByWeek),t.R7$(4),t.JRh(t.bMT(66,62,"lang_azt_monthly_statistics")),t.R7$(4),t.JRh(" ("+t.bMT(70,64,"lang_auto_tu")+": "+t.bMT(71,66,r.startDate.value)),t.R7$(4),t.Y8G("min",r.minDate)("max",r.maxDate)("ngxMatDatetimePicker",a)("formControl",r.startDate),t.R7$(3),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(6),t.SpI("\xa0-\xa0",t.bMT(83,68,"lang_auto_den")+": "+t.bMT(84,70,r.toDate.value),""),t.R7$(4),t.Y8G("min",r.minDate)("max",r.maxDate)("ngxMatDatetimePicker",n)("formControl",r.toDate),t.R7$(3),t.Y8G("touchUi",!0)("hideTime",!0),t.R7$(11),t.JRh(t.bMT(101,72,"lang_azt_statistics_business_note")),t.R7$(6),t.JRh(t.bMT(107,74,"lang_payment_history_export_excel")),t.R7$(3),t.Y8G("ngIf",r.monthLoading)("ngIfElse",i),t.R7$(7),t.SpI(" ",t.bMT(117,76,"lang_azt_number_of_times_doing_the_test")," "),t.R7$(4),t.JRh(r.dashboardGeneral.totalExamResultInMonth),t.R7$(2),t.FS9("name",r.dashboardGeneral.percentCompareExamResultInMonth<=0?"move-down":"move-up"),t.Y8G("ngClass",t.l_i(87,ee,r.dashboardGeneral.percentCompareExamResultInMonth<0,r.dashboardGeneral.percentCompareExamResultInMonth>=0)),t.R7$(2),t.JRh(r.dashboardGeneral.percentCompareExamResultInMonth+"%"),t.R7$(2),t.Y8G("countExamResultByMonth",r.dashboardGeneral.countExamResultByMonth)}}function ds(e,l){if(1&e&&t.DNE(0,ms,127,90,"div",6),2&e){const a=t.XpG();t.Y8G("ngIf",a.dashboardGeneral)}}const Vt=Ai;let us=(()=>{var e;class l extends C.H{constructor(){super(...arguments),this.dashboardService=(0,t.WQX)(_e.I8),this.activatedRoute=(0,t.WQX)(x.nX),this.timeService=(0,t.WQX)(K.F),this.shareFileFlutterService=(0,t.WQX)($i.R),this.minDate=new Date("2017"),this.maxDate=at.c.maxDateTimePicker,this.monthLoading=!1,this.exportLoading=!1,this.startDate=new s.MJ("",{nonNullable:!0}),this.toDate=new s.MJ("",{nonNullable:!0})}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.startDate.setValue(`${Vt().month()+1}/1/${Vt().year()}`),this.toDate.setValue(`${Vt().month()+2}/1/${Vt().year()}`),this.waitDestroy((0,Ct.z)([this.activatedRoute.params,this.activatedRoute.queryParams]).subscribe(([])=>{this.getData()})),this.startDate.valueChanges.subscribe(n=>{this.pickTimeStatistical()}),this.toDate.valueChanges.subscribe(n=>{this.pickTimeStatistical()})}getData(){let n=this.timeService.formatOnlyDateToPostToServer(this.startDate.value),i=this.timeService.formatOnlyDateToPostToServer(this.toDate.value);this.waitDestroy(this.dashboardService.apiDashboardGetGeneralDashboardPost({fromDate:n,toDate:i}).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);this.dashboardGeneral=r.data,this.monthLoading=!1,this.successStatusObj()}))}createStyledSheet(n){if(!n||0===n.length)return bt.utils.aoa_to_sheet([[`${this.commonService.myTranslateInstant("lang_not_data")}`]]);const i=bt.utils.json_to_sheet(n),r=Object.keys(n[0]);i["!cols"]=r.map((b,P)=>({wpx:0===P?220:100})),r.forEach((b,P)=>{const Q=bt.utils.encode_cell({c:P,r:0});i[Q]||(i[Q]={}),i[Q].s={border:{top:{style:"thin",color:{rgb:"ff3c8dbc"}},bottom:{style:"thin",color:{rgb:"ff3c8dbc"}},left:{style:"thin",color:{rgb:"ff3c8dbc"}},right:{style:"thin",color:{rgb:"ff3c8dbc"}}},alignment:{horizontal:0===P?"left":"center",vertical:"center"},font:{sz:11,bold:!0,color:{rgb:"ffffffff"}},fill:{patternType:"solid",fgColor:{rgb:"2361ae"}}}});const u=bt.utils.decode_range(i["!ref"]||"A1");for(let b=1;b<=u.e.r;++b)for(let P=u.s.c;P<=u.e.c;++P){const Q=bt.utils.encode_cell({r:b,c:P});i[Q]||(i[Q]={}),i[Q].s={alignment:{horizontal:0===P?"left":"center",vertical:"center"},border:{top:{style:"thin",color:{rgb:"000000"}},bottom:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}}}}}return i}getLevelSubject(n){return(n.subjectTo??0)<=5&&(n.subjectFrom??0)>=1?"(1)":(n.subjectTo??0)<=9&&(n.subjectFrom??0)>=6?"(2)":(n.subjectTo??0)<=13&&(n.subjectFrom??0)>=10?"(3)":""}pickTimeStatistical(){this.monthLoading=!0,this.getData()}exportExcel(){if(!this.dashboardGeneral)return;this.exportLoading=!1;const n={teacher:this.commonService.myTranslateInstant("lang_auto_giao_vien")??"",subject:this.commonService.myTranslateInstant("lang_auto_mon_hoc")??"",classroom:this.commonService.myTranslateInstant("lang_auto_lop_hoc")??"",totalExam:this.commonService.myTranslateInstant("lang_azt_number_of_exam_papers")??"",totalExamResult:this.commonService.myTranslateInstant("lang_testbank_tested_list_number_quizzes")??""},i=this.createStyledSheet(this.dashboardGeneral.countMonthByTeacher.map(st=>({[n.teacher]:st.teacherFullName||"",[n.totalExam]:st.totalExam,[n.totalExamResult]:st.totalExamResult}))),r=this.createStyledSheet(this.dashboardGeneral.countMonthBySubject.map(st=>({[n.subject]:this.commonService.myTranslateInstant(st.subjectName)+`${this.getLevelSubject(st)}`||"",[n.totalExam]:st.totalExam,[n.totalExamResult]:st.totalExamResult}))),u=this.createStyledSheet(this.dashboardGeneral.countMonthByClassroom.map(st=>({[n.classroom]:st.classroomName||"",[n.totalExam]:st.totalExam,[n.totalExamResult]:st.totalExamResult}))),b=bt.utils.book_new();bt.utils.book_append_sheet(b,i,n.teacher),bt.utils.book_append_sheet(b,r,n.subject),bt.utils.book_append_sheet(b,u,n.classroom);const P=`thong_ke_theo_thang_tu_ngay_${this.timeService.formatOnlyDateToPostToServer(this.startDate.value)}_den_ngay_${this.timeService.formatOnlyDateToPostToServer(this.toDate.value)}.xlsx`;if(!this.isMobileWebView)return bt.writeFile(b,P);const Q=bt.write(b,{bookType:"xlsx",bookSST:!0,type:"array"}),B=new Blob([Q],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});this.shareFileFlutterService.shareFileWithBlob(B,P)}}return(e=l).\u0275fac=(()=>{let a;return function(i){return(a||(a=t.xGo(e)))(i||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["app-business-statistics-overview-v2"]],viewQuery:function(n,i){if(1&n&&(t.GBs(os,5),t.GBs(as,5)),2&n){let r;t.mGM(r=t.lsd())&&(i.startDatePicker=r.first),t.mGM(r=t.lsd())&&(i.toDatePicker=r.first)}},features:[t.Jv_([o.vh,{provide:et.$O,useClass:yt.fb,deps:[ft.Ju,xt.ij]},{provide:et.vq,useFactory:It.fJ,deps:[K.F]},{provide:nt.U$,useValue:{floatLabel:"never"}}]),t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["startDatePicker",""],["toDatePicker",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["class","mt-8 business-statistics",4,"ngIf"],[1,"mt-8","business-statistics"],[1,"grid","grid-cols-12","gap-6","mt-3"],[1,"col-span-12","md:col-span-4"],[1,"box","p-5","h-full"],[1,"flex"],[1,"mr-3"],[1,"font-medium","text-base"],[1,"mt-1","text-primary","font-bold","text-lg"],[1,"text-slate-500","text-md","-mt-0.5"],[1,"mt-3"],[1,"btn","btn-primary","px-4","w-full","whitespace-nowrap",3,"routerLink","queryParams"],[1,"box-icon","ml-auto"],["type","badge",3,"size"],[1,"col-span-12","md:col-span-8"],[1,"box","h-full"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-6","sm:border-r","border-slate-200","dark:border-darkmode-400"],[1,"p-5","relative"],[1,"font-medium","text-base",2,"padding-right","118px"],[1,"absolute","top-0","right-0","p-4"],[1,"leading-relaxed","text-slate-500","text-xs","font-medium"],[1,"mt-5","flex"],[1,"mr-2","mt-2"],[1,"font-medium","text-4xl"],[1,"ml-2","mt-1","flex","items-center",3,"ngClass"],["size","16",3,"name"],[1,"ml-1","font-medium"],[1,"chart"],[3,"countExamByWeek"],[1,"col-span-12","md:col-span-6"],[3,"countExamResultByWeek"],[1,"mt-8"],[1,"text-base","font-medium","flex","flex-col","sm:flex-row","sm:items-center"],[1,"flex","items-center"],[1,"ml-2"],["azt-track-service","setting-general-w4tZZvRVV0","matInput","","id","azt-asc-time-picker","readonly","",1,"form-date","bg-white","azt-hidden",3,"click","min","max","ngxMatDatetimePicker","formControl"],["matSuffix","",1,"btn","btn-sm","btn-primary-soft","p-1",3,"click"],["name","calendar-days","size","18"],[3,"touchUi","hideTime"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["matInput","","id","azt-asc-time-picker-to","readonly","",1,"form-date","bg-white","azt-hidden",3,"click","min","max","ngxMatDatetimePicker","formControl"],[1,"mt-3","flex","flex-col","sm:flex-row","sm:items-center"],[1,"box","p-2","text-xs","font-medium","inline-flex","items-center","mr-auto"],["name","info","size","16"],[1,"ml-2","text-slate-500"],[1,"mt-2","sm:mt-0","ml-0","sm:ml-3"],[1,"btn","btn-sm","btn-primary",3,"click"],["name","file-down","size","16"],[1,"ml-1"],[1,"mt-2"],["class","box mt-2","style","height: calc(100vh - 250px); overflow-y: auto",4,"ngIf","ngIfElse"],[1,"mt-6","p-5","box"],[1,"mr-auto"],[1,"ml-2","flex","items-center"],[1,"font-medium","text-lg","mr-3"],[1,"alert","alert-secondary-soft","alert-dismissible","show",2,"padding","4px"],["size","16",3,"name","ngClass"],[1,"mt-4"],[3,"countExamResultByMonth"],[1,"box","mt-2",2,"height","calc(100vh - 250px)","overflow-y","auto"],[1,"mx-auto","my-auto","text-center","midle-box"],[1,"mr-2"],[1,"text-slate-500","text-md",2,"font-weight","420"],[3,"countPreMonthBySubject","countPreMonthByClassroom","countPreMonthByTeacher"]],template:function(n,i){if(1&n&&(t.j41(0,"teacher-layout",3),t.DNE(1,rs,1,1,"azt-loading-effect",4)(2,ds,1,1,"ng-template",null,0,t.C5r),t.k0s()),2&n){const r=t.sdS(3);t.Y8G("headerBackToLink","/business/dashboard"),t.R7$(),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",r)}},dependencies:[x.Wk,o.YU,o.bT,Gi.$z,Ni.fg,nt.yw,et.m7,et.yF,et.HF,et.Uq,s.me,s.BC,s.l_,dt.K,Y.R,Wt.m,ut.Q,d.WGl,qi,ts,es,ns,g.F2,g.wp,g.vv],encapsulation:2}),l})();function _s(e,l){if(1&e&&(t.j41(0,"div",18)(1,"div",19)(2,"div",20),t.EFF(3),t.nI1(4,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(5,"div",21),t.EFF(6),t.k0s()()()),2&e){const a=l.$implicit;t.R7$(3),t.JRh(t.bMT(4,3,a.createdAt)),t.R7$(3),t.Lme("",a.month,"/",a.year,"")}}function ps(e,l){if(1&e&&(t.j41(0,"div")(1,"div",14)(2,"div",15),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",16),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.DNE(8,_s,7,5,"div",17),t.k0s()),2&e){const a=t.XpG().$implicit;t.R7$(3),t.JRh(t.bMT(4,3,"lang_student_payment_time")),t.R7$(3),t.JRh(t.bMT(7,5,"lang_student_monthly_tuition_fee")),t.R7$(2),t.Y8G("ngForOf",a.payments)}}function gs(e,l){if(1&e&&(t.j41(0,"tr")(1,"td",10),t.nrm(2,"azt-student-info-box",11),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td"),t.DNE(7,ps,9,7,"div",13),t.k0s()()),2&e){const a=l.$implicit,n=t.XpG();t.R7$(2),t.Y8G("name",a.fullName)("avatar",a.avatar)("gender",a.gender)("schoolName",a.schoolName)("hasUser",a.hasUser)("classrooms",a.classrooms)("joinedAt",a.joinedAt)("phone",a.phone)("email",a.email)("showPhone",!0),t.R7$(2),t.JRh(a.identificationNumber?t.i5U(5,12,a.identificationNumber,n.myEnvironment.maxStudentCodeLength):""),t.R7$(3),t.Y8G("ngIf",a.payments&&a.payments.length>0)}}let hs=(()=>{var e;class l extends k._{ngOnInit(){super.ngOnInit()}constructor(n,i,r){super(r,i),this.domainUsersManagementService=n,this.dialogRef=i,this.data=r}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(it.Z),t.rXU(_.CP,8),t.rXU(_.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-list-student-not-paid"]],features:[t.Vt3],decls:23,vars:13,consts:[[1,"box","pl-3","pr-3"],[1,"container-fluid","mb-1","overflow-hidden","document-market-list","w-full"],[1,"intro-y"],[2,"height","100%"],[1,"table","table-report",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[4,"ngFor","ngForOf"],[1,"p-3","text-right","border-t","border-slate-200","dark:border-darkmode-400"],[1,"btn","btn-secondary","min-width-100",3,"click"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","email","showPhone"],[1,"text-center","capitalize"],[4,"ngIf"],[1,"flex","mb-1"],[1,"w-full","bg-slate-100","mr-1","text-center","p-1"],[1,"w-full","bg-slate-100","text-center","p-1"],["class","w-full",4,"ngFor","ngForOf"],[1,"w-full"],[1,"flex"],[1,"w-full","mr-1","text-center","bg-light","pt-1","pb-1"],[1,"w-full","text-center","bg-light","pt-1","pb-1"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"div",3)(5,"table",4)(6,"thead")(7,"tr")(8,"th",5),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",6),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",6),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"tbody"),t.DNE(18,gs,8,15,"tr",7),t.k0s()()()()()(),t.j41(19,"div",8)(20,"button",9),t.bIt("click",function(){return i.dialogRef.close()}),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(9),t.JRh(t.bMT(10,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(13,7,"lang_auto_so_bao_danh")),t.R7$(3),t.JRh(t.bMT(16,9,"lang_core_da_dong_hoc_phi")),t.R7$(3),t.Y8G("ngForOf",i.data.list),t.R7$(3),t.JRh(t.bMT(22,11,"lang_button_close")))},dependencies:[o.Sq,o.bT,I.U,$.B,g.wp,g.Po,g.bH],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%;background:#f0f8ff!important}.btn-copy[_ngcontent-%COMP%]{width:140px}.bg-light[_ngcontent-%COMP%]{background:#f9f9f9}"]}),l})();var fs=c(35024);function bs(e,l){if(1&e&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",6),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7)(6,"span",8),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"div",9)(11,"div",10),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",10),t.EFF(17),t.j41(18,"span",8),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()(),t.j41(21,"div",9)(22,"div",10),t.EFF(23),t.j41(24,"span",8),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()(),t.j41(27,"div",10),t.EFF(28),t.j41(29,"span",8),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()()()),2&e){const a=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,11,"lang_core_nguoi_dung")," "),t.R7$(4),t.SpI("",t.bMT(8,13,"lang_azt_tong_so_nguoi_dung"),":"),t.R7$(2),t.SpI(" ",a.userCountByRole.totalAdmin+a.userCountByRole.totalTeacher+a.userCountByRole.totalStudent+a.userCountByRole.totalParent," "),t.R7$(3),t.SpI(" ",a.userCountByRole.totalAdmin," "),t.R7$(2),t.JRh(t.bMT(15,15,"lang_cms_business_dashboard_title").toLocaleLowerCase()),t.R7$(3),t.SpI(" ",a.userCountByRole.totalTeacher," "),t.R7$(2),t.JRh(t.bMT(20,17,"lang_auto_giao_vien").toLocaleLowerCase()),t.R7$(4),t.SpI(" ",a.userCountByRole.totalStudent," "),t.R7$(2),t.JRh(t.bMT(26,19,"lang_notify_list_students").toLocaleLowerCase()),t.R7$(3),t.SpI(" ",a.userCountByRole.totalParent," "),t.R7$(2),t.JRh(t.bMT(31,21,"lang_auto_phu_huynh").toLocaleLowerCase())}}function vs(e,l){if(1&e&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",11),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",12)(6,"div",10),t.EFF(7),t.j41(8,"span",8),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",10),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()),2&e){const a=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,5,"lang_auto_co_so_vat_chat")," "),t.R7$(4),t.SpI(" ",a.infrastructuresCountStatistic.totalInfrastructure," "),t.R7$(2),t.JRh(t.bMT(10,7,"lang_core_co_so").toLocaleLowerCase()),t.R7$(3),t.SpI(" ",a.infrastructuresCountStatistic.totalRoom," "),t.R7$(2),t.JRh(t.bMT(15,9,"lang_core_phong_hoc").toLocaleLowerCase())}}function Cs(e,l){if(1&e&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",13),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7),t.EFF(6),t.j41(7,"span",8),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",9)(11,"div",10),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",10),t.EFF(17),t.j41(18,"span",8),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()),2&e){const a=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,7,"lang_cms_classroom_program_title")," "),t.R7$(3),t.SpI(" ",a.programsCountStatistic.totalProgram," "),t.R7$(2),t.JRh(t.bMT(9,9,"lang_cms_classroom_program_title").toLocaleLowerCase()),t.R7$(4),t.SpI(" ",a.programsCountStatistic.totalLevel," "),t.R7$(2),t.JRh(t.bMT(15,11,"lang_auto_khoi_hoc").toLocaleLowerCase()),t.R7$(3),t.SpI(" ",a.programsCountStatistic.totalSubject," "),t.R7$(2),t.JRh(t.bMT(20,13,"lang_auto_mon_hoc").toLocaleLowerCase())}}function xs(e,l){if(1&e&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",14),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7)(6,"span",8),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"div",15),t.EFF(11),t.j41(12,"span",8),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()(),t.j41(15,"div",15),t.EFF(16),t.j41(17,"span",8),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()),2&e){const a=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,7,"lang_auto_lop_hoc")," "),t.R7$(4),t.SpI("",t.bMT(8,9,"lang_azt_tong_so_lop_hoc"),":"),t.R7$(2),t.SpI(" ",a.classroomsCountStatistic.totalLearningClassroom+a.classroomsCountStatistic.totalFinishClassroom," "),t.R7$(2),t.SpI(" ",a.classroomsCountStatistic.totalLearningClassroom," "),t.R7$(2),t.JRh(t.bMT(14,11,"lang_core_lop_hoc_dang_dien_ra").toLocaleLowerCase()),t.R7$(3),t.SpI(" ",a.classroomsCountStatistic.totalFinishClassroom," "),t.R7$(2),t.JRh(t.bMT(19,13,"lang_core_lop_hoc_da_ket_thuc").toLocaleLowerCase())}}function ks(e,l){1&e&&t.nrm(0,"azt-loading-ui",21),2&e&&t.Y8G("size",16)}function ys(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",18)(1,"a",19),t.bIt("click",function(){t.eBV(a);const i=t.XpG(2);return t.Njj(i.getPaymentStudentsList())}),t.j41(2,"span",8),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,ks,1,1,"azt-loading-ui",20),t.k0s()()}if(2&e){const a=t.XpG(2);t.R7$(3),t.Lme(" >> ",t.bMT(4,3,"lang_auto_xem_danh_sach")," ",t.bMT(5,5,"lang_core_chua_dong").toLocaleLowerCase()," "),t.R7$(3),t.Y8G("ngIf",a.statusObj.loading)}}function Is(e,l){if(1&e&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",16),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7),t.EFF(6),t.j41(7,"span",8),t.EFF(8),t.nI1(9,"mytranslate"),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",15),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.nI1(16,"mytranslate"),t.k0s()(),t.DNE(17,ys,7,7,"div",17),t.k0s()),2&e){const a=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,8,"lang_core_hoc_phi")," "),t.R7$(3),t.SpI(" ",a.paymentCountPaymentStatus.totalPaid," "),t.R7$(2),t.Lme(" ",t.bMT(9,10,"lang_student_utils_reques_notice_list_student").toLocaleLowerCase()," ",t.bMT(10,12,"lang_student_tuition_fee_paid").toLocaleLowerCase()," "),t.R7$(4),t.SpI(" ",a.paymentCountPaymentStatus.totalNotPaid," "),t.R7$(2),t.Lme(" ",t.bMT(15,14,"lang_student_utils_reques_notice_list_student").toLocaleLowerCase()," ",t.bMT(16,16,"lang_core_chua_dong").toLocaleLowerCase()," "),t.R7$(3),t.Y8G("ngIf",a.paymentCountPaymentStatus.totalNotPaid>0)}}let Os=(()=>{var e;class l extends C.H{getData(){this.initStatusObj(),this.getUserCountByRole(),this.getInfrastructuresCountStatistic(),this.getProgramsCountStatistic(),this.getClassroomsCountStatistic(),this.isTqbDomain&&this.getPaymentCountPaymentStatus(),this.stopStatusObj()}getUserCountByRole(){this.waitDestroy(this.userInfoService.apiUserInfoCountUserByRolesGet().subscribe(n=>this.userCountByRole=n.data))}getInfrastructuresCountStatistic(){this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresCountStatisticGet()).subscribe(n=>{this.infrastructuresCountStatistic=n.data}))}getProgramsCountStatistic(){this.waitDestroy(this.wrapApiResponse(this.programService.apiProgramsCountStatisticGet()).subscribe(n=>{this.programsCountStatistic=n.data}))}getClassroomsCountStatistic(){this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsCountStatisticGet()).subscribe(n=>{this.classroomsCountStatistic=n.data}))}getPaymentStudentsList(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentsListPost({paidStatus:0})).subscribe(n=>{if(this.stopStatusObj(),!n.success)return this.errorStatusObj(n.message,!0);this.paymentStudentsList=n.data,this.showDialogListStudentNotPaid()}))}getPaymentCountPaymentStatus(){this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentCountPaymentStatusGet()).subscribe(n=>{this.paymentCountPaymentStatus=n.data}))}showDialogListStudentNotPaid(){this.sAztDialogService.open(hs,{width:"95%",restoreFocus:!1,data:this.paymentStudentsList})}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_thong_ke_tong_quan",image:"lang_cms_test_image"}),super.ngOnInit(),this.getData()}constructor(n,i,r,u,b,P){super(),this.userInfoService=n,this.infrastructureService=i,this.programService=r,this.classroomService=u,this.paymentService=b,this.sAztDialogService=P}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(fs.fv),t.rXU(zt.BU),t.rXU(zt.sC),t.rXU(zt.zS),t.rXU(zt.WG),t.rXU(D.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-statistics-overview"]],features:[t.Vt3],decls:10,vars:9,consts:[[3,"headerBackToLink"],[1,"text-md-title","font-medium","truncate","mr-auto","mt-5"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["class","col-span-12 sm:col-span-6 xl:col-span-3 box p-3 font-bold",4,"ngIf"],[1,"col-span-12","sm:col-span-6","xl:col-span-3","box","p-3","font-bold"],[1,"text-md","mr-auto","flex","items-center"],["name","users",1,"mr-2"],[1,"text-sm","mt-3"],[1,"font-medium"],[1,"flex","justify-between","mt-1"],[1,"text-sm"],["name","building",1,"mr-2"],[1,"flex","justify-between","mt-3"],["name","graduation-cap",1,"mr-2"],["name","school",1,"mr-2"],[1,"text-sm","mt-1"],["name","circle-dollar-sign",1,"mr-2"],["class","text-sm mt-2",4,"ngIf"],[1,"text-sm","mt-2"],[1,"hover",3,"click"],[3,"size",4,"ngIf"],[3,"size"]],template:function(n,i){1&n&&(t.j41(0,"teacher-layout",0)(1,"h3",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",2),t.DNE(5,bs,32,23,"div",3)(6,vs,16,11,"div",3)(7,Cs,21,15,"div",3)(8,xs,20,15,"div",3)(9,Is,18,18,"div",3),t.k0s()()),2&n&&(t.Y8G("headerBackToLink","/business/dashboard"),t.R7$(2),t.SpI(" ",t.bMT(3,7,"lang_core_thong_ke_tong_quan")," "),t.R7$(3),t.Y8G("ngIf",i.userCountByRole),t.R7$(),t.Y8G("ngIf",i.infrastructuresCountStatistic),t.R7$(),t.Y8G("ngIf",i.programsCountStatistic),t.R7$(),t.Y8G("ngIf",i.classroomsCountStatistic),t.R7$(),t.Y8G("ngIf",i.paymentCountPaymentStatus))},dependencies:[o.bT,Y.R,ut.Q,d.WGl,g.wp],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:#37ca37!important}.btn-un-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#8b0000;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{width:100%}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#909090;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%], .btn-add-infrastructure[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:6px;height:100%}.btn-add-infrastructure[_ngcontent-%COMP%]:hover{background:#e1e0e0}.lucide-plus[_ngcontent-%COMP%]{stroke-width:4px!important;color:#a9a9a9}.col-information[_ngcontent-%COMP%]{padding:2px 5px}.col-information[_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px 5px}.btn-delete-room[_ngcontent-%COMP%]{z-index:999}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.hover[_ngcontent-%COMP%]{color:#0000ffbd}.hover[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#00f}"]}),l})();var Fs=c(10127),js=c(10490),Ts=c(38922);const Ss=e=>({"mt-1":e}),Ms=(e,l)=>({"ml-2":e,"mt-1":l}),ve=()=>[];function Rs(e,l){1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Es(e,l){if(1&e){const a=t.RV6();t.j41(0,"mat-option",14),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.filterByClassId(i.id))}),t.EFF(1),t.k0s()}if(2&e){const a=l.$implicit;t.Y8G("value",a.id),t.R7$(),t.SpI(" ",a.name," ")}}function Ds(e,l){if(1&e&&(t.j41(0,"div",20),t.nrm(1,"azt-loading-effect",21),t.k0s()),2&e){const a=t.XpG();t.R7$(),t.Y8G("currentStatusObj",a.statusObj)}}function Ps(e,l){1&e&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function zs(e,l){1&e&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function ws(e,l){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,zs,2,0,"span",24),t.EFF(3),t.k0s()),2&e){const a=t.XpG().$implicit;t.R7$(),t.SpI(" ",a.lastMonthPaid," "),t.R7$(),t.Y8G("ngIf",a.lastMonthPaid),t.R7$(),t.SpI(" ",a.lastYearPaid," ")}}function As(e,l){1&e&&(t.j41(0,"span",41),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function $s(e,l){if(1&e&&(t.j41(0,"div",44),t.nrm(1,"azt-student-info-box",45),t.k0s()),2&e){const a=l.$implicit,n=t.XpG(2).$implicit;t.R7$(),t.Y8G("name",a.fullName)("phone",a.phone)("showPhone",!0)("avatar",a.avatar)("showTooltip",!1)("phone",n.phone)("identificationNumber",n.identificationNumber)}}function Gs(e,l){if(1&e&&(t.j41(0,"div",42),t.DNE(1,$s,2,7,"div",43),t.k0s()),2&e){const a=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",a.userParents)}}function Ns(e,l){if(1&e){const a=t.RV6();t.j41(0,"tr")(1,"td",35),t.bIt("click",function(){const i=t.eBV(a).$implicit,r=t.XpG(3);return t.Njj(r.addOrEditTuitionFee(i))}),t.nrm(2,"azt-student-info-box",36),t.k0s(),t.j41(3,"td",37),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",38),t.DNE(7,ws,4,3,"span",24)(8,As,3,3,"span",39),t.k0s(),t.j41(9,"td",38),t.DNE(10,Gs,2,1,"div",40),t.k0s()()}if(2&e){const a=l.$implicit,n=t.XpG(3);t.R7$(2),t.Y8G("name",a.fullName)("avatar",a.avatar)("gender",a.gender)("schoolName",a.schoolName)("hasUser",a.hasUser)("classrooms",a.classrooms)("joinedAt",a.joinedAt)("phone",a.phone)("email",a.email)("showPhone",!0)("phone",a.phone)("identificationNumber",a.identificationNumber),t.R7$(2),t.JRh(a.identificationNumber?t.i5U(5,16,a.identificationNumber,n.myEnvironment.maxStudentCodeLength):""),t.R7$(3),t.Y8G("ngIf",!a.isTrial),t.R7$(),t.Y8G("ngIf",a.isTrial),t.R7$(2),t.Y8G("ngIf",a.userParents)}}function Bs(e,l){if(1&e&&(t.j41(0,"div")(1,"div",29)(2,"table",30)(3,"thead")(4,"tr")(5,"th",31),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",32),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",33),t.EFF(12),t.nI1(13,"mytranslate"),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",33),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()(),t.j41(18,"tbody"),t.DNE(19,Ns,11,19,"tr",34),t.k0s()()()()),2&e){let a;const n=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,6,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,8,"lang_auto_so_bao_danh")),t.R7$(3),t.Lme("",t.bMT(13,10,"lang_test_market_withdraw_time")," ",t.bMT(14,12,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.R7$(4),t.JRh(t.bMT(17,14,"lang_auto_phu_huynh")),t.R7$(3),t.Y8G("ngForOf",null!==(a=null==n.listPayment?null:n.listPayment.list)&&void 0!==a?a:t.lJ4(16,ve))}}function Ls(e,l){if(1&e){const a=t.RV6();t.j41(0,"div",46),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",47),t.bIt("click",function(){t.eBV(a);const i=t.XpG(2);return t.Njj(i.goBack())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function Ys(e,l){if(1&e){const a=t.RV6();t.j41(0,"azt-paging",48),t.bIt("goToPaginationPage",function(i){t.eBV(a);const r=t.XpG(2);return t.Njj(r.setPageStudent(i))}),t.k0s()}if(2&e){const a=t.XpG(2);t.Y8G("pageObj",a.pageObj)}}function Us(e,l){if(1&e&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){let a;const n=t.XpG(2);t.R7$(),t.Lme("",null!==(a=null==n.listPayment?null:n.listPayment.total)&&void 0!==a?a:0," ",t.bMT(2,2,"lang_auto_hoc_sinh"),"")}}function Vs(e,l){if(1&e&&(t.j41(0,"div",22),t.DNE(1,Ps,3,3,"div",23)(2,Bs,20,17,"div",24)(3,Ls,6,6,"div",25),t.j41(4,"div",26),t.nrm(5,"div"),t.DNE(6,Ys,1,1,"azt-paging",27)(7,Us,3,4,"div",24),t.k0s()()),2&e){let a,n,i,r;const u=t.XpG();t.R7$(),t.Y8G("ngIf",!u.searchContentObj.isLoading&&0==(null==u.listPayment?null:u.listPayment.total)&&""==u.searchContentObj.searchContent),t.R7$(),t.Y8G("ngIf",(null!==(a=null==u.listPayment?null:u.listPayment.total)&&void 0!==a?a:0)>0),t.R7$(),t.Y8G("ngIf",!u.searchContentObj.isLoading&&0==(null!==(n=null==u.listPayment?null:u.listPayment.list)&&void 0!==n?n:t.lJ4(5,ve)).length&&""!=u.searchContentObj.searchContent),t.R7$(3),t.Y8G("ngIf",(null!==(i=null==u.listPayment?null:u.listPayment.total)&&void 0!==i?i:0)>20),t.R7$(),t.Y8G("ngIf",(null!==(r=null==u.listPayment?null:u.listPayment.total)&&void 0!==r?r:0)>0)}}let Xs=(()=>{var e;class l extends C.H{goBack(){this.searchContentObj.resetSearchContentEvent("EMIT_EVENT")}search(n){this.isLoading=!0,this.searchContentObj.setLoading(!0),this.searchContentObj=n,this.getData(0==(this.listPayment?.list??[]).length?this.pageStudent:1)}setPageStudent(n){this.myNavigation("/business/student-management/"+n),this.isLoading=!0,this.pageStudent=n,this.getData(this.pageStudent)}addOrEditTuitionFee(n){this.sAztDialogService.open(Fs.B,{width:"900px",restoreFocus:!1,data:n}).afterClosed().subscribe(i=>{i&&this.getData(this.pageStudent)})}addParent(){this.sAztDialogService.open(y,{width:"900px",restoreFocus:!1,data:void 0}).afterClosed().subscribe(n=>{n&&this.getData(this.pageStudent)})}filterByClassId(n){this.classroomId=n,this.getData(this.pageObj.page)}getData(n){this.pageObj.setPageNumber(n),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,classroomId:this.classroomId,name:this.searchContentObj.searchContent,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!0,me:!1,getAssessment:!1}).subscribe(r=>{r?(this.listPayment=r,this.pageObj.setTotalPages(this.listPayment?.total??0),this.isLoading=!1):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.isLoading=!1),this.searchContentObj.setLoading(!1)}))}getOwnerClassroom(){this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(n=>{n.success?(this.classroomOwner=n.data?.objs??[],this.getData(this.pageObj.page)):(this.errorStatusObj(n.message??"lang_core_co_loi_khi_lay_danh_danh_sach_lop",!0),this.isLoading=!1)}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_hoc_phi",image:"lang_cms_test_image"}),this.commonService.getTranslate("lang_core_hoc_thu").subscribe(n=>{this.langName=n}),this.showDialogAddUser=Number(this.getMyQueryParam("showDialogAddUser")??0),this.showDialogAddUser&&this.addOrEditTuitionFee(),this.waitDestroy((0,Ct.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let n=this.commonService.getMyQueryParam("backto");this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))??1),this.backLink=n||"/business/dashboard"})),super.ngOnInit(),this.getOwnerClassroom()}constructor(n,i,r,u){super(),this.sAztDialogService=n,this.studentService=i,this.activeRoute=r,this.classroomGroupService=u,this.backLink="",this.isLoading=!0,this.langName="",this.pageStudent=1,this.searchContentObj=new tt.Z,this.classroomOwner=[],this.pageObj=new S.d(20),this.showDialogAddUser=0}}return(e=l).\u0275fac=function(n){return new(n||e)(t.rXU(D.i),t.rXU(js.b),t.rXU(x.nX),t.rXU(Ts.k))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-azota-business-tuition"]],features:[t.Vt3],decls:33,vars:40,consts:[["searchInListClassroomName","searchInList"],["doneLoading",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],["id","classroomId","appearance","fill",1,"ml-0","sm:ml-2","mt-3","sm:mt-0",2,"border-radius","5px","background","white"],["searchInList","","name","classroomId",3,"placeholder"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"click","value"],[3,"value","click",4,"ngFor","ngForOf"],[1,"btn","btn-primary","shadow-md","w-full","sm:w-auto",3,"click","ngClass"],[1,"btn","btn-primary-soft","shadow-md","w-full","sm:w-auto",3,"click","ngClass"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],[1,"mt-1"],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","flex justify-center mt-5",4,"ngIf"],[4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"mt-2","pb-3","flex","justify-between","items-center"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-center","mt-5"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","email","showPhone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],["class","grid-cols-12 gap-2",4,"ngIf"],[1,"text-slate-500"],[1,"grid-cols-12","gap-2"],["class","col-span-12 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","mb-1"],[3,"name","phone","showPhone","avatar","showTooltip","identificationNumber"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[3,"goToPaginationPage","pageObj"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,Rs,3,3,"div",6),t.k0s(),t.j41(7,"div",7)(8,"div",8)(9,"div",9)(10,"azt-search-box",10),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(b){return t.eBV(r),t.Njj(i.search(b.searchObj))}),t.k0s(),t.j41(12,"mat-form-field",11)(13,"mat-select",12,0),t.nI1(15,"mytranslate"),t.j41(16,"mat-option"),t.nrm(17,"ngx-mat-select-search",13),t.nI1(18,"mytranslate"),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"mat-option",14),t.bIt("click",function(){return t.eBV(r),t.Njj(i.filterByClassId())}),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.DNE(23,Es,2,2,"mat-option",15),t.k0s()()(),t.j41(24,"button",16),t.bIt("click",function(){return t.eBV(r),t.Njj(i.addOrEditTuitionFee())}),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"button",17),t.bIt("click",function(){return t.eBV(r),t.Njj(i.addParent())}),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()()(),t.DNE(30,Ds,2,1,"div",18)(31,Vs,8,6,"ng-template",null,1,t.C5r),t.k0s()()}if(2&n){let r;const u=t.sdS(14),b=t.sdS(32);t.Y8G("headerBackToLink",i.backLink),t.R7$(4),t.SpI(" ",t.bMT(5,19,"lang_business_tuition_fee_title_top")," "),t.R7$(2),t.Y8G("ngIf",i.isMobileDevice&&(null!==(r=null==i.listPayment?null:i.listPayment.total)&&void 0!==r?r:0)>0),t.R7$(4),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(11,21,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",i.searchContentObj),t.R7$(3),t.FS9("placeholder",t.bMT(15,23,"lang_core_tim_theo_lop")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(18,25,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(19,27,"lang_search_not_found")),t.Y8G("formControl",u.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI(" ",t.bMT(22,29,"lang_auto_tat_ca_cac_lop")," "),t.R7$(2),t.Y8G("ngForOf",u.filter(i.classroomOwner,"name")),t.R7$(),t.Y8G("ngClass",t.eq3(35,Ss,i.isMobileDevice)),t.R7$(),t.SpI("+ ",t.bMT(26,31,"lang_student_utils_add_student"),""),t.R7$(2),t.Y8G("ngClass",t.l_i(37,Ms,!i.isMobileDevice,i.isMobileDevice)),t.R7$(),t.SpI("+ ",t.bMT(29,33,"lang_student_utils_add_parent"),""),t.R7$(2),t.Y8G("ngIf",i.isLoading)("ngIfElse",b)}},dependencies:[o.YU,o.Sq,o.bT,ft.wT,nt.rl,Rt.VO,s.BC,s.l_,dt.K,ae.q,Jt.W,$.B,Xt.x,ut.Q,E.U9,g.wp,g.Po],encapsulation:2}),l})();const kt=e=>[e],Ce=()=>({"text-primary mx-auto":!0}),ne=()=>({"text-primary":!0});function Js(e,l){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function Ws(e,l){1&e&&(t.j41(0,"div",9)(1,"a",10),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",12),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,kt,t.bMT(2,3,"/business/infrastructure"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,Ce)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_infrastructure_title")," "))}function Hs(e,l){1&e&&(t.j41(0,"div",9)(1,"a",14),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"azt-svg-icon",15),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,kt,t.bMT(2,3,"/business/educational-program"))),t.R7$(3),t.Y8G("size",48),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_educational_program_title")," "))}function Ks(e,l){1&e&&(t.j41(0,"div",9)(1,"a",16),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"azt-svg-icon",17),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,kt,t.bMT(2,3,"/business/instructional-work"))),t.R7$(3),t.Y8G("size",48),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_instructional_work_title")," "))}function Qs(e,l){1&e&&(t.j41(0,"div",9)(1,"a",18),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",19),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,kt,t.bMT(2,3,"/business/student-management/1"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,Ce)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_notify_list_students")," "))}function Zs(e,l){1&e&&(t.j41(0,"div",9)(1,"a",18),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",20),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,kt,t.bMT(2,3,"/business/account-management"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,ne)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_core_quan_ly_tai_khoan")," "))}function qs(e,l){1&e&&(t.j41(0,"div",9)(1,"a",18),t.nI1(2,"navigationLocalize"),t.j41(3,"div",21),t.nrm(4,"lucide-icon",22),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,kt,t.bMT(2,3,"/business/business-configs/0"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,ne)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_dashboard_business_configs")," "))}function tr(e,l){1&e&&(t.j41(0,"a",24),t.nI1(1,"navigationLocalize"),t.j41(2,"div",21),t.nrm(3,"lucide-icon",25),t.j41(4,"div",13),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()),2&e&&(t.Y8G("routerLink",t.eq3(6,kt,t.bMT(1,2,"/business/business-statistics-overview"))),t.R7$(5),t.SpI(" ",t.bMT(6,4,"lang_core_thong_ke_tong_quan")," "))}function er(e,l){1&e&&(t.j41(0,"a",24),t.nI1(1,"navigationLocalize"),t.j41(2,"div",21),t.nrm(3,"lucide-icon",25),t.j41(4,"div",13),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()),2&e&&(t.Y8G("routerLink",t.eq3(6,kt,t.bMT(1,2,"/business/business-statistics-overview-v2"))),t.R7$(5),t.SpI(" ",t.bMT(6,4,"lang_core_thong_ke_tong_quan")," "))}function nr(e,l){if(1&e&&(t.j41(0,"div",9),t.DNE(1,tr,7,8,"a",23)(2,er,7,8,"a",23),t.k0s()),2&e){const a=t.XpG(2);t.R7$(),t.Y8G("ngIf",a.isTqbDomain),t.R7$(),t.Y8G("ngIf",!a.isTqbDomain)}}function or(e,l){1&e&&(t.j41(0,"div",9)(1,"a",18),t.nI1(2,"navigationLocalize"),t.j41(3,"div",21),t.nrm(4,"lucide-icon",26),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,kt,t.bMT(2,3,"/business/admin-management"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,ne)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_azt_admin")," "))}function ar(e,l){if(1&e&&(t.j41(0,"div",4)(1,"div",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",6)(5,"div",7),t.DNE(6,Ws,8,10,"div",8),t.nI1(7,"allowFeatureBusinessForUser"),t.nI1(8,"async"),t.DNE(9,Hs,8,9,"div",8),t.nI1(10,"allowFeatureBusinessForUser"),t.nI1(11,"async"),t.DNE(12,Ks,8,9,"div",8),t.nI1(13,"allowFeatureBusinessForUser"),t.nI1(14,"async"),t.DNE(15,Qs,8,10,"div",8),t.nI1(16,"allowFeatureBusinessForUser"),t.nI1(17,"async"),t.DNE(18,Zs,8,10,"div",8),t.nI1(19,"allowFeatureBusinessForUser"),t.nI1(20,"async"),t.DNE(21,qs,8,10,"div",8),t.nI1(22,"allowFeatureBusinessForUser"),t.nI1(23,"async"),t.DNE(24,nr,3,2,"div",8)(25,or,8,10,"div",8),t.nI1(26,"allowFeatureBusinessForUser"),t.nI1(27,"async"),t.k0s()()()),2&e){const a=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,9,"lang_cms_business_dashboard_title")," "),t.R7$(4),t.Y8G("ngIf",t.bMT(8,14,t.i5U(7,11,"training_center_infrastructure",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(11,19,t.i5U(10,16,"training_center_curriculum",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(14,24,t.i5U(13,21,"training_center_instructional",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(17,29,t.i5U(16,26,"training_center_tuition",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(20,34,t.i5U(19,31,"training_center_manage_account",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(23,39,t.i5U(22,36,"business_configs_menu",!1))),t.R7$(3),t.Y8G("ngIf",a.isBusinessDomain),t.R7$(),t.Y8G("ngIf",t.bMT(27,44,t.i5U(26,41,"business_configs_menu",!1)))}}let ir=(()=>{var e;class l extends C.H{constructor(){super()}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_business_dashboard_title",description:"lang_cms_business_dashboard_description",image:"lang_cms_test_image"}),super.ngOnInit()}}return(e=l).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-azota-business-dashboard"]],features:[t.Vt3],decls:6,vars:7,consts:[["isReadyBusinessPermision",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"azt-dashboard","w-full","lg:w-80%","mx-auto","mt-5"],[1,"text-lg","font-medium","intro-y"],[1,"mb-3","grid","grid-cols-12","intro-y","sm:gap-10"],[1,"col-span-12","grid","grid-cols-12","gap-6","mt-4","flex","items-center"],["class","col-span-6 md:col-span-3 intro-y","tourAnchor","azt-tour-1",4,"ngIf"],["tourAnchor","azt-tour-1",1,"col-span-6","md:col-span-3","intro-y"],["azt-track-service","dashboard-MZWdTjtFv",3,"routerLink"],[1,"box","py-8","zoom-in","text-center"],["name","building","size","48",3,"ngClass"],[1,"font-medium","text-center","text-base","mt-3"],["azt-track-service","dashboard-dbDZTHWC53",3,"routerLink"],["type","book",1,"block","text-primary","mx-auto",3,"size"],["azt-track-service","dashboard-WiSckpXd7J",3,"routerLink"],["type","slide",1,"block","text-primary","mx-auto",3,"size"],["azt-track-service","dashboard-6wko4rwl-1",3,"routerLink"],["name","user","size","48",3,"ngClass"],["name","users","size","48",3,"ngClass"],[1,"box","py-8","text-center","zoom-in"],["name","settings","size","48",3,"ngClass"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["name","bar-chart-3","size","48",1,"text-primary"],["name","user-cog","size","48",3,"ngClass"]],template:function(n,i){if(1&n&&(t.j41(0,"teacher-layout",1),t.DNE(1,Js,1,1,"azt-loading-effect",2),t.nI1(2,"alreadyDataForBusinessPermission"),t.nI1(3,"async"),t.DNE(4,ar,28,46,"ng-template",null,0,t.C5r),t.k0s()),2&n){const r=t.sdS(5);t.Y8G("headerBackToLink","/admin/dashboard"),t.R7$(),t.Y8G("ngIf",!t.bMT(3,5,t.bMT(2,3,"")))("ngIfElse",r)}},dependencies:[x.Wk,o.YU,o.bT,dt.K,Wt.m,ut.Q,d.WGl,o.Jj,g.F2,g.wp,g.bj,g.aJ],encapsulation:2}),l})();const sr=[{path:"",component:(()=>{var e;class l extends C.H{}return(e=l).\u0275fac=(()=>{let a;return function(i){return(a||(a=t.xGo(e)))(i||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["azota-for-business"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","azota-business"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[x.n3],encapsulation:2}),l})(),canActivate:[gt.t],children:[{path:"dashboard",component:ir},{path:"educational-program",component:ja},{path:"create-educational-program",component:ue},{path:"create-general-educational-program",component:qo},{path:"edit-educational-program/:id",component:ue},{path:"educational-program/:id",component:ba},{path:"infrastructure",component:hi},{path:"infrastructure/:id",component:ei},{path:"instructional-work",component:wi},{path:"student-management/:page",component:Xs},{path:"account-management",component:Qe},{path:"business-configs/:configType",component:eo},{path:"business-statistics-overview",component:Os},{path:"business-statistics-overview-v2",component:us},{path:"admin-management",component:hn}]}];let rr=(()=>{var e;class l{}return(e=l).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[x.iI.forChild(sr),x.iI,ct.XE]}),l})(),lr=(()=>{var e;class l{}return(e=l).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({providers:[{provide:A.vn,useValue:at.c.azt_tiny_mce_script_src}],imports:[x.iI,o.MD,pt.s,A.sv,rr,m.Id,s.YN,s.X1,_.hM,h.L,N.Lk,R.xv,q.Q,H.b,d.flO.pick(d.Ptg),z.f,G.rc,E.An,F.Fr,X.AC]}),l})()},14999:(rt,V,c)=>{c.d(V,{d:()=>X});var o=c(89163),s=c(33887),_=c(48891),x=c(6440),G=c(54460),A=c(2915),F=c(52811),z=c(47348);function d(R,E){if(1&R&&(_.qex(0),_.EFF(1),_.nI1(2,"mytranslate"),_.j41(3,"b",10),_.EFF(4),_.k0s(),_.bVm()),2&R){const m=_.XpG();_.R7$(),_.SpI(" \xa0",_.bMT(2,2,"lang_student_utils_delete_student_last"),":\xa0 "),_.R7$(3),_.JRh(null==m.classroomObj?null:m.classroomObj.name)}}function N(R,E){1&R&&_.nrm(0,"azt-loading-ui",11)}let X=(()=>{var R;class E extends s._{btnCloseDialog(h){this.dialogRef.close(h)}confirmDelete(){this.data.deleteOnParent?this.dialogRef.close(!0):(this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj?.id??0).subscribe(h=>{1==h.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(h.message,!0),this.btnCloseDialog(!1))})))}constructor(h,H,q){super(q,H),this.studentService=h,this.dialogRef=H,this.data=q,this.studentObj=q.studentObj,this.classroomObj=q.classroomObj}}return(R=E).\u0275fac=function(h){return new(h||R)(_.rXU(x.b0),_.rXU(o.CP,8),_.rXU(o.Vh,8))},R.\u0275cmp=_.VBU({type:R,selectors:[["app-delete-single-student"]],features:[_.Vt3],decls:19,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-danger"],[1,"mr-1"]],template:function(h,H){1&h&&(_.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),_.EFF(5),_.nI1(6,"mytranslate"),_.j41(7,"b",4),_.EFF(8),_.k0s(),_.DNE(9,d,5,4,"ng-container",5),_.EFF(10," ? "),_.k0s()()()(),_.j41(11,"div",6)(12,"button",7),_.bIt("click",function(){return H.btnCloseDialog(!1)}),_.EFF(13),_.nI1(14,"mytranslate"),_.k0s(),_.j41(15,"button",8),_.bIt("click",function(){return H.confirmDelete()}),_.DNE(16,N,1,0,"azt-loading-ui",9),_.EFF(17),_.nI1(18,"mytranslate"),_.k0s()()()),2&h&&(_.R7$(5),_.SpI(" ",_.bMT(6,6,"lang_student_utils_delete_student_first"),"\xa0 "),_.R7$(3),_.JRh(null==H.studentObj?null:H.studentObj.fullName),_.R7$(),_.Y8G("ngIf",null==H.classroomObj?null:H.classroomObj.name),_.R7$(4),_.SpI(" ",_.bMT(14,8,"lang_cms_common_close_btn")," "),_.R7$(3),_.Y8G("ngIf",H.statusObj.loading),_.R7$(),_.SpI(" ",_.bMT(18,10,"lang_cms_common_confirm_btn")," "))},dependencies:[G.bT,A.U,F.R,z.wp],encapsulation:2}),E})()},46723:(rt,V,c)=>{c.d(V,{B:()=>it});var o=c(81519),s=c(10936),_=c(47426),x=c(89163),G=c(95670),F=(c(78472),c(99503)),z=c(79347),d=c(33887),N=c(9691),X=c(44477),R=c(93493),E=c(74742),m=c(43234),h=c(48891),H=c(6440),q=c(54460),at=c(2915),pt=c(52811),ct=c(43165),gt=c(47348);function t(T,D){if(1&T&&(h.j41(0,"div",10)(1,"span"),h.EFF(2),h.nI1(3,"mytranslate"),h.k0s()()),2&T){const C=h.XpG();h.R7$(2),h.SpI("",h.bMT(3,1,C.msgError),"!")}}function J(T,D){1&T&&h.nrm(0,"azt-loading-ui",11)}let it=(()=>{var T;class D extends d._{confirmAction(){let S=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.studentForm.form.valid){let M={id:this.studentObj?.id??0,fullName:S.fullName,phone:S.phoneNumber,email:S.email,identificationNumber:S.identificationNumber?Number(S.identificationNumber):void 0,gender:Number(S.gender),birthday:S.birthday?this.timeService.formatOnlyDateToPostToServer(S.birthday):void 0,classroomId:this.classroomObj?.id??0,facebookLink:S.facebookLink,schoolName:S.school,userName:S.userName,parentPhone:S.parentPhoneNumber};this.waitDestroy(this.studentService.apiStudentUpdateObjPost(M).subscribe(tt=>{1==tt.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=tt.message??"",this.stopStatusObj())}))}}btnCloseDialog(S){this.dialogRef.close(S)}ngOnInit(){super.ngOnInit()}constructor(S,M,tt,et){super(et,tt),this.studentService=S,this.timeService=M,this.dialogRef=tt,this.data=et,this.msgError="",this.maxDate=m.c.maxDateTimePicker,this.studentForm=new E.d,this.studentObj=et.studentObj,this.classroomObj=et.classroomObj,this.studentForm.form=new s.gE({fullName:new s.MJ(this.studentObj?.fullName??"",{nonNullable:!0,validators:[s.k0.required]}),userName:new s.MJ(this.studentObj?.parentUserName??"",{nonNullable:!0,validators:[R.i.validateUserName]}),gender:new s.MJ(this.studentObj?.gender,{nonNullable:!0}),birthday:new s.MJ(this.studentObj?.birthday,{nonNullable:!0}),email:new s.MJ(this.studentObj?.email??"",{nonNullable:!0,validators:[X.U.isInvalidEmail,s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ(this.studentObj?.phone??"",{nonNullable:!0,validators:[s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),parentPhoneNumber:new s.MJ(this.studentObj?.parentPhone??"",{nonNullable:!0,validators:[s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),identificationNumber:new s.MJ(this.commonService.padLeadingZeros(this.studentObj?.identificationNumber??void 0,this.myEnvironment.maxStudentCodeLength),{nonNullable:!0,validators:[s.k0.min(1),s.k0.maxLength(this.myEnvironment.maxStudentCodeLength),s.k0.pattern("^[0-9]*$")]}),facebookLink:new s.MJ(this.studentObj?.moreInfo?.facebookLink,{nonNullable:!0}),school:new s.MJ(this.studentObj?.moreInfo?.schoolName,{nonNullable:!0})})}}return(T=D).\u0275fac=function(S){return new(S||T)(h.rXU(H.b0),h.rXU(N.F),h.rXU(x.CP,8),h.rXU(x.Vh,8))},T.\u0275cmp=h.VBU({type:T,selectors:[["app-edit-student"]],features:[h.Jv_([{provide:o.$O,useClass:F.fb,deps:[_.Ju,F.ij]},{provide:o.vq,useFactory:z.fJ,deps:[N.F]},{provide:G.U$,useValue:{floatLabel:"never"}}]),h.Vt3],decls:17,vars:13,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"closeDialog","studentForm"],["class","text-xs font-medium text-danger mt-2 pl-3 mb-2 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit_student-jfiMakvRbsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","edit_student-Q_oCb2JwMVm",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","pl-3","mb-2","fade"],[1,"mr-1"]],template:function(S,M){1&S&&(h.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),h.EFF(5),h.nI1(6,"mytranslate"),h.k0s(),h.j41(7,"azt-form-enter-info-student",4),h.bIt("closeDialog",function(et){return M.btnCloseDialog(et)}),h.k0s()()(),h.DNE(8,t,4,3,"div",5),h.k0s(),h.j41(9,"div",6)(10,"button",7),h.bIt("click",function(){return M.btnCloseDialog(!1)}),h.EFF(11),h.nI1(12,"mytranslate"),h.k0s(),h.j41(13,"button",8),h.bIt("click",function(){return M.confirmAction()}),h.DNE(14,J,1,0,"azt-loading-ui",9),h.EFF(15),h.nI1(16,"mytranslate"),h.k0s()()()),2&S&&(h.R7$(5),h.SpI(" ",h.bMT(6,7,"lang_student_utils_edit_student")," "),h.R7$(2),h.Y8G("studentForm",M.studentForm),h.R7$(),h.Y8G("ngIf",""!==M.msgError),h.R7$(3),h.SpI(" ",h.bMT(12,9,"lang_cms_common_close_btn")," "),h.R7$(2),h.Y8G("disabled",M.statusObj.loading||M.studentForm.form.invalid),h.R7$(),h.Y8G("ngIf",M.statusObj.loading),h.R7$(),h.SpI(" ",h.bMT(16,11,"lang_button_update")," "))},dependencies:[q.bT,at.U,pt.R,ct.s,gt.wp],encapsulation:2}),D})()},74151:(rt,V,c)=>{c.d(V,{n:()=>_});var o=c(48891),s=c(53793);let _=(()=>{var x;class G{resizeDrawerHeight(F,z){if(this.autoResizeHeight=F,this.drawer=z,this.drawer&&this.autoResizeHeight){let d=()=>{let R=document.querySelector(".azt-drawer-content"),E=document.querySelector(".azt-draw-left");if(E&&E instanceof HTMLElement&&R&&R instanceof HTMLElement){let m=R;m.style.minHeight=this.isOpenSideNav?E.clientHeight+10+"px":"auto"}},N=new ResizeObserver(R=>{d()}),X=document.querySelector(".azt-draw-left");X&&N.observe(X),d()}}openDrawer(){this.drawer?.open(),this.isOpenSideNav=!0}closeDrawer(){this.drawer?.close(),this.isOpenSideNav=!1}toggleDrawer(){this.drawer?.toggle(),this.isOpenSideNav=!this.isOpenSideNav}openedChange(F){this.isOpenSideNav=F,this.resizeDrawerHeight(this.autoResizeHeight)}changeToMobileMode(F){F?(this.mode="over",this.hasBackdrop=!0):(this.mode="side",this.hasBackdrop=!1)}constructor(F){this.commonService=F,this.hasBackdrop=!!this.commonService.isMobileOrTable(),this.mode=this.commonService.isMobileOrTable()?"over":"side",this.isShowActions=(this.commonService.isMobileOrTable(),!0),this.isOpenSideNav=!this.commonService.isMobileOrTable(),this.autoResizeHeight=!1}}return(x=G).\u0275fac=function(F){return new(F||x)(o.KVO(s.R))},x.\u0275prov=o.jDH({token:x,factory:x.\u0275fac,providedIn:null}),G})()},26988:(rt,V,c)=>{c.d(V,{h:()=>s});var o=c(48891);let s=(()=>{var _;class x{constructor(){this.itemPerPage=20,this.curPage=1,this.hasNextPage=!1,this.isLoadingNextPage=!1,this.totalRecord=0}setTotalItemPerPage(A){this.itemPerPage=A}setLoading(A){this.isLoadingNextPage=A}setNextPage(){this.curPage+=1}resetToFirstPage(){this.curPage=1}setTotalRecord(A){return this.totalRecord=A,this.hasNextPage=this.curPage*this.itemPerPage<this.totalRecord,this.hasNextPage}}return(_=x).\u0275fac=function(A){return new(A||_)},_.\u0275prov=o.jDH({token:_,factory:_.\u0275fac,providedIn:null}),x})()},93493:(rt,V,c)=>{c.d(V,{i:()=>o});class o{static validateUserName(_){let F=_.value??"";return 0==F.length?null:/[a-zA-Z]/.test(F)&&/^[a-zA-Z0-9_-]+$/.test(F)?F.length<3&&F.length>0?{isShort:!0}:F.length>50?{isLong:!0}:null:{isLetter:!0}}}},45344:(rt,V,c)=>{c.d(V,{u:()=>it});var o=c(81519),s=c(48891),_=c(34514),x=c(47426),G=c(60902),A=c(99503),F=c(79347),z=c(9691),d=c(59640),N=c(74742),X=c(46899),R=c(17187),E=c(54460),m=c(12992),h=c(95670),H=c(4375),q=c(10936),at=c(52811),pt=c(47348);function ct(T,D){1&T&&(s.j41(0,"div",7),s.nrm(1,"azt-loading-ui"),s.k0s())}function gt(T,D){if(1&T){const C=s.RV6();s.j41(0,"div",11)(1,"mat-checkbox",12),s.mxI("ngModelChange",function(M){s.eBV(C);const tt=s.XpG().$implicit;return s.DH7(tt.selected,M)||(tt.selected=M),s.Njj(M)}),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s()()}if(2&T){const C=s.XpG().$implicit;s.R7$(),s.R50("ngModel",C.selected),s.Y8G("checked",C.selected),s.R7$(),s.SpI(" ",s.bMT(3,3,"lang_core_thang")+" "+C.month+"/"+C.year," ")}}function t(T,D){if(1&T&&(s.qex(0),s.DNE(1,gt,4,5,"div",10),s.bVm()),2&T){const C=D.$implicit,S=s.XpG(2);s.R7$(),s.Y8G("ngIf",C.year==S.currentYearSelect)}}function J(T,D){if(1&T&&(s.j41(0,"div",8),s.DNE(1,t,2,1,"ng-container",9),s.k0s()),2&T){const C=s.XpG();s.R7$(),s.Y8G("ngForOf",C.checkboxMonth.checkboxMonth)}}let it=(()=>{var T;class D extends d.H{isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(S=>1==S.selected)}getHistoriesMonth(){this.histories||(this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.checkboxMonth.studentId)).subscribe(S=>{if(!S.success)return this.isSaving=!1,void this.errorStatusObj(S.message,!0);this.checkboxMonth.checkboxMonth.map(M=>M.selected=null!=S.data?.histories.find(tt=>tt.month==M.month&&M.year==tt.year)),this.stopStatusObj()})))}ngOnInit(){super.ngOnInit(),this.getHistoriesMonth()}constructor(S,M,tt){super(),this.sAztDialogService=S,this.sAztTimeService=M,this.paymentService=tt,this.checkboxMonth=new G.L,this.sendListMonth=new s.bkB,this.studentForm=new N.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,this.currentYearSelect=this.currentDate.getFullYear()}ngOnDestroy(){super.ngOnDestroy()}}return(T=D).\u0275fac=function(S){return new(S||T)(s.rXU(X.i),s.rXU(z.F),s.rXU(R.W))},T.\u0275cmp=s.VBU({type:T,selectors:[["azt-checkbox-month"]],inputs:{checkboxMonth:"checkboxMonth",histories:"histories"},outputs:{sendListMonth:"sendListMonth"},features:[s.Jv_([{provide:o.$O,useClass:A.fb,deps:[x.Ju,_.ij]},{provide:o.vq,useFactory:F.fJ,deps:[z.F]}]),s.Vt3],decls:19,vars:18,consts:[[1,"w-full"],[1,"text-md","font-medium","flex","items-center",2,"justify-content","space-between"],["appearance","outline",1,"mb-2",2,"width","50%"],[3,"valueChange","value"],[3,"value"],["class","p-5 flex justify-center",4,"ngIf"],["class","mt-1 grid grid-cols-12 gap-3","style","flex-wrap: wrap",4,"ngIf"],[1,"p-5","flex","justify-center"],[1,"mt-1","grid","grid-cols-12","gap-3",2,"flex-wrap","wrap"],[4,"ngFor","ngForOf"],["class","mt-1 col-span-6 md:col-span-4","style","min-width: 96px",4,"ngIf"],[1,"mt-1","col-span-6","md:col-span-4",2,"min-width","96px"],[1,"example-margin",3,"ngModelChange","ngModel","checked"]],template:function(S,M){1&S&&(s.j41(0,"div",0)(1,"h3",1),s.EFF(2),s.nI1(3,"mytranslate"),s.nI1(4,"mytranslate"),s.nI1(5,"mytranslate"),s.j41(6,"mat-form-field",2)(7,"mat-select",3),s.mxI("valueChange",function(et){return s.DH7(M.currentYearSelect,et)||(M.currentYearSelect=et),et}),s.j41(8,"mat-option",4)(9,"span"),s.EFF(10),s.k0s()(),s.j41(11,"mat-option",4)(12,"span"),s.EFF(13),s.k0s()(),s.j41(14,"mat-option",4)(15,"span"),s.EFF(16),s.k0s()()()()(),s.DNE(17,ct,2,0,"div",5)(18,J,2,1,"div",6),s.k0s()),2&S&&(s.R7$(2),s.E5c(" ",s.bMT(3,12,"lang_test_market_withdraw_time")," ",s.bMT(4,14,"lang_core_nop_hoc_phi").toLocaleLowerCase()," ",s.bMT(5,16,"lang_core_nam").toLocaleLowerCase()," "),s.R7$(5),s.R50("value",M.currentYearSelect),s.R7$(),s.Y8G("value",M.currentDate.getFullYear()-1),s.R7$(2),s.SpI(" ",M.currentDate.getFullYear()-1," "),s.R7$(),s.Y8G("value",M.currentDate.getFullYear()),s.R7$(2),s.SpI(" ",M.currentDate.getFullYear()," "),s.R7$(),s.Y8G("value",M.currentDate.getFullYear()+1),s.R7$(2),s.SpI(" ",M.currentDate.getFullYear()+1," "),s.R7$(),s.Y8G("ngIf",M.statusObj.loading),s.R7$(),s.Y8G("ngIf",!M.statusObj.loading))},dependencies:[E.Sq,E.bT,x.wT,m.So,h.rl,H.VO,q.BC,q.vS,at.R,pt.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),D})()},11002:(rt,V,c)=>{c.d(V,{$:()=>x});var o=c(59640),s=c(48891);const _=["*"];let x=(()=>{var G;class A extends o.H{constructor(){super(...arguments),this.colorBackground="",this.defaultHeight="45px",this.fixToTopWidth=0,this.fixToTopTop=0}onWindowScroll(){let z=document.querySelector(".azt-content"),d=document.getElementById("flexed-on-top"),N=document.getElementById("position-dev")?.getBoundingClientRect();if(!z||!d||!N)return;let X=window.pageYOffset,R=N.top,E=R<-50;if(this.fixToTopWidth=N.width,this.fixToTopTop=N.top,E){d.style.position="fixed",d.style.zIndex="9999",d.style.height=this.defaultHeight,d.style.right=this.isMobileWebView?"0":"12px",d.style.background=this.colorBackground,d.style.justifyContent="end";let m=z.getBoundingClientRect().width;this.isMobileDevice?(d.style.top="62px",d.style.padding="6px 15px",d.style.width=(m+32).toString()+"px"):(d.style.top="0",d.style.padding="6px 22px",d.style.width=(m+44).toString()+"px")}else(0==X||0==R)&&(d.style.position="",d.style.top="",d.style.right="",d.style.zIndex="",d.style.height="",d.style.padding="",d.style.background="",d.style.width="",d.style.justifyContent="")}}return(G=A).\u0275fac=(()=>{let F;return function(d){return(F||(F=s.xGo(G)))(d||G)}})(),G.\u0275cmp=s.VBU({type:G,selectors:[["flexed-on-the-top"]],hostBindings:function(z,d){1&z&&s.bIt("scroll",function(X){return d.onWindowScroll(X)},!1,s.tSv)},inputs:{colorBackground:"colorBackground",defaultHeight:"defaultHeight"},features:[s.Vt3],ngContentSelectors:_,decls:3,vars:0,consts:[["id","position-dev"],["id","flexed-on-top",1,"flex","flexed-on-top"]],template:function(z,d){1&z&&(s.NAR(),s.nrm(0,"div",0),s.j41(1,"div",1),s.SdG(2),s.k0s())},encapsulation:2}),A})()},2915:(rt,V,c)=>{c.d(V,{U:()=>d});var o=c(59640),s=c(48891),_=c(54460),x=c(89163),G=c(5502);const A=["aztDialogContentBox"],F=["*"],z=(N,X)=>({"width.px":N,"height.%":100,"--scrollbar-size":X});let d=(()=>{var N;class X extends o.H{checkHeightOfElement(){if(!this.aztDialogContentBox)return;var E=this.aztDialogContentBox.nativeElement.querySelector("."+this.contentBoxClassName);if(!E)return;let m=Math.round(window.innerHeight*this.defaultHeight/100),h=E.getBoundingClientRect().height+1,H=!(h<m),q=(h<m?h:m)+"px",at="72vh";H!=this.isScroll&&(this.isScroll=H),this.aztDialogContentBox.nativeElement.style.height!=q&&(this.aztDialogContentBox.nativeElement.style.height=q),this.aztDialogContentBox.nativeElement.style.maxHeight!=at&&(at=q),this.minHeight&&(this.aztDialogContentBox.nativeElement.style.minHeight=this.minHeight)}ngAfterViewChecked(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.checkHeightOfElement()},0)})}constructor(E){super(),this.ngZone=E,this.defaultHeight=72,this.defaultWidth=0,this.minHeight=void 0,this.isScroll=!1,this.contentBoxClassName="azt-mat-dialog-content-box"}}return(N=X).\u0275fac=function(E){return new(E||N)(s.rXU(s.SKi))},N.\u0275cmp=s.VBU({type:N,selectors:[["azt-mat-dialog-content"]],viewQuery:function(E,m){if(1&E&&s.GBs(A,5),2&E){let h;s.mGM(h=s.lsd())&&(m.aztDialogContentBox=h.first)}},inputs:{defaultHeight:"defaultHeight",defaultWidth:"defaultWidth",minHeight:"minHeight"},features:[s.Vt3],ngContentSelectors:F,decls:5,vars:7,consts:[["aztDialogContentBox",""],["scrollViewport","","pointerEventsMethod","scrollbar",3,"visibility","ngStyle"]],template:function(E,m){1&E&&(s.NAR(),s.j41(0,"mat-dialog-content",null,0)(2,"ng-scrollbar",1)(3,"div"),s.SdG(4),s.k0s()()()),2&E&&(s.R7$(2),s.Y8G("visibility","hover")("ngStyle",s.l_i(4,z,m.defaultWidth||"auto",m.isScroll?"5px":"0")),s.R7$(),s.HbH(m.contentBoxClassName))},dependencies:[_.B3,x.Yi,G.Yh,G.Gl],encapsulation:2}),X})()},93518:(rt,V,c)=>{c.d(V,{k:()=>o});var o=function(s){return s.video="video",s.document="document",s.homework="homework",s.homework_view="homework_view",s.unknown="unknown",s}(o||{})},43165:(rt,V,c)=>{c.d(V,{s:()=>It});var o=c(48891),s=c(26651),_=c(59640),x=c(43234),G=c(42804),A=c(97924),F=c(54460),z=c(39471),d=c(97839),N=c(95670),X=c(81519),R=c(10936),E=c(15343),m=c(7919),h=c(81587),H=c(81300),q=c(47348);function at(k,K){1&k&&(o.j41(0,"div",23),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function pt(k,K){1&k&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function ct(k,K){1&k&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function gt(k,K){if(1&k&&(o.j41(0,"div",26),o.DNE(1,pt,3,3,"span",27)(2,ct,3,3,"span",27),o.k0s()),2&k){const L=o.XpG(2);o.R7$(),o.Y8G("ngIf",L.studentForm.form.controls.identificationNumber.errors.min),o.R7$(),o.Y8G("ngIf",L.studentForm.form.controls.identificationNumber.errors.maxlength||L.studentForm.form.controls.identificationNumber.errors.pattern)}}function t(k,K){if(1&k&&(o.j41(0,"div",2),o.nrm(1,"input",24),o.nI1(2,"mytranslate"),o.DNE(3,gt,3,2,"div",25),o.k0s()),2&k){const L=o.XpG();o.R7$(),o.FS9("placeholder",o.bMT(2,2,"lang_auto_so_bao_danh")),o.R7$(2),o.Y8G("ngIf",L.studentForm.form.controls.identificationNumber.errors&&(L.studentForm.form.controls.identificationNumber.dirty||L.studentForm.form.controls.identificationNumber.touched))}}function J(k,K){1&k&&(o.j41(0,"div",23),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function it(k,K){1&k&&(o.j41(0,"div",23),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function T(k,K){1&k&&(o.j41(0,"div",23),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function D(k,K){1&k&&(o.j41(0,"div",23),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_core_invalid_email")," "))}function C(k,K){1&k&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_core_ten_dang_nhap_phai_nhieu_hon_3_ky_tu")," "))}function S(k,K){1&k&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_core_ten_dang_nhap_phai_it_hon_100_ky_tu")," "))}function M(k,K){1&k&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_core_ten_dang_nhap_chi_chua_cac_ky_tu_hop_le_va_it_nhat_1_chu_cai")," "))}function tt(k,K){if(1&k&&(o.j41(0,"div",23),o.DNE(1,C,3,3,"span",27)(2,S,3,3,"span",27)(3,M,3,3,"span",27),o.k0s()),2&k){const L=o.XpG(2);o.R7$(),o.Y8G("ngIf",null==L.studentForm.form.controls.userName||null==L.studentForm.form.controls.userName.errors?null:L.studentForm.form.controls.userName.errors.isShort),o.R7$(),o.Y8G("ngIf",null==L.studentForm.form.controls.userName||null==L.studentForm.form.controls.userName.errors?null:L.studentForm.form.controls.userName.errors.isLong),o.R7$(),o.Y8G("ngIf",null==L.studentForm.form.controls.userName||null==L.studentForm.form.controls.userName.errors?null:L.studentForm.form.controls.userName.errors.isLetter)}}function et(k,K){if(1&k){const L=o.RV6();o.j41(0,"div",2)(1,"azt-check-vip-account",28),o.bIt("closeDialog",function(I){o.eBV(L);const Y=o.XpG();return o.Njj(Y.handleCloseCheckVip(I))}),o.nrm(2,"input",29),o.nI1(3,"mytranslate"),o.k0s(),o.DNE(4,tt,4,3,"div",4),o.k0s()}if(2&k){const L=o.XpG();o.R7$(),o.Y8G("vipPackageType","VIP_FOR_TEACHER")("isShowBadgeVip",!L.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_ENTER_USERNAME"),o.R7$(),o.FS9("placeholder",o.bMT(3,6,"lang_auto_nhap_ten_dang_ky")),o.R7$(2),o.Y8G("ngIf",null==L.studentForm.form.controls.userName?null:L.studentForm.form.controls.userName.errors)}}function xt(k,K){1&k&&(o.j41(0,"div",35),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI("*",o.bMT(2,1,"lang_azt_note_not_enter_password_one"),""))}function ft(k,K){1&k&&(o.j41(0,"div",23),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function mt(k,K){if(1&k){const L=o.RV6();o.j41(0,"div",2)(1,"div",30),o.nrm(2,"input",31),o.nI1(3,"mytranslate"),o.j41(4,"button",32),o.bIt("click",function(){o.eBV(L);const I=o.XpG();return o.Njj(I.togglePassword())}),o.nrm(5,"lucide-icon",33),o.k0s()(),o.DNE(6,xt,3,3,"div",34)(7,ft,3,3,"div",4),o.k0s()}if(2&k){const L=o.XpG();o.R7$(2),o.FS9("placeholder",o.bMT(3,5,"lang_auto_mat_khau")),o.Y8G("type",L.showPassword?"text":"password"),o.R7$(3),o.FS9("name",L.showPassword?"eye":"eye-off"),o.R7$(),o.Y8G("ngIf",!L.isAddParent),o.R7$(),o.Y8G("ngIf",L.studentForm.form.controls.password.errors)}}function Ft(k,K){1&k&&(o.j41(0,"div",2),o.nrm(1,"input",36),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.FS9("placeholder",o.bMT(2,1,"lang_wsuper_admin_add_school_enter_school")))}function yt(k,K){1&k&&(o.j41(0,"div",2),o.nrm(1,"input",37),o.nI1(2,"mytranslate"),o.k0s()),2&k&&(o.R7$(),o.FS9("placeholder",o.bMT(2,1,"lang_core_nhap_link_facebook")))}let It=(()=>{var k;class K extends _.H{togglePassword(){this.showPassword=!this.showPassword}handleCloseCheckVip(ot){this.studentForm.form.controls.userName?.reset(),this.studentForm.form.controls.userName?.disable(),this.studentForm.form.controls.userName?.enable(),ot&&this.closeDialog.emit(ot)}ngOnInit(){super.ngOnInit(),this.studentForm.removeValidatePhoneWhenNotBusiness(this.isBusinessDomain),this.initStatusObj(),this.checkVipAccountService.getVipInfo(s.W5.VIPFORTEACHER,!0,void 0).subscribe(ot=>{if(!ot.success)return this.errorStatusObj(ot.message);this.isVipAccount=ot.data?.vipSubscriptionObj?.isVipTeacher??!1,this.successStatusObj()})}constructor(ot){super(),this.checkVipAccountService=ot,this.hasUser=!1,this.modeView=G.u.Default,this.isAddParent=!1,this.closeDialog=new o.bkB,this.showPassword=!1,this.maxDate=x.c.maxDateTimePicker,this.startAtTime=new Date("01/01/2006"),this.isVipAccount=!1}}return(k=K).\u0275fac=function(ot){return new(ot||k)(o.rXU(A.K))},k.\u0275cmp=o.VBU({type:k,selectors:[["azt-form-enter-info-student"]],inputs:{studentForm:"studentForm",hasUser:"hasUser",modeView:"modeView",isAddParent:"isAddParent"},outputs:{closeDialog:"closeDialog"},features:[o.Vt3],decls:50,vars:42,consts:[["birthDay",""],[3,"formGroup"],[1,"mt-3"],["id","fullname","formControlName","fullName","autocomplete","new-name","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"flex","justify-between","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],["for","gender",1,"text-sm"],[1,"flex","justify-end"],[1,"form-check","w-20","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio",1,"form-check-input",3,"value"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender",1,"form-check-input",3,"value"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"azt-time-picker"],["azt-track-service","add_student-OL_xz2BQlY","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","add_student-6m5M85CG5t","matSuffix","",3,"click"],["name","calendar-days","size","16"],[3,"touchUi","hideTime","startAt"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["id","numberphone","formControlName","phoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],["id","parentPhoneNumber","formControlName","parentPhoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],["id","email","formControlName","email","type","text","autocomplete","new-email",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[4,"ngIf"],[3,"closeDialog","vipPackageType","isShowBadgeVip","isAction","trackingKey"],["id","username","formControlName","userName","autocomplete","new-phone","type","text",1,"form-control",2,"margin-right","-65px","padding-right","70px",3,"placeholder"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-form-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","50%","right","5px","border","none","background","transparent","z-index","99","transform","translate(0, -50%)",3,"click"],["size","16",3,"name"],["class","text-xs mt-1 text-warning",4,"ngIf"],[1,"text-xs","mt-1","text-warning"],["id","school","formControlName","school","type","text",1,"form-control",3,"placeholder"],["id","facebookLink","formControlName","facebookLink","autocomplete","new-facebook-link","type","text",1,"form-control",3,"placeholder"]],template:function(ot,I){if(1&ot){const Y=o.RV6();o.j41(0,"form",1)(1,"div",2),o.nrm(2,"input",3),o.nI1(3,"mytranslate"),o.DNE(4,at,3,3,"div",4),o.k0s(),o.DNE(5,t,4,4,"div",5),o.j41(6,"div",2)(7,"div",6)(8,"label",7),o.EFF(9),o.nI1(10,"mytranslate"),o.k0s(),o.j41(11,"div",8)(12,"div",9),o.nrm(13,"input",10),o.j41(14,"label",11),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s()(),o.j41(17,"div",9),o.nrm(18,"input",12),o.j41(19,"label",13),o.EFF(20),o.nI1(21,"mytranslate"),o.k0s()()()()(),o.j41(22,"div",2)(23,"mat-form-field",14)(24,"input",15),o.nI1(25,"mytranslate"),o.bIt("click",function(){o.eBV(Y);const j=o.sdS(29);return o.Njj(j.open())}),o.k0s(),o.j41(26,"button",16),o.bIt("click",function(j){return o.eBV(Y),o.sdS(29).open(),o.Njj(j.stopPropagation())}),o.nrm(27,"lucide-icon",17),o.k0s(),o.j41(28,"ngx-mat-datetime-picker",18,0)(30,"ngx-mat-datepicker-actions")(31,"button",19),o.EFF(32,"OK"),o.k0s()()()(),o.DNE(33,J,3,3,"div",4),o.k0s(),o.j41(34,"div",2),o.nrm(35,"input",20),o.nI1(36,"mytranslate"),o.DNE(37,it,3,3,"div",4),o.k0s(),o.j41(38,"div",2),o.nrm(39,"input",21),o.nI1(40,"mytranslate"),o.DNE(41,T,3,3,"div",4),o.k0s(),o.j41(42,"div",2),o.nrm(43,"input",22),o.nI1(44,"mytranslate"),o.DNE(45,D,3,3,"div",4),o.k0s(),o.DNE(46,et,5,8,"div",5)(47,mt,8,7,"div",5)(48,Ft,3,3,"div",5)(49,yt,3,3,"div",5),o.k0s()}if(2&ot){let Y;const $=o.sdS(29);o.Y8G("formGroup",I.studentForm.form),o.R7$(2),o.FS9("placeholder",o.bMT(3,26,"lang_auto_nhap_ho_va_ten")),o.R7$(2),o.Y8G("ngIf",I.studentForm.form.controls.fullName.errors),o.R7$(),o.Y8G("ngIf",I.studentForm.form.controls.identificationNumber&&!I.isAddParent),o.R7$(4),o.SpI(" ",o.bMT(10,28,"lang_auto_gioi_tinh")," "),o.R7$(4),o.Y8G("value",1),o.R7$(2),o.SpI(" ",o.bMT(16,30,"lang_auto_nam")," "),o.R7$(3),o.Y8G("value",0),o.R7$(2),o.SpI(" ",o.bMT(21,32,"lang_auto_nu")," "),o.R7$(4),o.FS9("placeholder",o.bMT(25,34,"lang_auto_ngay_sinh")),o.Y8G("max",I.maxDate)("ngxMatDatetimePicker",$),o.R7$(4),o.Y8G("touchUi",!0)("hideTime",!0)("startAt",null!==(Y=null==I.studentForm.form.controls.birthday?null:I.studentForm.form.controls.birthday.value)&&void 0!==Y?Y:I.startAtTime),o.R7$(5),o.Y8G("ngIf",null==I.studentForm.form.controls.birthday?null:I.studentForm.form.controls.birthday.errors),o.R7$(2),o.FS9("placeholder",o.bMT(36,36,"lang_number_phone")),o.R7$(2),o.Y8G("ngIf",I.studentForm.form.controls.phoneNumber.errors),o.R7$(2),o.FS9("placeholder",o.bMT(40,38,"lang_parent_number_phone")),o.R7$(2),o.Y8G("ngIf",I.studentForm.form.controls.parentPhoneNumber.errors),o.R7$(2),o.FS9("placeholder",o.bMT(44,40,"lang_auto_nhap_email")),o.R7$(2),o.Y8G("ngIf",I.studentForm.form.controls.email.errors),o.R7$(),o.Y8G("ngIf",!I.isAddParent&&(I.isVipAccount||I.isBusinessDomain&&!I.isTqbDomain)),o.R7$(),o.Y8G("ngIf",I.studentForm.form.controls.password&&!I.hasUser&&(I.isVipAccount||I.isBusinessDomain)),o.R7$(),o.Y8G("ngIf",I.isBusinessDomain&&!I.isAddParent),o.R7$(),o.Y8G("ngIf",I.isBusinessDomain&&!I.isAddParent)}},dependencies:[F.bT,z.$z,d.fg,N.rl,N.yw,X.m7,X.yF,X.HF,X.Uq,R.qT,R.me,R.Fm,R.BC,R.cb,R.j4,R.JD,E.WGl,m.Z,h.t,H.F,q.wp],encapsulation:2}),K})()},42804:(rt,V,c)=>{c.d(V,{u:()=>o});var o=function(s){return s.Default="DEFAULT",s.ADD_STUDENT="ADD_STUDENT",s}(o||{})},74742:(rt,V,c)=>{c.d(V,{d:()=>G});var o=c(10936);class s{static isInvalidPassword(F){let d=F.value?.trim()??"";return d&&d.length<6?{isInvalidPassword:!0}:null}}var _=c(93493),x=c(43234);class G{constructor(){this.form=new o.gE({fullName:new o.MJ("",{nonNullable:!0,validators:[o.k0.required]}),gender:new o.MJ(0,{nonNullable:!0}),birthday:new o.MJ(void 0,{nonNullable:!0}),email:new o.MJ("",{nonNullable:!0,validators:[o.k0.email,o.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new o.MJ("",{nonNullable:!0,validators:[o.k0.pattern(/^[0-9\-]*$/),o.k0.minLength(10),o.k0.maxLength(10)]}),parentPhoneNumber:new o.MJ("",{nonNullable:!0,validators:[o.k0.pattern(/^[0-9\-]*$/),o.k0.minLength(10),o.k0.maxLength(10)]}),identificationNumber:new o.MJ("",{nonNullable:!0,validators:[o.k0.min(1),o.k0.maxLength(x.c.maxStudentCodeLength),o.k0.pattern("^[0-9]*$")]}),password:new o.MJ("",{nonNullable:!0,validators:[s.isInvalidPassword]}),facebookLink:new o.MJ("",{nonNullable:!0}),school:new o.MJ("",{nonNullable:!0}),userName:new o.MJ("",{nonNullable:!0,validators:[_.i.validateUserName]})})}removeValidatePhoneWhenNotBusiness(F){F||this.form.controls.phoneNumber.removeValidators(o.k0.required)}}}}]);