(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[8409],{51034:(B,A,i)=>{"use strict";i.r(A),i.d(A,{LadingPageModule:()=>Ye});var t=i(54460),y=i(10936),C=i(89163),c=i(65162),p=i(81275),S=i(69223),h=i(15437),O=i(15343),j=i(13763),u=i(25571),g=i(5502),T=i(70050),b=i(7050),I=i(35143),X=i(43234),Y=i(21656),$=i(1133),F=i(76627),z=i(59640),w=i(37497),e=i(48891),_=i(78472),k=i(15485),v=i(52509),R=i(36484),x=i(18718),L=i(22613),W=i(86972),J=i(92274),l=i(45306),D=i(43362),d=i(51221),E=i(86925),P=i(37581),N=i(92654),K=i(46899),M=i(30977),H=i(50589),Q=i(31291),q=i(23356),U=i(47712),ie=i(69135),se=i(52811),re=i(94743),Z=i(47348);const ae=n=>({active:n}),le=n=>[n],ce=n=>({clickable:n}),me=n=>({"truncate-bread":n}),de=(n,m)=>({"overflow-x-auto":n,"overflow-x-visible":m}),ne=n=>({"min-width":n}),ge=(n,m)=>({"col-span-4":n,"col-span-12":m}),_e=(n,m)=>({"ml-5":n,"ml-3":m}),oe=n=>({"text-primary stroke-width-2.5":n}),ue=()=>({"-mt-2":!0}),pe=(n,m)=>({"col-span-8":n,"col-span-12":m}),he=(n,m)=>({"w-60":n,"w-52":m});function be(n,m){if(1&n&&(e.j41(0,"li",15)(1,"a",16),e.nI1(2,"navigationLocalize"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&n){const s=e.XpG();e.Y8G("ngClass",e.eq3(7,ae,2885==s.currentCategoryId||0==s.currentCategoryId)),e.R7$(),e.Y8G("routerLink",e.eq3(9,le,e.bMT(2,3,"/ladingpage/document-management/0/0/1"))),e.R7$(2),e.SpI(" ",e.bMT(4,5,"azt_lang_core_share_global_azota")," ")}}function fe(n,m){if(1&n){const s=e.RV6();e.j41(0,"li",17)(1,"a",18),e.bIt("click",function(){const o=e.eBV(s).$implicit,r=e.XpG();return e.Njj(r.backToParentCategoryEvent(o))}),e.j41(2,"span",19,1),e.nI1(4,"mytranslate"),e.j41(5,"span"),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()()()}if(2&n){const s=m.$implicit,a=e.sdS(3),o=e.XpG();e.Y8G("ngClass",e.eq3(11,ae,s.id==o.currentCategoryId)),e.R7$(),e.Y8G("ngClass",e.eq3(13,ce,s.id!=o.currentCategoryId)),e.R7$(),e.FS9("matTooltip",e.bMT(4,7,s.name)),e.Y8G("ngClass",e.eq3(15,me,s.id!=o.currentCategoryId))("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),e.R7$(4),e.JRh(e.bMT(7,9,s.name))}}function ye(n,m){1&n&&(e.j41(0,"div",20)(1,"div",21),e.nrm(2,"azt-svg-icon",22),e.j41(3,"p",23),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&n&&(e.R7$(2),e.Y8G("size",84),e.R7$(2),e.SpI("",e.bMT(5,2,"lang_not_found_search"),"!"))}function ve(n,m){if(1&n&&(e.qex(0),e.eu8(1,24),e.bVm()),2&n){e.XpG();const s=e.sdS(14);e.R7$(),e.Y8G("ngTemplateOutlet",s)}}function xe(n,m){1&n&&e.nrm(0,"azt-loading-ui",41)}function Ce(n,m){1&n&&(e.qex(0),e.nrm(1,"azt-svg-icon",54),e.bVm()),2&n&&(e.R7$(),e.Y8G("size",24))}function Te(n,m){1&n&&(e.j41(0,"span"),e.nrm(1,"azt-svg-icon",55),e.k0s()),2&n&&(e.R7$(),e.Y8G("size",24))}function Ee(n,m){1&n&&e.nrm(0,"azt-svg-icon",56),2&n&&e.Y8G("size",24)}function Se(n,m){if(1&n&&e.DNE(0,Te,2,1,"span",49)(1,Ee,1,1,"ng-template",null,3,e.C5r),2&n){const s=e.sdS(2),a=e.XpG().$implicit;e.Y8G("ngIf",a.shared)("ngIfElse",s)}}function De(n,m){1&n&&(e.j41(0,"span",57),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_de_chung_azota")," "))}function Ie(n,m){1&n&&(e.j41(0,"span",58),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_chia_se")))}function Oe(n,m){if(1&n){const s=e.RV6();e.j41(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"div",46)(5,"div",47),e.bIt("click",function(){const o=e.eBV(s).$implicit,r=e.XpG(2);return e.Njj(r.handleOpenFolder(o))}),e.j41(6,"div",48),e.DNE(7,Ce,2,1,"ng-container",49)(8,Se,3,2,"ng-template",null,2,e.C5r),e.k0s(),e.j41(10,"div",50,1),e.nI1(12,"mytranslate"),e.j41(13,"span"),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()(),e.DNE(16,De,3,3,"span",51)(17,Ie,3,3,"span",52),e.k0s()()(),e.nrm(18,"div",53),e.k0s()()()}if(2&n){const s=m.$implicit,a=e.sdS(9),o=e.sdS(11),r=e.XpG(2);e.FS9("id","folder_"+s.id),e.R7$(5),e.Y8G("ngClass",e.l_i(17,he,-1==s.id,-1!=s.id)),e.R7$(2),e.Y8G("ngIf",1==s.isGlobalAzota)("ngIfElse",a),e.R7$(3),e.FS9("matTooltip",e.bMT(12,13,s.name)),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),e.R7$(3),e.HbH(r.isMobileWebView&&-1!=s.id?"azt-wv-item-name":""),e.R7$(),e.JRh(e.bMT(15,15,s.name)),e.R7$(2),e.Y8G("ngIf",-1!=s.id&&1==s.isGlobalAzota),e.R7$(),e.Y8G("ngIf",-1==s.id)}}function Re(n,m){1&n&&(e.nrm(0,"lucide-icon",73),e.nI1(1,"mytranslate")),2&n&&e.FS9("matTooltip",e.bMT(1,1,"lang_testbank_folder_and_file_published"))}function Ae(n,m){1&n&&(e.nrm(0,"lucide-icon",74),e.nI1(1,"mytranslate")),2&n&&e.FS9("matTooltip",e.bMT(1,1,"lang_testbank_folder_and_file_unpublished"))}function je(n,m){if(1&n&&(e.j41(0,"span",75),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const s=e.XpG(2).$implicit;e.R7$(),e.Lme("",e.bMT(2,2,"lang_testbank_folder_and_file_number_attended"),": ",s.exam.attended,"")}}function ke(n,m){1&n&&(e.j41(0,"div",76),e.nrm(1,"azt-svg-icon",77),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(),e.FS9("matTooltip",e.bMT(2,2,"lang_auto_da_chia_se")),e.Y8G("size",16))}function Me(n,m){if(1&n){const s=e.RV6();e.j41(0,"div",60)(1,"div",61)(2,"div",62)(3,"div")(4,"div",63),e.bIt("click",function(){e.eBV(s);const o=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.doExamAction(o.exam,r.enumDocumentDoExamActionType.SHOW_EXAM_DETAIL))}),e.j41(5,"div",64),e.DNE(6,Re,2,3,"lucide-icon",65)(7,Ae,2,3,"lucide-icon",66),e.k0s(),e.j41(8,"div",67,1)(10,"span",68),e.EFF(11),e.k0s(),e.DNE(12,je,3,4,"span",69),e.k0s(),e.DNE(13,ke,3,4,"div",70),e.k0s()(),e.j41(14,"div")(15,"a",71),e.bIt("click",function(){e.eBV(s);const o=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.doExamAction(o.exam,r.enumDocumentDoExamActionType.SHOW_EXAM_DETAIL))}),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s(),e.j41(18,"a",72),e.nI1(19,"mytranslate"),e.bIt("click",function(){e.eBV(s);const o=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.downLoadExam(o.exam))}),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()()()()}if(2&n){const s=e.sdS(9),a=e.XpG().$implicit,o=e.XpG(2);e.R7$(3),e.ZvI("w-full flex items-center ",o.isMobileWebView?"":"mobile-80vw",""),e.R7$(3),e.Y8G("ngIf",a.exam.isPublished),e.R7$(),e.Y8G("ngIf",!a.exam.isPublished),e.R7$(),e.ZvI("ml-3 ",o.isMobileDevice?"truncate":"mr-5",""),e.FS9("matTooltip",a.exam.name),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",s.isDisabled),e.R7$(2),e.ZvI("mb-0 d-block ",o.isMobileWebView?"azt-wv-item-name":"",""),e.R7$(),e.JRh(a.exam.name),e.R7$(),e.Y8G("ngIf",o.isMobileWebView),e.R7$(),e.Y8G("ngIf",a.shared),e.R7$(),e.ZvI("flex items-center py-1 ",o.isMobileDevice?"mt-2":"",""),e.R7$(2),e.SpI(" ",e.bMT(17,23,"lang_auto_xem_noi_dung_de")," "),e.R7$(2),e.FS9("matTooltip",e.bMT(19,25,"lang_global_azota_download")),e.R7$(2),e.SpI(" ",e.bMT(21,27,"lang_global_azota_download")," ")}}function Ge(n,m){if(1&n&&(e.qex(0),e.DNE(1,Me,22,29,"div",59),e.bVm()),2&n){const s=m.$implicit;e.R7$(),e.Y8G("ngIf",s.exam)}}function Pe(n,m){if(1&n){const s=e.RV6();e.j41(0,"form",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29)(5,"div",30),e.bIt("click",function(){e.eBV(s);const o=e.XpG();return e.Njj(o.sortDocumentByColumn(o.enumDocumentSortType.BY_NAME,null==o.currentDocumentSortTypeObj?null:o.currentDocumentSortTypeObj.isAscSort))}),e.EFF(6),e.nI1(7,"mytranslate"),e.j41(8,"div",31),e.nrm(9,"lucide-icon",32)(10,"lucide-icon",33),e.k0s()()(),e.j41(11,"div",34)(12,"button",35,1),e.nI1(14,"mytranslate"),e.bIt("click",function(){e.eBV(s);const o=e.XpG();return e.Njj(o.downloadAllFolder())}),e.DNE(15,xe,1,0,"azt-loading-ui",36),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()(),e.j41(18,"div",37),e.DNE(19,Oe,19,20,"div",38)(20,Ge,2,1,"ng-container",39),e.k0s(),e.nrm(21,"div",40),e.k0s()()}if(2&n){const s=e.sdS(13),a=e.XpG();e.Y8G("formGroup",a.form),e.R7$(),e.Y8G("ngClass",e.l_i(25,de,!a.isMobileDevice,a.isMobileDevice)),e.R7$(),e.Y8G("ngStyle",e.eq3(28,ne,a.isMobileWebView?"":"1100px")),e.R7$(2),e.Y8G("ngClass",e.l_i(30,ge,!a.isMobileWebView,a.isMobileWebView)),e.R7$(),e.Y8G("ngClass",e.l_i(33,_e,!a.isMobileWebView,a.isMobileWebView)),e.R7$(),e.SpI(" ",e.bMT(7,19,"lang_testbank_folder_and_file_name")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(36,oe,1==(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isAscSort)&&(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isColumnSortType)==a.enumDocumentSortType.BY_NAME)),e.R7$(),e.Y8G("ngClass",e.lJ4(38,ue))("ngClass",e.eq3(39,oe,0==(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isAscSort)&&(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isColumnSortType)==a.enumDocumentSortType.BY_NAME)),e.R7$(),e.Y8G("ngClass",e.l_i(41,pe,!a.isMobileWebView,a.isMobileWebView)),e.R7$(),e.FS9("matTooltip",e.bMT(14,21,"lang_global_azota_download_all_folder_desc")),e.Y8G("disabled",a.loadingDownload)("isDisabledTooltip",!1)("matTooltipDisabled",s.isDisabled),e.R7$(3),e.Y8G("ngIf",a.loadingDownload),e.R7$(),e.SpI(" ",e.bMT(17,23,"lang_global_azota_download_all_folder")," "),e.R7$(2),e.Y8G("ngStyle",e.eq3(44,ne,a.isMobileWebView?"":"1100px")),e.R7$(),e.Y8G("ngForOf",a.categoryObjs),e.R7$(),e.Y8G("ngForOf",a.documentObjs)}}let ze=(()=>{var n;class m extends z.H{sendReloadData(){this.clipboardService.resetClipBoardAfterPasteOrCancelAllActions(),this.loadApiData.emit(!0)}handleOpenFolder(a){this.goToChildCategoryPage.emit(a)}goBackToAllCategoryPageEvent(){this.goBackToAllCategoryPage.emit()}backToParentCategoryEvent(a){this.backToParentCategory.emit(a)}doExamAction(a,o){this.documentDoExamActionService.doExamAction({categoryId:this.currentCategoryId,examObj:a,globalLadingPage:!0},o).subscribe(f=>{f&&f.reloadData&&this.sendReloadData()})}downloadAllFolder(){if(this.userService.isLoginAndNotAnonymous()){this.loadingDownload=!0;let a=(this.documentObjs?.filter(o=>o.exam)??[]).map(o=>({id:o.exam?.id??0,type:E.Y.EXAM,action:d.$.COPY,documentType:"exam"}));this.waitDestroy(this.examCategoryService.apiExamCategoryCopyOrCutOrDeletePost(0,{copyOrCutObjs:a}).subscribe(o=>{if(this.loadingDownload=!1,o&&1==o.success)return this.showSuccessSnack("lang_global_azota_download_success"),void this.sendReloadData();if("azota_lang_core_exceed_max_global_copy"!=o.message)return this.errorStatusObj(o.message,!0);let r=this.sAztConfigService.getConfig("maxCopyGlobalExam")??20,f=this.commonService.translateToKeyParam(o.message??"",r.toString(),r.toString());this.errorStatusObj(f??"",!0)}))}else this.sAztDialogService.open(P.x,{width:"600px",data:{keyTrans:this.isBusinessDomain?"lang_global_azota_must_login_business":"lang_global_azota_must_login",isShow:!0},restoreFocus:!1})}downLoadExam(a){if(this.userService.isLoginAndNotAnonymous()){let o=[];o.push({id:a.id,type:E.Y.EXAM,action:d.$.COPY,documentType:"exam"}),this.waitDestroy(this.examCategoryService.apiExamCategoryCopyOrCutOrDeletePost(0,{copyOrCutObjs:o}).subscribe(r=>{if(r&&1==r.success)return this.showSuccessSnack("lang_global_azota_download_success"),void this.sendReloadData();if("azota_lang_core_exceed_max_global_copy"!=r.message)return this.errorStatusObj(r.message,!0);let f=this.sAztConfigService.getConfig("maxCopyGlobalExam")??20,G=this.commonService.translateToKeyParam(r.message??"",f.toString(),f.toString());this.errorStatusObj(G??"",!0)}))}else this.sAztDialogService.open(P.x,{width:"600px",data:{keyTrans:this.isBusinessDomain?"lang_global_azota_must_login_business":"lang_global_azota_must_login",isShow:!0},restoreFocus:!1})}sortDocumentByColumn(a,o){let f=this.documentSortActionService.sortExamByColumn({rootCategoryObjs:this.rootCategoryObjs,rootDocumentObjs:this.rootDocumentObjs,currentCategoryObjs:this.categoryObjs??[],currentDocumentObjs:this.documentObjs??[]},a,o=null==o||!o);this.categoryObjs=f.categoryObjs,this.documentObjs=f.documentObjs,this.currentDocumentSortTypeObj={isAscSort:o,isColumnSortType:a},this.browserStorageService.saveSimpleSessionStorage("documentSort",JSON.stringify(this.currentDocumentSortTypeObj))}ngOnInit(){this.waitDestroy((0,F.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cat_id"))}));let a=this.commonService.myParseJson(this.browserStorageService.getSimpleSessionStorage("documentSort")??"");a&&this.sortDocumentByColumn(a.isColumnSortType,!a.isAscSort)}ngOnDestroy(){super.ngOnDestroy()}constructor(a,o,r,f,G,V,ee,te,Xe){super(),this.documentDoExamActionService=a,this.activeRoute=o,this.sAztDialogService=r,this.clipboardService=f,this.browserStorageService=G,this.documentSortActionService=V,this.userService=ee,this.sAztConfigService=te,this.examCategoryService=Xe,this.rootCategoryObjs=[],this.rootDocumentObjs=[],this.isShowSearchResult=!1,this.currentPage=0,this.listBreadcrumb=[],this.goBackToAllCategoryPage=new e.bkB,this.backToParentCategory=new e.bkB,this.goToChildCategoryPage=new e.bkB,this.loadApiData=new e.bkB,this.currentDocumentSortTypeObj=void 0,this.enumDocumentSortType=D.N,this.enumDocumentRedirectType=l.d,this.enumDocumentDoExamActionType=J.$,this.currentCategoryId=0,this.totalCheckboxSelected=0,this.shareType="",this.loadingDownload=!1,this.form=new y.gE({clipboardObjs:new y.Yp([]),isSelectAll:new y.MJ(!1,{nonNullable:!0,validators:[y.k0.required]})})}}return(n=m).\u0275fac=function(a){return new(a||n)(e.rXU(N.x),e.rXU(c.nX),e.rXU(K.i),e.rXU(M.g),e.rXU(H.z),e.rXU(Q.n),e.rXU(R.R),e.rXU(q.u),e.rXU(_.Ns))},n.\u0275cmp=e.VBU({type:n,selectors:[["global-exam-and-category-list"]],inputs:{rootCategoryObjs:"rootCategoryObjs",rootDocumentObjs:"rootDocumentObjs",categoryObjs:"categoryObjs",currentCategory:"currentCategory",documentObjs:"documentObjs",isShowSearchResult:"isShowSearchResult",backToData:"backToData",currentPage:"currentPage",listBreadcrumb:"listBreadcrumb"},outputs:{goBackToAllCategoryPage:"goBackToAllCategoryPage",backToParentCategory:"backToParentCategory",goToChildCategoryPage:"goToChildCategoryPage",loadApiData:"loadApiData"},features:[e.Vt3],decls:15,vars:7,consts:[["DefaultDocumentTableTpl",""],["c","isDisabled"],["normalCate",""],["noShare",""],[1,"azt-file-manager"],[1,"mt-3","mb-3","h-auto","sm:h-10","flex","flex-col","sm:flex-row","items-center"],[1,"mr-auto"],[1,"breadcrumb"],[1,"breadcrumb-item"],["azt-track-service","global-exam-category-list-mLrqTdVRx",3,"click"],["class","breadcrumb-item",3,"ngClass",4,"ngIf"],["class","breadcrumb-item active",3,"ngClass",4,"ngFor","ngForOf"],[1,"table-zone"],["class","box p-5 flex items-center","style","height: 300px",4,"ngIf"],[4,"ngIf"],[1,"breadcrumb-item",3,"ngClass"],["azt-track-service","global-exam-category-list-NdujkQJ24",3,"routerLink"],[1,"breadcrumb-item","active",3,"ngClass"],["azt-track-service","global-exam-category-list-_rMqLAn4k6",3,"click","ngClass"],[3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"box","p-5","flex","items-center",2,"height","300px"],[1,"text-center","mx-auto"],["type","folder-empty",3,"size"],[1,"font-medium","mt-2"],[3,"ngTemplateOutlet"],[3,"formGroup"],[1,"inbox","box",2,"scroll-snap-type","x mandatory",3,"ngClass"],[1,"p-5","text-slate-500","border-b","border-slate-200/60",3,"ngStyle"],[1,"grid","grid-cols-12","gap-3","items-center","-mx-5","px-5"],[1,"flex","items-center",3,"ngClass"],["azt-track-service","global-exam-category-list-5-CYQgv-EU",1,"inbox__item--sender","flex","items-center","cursor-pointer",3,"click","ngClass"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[1,"text-right",3,"ngClass"],[1,"btn","btn-sm","btn-success","text-white",2,"white-space","nowrap",3,"click","disabled","matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","mr-2",4,"ngIf"],[1,"azt-table-body",2,"min-height","50vh",3,"ngStyle"],["class","folder-item",3,"id",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-5","flex","flex-col","sm:flex-row","items-center","text-center","sm:text-left","text-slate-500"],[1,"mr-2"],[1,"folder-item",3,"id"],[1,"inbox__item","inline-block","sm:block","hover:shadow-md","text-slate-600","dark:text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400",2,"cursor","default"],[1,"block","sm:grid","grid-cols-12","gap-3","items-center","px-5","box-exam"],[1,"flex","col-span-12","md:col-span-4",2,"width","80vw","justify-content","space-between"],[1,"flex-none","flex","items-center","w-full"],["azt-track-service","global-exam-category-list-VueJbv5yf5",1,"title-exam","flex","items-center","clickable","sm:w-full",3,"click","ngClass"],[1,"image-fit"],[4,"ngIf","ngIfElse"],[1,"truncate","ml-3",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","whitespace-nowrap ml-2 py-0.5 px-2 rounded-full text-xs bg-info text-white font-medium",4,"ngIf"],["class","whitespace-nowrap ml-2 py-0.5 px-2 rounded-full text-xs bg-primary text-white font-medium",4,"ngIf"],[1,"col-span-8","py-1"],["type","folder-azota",3,"size"],["type","folder-share",3,"size"],["type","folder",3,"size"],[1,"whitespace-nowrap","ml-2","py-0.5","px-2","rounded-full","text-xs","bg-info","text-white","font-medium"],[1,"whitespace-nowrap","ml-2","py-0.5","px-2","rounded-full","text-xs","bg-primary","text-white","font-medium"],["class","exam-item",4,"ngIf"],[1,"exam-item"],[1,"inbox__item","sm:block","text-slate-600","hover:shadow-md","dark:text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400",2,"cursor","default"],[1,"px-5","md:flex","block","box-exam"],["azt-track-service","global-exam-category-list-8ugbR7o5-K",1,"title-exam","flex","items-center","clickable",3,"click"],[1,"text-pending","image-fit"],["name","file-check","size","24",3,"matTooltip",4,"ngIf"],["name","file","size","24",3,"matTooltip",4,"ngIf"],[3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[2,"width","100% !important"],["class","azt-wv-sub-info mx-auto",4,"ngIf"],["class","icon-share ml-2",4,"ngIf"],["azt-track-service","global-exam-category-list--JVXwK7So7",1,"btn","btn-sm","btn-outline-success","mr-2",2,"white-space","nowrap",3,"click"],["azt-track-service","global-exam-category-list-pEOorzBaKX",1,"btn","btn-sm","btn-outline-primary",2,"white-space","nowrap",3,"click","matTooltip"],["name","file-check","size","24",3,"matTooltip"],["name","file","size","24",3,"matTooltip"],[1,"azt-wv-sub-info","mx-auto"],[1,"icon-share","ml-2"],["type","book",2,"padding","3px",3,"size","matTooltip"]],template:function(a,o){if(1&a){const r=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"ol",7)(4,"li",8)(5,"a",9),e.bIt("click",function(){return e.eBV(r),e.Njj(o.goBackToAllCategoryPageEvent())}),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()(),e.DNE(8,be,5,11,"li",10)(9,fe,8,17,"li",11),e.k0s()()(),e.j41(10,"div",12),e.DNE(11,ye,6,4,"div",13)(12,ve,2,1,"ng-container",14),e.k0s()(),e.DNE(13,Pe,22,46,"ng-template",null,0,e.C5r)}2&a&&(e.R7$(6),e.SpI(" ",e.bMT(7,5,"lang_auto_tat_ca")," "),e.R7$(2),e.Y8G("ngIf",o.userService.isLogin()),e.R7$(),e.Y8G("ngForOf",o.listBreadcrumb),e.R7$(2),e.Y8G("ngIf",0==(null==o.categoryObjs?null:o.categoryObjs.length)&&0==(null==o.documentObjs?null:o.documentObjs.length)),e.R7$(),e.Y8G("ngIf",0!=(null==o.categoryObjs?null:o.categoryObjs.length)||0!=(null==o.documentObjs?null:o.documentObjs.length)))},dependencies:[c.Wk,t.YU,t.Sq,t.bT,t.T3,t.B3,U.oV,y.qT,y.cb,y.j4,ie.f,se.R,re.m,O.WGl,Z.F2,Z.wp],styles:[".title-exam[_ngcontent-%COMP%]{padding-top:14px;padding-bottom:14px}@media (max-width: 640px){.mobile-80vw[_ngcontent-%COMP%]{width:80vw!important}.title-exam[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;width:90%!important}.box-exam[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}}"]}),m})();const we=()=>[];function Le(n,m){if(1&n&&e.nrm(0,"azt-loading-effect",5),2&n){const s=e.XpG();e.Y8G("currentStatusObj",s.statusObj)}}function Be(n,m){1&n&&(e.qex(0),e.j41(1,"div",9)(2,"span",10),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_global_azota_not_support_student_role")))}function $e(n,m){if(1&n){const s=e.RV6();e.j41(0,"div",11)(1,"global-exam-and-category-list",12),e.bIt("goToChildCategoryPage",function(o){e.eBV(s);const r=e.XpG(2);return e.Njj(r.goToChildCategoryPage(o))})("goBackToAllCategoryPage",function(){e.eBV(s);const o=e.XpG(2);return e.Njj(o.goBackToAllCategoryPage())})("backToParentCategory",function(o){e.eBV(s);const r=e.XpG(2);return e.Njj(r.backToParentCategory(o))})("loadApiData",function(){e.eBV(s);const o=e.XpG(2);return e.Njj(o.reloadApi())}),e.k0s()(),e.j41(2,"div",13)(3,"div",14)(4,"azt-paging",15),e.bIt("goToPaginationPage",function(o){e.eBV(s);const r=e.XpG(2);return e.Njj(r.goToPage(o))}),e.k0s()(),e.j41(5,"div",16)(6,"p",17),e.EFF(7),e.nI1(8,"number"),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",18)(11,"p",17),e.EFF(12),e.nI1(13,"number"),e.nI1(14,"mytranslate"),e.k0s()()()}if(2&n){const s=e.XpG(2);e.R7$(),e.Y8G("rootCategoryObjs",s.cloneCategoryObjs)("rootDocumentObjs",s.cloneDocumentObjs)("categoryObjs",s.categoryObjs)("documentObjs",s.documentObjs)("backToData",s.backToData)("currentPage",s.pageObj.page)("currentCategory",s.currentCategory)("isShowSearchResult",s.isShowSearchResult)("listBreadcrumb",s.listBreadcrumb||e.lJ4(20,we)),e.R7$(3),e.Y8G("pageObj",s.pageObj),e.R7$(3),e.JRh(e.bMT(8,12,s.totalExam)+" "+e.bMT(9,14,"lang_testbank_test_list_document")),e.R7$(5),e.JRh(e.bMT(13,16,s.totalExam)+" "+e.bMT(14,18,"lang_testbank_test_list_document"))}}function Fe(n,m){if(1&n&&(e.j41(0,"div",6)(1,"div",7),e.DNE(2,Be,5,3,"ng-container",8)(3,$e,15,21,"ng-template",null,1,e.C5r),e.k0s()()),2&n){const s=e.sdS(4),a=e.XpG();e.R7$(2),e.Y8G("ngIf",a.userService.isLogin()&&!a.userService.isTeacherRole()&&!a.userService.isAnonymousRoleOfCurrentUser())("ngIfElse",s)}}const Ne=[{path:"",component:(()=>{var n;class m extends z.H{}return(n=m).\u0275fac=(()=>{let s;return function(o){return(s||(s=e.xGo(n)))(o||n)}})(),n.\u0275cmp=e.VBU({type:n,selectors:[["lading-master-page"]],features:[e.Vt3],decls:2,vars:0,consts:[["id","lading-page-layout"]],template:function(a,o){1&a&&(e.j41(0,"div",0),e.nrm(1,"router-outlet"),e.k0s())},dependencies:[c.n3],encapsulation:2}),m})(),children:[{path:"document-management/0/:cat_id/:page",component:(()=>{var n;class m extends z.H{goToPage(a){this.backToData?this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+this.currentCategoryId+"/"+a,"?data="+this.commonService.serializeJson(this.backToData)):this.commonService.myNavigation("/ladingpage/document-management/0/"+this.currentCategoryId+"/"+a)}resetSearchForm(){this.form.patchValue({searchContent:""}),this.isShowSearchResult=!1}convertExamObj(a){var o=[];return a.forEach(r=>{r.exam&&o.push({name:r.exam.name,updatedAt:r.exam.updatedAt,createdAt:r.exam.createdAt,attended:r.exam.attended,isPublished:r.exam.isPublished,exam:r.exam,shared:r.shared,type:"exam",paths:r.paths,isGlobalAzota:0})}),o}goBackToAllCategoryPage(){var a=this.getFormValue();let o=this.userService.isLogin()&&this.userService.isTeacherRole()?"/admin/testbank":"/ladingpage";a.searchContent?(this.resetSearchForm(),0==this.currentCategoryId?this.getData():this.commonService.myNavigation(o+"/document-management/0/0/1")):this.commonService.myNavigation(o+"/document-management/0/0/1")}backToParentCategory(a){a.id!=this.currentCategoryId&&(this.resetSearchForm(),this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+a.id+"/1",a.shareType?"?data="+this.commonService.serializeJson({shareType:a.shareType,backTo:`/ladingpage/document-management/0/${this.currentCategoryId}/1`,suggest:a.isGlobalAzota>1?1:0,isAztLib:0!=a.isGlobalAzota?1:0}):""))}goToChildCategoryPage(a){this.resetSearchForm(),this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+a.id+"/1",a.shareType?"?data="+this.commonService.serializeJson({shareType:a.shareType,suggest:0!=a.isGlobalAzota?1:0,isAztLib:0!=a.isGlobalAzota?1:0}):"")}getFormValue(){return this.form.getRawValue()}getListParentCategoryObjs(){this.waitDestroy(this.examCategoryService.apiExamCategoryGetGlobalBreadcrumbsGet(this.currentCategoryId).subscribe(a=>{if(a&&1==a.success){var o=[];a.data?.objs&&a.data?.objs.forEach(r=>{o.push({...r,shared:!1,sharedGroups:[],sharedTeachers:[],paths:[]})}),this.listBreadcrumb=o;for(let r=0;r<this.listBreadcrumb?.length;r++)if(this.listBreadcrumb[r].id==this.currentCategoryId){let f="",G=0,V=0;0!=this.listBreadcrumb[r].isGlobalAzota&&(V=1),!this.listBreadcrumb[r].parentId&&this.listBreadcrumb[r].shareType?(f=0!=this.listBreadcrumb[r].isGlobalAzota?"":"user",G=r>1?this.listBreadcrumb[r-1].id??-1:0==r&&0!=this.listBreadcrumb[r].isGlobalAzota?0:this.listBreadcrumb[r].parentId??this.listBreadcrumb[r].tenantId??-1):this.listBreadcrumb[r].parentId&&this.listBreadcrumb[r].shareType?(f=r>1?this.listBreadcrumb[r-1].shareType??"":r<=1&&0!=this.listBreadcrumb[r].isGlobalAzota?this.listBreadcrumb[r].shareType??"":"",G=this.listBreadcrumb[r].parentId??-1):G=this.listBreadcrumb[r].parentId??0;let ee=G?`/ladingpage/document-management/0/${G}/1`+(this.backToData?"?data="+this.commonService.serializeJson({shareType:f}):""):"/ladingpage/document-management/0/0/1";this.backToLink=this.commonService.serializeJson({shareType:f,backTo:ee,suggest:V})}}else this.showErrorSnack(a.message??"")}))}getData(){var a=Number(this.commonService.getMyParam(this.activeRoute,"page"));let o=this.getFormValue();this.pageObj.setPageNumber(a),this.initStatusObj();let r={categoryId:0!=this.currentCategoryId?this.currentCategoryId:0,documentType:void 0,shareType:this.backToData?.shareType??"",fileType:"exam",classroomId:void 0,name:this.isShowSearchResult?o.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:1,page:this.pageObj.page,itemPerPage:void 0};this.waitDestroy(this.documentService.apiDocumentsGlobalGet(r.categoryId,r.suggestExamPurpose,r.page,r.itemPerPage).subscribe(f=>{if(f&&1==f.success){var G=this.commonService.castObj(f.data?.documentObjs)??[],V=this.convertExamObj(G);this.documentObjs=V,this.cloneDocumentObjs=V,this.categoryObjs=f.data?.categoryObjs,this.cloneCategoryObjs=f.data?.categoryObjs??[],this.currentCategory=f.data?.currentCategory?{...f.data?.currentCategory,shared:!1,sharedGroups:[],sharedTeachers:[],paths:[]}:void 0,this.totalExam=f.data?.total??0,this.pageObj.setTotalPages(this.totalExam),this.getListParentCategoryObjs(),this.stopStatusObj()}else this.showErrorSnack(f.message??"")}))}reloadApi(){this.getData()}ngOnInit(){this.waitDestroy((0,F.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))),this.currentCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cat_id")),this.backToData=this.commonService.myParseJson(this.commonService.getMyQueryParam("data")??"");let a={shareType:this.backToData?.shareType,suggest:this.backToData?.suggest,backTo:this.backToData?.backTo??(this.userService.isTeacherRole()?"/admin/testbank/document-management/0/0/1":"/student/dashboard")};this.backToLink=this.commonService.serializeJson(a),this.mobileWebviewService.sendSimpleMessage("OPEN_EXAM"),this.getData()})),this.commonService.translateMetaData({title:"lang_testbank_document_list_header_title",description:"lang_testbank_document_list_header_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}constructor(a,o,r,f,G,V){super(),this.activeRoute=a,this.examCategoryService=o,this.documentService=r,this.aztShareService=f,this.mobileWebviewService=G,this.userService=V,this.isShowSearchResult=!1,this.totalExam=0,this.recommendExamObjs=[],this.documentObjs=[],this.cloneDocumentObjs=[],this.cloneCategoryObjs=[],this.listBreadcrumb=[],this.currentCategoryId=0,this.backToLink="",this.pageObj=new w.d(24),this.form=new y.gE({searchContent:new y.MJ("",{nonNullable:!0,validators:[y.k0.required]})})}}return(n=m).\u0275fac=function(a){return new(a||n)(e.rXU(c.nX),e.rXU(_.Ns),e.rXU(_.DK),e.rXU(k.l),e.rXU(v.f),e.rXU(R.R))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-global-exam-management-list"]],features:[e.Vt3],decls:5,vars:4,consts:[["doneLoading",""],["normalTeacherView",""],[3,"layoutName","headerBackToLink"],[1,"container-fluid","mt-3","overflow-hidden"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[4,"ngIf","ngIfElse"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[1,"azt-view-file-manager"],[3,"goToChildCategoryPage","goBackToAllCategoryPage","backToParentCategory","loadApiData","rootCategoryObjs","rootDocumentObjs","categoryObjs","documentObjs","backToData","currentPage","currentCategory","isShowSearchResult","listBreadcrumb"],[1,"azt-document-footer","flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2"],[3,"goToPaginationPage","pageObj"],[1,"text-right","mt-2","azt-hidden","md:block"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"]],template:function(a,o){if(1&a&&(e.j41(0,"public-layout",2)(1,"div",3),e.DNE(2,Le,1,1,"azt-loading-effect",4)(3,Fe,5,2,"ng-template",null,0,e.C5r),e.k0s()()),2&a){const r=e.sdS(4);e.Y8G("layoutName","landing-page")("headerBackToLink",o.userService.isLogin()?o.backToLink:0==o.currentCategoryId?"":o.backToLink),e.R7$(2),e.Y8G("ngIf",o.statusObj.loading)("ngIfElse",r)}},dependencies:[t.bT,x.K,L.q,W.J,ze,t.QX,Z.wp],encapsulation:2}),m})()}]}];let Ve=(()=>{var n;class m{}return(n=m).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[c.iI.forChild(Ne),c.iI,$.XE]}),m})(),Ye=(()=>{var n;class m{}return(n=m).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({providers:[{provide:S.vn,useValue:X.c.azt_tiny_mce_script_src}],imports:[c.iI,t.MD,Y.s,S.sv,Ve,y.YN,y.X1,C.hM,T.L,j.Lk,u.xv,I.Q,b.b,O.flO.pick(O.Ptg),g.Id,h.f,p.rc]}),m})()},10296:(B,A,i)=>{"use strict";i.d(A,{R:()=>h});var t=i(43277),C=i(18148),c=i(48891),p=i(52509),S=i(53793);let h=(()=>{var O;class j{constructor(g,T){this.mobileWebviewService=g,this.commonService=T}shareFileWithBlob(g,T){if(this.commonService.businessIdCanvasLMSCloudView(void 0)>0)return t.saveAs(g,T);if(this.commonService.isMobileWebview(void 0)){C.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let b=new FileReader;b.readAsDataURL(g),b.onloadend=()=>{let I=b.result;"string"==typeof I&&(this.mobileWebviewService.sendShareFileBase64(T,String(I)),C.L.closeLoadingEffect(100))}}else t.saveAs(g,T)}shareFileWithBase64(g,T){if(this.commonService.businessIdCanvasLMSCloudView(void 0)>0)return t.saveAs(g,T);this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(T,g):t.saveAs(g,T)}}return(O=j).\u0275fac=function(g){return new(g||O)(c.KVO(p.f),c.KVO(S.R))},O.\u0275prov=c.jDH({token:O,factory:O.\u0275fac,providedIn:"root"}),j})()},18148:(B,A,i)=>{"use strict";i.d(A,{L:()=>t});let t=(()=>{var y;class C{static openLoadingEffect(p){C.getDomElement().style.display="flex",setTimeout(()=>{C.changeMsgLoadingEffect(p)},50)}static closeLoadingEffect(p){return new Promise(S=>{setTimeout(()=>{const h=C.getDomElement();h&&(h.style.display="none"),S(!0)},p)})}static changeMsgLoadingEffect(p){C.getDomContent().innerText=p}static getDomContent(){return document.getElementById(C.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(C.idComponent)??this.createDomElement()}static createDomElement(){const p=document.createElement("div");return p.id=C.idComponent,p.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),p.style.display="none",p.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${C.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(p),p}}return(y=C).idComponent="azt-status-loading-effect",y.idStatusContent="azt-status-loading-effect-content",C})()},50334:(B,A,i)=>{"use strict";i.d(A,{C:()=>y});var t=i(59640);class y extends t.H{constructor(){super(...arguments),this.nodeObjs=[]}searchByText(c){this.nodeObjs=(c=this.standardSearchText(c)).trim()?this.doSearchByText(c,this.nodeObjs,[]):this.showAndExpandAll(this.nodeObjs)}expand(c){c.isExpand=!0}collapse(c){c.isExpand=!1}doSearchByText(c,p,S){for(var h of p){h.isShow=!1;let O=this.standardSearchText(h.text);(c.includes(O)||O.includes(c))&&(h.isShow=!0,h.isExpand=!0,S.forEach(j=>{j.isShow=!0,j.isExpand=!0})),h.children.length&&(h.children=this.doSearchByText(c,h.children,S.concat(h)))}return p}showAndExpandAll(c){for(var p of c)p.isShow=!0,p.isExpand=!0,p.children=this.showAndExpandAll(p.children);return c}standardSearchText(c){return c=c.toLowerCase(),c=this.commonService.removeSpecialStringInSearch(c),this.commonService.convertVietnameseToEnglish(c)}}},14490:(B,A,i)=>{"use strict";i.d(A,{T:()=>e});var t=i(48891),y=i(89163),C=i(33887),c=i(71812),p=i(56562),S=i(54460),h=i(15343),O=i(52811),j=i(47348);const u=()=>({"mr-2":!0});function g(_,k){1&_&&(t.j41(0,"div",8),t.nrm(1,"azt-loading-ui",9),t.k0s()),2&_&&(t.R7$(),t.Y8G("size",32))}function T(_,k){if(1&_&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&_){const v=t.XpG(3);t.R7$(),t.JRh(t.bMT(2,1,v.title))}}function b(_,k){if(1&_&&(t.j41(0,"h3",14)(1,"div",15),t.nrm(2,"lucide-icon",16),t.EFF(3," POINT "),t.k0s(),t.DNE(4,T,3,3,"span",7),t.k0s()),2&_){const v=t.XpG(2);t.R7$(2),t.Y8G("ngClass",t.lJ4(2,u)),t.R7$(2),t.Y8G("ngIf",v.title)}}function I(_,k){1&_&&(t.j41(0,"h3",14)(1,"div",15),t.nrm(2,"lucide-icon",16),t.EFF(3," POINT "),t.k0s()()),2&_&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(1,u)))}function X(_,k){if(1&_&&(t.j41(0,"div",17),t.DNE(1,I,4,2,"h3",11),t.nrm(2,"span",18),t.nI1(3,"mytranslate"),t.k0s()),2&_){const v=t.XpG(2);t.R7$(),t.Y8G("ngIf","export-excel-per-50"==v.data.transactionType),t.R7$(),t.Y8G("innerHTML",t.bMT(3,2,v.counterRequireNote),t.npT)}}function Y(_,k){if(1&_&&(t.j41(0,"div",19),t.nrm(1,"p",20),t.nI1(2,"mytranslate"),t.k0s()),2&_){const v=t.XpG(2);t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,"export-excel-per-50"==v.data.transactionType?"lang_azt_export_exceeds_50_records":"lang_azt_point_required_cant_using"),t.npT)}}function $(_,k){if(1&_&&(t.j41(0,"div",10),t.DNE(1,b,5,3,"h3",11)(2,X,4,4,"div",12)(3,Y,3,3,"div",13),t.k0s()),2&_){const v=t.XpG();t.R7$(),t.Y8G("ngIf","export-excel-per-50"!=v.data.transactionType),t.R7$(),t.Y8G("ngIf",v.counterRequireNote),t.R7$(),t.Y8G("ngIf",!(null!=v.dataChecked&&v.dataChecked.canUsing))}}function F(_,k){if(1&_){const v=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(v);const x=t.XpG();return t.Njj(x.confirmDialog("confirm"))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&_&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_tiep_tuc")," "))}function z(_,k){if(1&_){const v=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(v);const x=t.XpG(2);return t.Njj(x.confirmDialog("continue"))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&_&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_tiep_tuc")," "))}function w(_,k){if(1&_){const v=t.RV6();t.qex(0),t.DNE(1,z,3,3,"button",22),t.j41(2,"button",21),t.bIt("click",function(){t.eBV(v);const x=t.XpG();return t.Njj(x.goBuyMorePoint())}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()}if(2&_){const v=t.XpG();t.R7$(),t.Y8G("ngIf","export-excel-per-50"==v.data.transactionType),t.R7$(2),t.SpI(" ",t.bMT(4,2,"azt-ocr"==v.data.transactionType||"ai-platform"==v.data.transactionType?"lang_point_require_buy_more_point":"lang_azt_upgrade_now")," ")}}let e=(()=>{var _;class k extends C._{handlerCloseDialog(){this.dialogRef.close("cancel")}goBuyMorePoint(){this.dialogRef.close("upgrade"),this.commonService.myNavigationWithQueryString("/auth/vip-packages/teacherVip",`?backto=${encodeURIComponent(this.data.returnUrl)}&trackingKey=${this.data.transactionType.toUpperCase()}`)}confirmDialog(R){this.dialogRef.close(R)}getPointRequire(){this.initStatusObj();let R="export-excel-per-50"!=this.data.transactionType?this.data.times:this.payAsGoService.getExportExcel50ByTime(this.data.times);this.payAsGoService.getPointsRequired(this.data.transactionType,R??0).subscribe(x=>x&&x.success?(this.dataChecked=x.data,this.title=x.data?.canUsing?"ai-platform"==this.data.transactionType?"lang_point_required_ai_using_action_note":"":"lang_point_required_cant_using_action_title","ai-platform"!=this.data.transactionType&&x.data?.canUsing&&0==x.data?.requiredPoints?this.confirmDialog("confirm"):(this.counterRequireNote="ai-platform"==this.data.transactionType?"":this.commonService.translateToKeyParam(x.data?.requiredPoints&&x.data?.requiredPoints>0?"lang_point_required_cant_using_action_point":"lang_point_required_to_action",this.commonService.parseNumberFixed(x.data?.requiredPoints??0,4).toString()),void this.successStatusObj())):this.errorStatusObj(x.message,!0))}constructor(R,x,L){super(L,x),this.sAztAzotaTrackingService=R,this.dialogRef=x,this.data=L,this.payAsGoService=(0,t.WQX)(c.Q),this.counterRequireNote="",this.title="",this.getPointRequire()}}return(_=k).\u0275fac=function(R){return new(R||_)(t.rXU(p.M),t.rXU(y.CP,8),t.rXU(y.Vh,8))},_.\u0275cmp=t.VBU({type:_,selectors:[["azt-checkpoint-require-dialog"]],features:[t.Vt3],decls:11,vars:7,consts:[["doneLoad",""],[1,"box","w-72","sm:w-80"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],["class","mx-auto my-auto text-center midle-box p-5",4,"ngIf","ngIfElse"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"mx-auto","my-auto","text-center","midle-box","p-5"],[3,"size"],[1,"p-5"],["class","text-lg font-medium mb-2",4,"ngIf"],["class","mt-3 flex",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"text-lg","font-medium","mb-2"],[1,"badge-vip","inline-flex","items-center","mr-2",2,"height","25px"],["name","gem","size","12",3,"ngClass"],[1,"mt-3","flex"],[1,"text-md","font-normal",3,"innerHTML"],[1,"mt-3"],[1,"text-md",3,"innerHTML"],[1,"btn","btn-primary",3,"click"],["class","btn btn-primary-soft mr-3",3,"click",4,"ngIf"],[1,"btn","btn-primary-soft","mr-3",3,"click"]],template:function(R,x){if(1&R){const L=t.RV6();t.j41(0,"div",1)(1,"div",2),t.DNE(2,g,2,1,"div",3)(3,$,4,3,"ng-template",null,0,t.C5r),t.k0s(),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return t.eBV(L),t.Njj(x.handlerCloseDialog())}),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,F,3,3,"button",6)(10,w,5,4,"ng-container",7),t.k0s()()}if(2&R){const L=t.sdS(4);t.R7$(2),t.Y8G("ngIf",x.statusObj.loading)("ngIfElse",L),t.R7$(5),t.SpI(" ",t.bMT(8,5,"lang_auto_huy")," "),t.R7$(2),t.Y8G("ngIf",null==x.dataChecked?null:x.dataChecked.canUsing),t.R7$(),t.Y8G("ngIf",!(null!=x.dataChecked&&x.dataChecked.canUsing))}},dependencies:[S.YU,S.bT,h.WGl,O.R,j.wp],encapsulation:2}),k})()},15485:(B,A,i)=>{"use strict";i.d(A,{l:()=>C});var t=i(18447),y=i(48891);let C=(()=>{var c;class p{constructor(){this.hasDataChanged=new t.B,this.currentMessage=this.hasDataChanged.asObservable()}changeStatus(h){this.hasDataChanged.next(h)}}return(c=p).\u0275fac=function(h){return new(h||c)},c.\u0275prov=y.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),p})()},8022:(B,A,i)=>{"use strict";i.d(A,{n:()=>J});var t=i(48891),y=i(52909),C=i(50334),c=i(54460),p=i(15343),S=i(47348);const h=l=>({nodeObjs:l}),O=l=>({"padding-left":l}),j=()=>({"rotate-90deg":!0}),u=()=>({"transition-3s":!0}),g=()=>({"ml-1":!0});function T(l,D){1&l&&t.eu8(0)}function b(l,D){1&l&&(t.j41(0,"label",6)(1,"span",7),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&l&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_structure_of_the_capacity_exam")))}function I(l,D){1&l&&t.eu8(0)}function X(l,D){if(1&l&&(t.qex(0),t.DNE(1,I,1,0,"ng-container",8),t.bVm()),2&l){const d=t.XpG(2),E=t.sdS(4);t.R7$(),t.Y8G("ngTemplateOutlet",E)("ngTemplateOutletContext",t.eq3(2,h,d.nodeObjs))}}function Y(l,D){if(1&l&&(t.DNE(0,b,4,3,"label",3),t.j41(1,"div",4),t.DNE(2,X,2,4,"ng-container",5),t.k0s()),2&l){const d=t.XpG();t.Y8G("ngIf",d.isShowLabel),t.R7$(2),t.Y8G("ngIf",d.nodeObjs.length)}}function $(l,D){1&l&&t.nrm(0,"lucide-icon",20),2&l&&t.Y8G("ngClass",t.lJ4(1,j))}function F(l,D){1&l&&t.nrm(0,"lucide-icon",21),2&l&&t.Y8G("ngClass",t.lJ4(1,u))}function z(l,D){if(1&l&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()),2&l){const d=t.XpG(2).$implicit;t.R7$(),t.SpI(" ","("+t.bMT(2,1,"lang_auto_chon")+" "+d.data.folderData.totalPart+" "+t.bMT(3,3,"lang_azt_in")+" "+d.children.length+" "+t.bMT(4,5,"lang_azt_hereafter")+")"," ")}}function w(l,D){if(1&l){const d=t.RV6();t.qex(0),t.j41(1,"div",13),t.bIt("click",function(){t.eBV(d);const P=t.XpG().$implicit,N=t.XpG(3);return t.Njj(N.clickToNode(P))}),t.j41(2,"div",14),t.DNE(3,$,1,2,"lucide-icon",15)(4,F,1,2,"lucide-icon",16),t.nrm(5,"lucide-icon",17),t.j41(6,"span",18),t.EFF(7),t.k0s(),t.DNE(8,z,5,7,"span",19),t.k0s()(),t.bVm()}if(2&l){const d=t.XpG().$implicit;t.R7$(3),t.Y8G("ngIf",!d.isExpand),t.R7$(),t.Y8G("ngIf",d.isExpand),t.R7$(3),t.JRh(d.data.folderData.name),t.R7$(),t.Y8G("ngIf",d.children.length&&d.data.folderData.totalPart&&d.children.length!=d.data.folderData.totalPart)}}function e(l,D){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const d=t.XpG(2).$implicit;t.R7$(),t.Lme("\xa0(",d.data.examData.minutes," ",t.bMT(2,2,"lang_auto_minute"),")")}}function _(l,D){1&l&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(),t.SpI("\xa0(",t.bMT(2,1,"lang_auto_khong_gioi_han"),")"))}function k(l,D){if(1&l){const d=t.RV6();t.qex(0),t.j41(1,"div",23),t.bIt("click",function(){t.eBV(d);const P=t.XpG().$implicit,N=t.XpG(3);return t.Njj(N.selectExam(P.data.examData))}),t.nrm(2,"lucide-icon",24),t.j41(3,"span",18),t.EFF(4),t.DNE(5,e,3,4,"span",5)(6,_,3,3,"span",5),t.k0s()(),t.bVm()}if(2&l){const d=t.XpG().$implicit;t.R7$(2),t.Y8G("name",d.data.examData.isPublished?"file-check":"file")("ngClass",t.lJ4(5,g)),t.R7$(2),t.SpI(" ",d.data.examData.name," "),t.R7$(),t.Y8G("ngIf",d.data.examData.minutes),t.R7$(),t.Y8G("ngIf",!d.data.examData.minutes)}}function v(l,D){1&l&&t.eu8(0)}function R(l,D){if(1&l&&(t.qex(0),t.j41(1,"div",25),t.DNE(2,v,1,0,"ng-container",8),t.k0s(),t.bVm()),2&l){const d=t.XpG().$implicit;t.XpG(3);const E=t.sdS(4);t.R7$(2),t.Y8G("ngTemplateOutlet",E)("ngTemplateOutletContext",t.eq3(2,h,d.children))}}function x(l,D){if(1&l&&(t.qex(0),t.j41(1,"div",10)(2,"div",11)(3,"div",12),t.DNE(4,w,9,4,"ng-container",5)(5,k,7,6,"ng-container",5),t.k0s(),t.DNE(6,R,3,4,"ng-container",5),t.k0s()(),t.bVm()),2&l){const d=D.$implicit;t.R7$(),t.Y8G("hidden",!d.isShow),t.R7$(),t.Y8G("ngStyle",t.eq3(9,O,d.level>0?"20px":"")),t.R7$(),t.yjJ("id","node-",d.randomHashId,"-",d.level,"-",d.nodeIndex,""),t.R7$(),t.Y8G("ngIf",d.data.folderData),t.R7$(),t.Y8G("ngIf",d.data.examData),t.R7$(),t.Y8G("ngIf",d.isExpand)}}function L(l,D){if(1&l&&(t.qex(0),t.DNE(1,x,7,11,"ng-container",9),t.bVm()),2&l){const d=D.$implicit;t.R7$(),t.Y8G("ngForOf",d)}}function W(l,D){if(1&l&&t.DNE(0,L,2,1,"ng-container",5),2&l){const d=D.nodeObjs,E=t.XpG();t.Y8G("ngIf",E.asTemplateDataObj(d))}}let J=(()=>{var l;class D extends C.C{constructor(){super(...arguments),this.isShowLabel=!0,this.isExpand=!0,this.showCountInfo=!1,this.getExamData=new t.bkB,this.nodeObjs=[],this.uuidService=(0,t.WQX)(y.D)}selectExam(E){this.getExamData.emit(E)}clickToNode(E){E.isExpand?this.collapse(E):this.expand(E)}asTemplateDataObj(E){return E}standardTreeNodes(E,P,N){let K=[];return E.forEach((M,H)=>{let Q=M.exam?void 0:{name:M.objectName??"Empty",totalPart:M.totalPart},q=M.exam?{id:M.exam.id,hashId:M.exam.hashId??"",categoryId:M.exam.categoryId??0,name:M.exam.name,minutes:M.exam.minutes??0,totalQuestion:M.exam.countQuestion,isPublished:!!M.exam.isPublished}:void 0,U={level:P,isExpand:this.isExpand,isShow:!0,nodeIndex:H,selected:!1,randomHashId:this.uuidService.getUuid(),data:{nodeId:M.objectId??0,isEdited:!1,folderData:Q,examData:q,parentNodeId:N,children:M.children},children:[],text:"Not use"};U.children=this.standardTreeNodes(M.children,P+1,U.data.nodeId),K.push(U)}),K}ngOnChanges(E){E.rawNodes&&(this.nodeObjs=this.standardTreeNodes(this.rawNodes,0,0))}}return(l=D).\u0275fac=(()=>{let d;return function(P){return(d||(d=t.xGo(l)))(P||l)}})(),l.\u0275cmp=t.VBU({type:l,selectors:[["app-capacity-exam-tree-in-view-mode-component"]],inputs:{rawNodes:"rawNodes",isShowLabel:"isShowLabel",isExpand:"isExpand",showCountInfo:"showCountInfo"},outputs:{getExamData:"getExamData"},features:[t.Vt3,t.OA$],decls:5,vars:1,consts:[["mainContent",""],["recursiveListTmpl",""],[4,"ngTemplateOutlet"],["class","flex items-center",4,"ngIf"],["id","list-category-arr",1,"grid","grid-cols-12","gap-1"],[4,"ngIf"],[1,"flex","items-center"],[1,"font-medium","text-lg"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"col-span-12",3,"hidden"],[3,"ngStyle"],[1,"flex","items-center","mb-1","w-full","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded",3,"id"],[1,"flex","items-center","clickable","w-full",3,"click"],[1,"pt-2","pb-2"],["name","chevron-right","size","18",3,"ngClass",4,"ngIf"],["name","chevron-down","size","18",3,"ngClass",4,"ngIf"],["name","folder","size","18",2,"padding-left","5px"],[1,"ml-2"],["class","ml-1 text-slate-500 text-xs",4,"ngIf"],["name","chevron-right","size","18",3,"ngClass"],["name","chevron-down","size","18",3,"ngClass"],[1,"ml-1","text-slate-500","text-xs"],[1,"flex","items-center","pb-2","pt-2","clickable",3,"click"],["size","18",1,"text-pending",3,"name","ngClass"],[1,"grid","grid-cols-12","gap-1","w-full","children-tmp"]],template:function(E,P){if(1&E&&t.DNE(0,T,1,0,"ng-container",2)(1,Y,3,2,"ng-template",null,0,t.C5r)(3,W,1,1,"ng-template",null,1,t.C5r),2&E){const N=t.sdS(2);t.Y8G("ngTemplateOutlet",N)}},dependencies:[c.YU,c.Sq,c.bT,c.T3,c.B3,p.WGl,S.wp],encapsulation:2}),D})()},43277:function(B,A){var i,y;void 0!==(y="function"==typeof(i=function(){"use strict";function c(u,g,T){var b=new XMLHttpRequest;b.open("GET",u),b.responseType="blob",b.onload=function(){j(b.response,g,T)},b.onerror=function(){console.error("could not download file")},b.send()}function p(u){var g=new XMLHttpRequest;g.open("HEAD",u,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function S(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(g)}}var h="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,O=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),j=h.saveAs||("object"!=typeof window||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!O?function(u,g,T){var b=h.URL||h.webkitURL,I=document.createElement("a");I.download=g=g||u.name||"download",I.rel="noopener","string"==typeof u?(I.href=u,I.origin===location.origin?S(I):p(I.href)?c(u,g,T):S(I,I.target="_blank")):(I.href=b.createObjectURL(u),setTimeout(function(){b.revokeObjectURL(I.href)},4e4),setTimeout(function(){S(I)},0))}:"msSaveOrOpenBlob"in navigator?function(u,g,T){if(g=g||u.name||"download","string"!=typeof u)navigator.msSaveOrOpenBlob(function C(u,g){return typeof g>"u"?g={autoBom:!1}:"object"!=typeof g&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\ufeff",u],{type:u.type}):u}(u,T),g);else if(p(u))c(u,g,T);else{var b=document.createElement("a");b.href=u,b.target="_blank",setTimeout(function(){S(b)})}}:function(u,g,T,b){if((b=b||open("","_blank"))&&(b.document.title=b.document.body.innerText="downloading..."),"string"==typeof u)return c(u,g,T);var I="application/octet-stream"===u.type,X=/constructor/i.test(h.HTMLElement)||h.safari,Y=/CriOS\/[\d]+/.test(navigator.userAgent);if((Y||I&&X||O)&&typeof FileReader<"u"){var $=new FileReader;$.onloadend=function(){var w=$.result;w=Y?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=w:location=w,b=null},$.readAsDataURL(u)}else{var F=h.URL||h.webkitURL,z=F.createObjectURL(u);b?b.location=z:location.href=z,b=null,setTimeout(function(){F.revokeObjectURL(z)},4e4)}});h.saveAs=j.saveAs=j,B.exports=j})?i.apply(A,[]):i)&&(B.exports=y)}}]);