"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[97],{96032:(A,b,n)=>{n.d(b,{K:()=>j});var m=n(60177),r=n(89417),d=n(32108),E=n(83409),u=n(89819),I=n(98697),h=n(47218),D=n(4669),p=n(5553),g=n(8516),C=n(11782),t=n(72093),a=n(93953),T=n(50116);const x=["*"],y=i=>[i],v=()=>({"mr-2":!0});function M(i,c){if(1&i&&(a.j41(0,"div",6),a.eu8(1,7),a.k0s()),2&i){a.XpG();const e=a.sdS(6);a.R7$(),a.Y8G("ngTemplateOutlet",e)}}function R(i,c){if(1&i&&(a.j41(0,"div",6),a.eu8(1,7),a.k0s()),2&i){a.XpG();const e=a.sdS(8);a.R7$(),a.Y8G("ngTemplateOutlet",e)}}function O(i,c){1&i&&a.SdG(0)}function z(i,c){if(1&i){const e=a.RV6();a.j41(0,"button",19),a.bIt("click",function(){a.eBV(e);const o=a.XpG(2);return a.Njj(o.switchModeUI("dark"))}),a.nrm(1,"lucide-icon",20),a.j41(2,"span",21),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s()()}2&i&&(a.R7$(),a.Y8G("ngClass",a.lJ4(4,v)),a.R7$(2),a.JRh(a.bMT(4,2,"lang_auto_che_de_toi")))}function P(i,c){if(1&i){const e=a.RV6();a.j41(0,"button",22),a.bIt("click",function(){a.eBV(e);const o=a.XpG(2);return a.Njj(o.switchModeUI("light"))}),a.nrm(1,"lucide-icon",23),a.j41(2,"span"),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s()()}2&i&&(a.R7$(),a.Y8G("ngClass",a.lJ4(4,v)),a.R7$(2),a.JRh(a.bMT(4,2,"lang_auto_che_de_sang")))}function k(i,c){if(1&i&&(a.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"a",11),a.nI1(4,"navigationLocalize"),a.nrm(5,"img",12),a.nI1(6,"getLinkLogo"),a.k0s()(),a.j41(7,"div",13),a.nrm(8,"azt-switch-language"),a.k0s(),a.j41(9,"div",14),a.DNE(10,z,5,5,"button",15)(11,P,5,5,"button",16),a.k0s()(),a.j41(12,"div",17)(13,"div")(14,"div",18),a.eu8(15,7),a.k0s()()()()),2&i){const e=a.XpG(),l=a.sdS(4);a.R7$(3),a.Y8G("routerLink",a.eq3(13,y,a.bMT(4,9,"/auth/login"))),a.R7$(2),a.Y8G("src",a.bMT(6,11,"bigLogo"),a.B4B),a.R7$(5),a.Y8G("ngIf","light"==e.modeUI),a.R7$(),a.Y8G("ngIf","dark"==e.modeUI),a.R7$(2),a.Aen("max-width:"+e.maxWidth),a.HbH(e.contentBoxClass+(e.removeBoxClass?"":" box mx-auto w-full")),a.R7$(2),a.Y8G("ngTemplateOutlet",l)}}function B(i,c){if(1&i&&(a.j41(0,"div",8)(1,"div",17)(2,"div")(3,"div",18),a.eu8(4,7),a.k0s()()()()),2&i){const e=a.XpG(),l=a.sdS(4);a.R7$(2),a.Aen("max-width:"+e.maxWidth),a.HbH(e.contentBoxClass+(e.removeBoxClass?"":" box mx-auto w-full")),a.R7$(2),a.Y8G("ngTemplateOutlet",l)}}let j=(()=>{var i;class c extends h.H{switchModeUI(l){let o=document.getElementById("azota-app-html");o&&(this.modeUI=l,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(o.classList.remove("dark"),o.classList.add("light")):(o.classList.remove("light"),o.classList.add("dark")))}ngOnInit(){super.ngOnInit(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light",this.switchModeUI(this.modeUI),this.stopStatusObj()}constructor(l){super(),this.browserStorageService=l,this.maxWidth="500px",this.contentBoxClass="p-5",this.removeBoxClass=!1,this.modeUI="",this.initStatusObj()}}return(i=c).\u0275fac=function(l){return new(l||i)(a.rXU(T.z))},i.\u0275cmp=a.VBU({type:i,selectors:[["auth-layout"]],inputs:{maxWidth:"maxWidth",contentBoxClass:"contentBoxClass",removeBoxClass:"removeBoxClass"},standalone:!0,features:[a.Vt3,a.aNF],ngContentSelectors:x,decls:11,vars:2,consts:[["BodyContentTpl",""],["notEmbedViewTpl",""],["embedViewTpl",""],[1,"azt-body",2,"padding","0"],["class","flex",4,"ngIf"],[1,"fixed","left-0","bottom-0","p-5","pb-8","azt-hidden"],[1,"flex"],[3,"ngTemplateOutlet"],[1,"content","relative",2,"padding","0","border-radius","0"],[1,"top-bar","py-2","px-3",2,"height","auto","z-index","0","border","none"],[1,"mr-auto"],["azt-track-service","auth-layout-Il3suLG89",3,"routerLink"],["width","95px",3,"src"],[1,"mr-3"],[1,"mr-1"],["azt-track-service","auth-layout-JExDIjLZ0q","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],["azt-track-service","auth-layout-g8PYsmzs4T","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],[1,"p-5","flex","items-center","w-full","content-auth-layout","mt-10"],[1,"azt-content"],["azt-track-service","auth-layout-JExDIjLZ0q",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["name","moon","size","20",3,"ngClass"],[1,""],["azt-track-service","auth-layout-g8PYsmzs4T",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["name","sun","size","20",3,"ngClass"]],template:function(l,o){1&l&&(a.NAR(),a.j41(0,"div",3),a.DNE(1,M,2,1,"div",4)(2,R,2,1,"div",4),a.k0s(),a.DNE(3,O,1,0,"ng-template",null,0,a.C5r)(5,k,16,15,"ng-template",null,1,a.C5r)(7,B,5,5,"ng-template",null,2,a.C5r),a.j41(9,"div",5),a.nrm(10,"header-setting-color"),a.k0s()),2&l&&(a.R7$(),a.Y8G("ngIf",!o.isMobileWebView&&!o.statusObj.loading),a.R7$(),a.Y8G("ngIf",o.isMobileWebView&&!o.statusObj.loading))},dependencies:[p.V,D.o,u.F2,m.MD,m.YU,m.bT,m.T3,r.X1,d.iI,d.Wk,r.YN,u.wp,t.s,g.flO,g.WGl,I.L,u.ph,C.Id,E.k],encapsulation:2}),c})()},80464:(A,b,n)=>{n.d(b,{V:()=>c});var m=n(60177),r=n(89417),d=n(34006),E=n(32108),u=n(81174),I=n(83409),h=n(89819),D=n(98697),p=n(8516),g=n(11782),C=n(72093),t=n(93953),a=n(44039),T=n(5552);const x=()=>({"mr-2":!0});function y(e,l){1&e&&(t.qex(0),t.j41(1,"div")(2,"h2",7),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.bVm()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_vip_bill_print_title_ask")))}function v(e,l){1&e&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function M(e,l){1&e&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function R(e,l){1&e&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function O(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_email")," "))}function z(e,l){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function P(e,l){if(1&e&&(t.j41(0,"div",32),t.DNE(1,O,3,3,"span",33)(2,z,3,3,"span",33),t.k0s()),2&e){const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",o.form.controls.receiptEmail.errors.required),t.R7$(),t.Y8G("ngIf",o.form.controls.receiptEmail.errors.email||o.form.controls.receiptEmail.errors.pattern)}}function k(e,l){1&e&&(t.j41(0,"div",10)(1,"span",34),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_vip_bill_print_notice")))}function B(e,l){if(1&e&&(t.j41(0,"div")(1,"h2",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"form",9)(5,"div",10)(6,"label",11),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",12)(10,"div",13)(11,"div",14)(12,"div",15),t.nrm(13,"input",16),t.k0s(),t.j41(14,"label",17),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"div",13)(18,"div",14)(19,"div",15),t.nrm(20,"input",18),t.k0s(),t.j41(21,"label",19),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()()(),t.j41(24,"div",10)(25,"label",20),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.nrm(28,"input",21),t.j41(29,"div",22),t.nrm(30,"lucide-icon",23),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.DNE(33,v,3,3,"div",24),t.k0s(),t.j41(34,"div",10)(35,"label",25),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s(),t.nrm(38,"input",26),t.DNE(39,M,3,3,"div",24),t.k0s(),t.j41(40,"div",10)(41,"label",27),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s(),t.nrm(44,"input",28),t.DNE(45,R,3,3,"div",24),t.k0s(),t.j41(46,"div",10)(47,"label",29),t.EFF(48),t.nI1(49,"mytranslate"),t.k0s(),t.nrm(50,"input",30),t.DNE(51,P,3,2,"div",24),t.k0s()(),t.DNE(52,k,4,3,"div",31)),2&e){const o=t.XpG();t.R7$(2),t.JRh(t.bMT(3,18,"lang_vip_bill_print_title")),t.R7$(2),t.Y8G("formGroup",o.form),t.R7$(3),t.SpI(" ",t.bMT(8,20,"lang_auto_loai")," "),t.R7$(6),t.Y8G("value",1),t.R7$(2),t.SpI(" ",t.bMT(16,22,"lang_azt_organization")," "),t.R7$(5),t.Y8G("value",0),t.R7$(2),t.SpI(" ",t.bMT(23,24,"lang_azt_user")," "),t.R7$(4),t.SpI(" ",t.bMT(27,26,0==o.form.controls.objectiveType.value?"lang_auto_ho_va_ten":"lang_payment_business_infor_school_name")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(36,x)),t.R7$(),t.SpI(" ",t.bMT(32,28,"lang_vip_invoice_username_map_with_transaction_fullName")," "),t.R7$(2),t.Y8G("ngIf",o.form.controls.organization.dirty&&o.form.controls.organization.errors),t.R7$(3),t.SpI(" ",t.bMT(37,30,"lang_test_market_address")," "),t.R7$(3),t.Y8G("ngIf",o.form.controls.address.dirty&&o.form.controls.address.errors),t.R7$(3),t.SpI(" ",t.bMT(43,32,"lang_vip_bill_print_tax_code")," "),t.R7$(3),t.Y8G("ngIf",o.form.controls.taxCode.dirty&&o.form.controls.taxCode.errors),t.R7$(3),t.SpI(" ",t.bMT(49,34,"lang_auto_email")," "),t.R7$(3),t.Y8G("ngIf",o.form.controls.receiptEmail.dirty&&o.form.controls.receiptEmail.errors),t.R7$(),t.Y8G("ngIf",!o.data.invoiceData)}}function j(e,l){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"button",35),t.bIt("click",function(){t.eBV(o);const s=t.XpG();return t.Njj(s.btnCloseDialog())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",36),t.bIt("click",function(){t.eBV(o);const s=t.XpG();return t.Njj(s.askForInvoice=!1)}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.bVm()}2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_khong")," "),t.R7$(3),t.SpI(" ",t.bMT(6,4,"lang_auto_co")," "))}function i(e,l){if(1&e){const o=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(o);const s=t.XpG();return t.Njj(s.btnCloseDialog())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.j41(3,"button",37),t.bIt("click",function(){t.eBV(o);const s=t.XpG();return t.Njj(s.saveData())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()}if(2&e){const o=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,3,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",o.statusObj.loading||o.form.invalid),t.R7$(),t.SpI(" ",t.bMT(5,5,"lang_button_send")," ")}}let c=(()=>{var e;class l extends u._{btnCloseDialog(){this.dialogRef.close(!1)}saveData(){this.initStatusObj();let _={objectId:this.data.invoiceData?.objectId??this.data.invoiceData?.userId??0,objectType:this.form.getRawValue().objectiveType?"corporate":"personal",organization:this.form.getRawValue().organization,address:this.form.getRawValue().address,taxCode:this.form.getRawValue().taxCode,receiptEmail:this.form.getRawValue().receiptEmail,sendInvoice:!0,transactionProductId:this.data.idTransactionVNPay};this.waitDestroy(this.data.onUpdate?this.vipInvoiceService.apiVipInvoiceUpdateVipInvoicePost(_).subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0);this.successStatusObj("lang_auto_luu_thanh_cong",!0),this.dialogRef.close(!0)}):this.vipInvoiceService.apiVipInvoiceUpdateMyInvoicePost(_).subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0);this.successStatusObj("lang_cms_send_request_success",!0),this.dialogRef.close(!0)}))}constructor(_,s,f){super(f,s),this.vipInvoiceService=_,this.dialogRef=s,this.data=f,this.askForInvoice=!1,this.form=new r.gE({objectiveType:new r.MJ({value:"personal"==this.data.invoiceData?.objectType?0:1,disabled:!1},{nonNullable:!0,validators:[r.k0.required]}),organization:new r.MJ({value:this.data.invoiceData?.organization??"",disabled:!1},{nonNullable:!0,validators:[r.k0.required]}),address:new r.MJ({value:this.data.invoiceData?.address??"",disabled:!1},{nonNullable:!0,validators:[r.k0.required]}),taxCode:new r.MJ({value:this.data.invoiceData?.taxCode??"",disabled:!1},{nonNullable:!0,validators:[r.k0.required]}),receiptEmail:new r.MJ({value:this.data.invoiceData?.receiptEmail??"",disabled:!1},{nonNullable:!0,validators:[r.k0.required,r.k0.email,r.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]})}),this.askForInvoice=this.data.askForInvoice}}return(e=l).\u0275fac=function(_){return new(_||e)(t.rXU(a.Gl),t.rXU(d.CP,8),t.rXU(d.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-dialog-vip-print-bill"]],standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:4,consts:[["showForm",""],["showFormBtn",""],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"px-5","py-3"],[4,"ngIf","ngIfElse"],[1,"p-3","text-right"],[1,"font-bold","text-md","mt-1","mx-5"],[1,"intro-x","font-bold","text-xl","mt-1","mx-5"],[1,"intro-y",3,"formGroup"],[1,"mt-2"],[1,"form-label"],[1,"grid","grid-cols-12","box","border","border-slate-200","px-5","py-2"],[1,"col-span-6"],[1,"flex","items-center"],[1,"form-check","mr-2"],["id","organizationSelect","formControlName","objectiveType","type","radio",1,"form-check-input","ml-2",3,"value"],["for","organizationSelect",1,"cursor-pointer"],["id","userSelect","formControlName","objectiveType","type","radio",1,"form-check-input","ml-2",3,"value"],["for","userSelect",1,"cursor-pointer"],["for","organizationName",1,"form-label"],["type","text","id","organizationName","formControlName","organization",1,"form-control"],[1,"text-xs","text-slate-400","mt-1"],["name","info","size","18",3,"ngClass"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control"],["for","taxCode",1,"form-label"],["type","text","id","taxCode","formControlName","taxCode",1,"form-control"],["for","receiptEmail",1,"form-label"],["type","text","id","receiptEmail","formControlName","receiptEmail",1,"form-control"],["class","mt-2",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[4,"ngIf"],[1,"text-danger","text-xs"],[1,"btn","w-24","btn-secondary","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"]],template:function(_,s){if(1&_&&(t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.DNE(3,y,5,3,"ng-container",5)(4,B,53,37,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(6,"div",6),t.DNE(7,j,7,6,"ng-container",5)(8,i,6,7,"ng-template",null,1,t.C5r),t.k0s()()),2&_){const f=t.sdS(5),F=t.sdS(9);t.R7$(3),t.Y8G("ngIf",s.askForInvoice)("ngIfElse",f),t.R7$(4),t.Y8G("ngIf",s.askForInvoice)("ngIfElse",F)}},dependencies:[m.MD,m.YU,m.bT,r.X1,r.qT,r.me,r.Fm,r.BC,r.cb,r.j4,r.JD,E.iI,r.YN,h.wp,C.s,p.flO,p.WGl,D.L,g.Id,I.k,T.t],encapsulation:2}),l})()}}]);