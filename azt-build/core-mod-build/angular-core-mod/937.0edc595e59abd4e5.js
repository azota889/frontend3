"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[937],{23750:(tt,z,n)=>{n.d(z,{J:()=>ct});var t=n(48891),e=n(59640),i=n(73202),f=n(10936),j=n(89163),T=n(51698),F=n(33887),k=n(64198),B=n(93518),R=n(39712),J=n(2915),r=n(63349),$=n(22851),s=n(54460),W=n(65162),Y=n(47348),p=n(21656),S=n(15343),O=n(70050),P=n(5502),M=n(36894),U=n(40111),K=n(27691);let H=(()=>{var a;class A{constructor(c){this.http=c,this.apiKey="AIzaSyCnVr7hAO9K6J2uIHVnAA3U2bD1gir2_Eo"}getVideoDetails(c){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?id=${c}&key=${this.apiKey}&part=snippet`)}}return(a=A).\u0275fac=function(c){return new(c||a)(t.KVO(K.Qq))},a.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),A})();var nt=n(60303);const m=(a,A)=>[a,A],x=()=>({"text-success mr-2":!0});function o(a,A){if(1&a){const l=t.RV6();t.j41(0,"div",10)(1,"div",11)(2,"azt-upload-multiple-box",12),t.bIt("uploadComplete",function(u){t.eBV(l);const E=t.XpG();return t.Njj(E.handleUploadComplete(u))}),t.j41(3,"div",13)(4,"div",14)(5,"div",15),t.nrm(6,"lucide-icon",16),t.j41(7,"span",17),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",18),t.EFF(11),t.nI1(12,"mytranslate"),t.j41(13,"a",19),t.bIt("click",function(u){return t.eBV(l),t.Njj(u.stopPropagation())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()()()()}if(2&a){const l=t.XpG();t.R7$(2),t.Y8G("uploadToCdnMenu",l.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",t.l_i(12,m,l.allUploadFileTypes.SYNTHETIC,l.allUploadFileTypes.AZT)),t.R7$(4),t.Y8G("ngClass",t.lJ4(15,x)),t.R7$(2),t.SpI(" ",t.bMT(9,6,"lang_wsuper_admin_upload_file_choose_file_upload")," "),t.R7$(3),t.SpI(" ",t.bMT(12,8,"lang_auto_azota_support_file_type")," .docx, .azt, .pdf, .pptx, .ppt "),t.R7$(3),t.SpI(" ",t.bMT(15,10,"lang_auto_tim_hieu_them")," ")}}function Z(a,A){1&a&&(t.j41(0,"div",28)(1,"div",29),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function N(a,A){if(1&a&&t.nrm(0,"azt-preview-file",33),2&a){const l=t.XpG(3);t.Y8G("fileUrl",l.docsLinkControl.value)("customHeight",l.boxContentHeight)("fileType",l.shareTypeDocument)}}function _(a,A){if(1&a&&(t.j41(0,"div",30)(1,"div",31),t.DNE(2,N,1,3,"azt-preview-file",32),t.k0s()()),2&a){const l=t.XpG(2);t.R7$(2),t.Y8G("ngIf",l.docsLinkControl.value)}}function V(a,A){if(1&a){const l=t.RV6();t.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"input",23),t.nI1(4,"mytranslate"),t.bIt("input",function(){t.eBV(l);const u=t.XpG();return t.Njj(u.getVideoNameFromUrl())}),t.k0s()(),t.j41(5,"div",24),t.nrm(6,"input",25),t.nI1(7,"mytranslate"),t.k0s(),t.DNE(8,Z,4,3,"div",26),t.k0s(),t.DNE(9,_,3,1,"div",27),t.k0s()}if(2&a){const l=t.XpG();t.R7$(3),t.FS9("placeholder",t.bMT(4,6,"homework_view"==l.data.type?"lang_document_insert_lecture_video_Google_docs_dropbox_link":"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),t.Y8G("formControl",l.docsLinkControl),t.R7$(3),t.FS9("placeholder",t.bMT(7,8,"lang_document_insert_lecture_file_name")+"..."),t.Y8G("formControl",l.fileNameControl),t.R7$(2),t.Y8G("ngIf",l.fileNameControl.invalid),t.R7$(),t.Y8G("ngIf",l.checkShowPreviewLink())}}let w=(()=>{var a;class A extends F._{onTabChanged(c){this.selectedIndex=c.index,this.shareTypeDocument=0==this.selectedIndex?i.d.exam:i.d.google_docs}btnCloseDialog(){this.dialogRef.close()}handleUploadComplete(c){c.forEach(u=>{let E=this.sAztFileTypeService.getTypeFileByMime(u);E?this.dialogRef.close({name:u.name??"",refId:0,groupType:this.groupTypeFile,type:E,link:u.url??""}):this.showErrorSnack("lang_document_the_file_format_is_not_supported_in_reference")})}checkShowPreviewLink(){return!(!this.docsLinkControl.valid||!((0,k.y1)(this.docsLinkControl.value)||(0,k.Kb)(this.docsLinkControl.value)||(0,k.VJ)(this.docsLinkControl.value)))}getNameVideo(c){return new T.c(u=>{this.youtubeService.getVideoDetails(c).subscribe(E=>{u.next(E.items&&E.items.length?E.items[0].snippet.title:"undefined"),u.complete()},E=>{u.next(void 0),u.complete()})})}getVideoNameFromUrl(){this.data.type==B.k.homework_view&&(0,k.VJ)(this.docsLinkControl.value)&&(this.shareTypeDocument=i.d.video,this.getNameVideo((0,k.b3)(this.docsLinkControl.value)??"").subscribe(c=>{c&&this.fileNameControl.setValue(c)}))}confirmUpload(){if(this.docsLinkControl.valid&&(0,k.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:this.docsLinkControl.value?this.docsLinkControl.value:""}),this.docsLinkControl.valid&&(0,k.VJ)(this.docsLinkControl.value)&&this.fileNameControl.valid){let c={name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:(0,k.Hf)(this.docsLinkControl.value)?this.docsLinkControl.value:""};this.dialogRef.close(c)}}ngOnInit(){super.ngOnInit(),this.shareTypeDocument=this.commonService.getEnumTypeWithDefault(i.d,this.data.type,i.d.unknown),this.groupTypeFile=this.commonService.getEnumTypeWithDefault(B.k,this.data.type,B.k.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}ngAfterViewInit(){this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}constructor(c,u,E,q){super(q,E),this.sAztFileTypeService=c,this.youtubeService=u,this.dialogRef=E,this.data=q,this.docsLinkControl=new f.MJ("",{nonNullable:!0,validators:[f.k0.required]}),this.fileNameControl=new f.MJ("",{nonNullable:!0,validators:[f.k0.required]}),this.shareTypeDocument=i.d.exam,this.groupTypeFile=B.k.document,this.allDocumentGroupTypes=B.k,this.boxContentHeight=0,this.selectedIndex=0,this.allUploadToCdnMenuTypes=R.b8,this.allUploadFileTypes=R.PO}}return(a=A).\u0275fac=function(c){return new(c||a)(t.rXU(U.k),t.rXU(H),t.rXU(j.CP,8),t.rXU(j.Vh,8))},a.\u0275cmp=t.VBU({type:a,selectors:[["add-document-session-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:16,consts:[["id","box-add-link-content",1,"box","scroll-menu-test",2,"height","80vh"],[1,"p-3"],[3,"selectedTabChange","selectedIndex"],[3,"label"],[2,"height","auto"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],[1,"form-group"],[1,"intro","mt-4"],[3,"uploadComplete","uploadToCdnMenu","fileType"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[1,"px-4","pb-8","mt-8","text-center","cursor-pointer","relative"],[1,"flex","items-center",2,"justify-content","center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","upload-document-GHbxbRMZOV","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"px-2"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],["class","h-full px-3",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[3,"fileUrl","customHeight","fileType"]],template:function(c,u){1&c&&(t.j41(0,"div",0)(1,"div")(2,"azt-mat-dialog-content")(3,"div",1)(4,"mat-tab-group",2),t.bIt("selectedTabChange",function(q){return u.onTabChanged(q)}),t.nrm(5,"mat-tab",3),t.nI1(6,"mytranslate"),t.nrm(7,"mat-tab",3),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",4),t.DNE(10,o,16,16,"div",5)(11,V,10,10,"div",6),t.k0s()()()(),t.j41(12,"div",7)(13,"button",8),t.bIt("click",function(){return u.btnCloseDialog()}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"button",9),t.bIt("click",function(){return u.confirmUpload()}),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()()),2&c&&(t.R7$(4),t.Y8G("selectedIndex",u.selectedIndex),t.R7$(),t.FS9("label",t.bMT(6,8,"lang_auto_upload_file")),t.R7$(2),t.FS9("label",t.bMT(8,10,"lang_config_educational_program_use_link")),t.R7$(3),t.Y8G("ngIf",0==u.selectedIndex),t.R7$(),t.Y8G("ngIf",1==u.selectedIndex),t.R7$(3),t.SpI(" ",t.bMT(15,12,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",u.fileNameControl.invalid),t.R7$(),t.SpI(" ",t.bMT(18,14,"lang_auto_luu")," "))},dependencies:[J.U,r.V,$.N,s.MD,s.YU,s.bT,f.X1,f.me,f.BC,f.l_,W.iI,f.YN,Y.wp,p.s,nt.mq,nt.T8,S.flO,S.WGl,O.L,P.Id,M.k],encapsulation:2}),A})();var b=n(52811),I=n(66772);function X(a,A){1&a&&(t.j41(0,"div",16)(1,"div",17),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function Q(a,A){if(1&a&&t.nrm(0,"azt-preview-file",18),2&a){const l=t.XpG(2);t.Y8G("fileUrl",l.embedLinkControl.value)("fileType",l.shareTypeFile)}}function at(a,A){1&a&&t.nrm(0,"azt-loading-ui",19)}function it(a,A){if(1&a){const l=t.RV6();t.qex(0),t.j41(1,"div",3)(2,"div",4)(3,"input",5),t.nI1(4,"mytranslate"),t.bIt("input",function(){t.eBV(l);const u=t.XpG();return t.Njj(u.getVideoNameFromUrl())}),t.k0s()(),t.j41(5,"div",6),t.nrm(6,"input",7),t.nI1(7,"mytranslate"),t.k0s(),t.DNE(8,X,4,3,"div",8),t.k0s(),t.j41(9,"div",9)(10,"div",10),t.DNE(11,Q,1,2,"azt-preview-file",11),t.k0s()(),t.j41(12,"div",12)(13,"button",13),t.bIt("click",function(){t.eBV(l);const u=t.XpG();return t.Njj(u.btnCloseDialog())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"button",14),t.bIt("click",function(){t.eBV(l);const u=t.XpG();return t.Njj(u.confirmUpload())}),t.DNE(17,at,1,0,"azt-loading-ui",15),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()(),t.bVm()}if(2&a){const l=t.XpG();t.R7$(3),t.FS9("placeholder",t.bMT(4,10,"lang_document_insert_lecture_video_link")+"..."),t.Y8G("formControl",l.embedLinkControl),t.R7$(3),t.FS9("placeholder",t.bMT(7,12,"lang_document_insert_lecture_video_name")+"..."),t.Y8G("formControl",l.fileNameControl),t.R7$(2),t.Y8G("ngIf",l.fileNameControl.invalid),t.R7$(3),t.Y8G("ngIf",l.embedLinkControl.value),t.R7$(3),t.SpI(" ",t.bMT(15,14,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",!l.isValidEmbedUrl()||l.fileNameControl.invalid||l.statusObj.loading),t.R7$(),t.Y8G("ngIf",l.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(19,16,"lang_auto_luu")," ")}}function rt(a,A){1&a&&(t.j41(0,"div",16)(1,"div",17),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function st(a,A){if(1&a&&t.nrm(0,"azt-preview-file",23),2&a){const l=t.XpG(2);t.Y8G("fileUrl",l.docsLinkControl.value)("customHeight",l.boxContentHeight)("fileType",l.shareTypeFile)}}function lt(a,A){1&a&&t.nrm(0,"azt-loading-ui",19)}function dt(a,A){if(1&a){const l=t.RV6();t.qex(0),t.j41(1,"div",3)(2,"div",4),t.nrm(3,"input",7),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",6),t.nrm(6,"input",7),t.nI1(7,"mytranslate"),t.k0s(),t.DNE(8,rt,4,3,"div",8),t.k0s(),t.j41(9,"div",9)(10,"div",20),t.DNE(11,st,1,3,"azt-preview-file",21),t.k0s()(),t.j41(12,"div",22)(13,"button",13),t.bIt("click",function(){t.eBV(l);const u=t.XpG();return t.Njj(u.btnCloseDialog())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"button",14),t.bIt("click",function(){t.eBV(l);const u=t.XpG();return t.Njj(u.confirmUpload())}),t.DNE(17,lt,1,0,"azt-loading-ui",15),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()(),t.bVm()}if(2&a){const l=t.XpG();t.R7$(3),t.FS9("placeholder",t.bMT(4,10,"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),t.Y8G("formControl",l.docsLinkControl),t.R7$(3),t.FS9("placeholder",t.bMT(7,12,"lang_document_insert_lecture_file_name")+"..."),t.Y8G("formControl",l.fileNameControl),t.R7$(2),t.Y8G("ngIf",l.fileNameControl.invalid),t.R7$(3),t.Y8G("ngIf",l.docsLinkControl.value),t.R7$(3),t.SpI(" ",t.bMT(15,14,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",!l.isValidDocsUrl()||l.fileNameControl.invalid||l.statusObj.loading),t.R7$(),t.Y8G("ngIf",l.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(19,16,"lang_auto_luu")," ")}}let d=(()=>{var a;class A extends F._{btnCloseDialog(){this.dialogRef.close()}isValidEmbedUrl(){return(0,k.VJ)(this.embedLinkControl.value)}isValidDocsUrl(){return(0,k.si)(this.docsLinkControl.value)}getNameVideo(c){return new T.c(u=>{this.youtubeService.getVideoDetails(c).subscribe(E=>{u.next(E.items&&E.items.length?E.items[0].snippet.title:"undefined"),u.complete()},E=>{u.next(void 0),u.complete()})})}getVideoNameFromUrl(){this.getNameVideo((0,k.b3)(this.embedLinkControl.value)??"").subscribe(c=>{c&&this.fileNameControl.setValue(c)})}confirmUpload(){if(this.data.type==i.d.video&&this.embedLinkControl.valid&&(0,k.VJ)(this.embedLinkControl.value)&&this.fileNameControl.valid){this.initStatusObj();let c={name:this.fileNameControl.value,type:this.shareTypeFile,groupType:B.k.video,link:(0,k.Hf)(this.embedLinkControl.value)?this.embedLinkControl.value:""};this.dialogRef.close(c)}this.data.type==i.d.google_docs&&this.docsLinkControl.valid&&(0,k.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&(this.initStatusObj(),this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeFile,groupType:B.k.video,link:this.docsLinkControl.value?this.docsLinkControl.value:""}))}ngOnInit(){super.ngOnInit(),this.shareTypeFile=this.commonService.getEnumTypeWithDefault(i.d,this.data.type,i.d.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??700}constructor(c,u,E,q,mt){super(mt,q),this.sAZTranslateService=c,this.http=u,this.youtubeService=E,this.dialogRef=q,this.data=mt,this.embedLinkControl=new f.MJ("",{nonNullable:!0,validators:[f.k0.required]}),this.docsLinkControl=new f.MJ("",{nonNullable:!0,validators:[f.k0.required]}),this.fileNameControl=new f.MJ("",{nonNullable:!0,validators:[f.k0.required]}),this.shareTypeFile=i.d.video,this.boxContentHeight=0}}return(a=A).\u0275fac=function(c){return new(c||a)(t.rXU(I.o),t.rXU(K.Qq),t.rXU(H),t.rXU(j.CP,8),t.rXU(j.Vh,8))},a.\u0275cmp=t.VBU({type:a,selectors:[["add-video-session"]],standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:2,consts:[[1,"box","mt-3","relative",2,"height","80vh"],["id","box-add-link-content",1,"h-full","flex","flex-col","mx-auto"],[4,"ngIf"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-3","mx-auto",2,"max-width","720px"],[3,"fileUrl","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[3,"fileUrl","fileType"],[1,"mr-1"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[3,"fileUrl","customHeight","fileType"]],template:function(c,u){1&c&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,it,20,18,"ng-container",2)(3,dt,20,18,"ng-container",2),t.k0s()()),2&c&&(t.R7$(2),t.Y8G("ngIf","video"==u.data.type),t.R7$(),t.Y8G("ngIf","google_docs"==u.data.type))},dependencies:[$.N,b.R,s.MD,s.bT,f.X1,f.me,f.BC,f.l_,W.iI,f.YN,Y.wp,p.s,S.flO,O.L,P.Id,M.k],encapsulation:2}),A})();var G=n(46899),y=n(17818);const h=[[["span"]]],v=["span"];function D(a,A){1&a&&t.nrm(0,"azt-loading-ui",11)}function g(a,A){1&a&&(t.j41(0,"span"),t.EFF(1," + "),t.k0s())}function C(a,A){if(1&a){const l=t.RV6();t.qex(0),t.j41(1,"button",8),t.bIt("click",function(u){return t.eBV(l),t.Njj(u.stopPropagation())}),t.DNE(2,D,1,0,"azt-loading-ui",9)(3,g,2,0,"span",10),t.SdG(4),t.k0s(),t.bVm()}if(2&a){const l=t.XpG(),c=t.sdS(4);t.R7$(),t.HbH("btn btn-transparent w-48 block "+l.customClass),t.Y8G("disabled",l.loadingUpload)("matMenuTriggerFor",c),t.R7$(),t.Y8G("ngIf",l.loadingUpload),t.R7$(),t.Y8G("ngIf",!l.loadingUpload)}}function L(a,A){1&a&&t.nrm(0,"azt-loading-ui",11)}function ot(a,A){1&a&&(t.j41(0,"span"),t.EFF(1," + "),t.k0s())}function et(a,A){if(1&a){const l=t.RV6();t.j41(0,"span",12),t.bIt("click",function(u){return t.eBV(l),t.Njj(u.stopPropagation())}),t.DNE(1,L,1,0,"azt-loading-ui",9)(2,ot,2,0,"span",10),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s()()}if(2&a){const l=t.XpG(),c=t.sdS(4);t.Y8G("matMenuTriggerFor",c),t.R7$(),t.Y8G("ngIf",l.loadingUpload),t.R7$(),t.Y8G("ngIf",!l.loadingUpload),t.R7$(2),t.Lme("",t.bMT(5,5,"lang_button_add")," ",t.bMT(6,7,"lang_auto_tai_lieu"),"")}}let ct=(()=>{var a;class A extends e.H{showAddLinkDialog(c){this.loadingUpload=!0,this.sAztDialogService.open(d,{width:c==i.d.video?"750px":"950px",data:{showUp:!0,type:c},restoreFocus:!1}).afterClosed().subscribe(E=>{E?(this.emitFileDocument.emit({name:E.name,refId:0,groupType:E.groupType,type:E.type,link:E.link}),this.loadingUpload=!1):this.loadingUpload=!1})}showAddDocumentDialog(c){this.loadingUpload=!0,this.sAztDialogService.open(w,{width:"950px",data:{showUp:!0,type:c},restoreFocus:!1}).afterClosed().subscribe(E=>{E?(this.emitFileDocument.emit({name:E.name,refId:0,groupType:E.groupType,type:E.type,link:E.link}),this.loadingUpload=!1):this.loadingUpload=!1})}ngOnInit(){super.ngOnInit()}constructor(c){super(),this.sAztDialogService=c,this.isBtn=!0,this.customClass="",this.emitFileDocument=new t.bkB,this.loadingUpload=!1}}return(a=A).\u0275fac=function(c){return new(c||a)(t.rXU(G.i))},a.\u0275cmp=t.VBU({type:a,selectors:[["app-upload-document-for-session"]],inputs:{isBtn:"isBtn",customClass:"customClass"},outputs:{emitFileDocument:"emitFileDocument"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:v,decls:27,vars:14,consts:[["otherBtnTemplate",""],["addDocumentMenu","matMenu"],[4,"ngIf","ngIfElse"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],["azt-track-service","list-educational-program-sessions-alTxPjwR-Y",1,"dropdown-item",2,"align-items","center",3,"click"],[1,"dropdown-item",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-rZNJK7p4k4",2,"text-align","left",3,"click","disabled","matMenuTriggerFor"],["type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],["type","bootstrap-spinner"],["azt-track-service","add-or-edit-educational-program-wqT22r4zB",1,"clickable",2,"text-align","left",3,"click","matMenuTriggerFor"]],template:function(c,u){if(1&c){const E=t.RV6();t.NAR(h),t.DNE(0,C,5,6,"ng-container",2)(1,et,7,9,"ng-template",null,0,t.C5r),t.j41(3,"mat-menu",3,1)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),t.bIt("click",function(){return t.eBV(E),t.Njj(u.showAddLinkDialog("video"))}),t.j41(9,"span"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()(),t.j41(12,"li")(13,"a",7),t.bIt("click",function(){return t.eBV(E),t.Njj(u.showAddDocumentDialog("document"))}),t.j41(14,"span"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"li")(18,"a",7),t.bIt("click",function(){return t.eBV(E),t.Njj(u.showAddDocumentDialog("homework"))}),t.j41(19,"span"),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()(),t.j41(22,"li")(23,"a",7),t.bIt("click",function(){return t.eBV(E),t.Njj(u.showAddDocumentDialog("homework_view"))}),t.j41(24,"span"),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()()()()()}if(2&c){const E=t.sdS(2);t.Y8G("ngIf",u.isBtn)("ngIfElse",E),t.R7$(10),t.SpI(" ",t.bMT(11,6,"lang_config_educational_program_add_ytb_link")," "),t.R7$(5),t.SpI(" ",t.bMT(16,8,"lang_config_educational_program_add_document")," "),t.R7$(5),t.SpI(" ",t.bMT(21,10,"lang_config_educational_program_add_homework")," "),t.R7$(5),t.SpI(" ",t.bMT(26,12,"lang_config_educational_program_add_homework_view")," ")}},dependencies:[b.R,s.MD,s.bT,f.X1,W.iI,f.YN,Y.wp,p.s,y.kk,y.Cp,S.flO,O.L,P.Id,M.k],encapsulation:2}),A})()},10127:(tt,z,n)=>{n.d(z,{B:()=>y});var t=n(81519),e=n(54460),i=n(10936),f=n(34514),j=n(47426),T=n(89163),F=n(65162),k=n(15343),B=n(44233),R=n(21656),J=n(99503),r=n(79347),$=n(33887),s=n(43166),W=n(47348),Y=n(70050),p=n(9691);class S{static formGroupClassrooms(v){return void 0!==v.controls.find(C=>C.controls.classroomId.errors)?{identityRevealed:!0,invalidData:!0}:null}}var O=n(93493),P=n(45344),M=n(2915),U=n(43165),K=n(74742),H=n(18718),nt=n(60902),m=n(5502),x=n(36894),o=n(48891),Z=n(49842),N=n(46899),_=n(17187),V=n(12992),w=n(95670),b=n(4375),I=n(47712),X=n(81587);const Q=()=>({"text-danger":!0});function at(h,v){if(1&h&&o.nrm(0,"azt-loading-effect",7),2&h){const D=o.XpG();o.Y8G("currentStatusObj",D.statusObj)}}function it(h,v){1&h&&(o.j41(0,"div",21),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&h&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_core_them_lop_hoc_neu_ban_muon_cap_nhat_so_tien")," "))}function rt(h,v){if(1&h&&(o.j41(0,"mat-option",34),o.EFF(1),o.k0s()),2&h){const D=v.$implicit,g=o.XpG(3);o.Y8G("value",D.id)("disabled",g.isSelectClassroom(D.id)),o.R7$(),o.SpI(" ",D.name," ")}}function st(h,v){if(1&h){const D=o.RV6();o.j41(0,"button",35),o.nI1(1,"mytranslate"),o.bIt("click",function(){o.eBV(D);const C=o.XpG().$implicit,L=o.XpG(2);return o.Njj(L.removeClassroom(C))}),o.nrm(2,"lucide-icon",36),o.k0s()}2&h&&(o.FS9("matTooltip",o.bMT(1,2,"lang_student_classroom_list_delete")),o.R7$(2),o.Y8G("ngClass",o.lJ4(4,Q)))}function lt(h,v){1&h&&(o.j41(0,"div",37),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&h&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_testbank_test_config_you_not_yet_class")," "))}function dt(h,v){if(1&h){const D=o.RV6();o.j41(0,"div",38)(1,"mat-checkbox",39),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"button",40),o.nI1(5,"mytranslate"),o.bIt("click",function(){o.eBV(D);const C=o.XpG().$implicit,L=o.XpG(2);return o.Njj(L.removeClassroom(C))}),o.nrm(6,"lucide-icon",36),o.k0s()()}if(2&h){const D=o.XpG().$implicit;o.R7$(),o.Y8G("checked",D.controls.isTryLearning.value),o.R7$(),o.SpI(" ",o.bMT(3,4,"lang_core_hoc_thu")," "),o.R7$(2),o.FS9("matTooltip",o.bMT(5,6,"lang_student_classroom_list_delete")),o.R7$(2),o.Y8G("ngClass",o.lJ4(8,Q))}}function d(h,v){if(1&h&&(o.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"div",14)(4,"div",25)(5,"mat-form-field",26)(6,"mat-select",27,1)(8,"mat-option"),o.nrm(9,"ngx-mat-select-search",28),o.nI1(10,"mytranslate"),o.nI1(11,"mytranslate"),o.k0s(),o.j41(12,"mat-option",29),o.EFF(13),o.nI1(14,"mytranslate"),o.k0s(),o.DNE(15,rt,2,3,"mat-option",30),o.k0s()(),o.DNE(16,st,3,5,"button",31),o.k0s(),o.DNE(17,lt,3,3,"div",32),o.k0s()(),o.DNE(18,dt,7,9,"div",33),o.k0s()()),2&h){const D=v.$implicit,g=o.sdS(7),C=o.XpG(2);o.R7$(),o.Y8G("formGroup",D),o.R7$(5),o.Y8G("formControl",D.controls.classroomId),o.R7$(3),o.FS9("placeholderLabel",o.bMT(10,11,"lang_search_by_name")),o.FS9("noEntriesFoundLabel",o.bMT(11,13,"lang_search_not_found")),o.Y8G("formControl",g.searchControl),o.R7$(3),o.Y8G("value",0),o.R7$(),o.SpI("---",o.bMT(14,15,"lang_student_classroom_list_utils_create_class_new_course_choose_class"),""),o.R7$(2),o.Y8G("ngForOf",g.filter(C.classroomOwner,"name")),o.R7$(),o.Y8G("ngIf",C.isSelectedMonth()),o.R7$(),o.Y8G("ngIf",D.controls.classroomId.errors),o.R7$(),o.Y8G("ngIf",!C.isSelectedMonth())}}function G(h,v){if(1&h){const D=o.RV6();o.j41(0,"azt-mat-dialog-content")(1,"div",8)(2,"div",9)(3,"div",10)(4,"h3",11),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s(),o.j41(7,"azt-form-enter-info-student",12),o.bIt("closeDialog",function(){o.eBV(D);const C=o.XpG();return o.Njj(C.dialogRef.close())}),o.k0s()(),o.j41(8,"div",13)(9,"div",14),o.nrm(10,"azt-checkbox-month",15),o.j41(11,"h3",16),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s(),o.DNE(14,it,3,3,"div",17)(15,d,19,17,"div",18),o.j41(16,"div",19)(17,"div",20),o.bIt("click",function(){o.eBV(D);const C=o.XpG();return o.Njj(C.addClassroom())}),o.EFF(18),o.nI1(19,"mytranslate"),o.k0s()()()()()()()}if(2&h){const D=o.XpG();o.R7$(5),o.SpI(" ",o.bMT(6,9,"lang_auto_thong_tin_chung")," "),o.R7$(2),o.Y8G("studentForm",D.studentForm)("hasUser",!!D.data&&D.data.hasUser),o.R7$(3),o.Y8G("checkboxMonth",D.checkboxMonth)("histories",D.histories),o.R7$(2),o.SpI(" ",o.bMT(13,11,"lang_auto_lop_hoc")," "),o.R7$(2),o.Y8G("ngIf",0==D.formClassrooms.controls.length),o.R7$(),o.Y8G("ngForOf",D.formClassrooms.controls),o.R7$(3),o.SpI("+ ",o.bMT(19,13,"lang_student_classroom_list_utils_create_class_add_class"),"")}}let y=(()=>{var h;class v extends $._{removeClassroom(g){let C=this.formClassrooms.controls.filter(L=>L!=g);this.formClassrooms=new i.Yp(C)}addClassroom(){let g=this.formClassrooms.controls;g.push(new i.gE({classroomId:new i.MJ(0,{nonNullable:!0,validators:[i.k0.min(1)]}),isTryLearning:new i.MJ(!1,{nonNullable:!0})})),this.formClassrooms=new i.Yp(g,{validators:[S.formGroupClassrooms]}),this.formClassrooms.updateValueAndValidity()}isSelectClassroom(g){return null!=this.formClassrooms.controls.find(C=>C.controls.classroomId.value==g)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(g=>1==g.selected)}saveData(){var g=this.studentForm.form.getRawValue(),C=[],L=[];this.checkboxMonth.checkboxMonth.filter(et=>1==et.selected).forEach(et=>{L.push({month:et.month,year:et.year})}),this.formClassrooms.controls.forEach(et=>{C.push({classroomId:et.controls.classroomId.value,trialLearning:!(L.length>0)&&et.controls.isTryLearning.value})}),this.isSaving=!0;var ot={id:this.data?this.data.id:void 0,fullName:g.fullName,gender:g.gender,phone:g.phoneNumber,email:g.email,userName:g.userName,birthday:g.birthday?this.timeService.formatDateTimeToPostToServer(new Date(g.birthday).toDateString()):void 0,password:g.password,classrooms:C,attachPayments:L,schoolName:g.school,facebookLink:g.facebookLink,identificationNumber:g.identificationNumber?Number(g.identificationNumber):void 0};this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentPost(ot)).subscribe(et=>{if(this.isSaving=!1,!et.success)return this.errorStatusObj(et.message,!0);this.dialogRef.close(!0),this.successStatusObj(this.data?"lang_core_cap_nhat_thanh_cong_hoc_sinh_nop_tien":"lang_core_them_thanh_cong_hoc_sinh_nop_tien",!0)}))}getClassroomName(g){var C=this.classroomOwner.filter(L=>g==L.id)??[];return C.length>0?C[0].name:""}getHistories(){if(!this.data)return this.stopStatusObj();this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.data.id)).subscribe(g=>{if(this.isSaving=!1,!g.success)return this.errorStatusObj(g.message,!0);this.histories=g.data?.histories??[],this.checkboxMonth.checkboxMonth.map(L=>L.selected=null!=this.histories.find(ot=>ot.month==L.month&&L.year==ot.year));var C=[];g.data?.classrooms.forEach(L=>{C.push(new i.gE({classroomId:new i.MJ(L.classroomId,{nonNullable:!0,validators:[i.k0.min(1)]}),isTryLearning:new i.MJ(L.trialLearning,{nonNullable:!0})}))}),this.formClassrooms=new i.Yp(C,{validators:[S.formGroupClassrooms]}),this.stopStatusObj()}))}getOwnerClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(g=>{if(!g.success)return this.errorStatusObj(g.message,!0),void this.stopStatusObj();this.classroomOwner=g.data?.objs??[],this.getHistories()}))}ngOnInit(){super.ngOnInit(),this.getOwnerClassroom()}constructor(g,C,L,ot,et,ct,a){super(a,ct),this.classroomGroupService=g,this.sAztDialogService=C,this.sAztTimeService=L,this.timeService=ot,this.paymentService=et,this.dialogRef=ct,this.data=a,this.histories=[],this.checkboxMonth=new nt.L,this.studentForm=new K.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,a&&(this.checkboxMonth.studentId=this.data.id,a.hasUser?this.studentForm.form=new i.gE({fullName:new i.MJ(a.fullName??"",{nonNullable:!0,validators:[i.k0.required]}),gender:new i.MJ(a.gender??0,{nonNullable:!0}),birthday:new i.MJ(a.birthday,{nonNullable:!0}),email:new i.MJ(a.email??"",{nonNullable:!0,validators:[i.k0.email,i.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new i.MJ(a.phone??"",{nonNullable:!0,validators:[i.k0.pattern(/^[0-9\-]*$/),i.k0.minLength(10),i.k0.maxLength(10)]}),parentPhoneNumber:new i.MJ(a.phone??"",{nonNullable:!0,validators:[i.k0.pattern(/^[0-9\-]*$/),i.k0.minLength(10),i.k0.maxLength(10)]}),identificationNumber:new i.MJ(a.identificationNumber?a.identificationNumber.toString():"",{nonNullable:!0,validators:[i.k0.min(1),i.k0.maxLength(this.myEnvironment.maxStudentCodeLength),i.k0.pattern("^[0-9]*$")]}),facebookLink:new i.MJ(a.facebookLink,{nonNullable:!0}),school:new i.MJ(a.schoolName,{nonNullable:!0}),userName:new i.MJ(a.parentUserName??"",{nonNullable:!0,validators:[O.i.validateUserName]})}):this.studentForm.form.setValue({fullName:a.fullName??"",gender:a.gender??0,birthday:a.birthday,email:a.email??"",phoneNumber:a.phone??"",parentPhoneNumber:a.parentPhone??"",identificationNumber:a.identificationNumber?a.identificationNumber.toString():"",facebookLink:a.facebookLink,school:a.schoolName,password:"",userName:a.parentUserName??""})),this.formClassrooms=new i.Yp([new i.gE({classroomId:new i.MJ(0,{nonNullable:!0,validators:[i.k0.min(1)]}),isTryLearning:new i.MJ(!1,{nonNullable:!0})})],{validators:[S.formGroupClassrooms]})}ngOnDestroy(){super.ngOnDestroy()}}return(h=v).\u0275fac=function(g){return new(g||h)(o.rXU(Z.kG),o.rXU(N.i),o.rXU(p.F),o.rXU(p.F),o.rXU(_.W),o.rXU(T.CP,8),o.rXU(T.Vh,8))},h.\u0275cmp=o.VBU({type:h,selectors:[["azt-send-feedback"]],standalone:!0,features:[o.Jv_([{provide:t.$O,useClass:J.fb,deps:[j.Ju,f.ij]},{provide:t.vq,useFactory:r.fJ,deps:[p.F]}]),o.Vt3,o.aNF],decls:11,vars:10,consts:[["doneLoading",""],["searchInListClassroomName","searchInList"],[1,"box"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"p-3","text-right","border-t","border-slate-200/60","dark:border-darkmode-400"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-2","btn","btn-secondary",3,"click","disabled"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",3,"click","disabled"],[3,"currentStatusObj"],[1,"container-fluid","mt-2","mb-2","overflow-hidden","document-market-list","w-full"],[1,"grid","grid-cols-12","px-2"],[1,"col-span-12","md:col-span-6","px-3","py-2"],[1,"text-md","font-medium","flex","items-center"],[3,"closeDialog","studentForm","hasUser"],[1,"col-span-12","md:col-span-6","px-3","py-2","md:border-l","md:border-slate-200/60","dark:border-darkmode-400"],[1,"w-full"],[3,"checkboxMonth","histories"],[1,"text-md","font-medium","flex","items-center","mt-2"],["class","mt-2 text-xs text-danger ml-1",4,"ngIf"],["class","form-single-class p-2 mt-1",4,"ngFor","ngForOf"],[1,"flex","justify-start"],["azt-track-service","add-or-edit-tuition-fee-mnjxAfd3U",1,"btn-add-class","clickable","mt-2",3,"click"],[1,"mt-2","text-xs","text-danger","ml-1"],[1,"form-single-class","p-2","mt-1"],[3,"formGroup"],[1,"flex"],[1,"flex","items-center"],["id","classroomId","appearance","fill",1,"mt-1",2,"width","100%","background","#fff"],["searchInList","","name","classroomId",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","btn-delete-room ml-2",3,"matTooltip","click",4,"ngIf"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-2 flex justify-between",4,"ngIf"],[3,"value","disabled"],[1,"btn-delete-room","ml-2",3,"click","matTooltip"],["name","trash-2","size","20",3,"ngClass"],[1,"text-xs","text-danger","mt-1"],[1,"mt-2","flex","justify-between"],["formControlName","isTryLearning",1,"example-margin",3,"checked"],[1,"btn-delete-room",3,"click","matTooltip"]],template:function(g,C){if(1&g){const L=o.RV6();o.j41(0,"div",2),o.DNE(1,at,1,1,"azt-loading-effect",3)(2,G,20,15,"ng-template",null,0,o.C5r),o.j41(4,"div",4)(5,"button",5),o.bIt("click",function(){return o.eBV(L),o.Njj(C.dialogRef.close())}),o.EFF(6),o.nI1(7,"mytranslate"),o.k0s(),o.j41(8,"button",6),o.bIt("click",function(){return o.eBV(L),o.Njj(C.saveData())}),o.EFF(9),o.nI1(10,"mytranslate"),o.k0s()()()}if(2&g){const L=o.sdS(3);o.R7$(),o.Y8G("ngIf",C.statusObj.loading)("ngIfElse",L),o.R7$(4),o.Y8G("disabled",C.isSaving),o.R7$(),o.JRh(o.bMT(7,6,"lang_cms_common_close_btn")),o.R7$(2),o.Y8G("disabled",!C.isSaving&&(C.formClassrooms.invalid||C.studentForm.form.invalid)||0==C.formClassrooms.controls.length),o.R7$(),o.SpI(" ",o.bMT(10,8,"lang_button_save")," ")}},dependencies:[B.An,B.U9,s.x,H.K,M.U,U.s,P.u,e.MD,e.YU,e.Sq,e.bT,i.X1,i.qT,i.BC,i.cb,i.l_,i.j4,i.JD,F.iI,i.YN,W.wp,R.s,j.wT,V.So,w.rl,b.VO,I.oV,k.flO,k.WGl,Y.L,m.Id,x.k,X.t],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),v})()},60902:(tt,z,n)=>{n.d(z,{L:()=>t});class t{constructor(){this.currentDate=new Date,this.studentId=-1,this.checkboxMonth=[{selected:!1,month:1,year:this.currentDate.getFullYear()-1},{selected:!1,month:2,year:this.currentDate.getFullYear()-1},{selected:!1,month:3,year:this.currentDate.getFullYear()-1},{selected:!1,month:4,year:this.currentDate.getFullYear()-1},{selected:!1,month:5,year:this.currentDate.getFullYear()-1},{selected:!1,month:6,year:this.currentDate.getFullYear()-1},{selected:!1,month:7,year:this.currentDate.getFullYear()-1},{selected:!1,month:8,year:this.currentDate.getFullYear()-1},{selected:!1,month:9,year:this.currentDate.getFullYear()-1},{selected:!1,month:10,year:this.currentDate.getFullYear()-1},{selected:!1,month:11,year:this.currentDate.getFullYear()-1},{selected:!1,month:12,year:this.currentDate.getFullYear()-1},{selected:!1,month:1,year:this.currentDate.getFullYear()},{selected:!1,month:2,year:this.currentDate.getFullYear()},{selected:!1,month:3,year:this.currentDate.getFullYear()},{selected:!1,month:4,year:this.currentDate.getFullYear()},{selected:!1,month:5,year:this.currentDate.getFullYear()},{selected:!1,month:6,year:this.currentDate.getFullYear()},{selected:!1,month:7,year:this.currentDate.getFullYear()},{selected:!1,month:8,year:this.currentDate.getFullYear()},{selected:!1,month:9,year:this.currentDate.getFullYear()},{selected:!1,month:10,year:this.currentDate.getFullYear()},{selected:!1,month:11,year:this.currentDate.getFullYear()},{selected:!1,month:12,year:this.currentDate.getFullYear()},{selected:!1,month:1,year:this.currentDate.getFullYear()+1},{selected:!1,month:2,year:this.currentDate.getFullYear()+1},{selected:!1,month:3,year:this.currentDate.getFullYear()+1},{selected:!1,month:4,year:this.currentDate.getFullYear()+1},{selected:!1,month:5,year:this.currentDate.getFullYear()+1},{selected:!1,month:6,year:this.currentDate.getFullYear()+1},{selected:!1,month:7,year:this.currentDate.getFullYear()+1},{selected:!1,month:8,year:this.currentDate.getFullYear()+1},{selected:!1,month:9,year:this.currentDate.getFullYear()+1},{selected:!1,month:10,year:this.currentDate.getFullYear()+1},{selected:!1,month:11,year:this.currentDate.getFullYear()+1},{selected:!1,month:12,year:this.currentDate.getFullYear()+1}]}}},14999:(tt,z,n)=>{n.d(z,{d:()=>S});var t=n(89163),e=n(33887),i=n(2915),f=n(52811),j=n(54460),T=n(10936),F=n(65162),k=n(47348),B=n(21656),R=n(15343),J=n(70050),r=n(5502),$=n(36894),s=n(48891),W=n(6440);function Y(O,P){if(1&O&&(s.qex(0),s.EFF(1),s.nI1(2,"mytranslate"),s.j41(3,"b",10),s.EFF(4),s.k0s(),s.bVm()),2&O){const M=s.XpG();s.R7$(),s.SpI(" \xa0",s.bMT(2,2,"lang_student_utils_delete_student_last"),":\xa0 "),s.R7$(3),s.JRh(null==M.classroomObj?null:M.classroomObj.name)}}function p(O,P){1&O&&s.nrm(0,"azt-loading-ui",11)}let S=(()=>{var O;class P extends e._{btnCloseDialog(U){this.dialogRef.close(U)}confirmDelete(){this.data.deleteOnParent?this.dialogRef.close(!0):(this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj?.id??0).subscribe(U=>{1==U.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(U.message,!0),this.btnCloseDialog(!1))})))}constructor(U,K,H){super(H,K),this.studentService=U,this.dialogRef=K,this.data=H,this.studentObj=H.studentObj,this.classroomObj=H.classroomObj}}return(O=P).\u0275fac=function(U){return new(U||O)(s.rXU(W.b0),s.rXU(t.CP,8),s.rXU(t.Vh,8))},O.\u0275cmp=s.VBU({type:O,selectors:[["app-delete-single-student"]],standalone:!0,features:[s.Vt3,s.aNF],decls:19,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-danger"],[1,"mr-1"]],template:function(U,K){1&U&&(s.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),s.EFF(5),s.nI1(6,"mytranslate"),s.j41(7,"b",4),s.EFF(8),s.k0s(),s.DNE(9,Y,5,4,"ng-container",5),s.EFF(10," ? "),s.k0s()()()(),s.j41(11,"div",6)(12,"button",7),s.bIt("click",function(){return K.btnCloseDialog(!1)}),s.EFF(13),s.nI1(14,"mytranslate"),s.k0s(),s.j41(15,"button",8),s.bIt("click",function(){return K.confirmDelete()}),s.DNE(16,p,1,0,"azt-loading-ui",9),s.EFF(17),s.nI1(18,"mytranslate"),s.k0s()()()),2&U&&(s.R7$(5),s.SpI(" ",s.bMT(6,6,"lang_student_utils_delete_student_first"),"\xa0 "),s.R7$(3),s.JRh(null==K.studentObj?null:K.studentObj.fullName),s.R7$(),s.Y8G("ngIf",null==K.classroomObj?null:K.classroomObj.name),s.R7$(4),s.SpI(" ",s.bMT(14,8,"lang_cms_common_close_btn")," "),s.R7$(3),s.Y8G("ngIf",K.statusObj.loading),s.R7$(),s.SpI(" ",s.bMT(18,10,"lang_cms_common_confirm_btn")," "))},dependencies:[i.U,f.R,j.MD,j.bT,T.X1,F.iI,T.YN,k.wp,B.s,R.flO,J.L,r.Id,$.k],encapsulation:2}),P})()},46723:(tt,z,n)=>{n.d(z,{B:()=>N});var t=n(81519),e=n(10936),i=n(47426),f=n(89163),j=n(95670),F=(n(78472),n(99503)),k=n(79347),B=n(33887),R=n(9691),J=n(44477),r=n(93493),$=n(74742),s=n(43234),W=n(2915),Y=n(43165),p=n(52811),S=n(54460),O=n(65162),P=n(47348),M=n(21656),U=n(15343),K=n(70050),H=n(5502),nt=n(36894),m=n(48891),x=n(6440);function o(_,V){if(1&_&&(m.j41(0,"div",10)(1,"span"),m.EFF(2),m.nI1(3,"mytranslate"),m.k0s()()),2&_){const w=m.XpG();m.R7$(2),m.SpI("",m.bMT(3,1,w.msgError),"!")}}function Z(_,V){1&_&&m.nrm(0,"azt-loading-ui",11)}let N=(()=>{var _;class V extends B._{confirmAction(){let b=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.studentForm.form.valid){let I={id:this.studentObj?.id??0,fullName:b.fullName,phone:b.phoneNumber,email:b.email,identificationNumber:b.identificationNumber?Number(b.identificationNumber):void 0,gender:Number(b.gender),birthday:b.birthday?this.timeService.formatOnlyDateToPostToServer(b.birthday):void 0,classroomId:this.classroomObj?.id??0,facebookLink:b.facebookLink,schoolName:b.school,userName:b.userName,parentPhone:b.parentPhoneNumber};this.waitDestroy(this.studentService.apiStudentUpdateObjPost(I).subscribe(X=>{1==X.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=X.message??"",this.stopStatusObj())}))}}btnCloseDialog(b){this.dialogRef.close(b)}ngOnInit(){super.ngOnInit()}constructor(b,I,X,Q){super(Q,X),this.studentService=b,this.timeService=I,this.dialogRef=X,this.data=Q,this.msgError="",this.maxDate=s.c.maxDateTimePicker,this.studentForm=new $.d,this.studentObj=Q.studentObj,this.classroomObj=Q.classroomObj,this.studentForm.form=new e.gE({fullName:new e.MJ(this.studentObj?.fullName??"",{nonNullable:!0,validators:[e.k0.required]}),userName:new e.MJ(this.studentObj?.parentUserName??"",{nonNullable:!0,validators:[r.i.validateUserName]}),gender:new e.MJ(this.studentObj?.gender,{nonNullable:!0}),birthday:new e.MJ(this.studentObj?.birthday,{nonNullable:!0}),email:new e.MJ(this.studentObj?.email??"",{nonNullable:!0,validators:[J.U.isInvalidEmail,e.k0.email,e.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new e.MJ(this.studentObj?.phone??"",{nonNullable:!0,validators:[e.k0.pattern(/^[0-9\-]*$/),e.k0.minLength(10),e.k0.maxLength(10)]}),parentPhoneNumber:new e.MJ(this.studentObj?.parentPhone??"",{nonNullable:!0,validators:[e.k0.pattern(/^[0-9\-]*$/),e.k0.minLength(10),e.k0.maxLength(10)]}),identificationNumber:new e.MJ(this.commonService.padLeadingZeros(this.studentObj?.identificationNumber??void 0,this.myEnvironment.maxStudentCodeLength),{nonNullable:!0,validators:[e.k0.min(1),e.k0.maxLength(this.myEnvironment.maxStudentCodeLength),e.k0.pattern("^[0-9]*$")]}),facebookLink:new e.MJ(this.studentObj?.moreInfo?.facebookLink,{nonNullable:!0}),school:new e.MJ(this.studentObj?.moreInfo?.schoolName,{nonNullable:!0})})}}return(_=V).\u0275fac=function(b){return new(b||_)(m.rXU(x.b0),m.rXU(R.F),m.rXU(f.CP,8),m.rXU(f.Vh,8))},_.\u0275cmp=m.VBU({type:_,selectors:[["app-edit-student"]],standalone:!0,features:[m.Jv_([{provide:t.$O,useClass:F.fb,deps:[i.Ju,F.ij]},{provide:t.vq,useFactory:k.fJ,deps:[R.F]},{provide:j.U$,useValue:{floatLabel:"never"}}]),m.Vt3,m.aNF],decls:17,vars:13,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"closeDialog","studentForm"],["class","text-xs font-medium text-danger mt-2 pl-3 mb-2 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit_student-jfiMakvRbsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","edit_student-Q_oCb2JwMVm",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","pl-3","mb-2","fade"],[1,"mr-1"]],template:function(b,I){1&b&&(m.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),m.EFF(5),m.nI1(6,"mytranslate"),m.k0s(),m.j41(7,"azt-form-enter-info-student",4),m.bIt("closeDialog",function(Q){return I.btnCloseDialog(Q)}),m.k0s()()(),m.DNE(8,o,4,3,"div",5),m.k0s(),m.j41(9,"div",6)(10,"button",7),m.bIt("click",function(){return I.btnCloseDialog(!1)}),m.EFF(11),m.nI1(12,"mytranslate"),m.k0s(),m.j41(13,"button",8),m.bIt("click",function(){return I.confirmAction()}),m.DNE(14,Z,1,0,"azt-loading-ui",9),m.EFF(15),m.nI1(16,"mytranslate"),m.k0s()()()),2&b&&(m.R7$(5),m.SpI(" ",m.bMT(6,7,"lang_student_utils_edit_student")," "),m.R7$(2),m.Y8G("studentForm",I.studentForm),m.R7$(),m.Y8G("ngIf",""!==I.msgError),m.R7$(3),m.SpI(" ",m.bMT(12,9,"lang_cms_common_close_btn")," "),m.R7$(2),m.Y8G("disabled",I.statusObj.loading||I.studentForm.form.invalid),m.R7$(),m.Y8G("ngIf",I.statusObj.loading),m.R7$(),m.SpI(" ",m.bMT(16,11,"lang_button_update")," "))},dependencies:[W.U,Y.s,p.R,S.MD,S.bT,e.X1,O.iI,e.YN,P.wp,M.s,U.flO,K.L,H.Id,nt.k],encapsulation:2}),V})()},26988:(tt,z,n)=>{n.d(z,{h:()=>e});var t=n(48891);let e=(()=>{var i;class f{constructor(){this.itemPerPage=20,this.curPage=1,this.hasNextPage=!1,this.isLoadingNextPage=!1,this.totalRecord=0}setTotalItemPerPage(T){this.itemPerPage=T}setLoading(T){this.isLoadingNextPage=T}setNextPage(){this.curPage+=1}resetToFirstPage(){this.curPage=1}setTotalRecord(T){return this.totalRecord=T,this.hasNextPage=this.curPage*this.itemPerPage<this.totalRecord,this.hasNextPage}}return(i=f).\u0275fac=function(T){return new(T||i)},i.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:null}),f})()},93493:(tt,z,n)=>{n.d(z,{i:()=>t});class t{static validateUserName(i){let F=i.value??"";return 0==F.length?null:/[a-zA-Z]/.test(F)&&/^[a-zA-Z0-9_-]+$/.test(F)?F.length<3&&F.length>0?{isShort:!0}:F.length>50?{isLong:!0}:null:{isLetter:!0}}}},45344:(tt,z,n)=>{n.d(z,{u:()=>N});var t=n(81519),e=n(48891),i=n(34514),f=n(47426),j=n(60902),T=n(99503),F=n(79347),k=n(9691),B=n(59640),R=n(74742),J=n(52811),r=n(54460),$=n(10936),s=n(65162),W=n(47348),Y=n(21656),p=n(15343),S=n(70050),O=n(5502),P=n(36894),M=n(46899),U=n(17187),K=n(12992),H=n(95670),nt=n(4375);function m(_,V){1&_&&(e.j41(0,"div",7),e.nrm(1,"azt-loading-ui"),e.k0s())}function x(_,V){if(1&_){const w=e.RV6();e.j41(0,"div",11)(1,"mat-checkbox",12),e.mxI("ngModelChange",function(I){e.eBV(w);const X=e.XpG().$implicit;return e.DH7(X.selected,I)||(X.selected=I),e.Njj(I)}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}if(2&_){const w=e.XpG().$implicit;e.R7$(),e.R50("ngModel",w.selected),e.Y8G("checked",w.selected),e.R7$(),e.SpI(" ",e.bMT(3,3,"lang_core_thang")+" "+w.month+"/"+w.year," ")}}function o(_,V){if(1&_&&(e.qex(0),e.DNE(1,x,4,5,"div",10),e.bVm()),2&_){const w=V.$implicit,b=e.XpG(2);e.R7$(),e.Y8G("ngIf",w.year==b.currentYearSelect)}}function Z(_,V){if(1&_&&(e.j41(0,"div",8),e.DNE(1,o,2,1,"ng-container",9),e.k0s()),2&_){const w=e.XpG();e.R7$(),e.Y8G("ngForOf",w.checkboxMonth.checkboxMonth)}}let N=(()=>{var _;class V extends B.H{isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(b=>1==b.selected)}getHistoriesMonth(){this.histories||(this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.checkboxMonth.studentId)).subscribe(b=>{if(!b.success)return this.isSaving=!1,void this.errorStatusObj(b.message,!0);this.checkboxMonth.checkboxMonth.map(I=>I.selected=null!=b.data?.histories.find(X=>X.month==I.month&&I.year==X.year)),this.stopStatusObj()})))}ngOnInit(){super.ngOnInit(),this.getHistoriesMonth()}constructor(b,I,X){super(),this.sAztDialogService=b,this.sAztTimeService=I,this.paymentService=X,this.checkboxMonth=new j.L,this.sendListMonth=new e.bkB,this.studentForm=new R.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,this.currentYearSelect=this.currentDate.getFullYear()}ngOnDestroy(){super.ngOnDestroy()}}return(_=V).\u0275fac=function(b){return new(b||_)(e.rXU(M.i),e.rXU(k.F),e.rXU(U.W))},_.\u0275cmp=e.VBU({type:_,selectors:[["azt-checkbox-month"]],inputs:{checkboxMonth:"checkboxMonth",histories:"histories"},outputs:{sendListMonth:"sendListMonth"},standalone:!0,features:[e.Jv_([{provide:t.$O,useClass:T.fb,deps:[f.Ju,i.ij]},{provide:t.vq,useFactory:F.fJ,deps:[k.F]}]),e.Vt3,e.aNF],decls:19,vars:18,consts:[[1,"w-full"],[1,"text-md","font-medium","flex","items-center",2,"justify-content","space-between"],["appearance","outline",1,"mb-2",2,"width","50%"],[3,"valueChange","value"],[3,"value"],["class","p-5 flex justify-center",4,"ngIf"],["class","mt-1 grid grid-cols-12 gap-3","style","flex-wrap: wrap",4,"ngIf"],[1,"p-5","flex","justify-center"],[1,"mt-1","grid","grid-cols-12","gap-3",2,"flex-wrap","wrap"],[4,"ngFor","ngForOf"],["class","mt-1 col-span-6 md:col-span-4","style","min-width: 96px",4,"ngIf"],[1,"mt-1","col-span-6","md:col-span-4",2,"min-width","96px"],[1,"example-margin",3,"ngModelChange","ngModel","checked"]],template:function(b,I){1&b&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.nI1(5,"mytranslate"),e.j41(6,"mat-form-field",2)(7,"mat-select",3),e.mxI("valueChange",function(Q){return e.DH7(I.currentYearSelect,Q)||(I.currentYearSelect=Q),Q}),e.j41(8,"mat-option",4)(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"mat-option",4)(12,"span"),e.EFF(13),e.k0s()(),e.j41(14,"mat-option",4)(15,"span"),e.EFF(16),e.k0s()()()()(),e.DNE(17,m,2,0,"div",5)(18,Z,2,1,"div",6),e.k0s()),2&b&&(e.R7$(2),e.E5c(" ",e.bMT(3,12,"lang_test_market_withdraw_time")," ",e.bMT(4,14,"lang_core_nop_hoc_phi").toLocaleLowerCase()," ",e.bMT(5,16,"lang_core_nam").toLocaleLowerCase()," "),e.R7$(5),e.R50("value",I.currentYearSelect),e.R7$(),e.Y8G("value",I.currentDate.getFullYear()-1),e.R7$(2),e.SpI(" ",I.currentDate.getFullYear()-1," "),e.R7$(),e.Y8G("value",I.currentDate.getFullYear()),e.R7$(2),e.SpI(" ",I.currentDate.getFullYear()," "),e.R7$(),e.Y8G("value",I.currentDate.getFullYear()+1),e.R7$(2),e.SpI(" ",I.currentDate.getFullYear()+1," "),e.R7$(),e.Y8G("ngIf",I.statusObj.loading),e.R7$(),e.Y8G("ngIf",!I.statusObj.loading))},dependencies:[J.R,r.MD,r.Sq,r.bT,$.X1,$.BC,s.iI,$.YN,$.vS,W.wp,Y.s,f.wT,K.So,H.rl,nt.VO,p.flO,S.L,O.Id,P.k],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),V})()},11002:(tt,z,n)=>{n.d(z,{$:()=>r});var t=n(59640),e=n(54460),i=n(10936),f=n(65162),j=n(21656),T=n(15343),F=n(70050),k=n(5502),B=n(36894),R=n(48891);const J=["*"];let r=(()=>{var $;class s extends t.H{constructor(){super(...arguments),this.colorBackground="",this.defaultHeight="45px",this.fixToTopWidth=0,this.fixToTopTop=0}onWindowScroll(){let Y=document.querySelector(".azt-content"),p=document.getElementById("flexed-on-top"),S=document.getElementById("position-dev")?.getBoundingClientRect();if(!Y||!p||!S)return;let O=window.pageYOffset,P=S.top,M=P<-50;if(this.fixToTopWidth=S.width,this.fixToTopTop=S.top,M){p.style.position="fixed",p.style.zIndex="9999",p.style.height=this.defaultHeight,p.style.right=this.isMobileWebView?"0":"12px",p.style.background=this.colorBackground,p.style.justifyContent="end";let U=Y.getBoundingClientRect().width;this.isMobileDevice?(p.style.top="62px",p.style.padding="6px 15px",p.style.width=(U+32).toString()+"px"):(p.style.top="0",p.style.padding="6px 22px",p.style.width=(U+44).toString()+"px")}else(0==O||0==P)&&(p.style.position="",p.style.top="",p.style.right="",p.style.zIndex="",p.style.height="",p.style.padding="",p.style.background="",p.style.width="",p.style.justifyContent="")}}return($=s).\u0275fac=(()=>{let W;return function(p){return(W||(W=R.xGo($)))(p||$)}})(),$.\u0275cmp=R.VBU({type:$,selectors:[["flexed-on-the-top"]],hostBindings:function(Y,p){1&Y&&R.bIt("scroll",function(O){return p.onWindowScroll(O)},!1,R.tSv)},inputs:{colorBackground:"colorBackground",defaultHeight:"defaultHeight"},standalone:!0,features:[R.Vt3,R.aNF],ngContentSelectors:J,decls:3,vars:0,consts:[["id","position-dev"],["id","flexed-on-top",1,"flex","flexed-on-top"]],template:function(Y,p){1&Y&&(R.NAR(),R.nrm(0,"div",0),R.j41(1,"div",1),R.SdG(2),R.k0s())},dependencies:[e.MD,i.X1,f.iI,i.YN,j.s,T.flO,F.L,k.Id,B.k],encapsulation:2}),s})()},75421:(tt,z,n)=>{n.d(z,{u:()=>Y});var t=n(10936),e=n(89163),i=n(33887),f=n(54460),j=n(65162),T=n(47348),F=n(21656),k=n(15343),B=n(70050),R=n(5502),J=n(36894),r=n(48891);const $=()=>({"mr-2 text-danger":!0});function s(p,S){if(1&p&&r.nrm(0,"lucide-icon",10),2&p){const O=r.XpG();r.Y8G("name",O.data.iconName)("ngClass",r.lJ4(2,$))}}function W(p,S){if(1&p&&(r.j41(0,"div",11)(1,"div",3)(2,"span"),r.EFF(3),r.nI1(4,"mytranslate"),r.k0s(),r.j41(5,"b"),r.EFF(6),r.k0s(),r.j41(7,"span"),r.EFF(8),r.nI1(9,"mytranslate"),r.k0s()(),r.j41(10,"div",12),r.nrm(11,"input",13),r.k0s()()),2&p){const O=r.XpG();r.R7$(3),r.JRh(r.bMT(4,4,"lang_azt_enter")+" "),r.R7$(3),r.JRh('"'+O.data.textConfirm+'" '),r.R7$(2),r.JRh(r.bMT(9,6,"lang_azt_for_delete_data")),r.R7$(3),r.Y8G("formControl",O.confirmValue)}}let Y=(()=>{var p;class S extends i._{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(P,M){super(M,P),this.dialogRef=P,this.data=M,this.confirmValue=new t.MJ("",{nonNullable:!0})}}return(p=S).\u0275fac=function(P){return new(P||p)(r.rXU(e.CP,8),r.rXU(e.Vh,8))},p.\u0275cmp=r.VBU({type:p,selectors:[["azt-dialog-danger"]],standalone:!0,features:[r.Vt3,r.aNF],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md"],["size","24",3,"name","ngClass",4,"ngIf"],[1,"text-md",3,"innerHtml"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click","disabled"],["size","24",3,"name","ngClass"],[1,"mt-3"],[1,"mt-2"],["type","text",1,"form-control",3,"formControl"]],template:function(P,M){1&P&&(r.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),r.DNE(4,s,1,3,"lucide-icon",4),r.nrm(5,"span",5),r.k0s(),r.DNE(6,W,12,8,"div",6),r.k0s()(),r.j41(7,"div",7)(8,"button",8),r.bIt("click",function(){return M.btnCloseDialog()}),r.EFF(9),r.nI1(10,"mytranslate"),r.k0s(),r.j41(11,"button",9),r.bIt("click",function(){return M.confirmDialog()}),r.EFF(12),r.nI1(13,"mytranslate"),r.k0s()()()),2&P&&(r.R7$(4),r.Y8G("ngIf",M.data.iconName),r.R7$(),r.Y8G("innerHtml",M.data.content,r.npT),r.R7$(),r.Y8G("ngIf",M.data.textConfirm),r.R7$(3),r.SpI(" ",r.bMT(10,6,"lang_auto_huy")," "),r.R7$(2),r.Y8G("disabled",M.data.textConfirm&&M.data.textConfirm!==M.confirmValue.value),r.R7$(),r.SpI(" ",r.bMT(13,8,"lang_auto_xac_nhan")," "))},dependencies:[f.MD,f.YU,f.bT,t.X1,t.me,t.BC,t.l_,j.iI,t.YN,T.wp,F.s,k.flO,k.WGl,B.L,R.Id,J.k],encapsulation:2}),S})()},93518:(tt,z,n)=>{n.d(z,{k:()=>t});var t=function(e){return e.video="video",e.document="document",e.homework="homework",e.homework_view="homework_view",e.unknown="unknown",e}(t||{})},43165:(tt,z,n)=>{n.d(z,{s:()=>dt});var t=n(54460),e=n(48891),i=n(10936),f=n(65162),j=n(26651),T=n(15343),F=n(5502),k=n(21656),B=n(36894),R=n(7919),J=n(47348),r=n(70050),$=n(59640),s=n(81300),W=n(43234),Y=n(42804),p=n(97924),S=n(39471),O=n(97839),P=n(95670),M=n(81519),U=n(81587);function K(d,G){1&d&&(e.j41(0,"div",22),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function H(d,G){1&d&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function nt(d,G){1&d&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function m(d,G){if(1&d&&(e.j41(0,"div",25),e.DNE(1,H,3,3,"span",26)(2,nt,3,3,"span",26),e.k0s()),2&d){const y=e.XpG(2);e.R7$(),e.Y8G("ngIf",y.studentForm.form.controls.identificationNumber.errors.min),e.R7$(),e.Y8G("ngIf",y.studentForm.form.controls.identificationNumber.errors.maxlength||y.studentForm.form.controls.identificationNumber.errors.pattern)}}function x(d,G){if(1&d&&(e.j41(0,"div",2),e.nrm(1,"input",23),e.nI1(2,"mytranslate"),e.DNE(3,m,3,2,"div",24),e.k0s()),2&d){const y=e.XpG();e.R7$(),e.FS9("placeholder",e.bMT(2,2,"lang_auto_so_bao_danh")),e.R7$(2),e.Y8G("ngIf",y.studentForm.form.controls.identificationNumber.errors&&(y.studentForm.form.controls.identificationNumber.dirty||y.studentForm.form.controls.identificationNumber.touched))}}function o(d,G){1&d&&(e.j41(0,"div",22),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function Z(d,G){1&d&&(e.j41(0,"div",22),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function N(d,G){1&d&&(e.j41(0,"div",22),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function _(d,G){if(1&d&&(e.j41(0,"div",2),e.nrm(1,"input",27),e.nI1(2,"mytranslate"),e.DNE(3,N,3,3,"div",4),e.k0s()),2&d){const y=e.XpG();e.R7$(),e.FS9("placeholder",e.bMT(2,2,"lang_parent_number_phone")),e.R7$(2),e.Y8G("ngIf",y.studentForm.form.controls.parentPhoneNumber.errors)}}function V(d,G){1&d&&(e.j41(0,"div",22),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_core_invalid_email")," "))}function w(d,G){1&d&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_core_ten_dang_nhap_phai_nhieu_hon_3_ky_tu")," "))}function b(d,G){1&d&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_core_ten_dang_nhap_phai_it_hon_100_ky_tu")," "))}function I(d,G){1&d&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_core_ten_dang_nhap_chi_chua_cac_ky_tu_hop_le_va_it_nhat_1_chu_cai")," "))}function X(d,G){if(1&d&&(e.j41(0,"div",22),e.DNE(1,w,3,3,"span",26)(2,b,3,3,"span",26)(3,I,3,3,"span",26),e.k0s()),2&d){const y=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==y.studentForm.form.controls.userName||null==y.studentForm.form.controls.userName.errors?null:y.studentForm.form.controls.userName.errors.isShort),e.R7$(),e.Y8G("ngIf",null==y.studentForm.form.controls.userName||null==y.studentForm.form.controls.userName.errors?null:y.studentForm.form.controls.userName.errors.isLong),e.R7$(),e.Y8G("ngIf",null==y.studentForm.form.controls.userName||null==y.studentForm.form.controls.userName.errors?null:y.studentForm.form.controls.userName.errors.isLetter)}}function Q(d,G){if(1&d){const y=e.RV6();e.j41(0,"div",2)(1,"azt-check-vip-account",28),e.bIt("closeDialog",function(v){e.eBV(y);const D=e.XpG();return e.Njj(D.handleCloseCheckVip(v))}),e.nrm(2,"input",29),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,X,4,3,"div",4),e.k0s()}if(2&d){const y=e.XpG();e.R7$(),e.Y8G("vipPackageType","VIP_FOR_TEACHER")("isShowBadgeVip",!y.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_ENTER_USERNAME"),e.R7$(),e.FS9("placeholder",e.bMT(3,6,"lang_auto_nhap_ten_dang_ky")),e.R7$(2),e.Y8G("ngIf",null==y.studentForm.form.controls.userName?null:y.studentForm.form.controls.userName.errors)}}function at(d,G){1&d&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI("*",e.bMT(2,1,"lang_azt_note_not_enter_password_one"),""))}function it(d,G){1&d&&(e.j41(0,"div",22),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function rt(d,G){if(1&d){const y=e.RV6();e.j41(0,"div",2)(1,"div",30),e.nrm(2,"input",31),e.nI1(3,"mytranslate"),e.j41(4,"button",32),e.bIt("click",function(){e.eBV(y);const v=e.XpG();return e.Njj(v.togglePassword())}),e.nrm(5,"lucide-icon",33),e.k0s()(),e.DNE(6,at,3,3,"div",34)(7,it,3,3,"div",4),e.k0s()}if(2&d){const y=e.XpG();e.R7$(2),e.FS9("placeholder",e.bMT(3,5,"lang_auto_mat_khau")),e.Y8G("type",y.showPassword?"text":"password"),e.R7$(3),e.FS9("name",y.showPassword?"eye":"eye-off"),e.R7$(),e.Y8G("ngIf",!y.isAddParent),e.R7$(),e.Y8G("ngIf",y.studentForm.form.controls.password.errors)}}function st(d,G){1&d&&(e.j41(0,"div",2),e.nrm(1,"input",36),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.FS9("placeholder",e.bMT(2,1,"lang_wsuper_admin_add_school_enter_school")))}function lt(d,G){1&d&&(e.j41(0,"div",2),e.nrm(1,"input",37),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.FS9("placeholder",e.bMT(2,1,"lang_core_nhap_link_facebook")))}let dt=(()=>{var d;class G extends $.H{togglePassword(){this.showPassword=!this.showPassword}handleCloseCheckVip(h){this.studentForm.form.controls.userName?.reset(),this.studentForm.form.controls.userName?.disable(),this.studentForm.form.controls.userName?.enable(),h&&this.closeDialog.emit(h)}ngOnInit(){super.ngOnInit(),this.isFamilyMartDomain=this.commonService.isFamilyMart(),this.studentForm.removeValidatePhoneWhenNotBusiness(this.isBusinessDomain),this.initStatusObj(),this.checkVipAccountService.getVipInfo(j.W5.VIPFORTEACHER,!0,void 0).subscribe(h=>{if(!h.success)return this.errorStatusObj(h.message);this.isVipAccount=h.data?.vipSubscriptionObj?.isVipTeacher??!1,this.successStatusObj()})}constructor(h){super(),this.checkVipAccountService=h,this.hasUser=!1,this.modeView=Y.u.Default,this.isAddParent=!1,this.closeDialog=new e.bkB,this.showPassword=!1,this.maxDate=W.c.maxDateTimePicker,this.startAtTime=new Date("01/01/2006"),this.isVipAccount=!1,this.isFamilyMartDomain=!1}}return(d=G).\u0275fac=function(h){return new(h||d)(e.rXU(p.K))},d.\u0275cmp=e.VBU({type:d,selectors:[["azt-form-enter-info-student"]],inputs:{studentForm:"studentForm",hasUser:"hasUser",modeView:"modeView",isAddParent:"isAddParent"},outputs:{closeDialog:"closeDialog"},standalone:!0,features:[e.Vt3,e.aNF],decls:47,vars:39,consts:[["birthDay",""],[3,"formGroup"],[1,"mt-3"],["id","fullname","formControlName","fullName","autocomplete","new-name","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"flex","justify-between","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],["for","gender",1,"text-sm"],[1,"flex","justify-end"],[1,"form-check","w-20","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio",1,"form-check-input",3,"value"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender",1,"form-check-input",3,"value"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"azt-time-picker"],["azt-track-service","add_student-OL_xz2BQlY","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","add_student-6m5M85CG5t","matSuffix","",3,"click"],["name","calendar-days","size","16"],[3,"touchUi","hideTime","startAt"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["id","numberphone","formControlName","phoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],["id","email","formControlName","email","type","text","autocomplete","new-email",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[4,"ngIf"],["id","parentPhoneNumber","formControlName","parentPhoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],[3,"closeDialog","vipPackageType","isShowBadgeVip","isAction","trackingKey"],["id","username","formControlName","userName","autocomplete","new-phone","type","text",1,"form-control",2,"margin-right","-65px","padding-right","70px",3,"placeholder"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-form-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","50%","right","5px","border","none","background","transparent","z-index","99","transform","translate(0, -50%)",3,"click"],["size","16",3,"name"],["class","text-xs mt-1 text-warning",4,"ngIf"],[1,"text-xs","mt-1","text-warning"],["id","school","formControlName","school","type","text",1,"form-control",3,"placeholder"],["id","facebookLink","formControlName","facebookLink","autocomplete","new-facebook-link","type","text",1,"form-control",3,"placeholder"]],template:function(h,v){if(1&h){const D=e.RV6();e.j41(0,"form",1)(1,"div",2),e.nrm(2,"input",3),e.nI1(3,"mytranslate"),e.DNE(4,K,3,3,"div",4),e.k0s(),e.DNE(5,x,4,4,"div",5),e.j41(6,"div",2)(7,"div",6)(8,"label",7),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"div",8)(12,"div",9),e.nrm(13,"input",10),e.j41(14,"label",11),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"div",9),e.nrm(18,"input",12),e.j41(19,"label",13),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()()()(),e.j41(22,"div",2)(23,"mat-form-field",14)(24,"input",15),e.nI1(25,"mytranslate"),e.bIt("click",function(){e.eBV(D);const C=e.sdS(29);return e.Njj(C.open())}),e.k0s(),e.j41(26,"button",16),e.bIt("click",function(C){return e.eBV(D),e.sdS(29).open(),e.Njj(C.stopPropagation())}),e.nrm(27,"lucide-icon",17),e.k0s(),e.j41(28,"ngx-mat-datetime-picker",18,0)(30,"ngx-mat-datepicker-actions")(31,"button",19),e.EFF(32,"OK"),e.k0s()()()(),e.DNE(33,o,3,3,"div",4),e.k0s(),e.j41(34,"div",2),e.nrm(35,"input",20),e.nI1(36,"mytranslate"),e.DNE(37,Z,3,3,"div",4),e.k0s(),e.DNE(38,_,4,4,"div",5),e.j41(39,"div",2),e.nrm(40,"input",21),e.nI1(41,"mytranslate"),e.DNE(42,V,3,3,"div",4),e.k0s(),e.DNE(43,Q,5,8,"div",5)(44,rt,8,7,"div",5)(45,st,3,3,"div",5)(46,lt,3,3,"div",5),e.k0s()}if(2&h){let D;const g=e.sdS(29);e.Y8G("formGroup",v.studentForm.form),e.R7$(2),e.FS9("placeholder",e.bMT(3,25,"lang_auto_nhap_ho_va_ten")),e.R7$(2),e.Y8G("ngIf",v.studentForm.form.controls.fullName.errors),e.R7$(),e.Y8G("ngIf",v.studentForm.form.controls.identificationNumber&&!v.isAddParent),e.R7$(4),e.SpI(" ",e.bMT(10,27,"lang_auto_gioi_tinh")," "),e.R7$(4),e.Y8G("value",1),e.R7$(2),e.SpI(" ",e.bMT(16,29,"lang_auto_nam")," "),e.R7$(3),e.Y8G("value",0),e.R7$(2),e.SpI(" ",e.bMT(21,31,"lang_auto_nu")," "),e.R7$(4),e.FS9("placeholder",e.bMT(25,33,"lang_auto_ngay_sinh")),e.Y8G("max",v.maxDate)("ngxMatDatetimePicker",g),e.R7$(4),e.Y8G("touchUi",!0)("hideTime",!0)("startAt",null!==(D=null==v.studentForm.form.controls.birthday?null:v.studentForm.form.controls.birthday.value)&&void 0!==D?D:v.startAtTime),e.R7$(5),e.Y8G("ngIf",null==v.studentForm.form.controls.birthday?null:v.studentForm.form.controls.birthday.errors),e.R7$(2),e.FS9("placeholder",e.bMT(36,35,"lang_number_phone")),e.R7$(2),e.Y8G("ngIf",v.studentForm.form.controls.phoneNumber.errors),e.R7$(),e.Y8G("ngIf",!v.isTqbDomain&&!v.isFamilyMartDomain),e.R7$(2),e.FS9("placeholder",e.bMT(41,37,"lang_auto_nhap_email")),e.R7$(2),e.Y8G("ngIf",v.studentForm.form.controls.email.errors),e.R7$(),e.Y8G("ngIf",!v.isAddParent&&(v.isVipAccount||v.isBusinessDomain&&!v.isTqbDomain)),e.R7$(),e.Y8G("ngIf",v.studentForm.form.controls.password&&!v.hasUser&&(v.isVipAccount||v.isBusinessDomain)),e.R7$(),e.Y8G("ngIf",v.isBusinessDomain&&!v.isAddParent),e.R7$(),e.Y8G("ngIf",v.isBusinessDomain&&!v.isAddParent)}},dependencies:[s.F,t.MD,t.bT,i.X1,i.qT,i.me,i.Fm,i.BC,i.cb,i.j4,i.JD,f.iI,i.YN,J.wp,k.s,S.$z,O.fg,P.rl,P.yw,M.m7,M.yF,M.HF,M.Uq,T.flO,T.WGl,r.L,F.Id,R.Z,B.k,U.t],encapsulation:2}),G})()},42804:(tt,z,n)=>{n.d(z,{u:()=>t});var t=function(e){return e.Default="DEFAULT",e.ADD_STUDENT="ADD_STUDENT",e}(t||{})},74742:(tt,z,n)=>{n.d(z,{d:()=>j});var t=n(10936);class e{static isInvalidPassword(F){let B=F.value?.trim()??"";return B&&B.length<6?{isInvalidPassword:!0}:null}}var i=n(93493),f=n(43234);class j{constructor(){this.form=new t.gE({fullName:new t.MJ("",{nonNullable:!0,validators:[t.k0.required]}),gender:new t.MJ(0,{nonNullable:!0}),birthday:new t.MJ(void 0,{nonNullable:!0}),email:new t.MJ("",{nonNullable:!0,validators:[t.k0.email,t.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new t.MJ("",{nonNullable:!0,validators:[t.k0.pattern(/^[0-9\-]*$/),t.k0.minLength(10),t.k0.maxLength(10)]}),parentPhoneNumber:new t.MJ("",{nonNullable:!0,validators:[t.k0.pattern(/^[0-9\-]*$/),t.k0.minLength(10),t.k0.maxLength(10)]}),identificationNumber:new t.MJ("",{nonNullable:!0,validators:[t.k0.min(1),t.k0.maxLength(f.c.maxStudentCodeLength),t.k0.pattern("^[0-9]*$")]}),password:new t.MJ("",{nonNullable:!0,validators:[e.isInvalidPassword]}),facebookLink:new t.MJ("",{nonNullable:!0}),school:new t.MJ("",{nonNullable:!0}),userName:new t.MJ("",{nonNullable:!0,validators:[i.i.validateUserName]})})}removeValidatePhoneWhenNotBusiness(F){F||this.form.controls.phoneNumber.removeValidators(t.k0.required)}}},81300:(tt,z,n)=>{n.d(z,{F:()=>m});var t=n(48891),e=n(26651),i=n(59640),f=n(89163),j=n(33887),T=n(54460),F=n(10936),k=n(65162),B=n(47348),R=n(21656),J=n(15343),r=n(70050),$=n(5502),s=n(36894),W=n(56562);const Y=()=>({"mr-2":!0});function p(x,o){if(1&x&&(t.j41(0,"div",10),t.nrm(1,"p",11),t.nI1(2,"mytranslate"),t.k0s()),2&x){const Z=t.XpG();t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,Z.data.counterExport),t.npT)}}function S(x,o){if(1&x&&(t.j41(0,"div",10),t.nrm(1,"p",12),t.nI1(2,"mytranslate"),t.k0s()),2&x){const Z=t.XpG();t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,Z.data.description),t.npT)}}let O=(()=>{var x;class o extends j._{handlerCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.sAztAzotaTrackingService.sendCustomEvent("VIP_CONFIRM_TO_BUY_VIP",[]),this.dialogRef.close(!0),this.commonService.myNavigationWithQueryString("/auth/vip-packages/teacherVip",`?backto=${encodeURIComponent(this.data.returnUrl)}&trackingKey=${this.data.trackingKey}`)}constructor(N,_,V){super(V,_),this.sAztAzotaTrackingService=N,this.dialogRef=_,this.data=V,this.sAztAzotaTrackingService.sendCustomEvent("VIP_SHOW_VIP_DIALOG",[])}}return(x=o).\u0275fac=function(N){return new(N||x)(t.rXU(W.M),t.rXU(f.CP,8),t.rXU(f.Vh,8))},x.\u0275cmp=t.VBU({type:x,selectors:[["azt-dialog-redirect-vip-package"]],standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:13,consts:[[1,"box","w-72","sm:w-80"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","mb-2"],[1,"badge-vip","inline-flex","items-center","mr-2",2,"height","25px"],["name","gem","size","12",3,"ngClass"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-redirect-vip-package-Hsr7Y1PGT",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","azt-dialog-redirect-vip-package-D5AZ23WEpg",1,"btn","btn-primary",3,"click"],[1,"mt-3"],[1,"text-lg","font-medium",3,"innerHTML"],[1,"text-md",3,"innerHTML"]],template:function(N,_){1&N&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3)(4,"div",4),t.nrm(5,"lucide-icon",5),t.EFF(6," VIP "),t.k0s(),t.j41(7,"span"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.DNE(10,p,3,3,"div",6)(11,S,3,3,"div",6),t.k0s()(),t.j41(12,"div",7)(13,"button",8),t.bIt("click",function(){return _.handlerCloseDialog()}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"button",9),t.bIt("click",function(){return _.confirmDialog()}),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()()),2&N&&(t.R7$(5),t.Y8G("ngClass",t.lJ4(12,Y)),t.R7$(3),t.JRh(t.bMT(9,6,_.data.title)),t.R7$(2),t.Y8G("ngIf",_.data.counterExport),t.R7$(),t.Y8G("ngIf",_.data.description),t.R7$(3),t.SpI(" ",t.bMT(15,8,_.data.titleBtnDestroy)," "),t.R7$(3),t.SpI(" ",t.bMT(18,10,"lang_azt_upgrade_now")," "))},dependencies:[T.MD,T.YU,T.bT,F.X1,k.iI,F.YN,B.wp,R.s,J.flO,J.WGl,r.L,$.Id,s.k],encapsulation:2}),o})();var P=n(36484),M=n(46899);const U=["*"],K=x=>({opacity:x}),H=()=>({"mr-2":!0});function nt(x,o){1&x&&(t.j41(0,"div")(1,"div",2),t.nrm(2,"lucide-icon",3),t.EFF(3," VIP "),t.k0s()()),2&x&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(1,H)))}let m=(()=>{var x;class o extends i.H{handlerAction(){if(this.isBusinessDomain)return this.checkAction.emit(!0);if(!this.isAction)return this.checkAction.emit(!0);if(this.vipAccountObj)return this.checkAction.emit(!0);const N={returnUrl:this.commonService.getCurrentUrlWithoutLocale(),title:"lang_azt_upgrade_to_vip_account",titleBtnDestroy:"lang_auto_huy",trackingKey:this.trackingKey};this.sAztDialogService.open(O,{data:N}).afterClosed().subscribe(V=>{this.closeDialog.emit(V)})}getData(){this.initStatusObj(),this.checkVipAccountService.getVipInfo("VIP_FOR_TEACHER"==this.vipPackageType?e.W5.VIPFORTEACHER:e.W5.VIPFORSTUDENT,!0,void 0).subscribe(N=>{if(!N.success)return this.errorStatusObj(N.message);this.vipAccountObj=N.data?.vipSubscriptionObj,this.successStatusObj()})}ngOnInit(){super.ngOnInit(),this.sAztUserService.isLogin()&&this.getData()}constructor(N,_){super(),this.sAztUserService=N,this.sAztDialogService=_,this.classCSSCustom="",this.isShowBadgeVip=!1,this.isAction=!1,this.checkAction=new t.bkB,this.closeDialog=new t.bkB}}return(x=o).\u0275fac=function(N){return new(N||x)(t.rXU(P.R),t.rXU(M.i))},x.\u0275cmp=t.VBU({type:x,selectors:[["azt-check-vip-account"]],inputs:{classCSSCustom:"classCSSCustom",isShowBadgeVip:"isShowBadgeVip",isAction:"isAction",vipPackageType:"vipPackageType",trackingKey:"trackingKey"},outputs:{checkAction:"checkAction",closeDialog:"closeDialog"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:U,decls:3,vars:7,consts:[["azt-track-service","check-vip-account-o05GWccJtw",3,"click","ngStyle"],[4,"ngIf"],[1,"badge-vip","flex","items-center"],["name","gem","size","12",3,"ngClass"]],template:function(N,_){1&N&&(t.NAR(),t.j41(0,"div",0),t.bIt("click",function(){return _.handlerAction()}),t.SdG(1),t.DNE(2,nt,4,2,"div",1),t.k0s()),2&N&&(t.ZvI("wrap-vip inline-flex items-center w-full ",_.classCSSCustom,""),t.Y8G("ngStyle",t.eq3(5,K,_.isBusinessDomain||!_.isAction||_.vipAccountObj?"1":"0.6")),t.R7$(2),t.Y8G("ngIf",!_.isBusinessDomain&&((null==_.vipAccountObj?null:_.vipAccountObj.isVipStudent)||(null==_.vipAccountObj?null:_.vipAccountObj.isVipTeacher))||_.isShowBadgeVip))},dependencies:[T.MD,T.YU,T.bT,T.B3,F.X1,k.iI,F.YN,R.s,J.flO,J.WGl,r.L,$.Id,s.k],encapsulation:2}),o})()}}]);