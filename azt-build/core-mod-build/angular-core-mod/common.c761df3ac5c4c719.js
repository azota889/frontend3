"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[2076],{59518:(b,C,t)=>{t.d(C,{s:()=>_});var p=t(48891),M=t(543),O=t(51113),o=t(50589);let _=(()=>{var i;class s{ExamExerciseOfProgramToSessionStorage(E,D,P){const e=this.commonService.getMyQueryParam("indexSession"),a=this.commonService.getMyQueryParam("programId");if(null!=e&&null!=a){const n=this.browserStorageService.getSessionStorage(`${this.key+a}`);if(n){const u=this.zipDataService.decodeContentGzip(n),h=this.commonService.castJsonToObj(u),v={id:-1,refId:E,name:D,type:P,willRemove:!1};h?.sessionFormArray[e].documentObjs.push(v);const f=this.zipDataService.convertContentGzip(this.commonService.serializeJson(h??{}));this.browserStorageService.saveSessionStorage(`${this.key+a}`,f)}}}removeProgramDataLocal(E){this.browserStorageService.removeSessionStorage(`${this.key+E}`)}constructor(E,D,P){this.commonService=E,this.zipDataService=D,this.browserStorageService=P,this.key="data_educational_program_"}}return(i=s).\u0275fac=function(E){return new(E||i)(p.KVO(M.R),p.KVO(O.j),p.KVO(o.z))},i.\u0275prov=p.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),s})()},88089:(b,C,t)=>{t.d(C,{J:()=>c});var p=t(27691),M=t(51698),O=t(64198),o=t(48891),_=t(543),i=t(48451),s=t(63709);let c=(()=>{var E;class D{replaceImageInContent(e){return new M.c(a=>{if(e.includes("<img ")){var n=this.findAllSubString(e,"<img"),u=[],h=[];n.forEach(v=>{var f=e.indexOf("src=",v),m=e.indexOf('"',Number(f)+5),l=e.substring(Number(f)+5,Number(m)+1);l.includes(";base64")?u.push({oldUrl:l}):l.includes("blob:")&&h.push({oldUrl:l})}),u.length>0?this.reUploadBase64File(u,(v,f)=>{null==f?h&&h.length>0?this.reUploadBlobFile(h,(m,l)=>{null!=l?(e=this.replaceHomeworkContent(e,v),e=this.replaceHomeworkContent(e,m),a.next({errorMessage:void 0,content:e}),a.complete()):(a.next({errorMessage:l,content:e}),a.complete())}):(e=this.replaceHomeworkContent(e,v),a.next({errorMessage:void 0,content:e}),a.complete()):(a.next({errorMessage:f,content:e}),a.complete())}):h.length>0?this.reUploadBlobFile(h,(v,f)=>{null==f?(e=this.replaceHomeworkContent(e,v),a.next({errorMessage:void 0,content:e}),a.complete()):(a.next({errorMessage:f,content:e}),a.complete())}):(e=this.replaceHomeworkContent(e,[]),a.next({errorMessage:void 0,content:e}),a.complete())}else a.next({errorMessage:void 0,content:e}),a.complete()})}replaceHomeworkContent(e,a){return a.length>0&&a.forEach(n=>{e=e.replace(n.oldUrl??"  ",n.newUrl+'" class="w-100 img-fluid"')}),e}findAllSubString(e,a){for(var n=0,u=0,h=[];e.indexOf(a,n)>-1;)u=e.indexOf(a,n),h.push(u),n=u+a.length;return h}getTypeFile(e){var a=e.indexOf(";");return e.substring(5,a)}getFileName(e){var a=e.split("").reverse().join(""),n=a.indexOf(";"),u=a.indexOf("/",n);return a.substring(n,u).split("").reverse().join("")}convertBlobToBase64(e){return new Promise(a=>{var n=new Image;n.crossOrigin="Anonymous",n.addEventListener("load",function(){var u=document.createElement("canvas"),h=u.getContext("2d");u.width=n.width,u.height=n.height,h?.drawImage(n,0,0);var v=u.toDataURL("image/png");a(v)},!1),n.src=e})}reUploadBase64File(e,a){if(e&&e.length>0){let v,h=e.length;for(var n=[],u=0;u<e.length;u++){const f=e[u],m=f.oldUrl?.substring(0,f.oldUrl.length-1);this.startUploadBlobFile(f,m??"",[],(l,r)=>{null==r?n=n.concat(l):v=r,h-=1,0==h&&a(n,v)})}}else a([],"lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau")}reUploadBlobFile(e,a){if(e&&e.length>0){let v,h=e.length;for(var n=[],u=0;u<e.length;u++){const f=e[u],m=f?.oldUrl?.substring(0,f.oldUrl.length-1);this.convertBlobToBase64(m??"").then(l=>{this.startUploadBlobFile(f,l,[],(r,d)=>{null==d?n=n.concat(r):v=d,h-=1,0==h&&a(n,v)})})}}else a([],"lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau")}startUploadBlobFile(e,a,n,u){if(a&&""!=a){var h=this.getTypeFile(a),v=this.myPdfService.b64toFile(a,this.getFileName(h),h);(0,O.w4)(v).then(f=>{this.apiUploadService.uploadToCdnForHomework(f).subscribe(m=>{if(m.type!=p.hv.UploadProgress)if(1==m.success){var l={...e,newUrl:m.data?.url??""};n.push(l),u(n,void 0)}else u(n,this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",m.message??"none"))})})}else u(n,"lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau")}constructor(e,a,n){this.commonService=e,this.apiUploadService=a,this.myPdfService=n}}return(E=D).\u0275fac=function(e){return new(e||E)(o.KVO(_.R),o.KVO(i.T),o.KVO(s.C))},E.\u0275prov=o.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),D})()},15381:(b,C,t)=>{t.d(C,{M:()=>h});var p=t(59640),M=t(84545),O=t(47348),o=t(54460),_=t(10936),i=t(65162),s=t(21656),c=t(15343),E=t(70050),D=t(5502),P=t(36894),e=t(48891);const a=v=>[v],n=()=>({"text-primary mr-2":!0});function u(v,f){if(1&v&&(e.qex(0),e.j41(1,"div",2)(2,"a",3),e.nI1(3,"navigationLocalize"),e.j41(4,"div",4)(5,"span",5),e.EFF(6),e.nI1(7,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.k0s(),e.nrm(8,"azt-countdown-timer",6),e.k0s(),e.j41(9,"div",7),e.nrm(10,"lucide-icon",8),e.j41(11,"div",9)(12,"p",10),e.EFF(13),e.nI1(14,"getLevelNameById"),e.nI1(15,"async"),e.k0s(),e.j41(16,"div",11)(17,"p",12),e.EFF(18),e.k0s(),e.j41(19,"p",13),e.EFF(20),e.k0s()(),e.j41(21,"p",14),e.EFF(22),e.nI1(23,"formatMoney"),e.k0s()()()()(),e.bVm()),2&v){let m,l;const r=f.$implicit,d=e.XpG();e.R7$(2),e.Y8G("routerLink",e.eq3(20,a,e.bMT(3,10,d.prefixOfDetailLink+"/"+r.id))),e.R7$(4),e.JRh(e.bMT(7,12,r.startLive)),e.R7$(2),e.Y8G("time",r.startLive)("productStatus",r.productStatusEnum),e.R7$(2),e.Y8G("ngClass",e.lJ4(22,n)),e.R7$(3),e.Lme("",r.name," (",e.bMT(15,16,e.bMT(14,14,null==r.liveClassProductObj||null==r.liveClassProductObj.metadata||null==r.liveClassProductObj.metadata.data?null:r.liveClassProductObj.metadata.data.classId)),")"),e.R7$(5),e.SpI("\u0110\xe3 xem: ",null!==(m=null==r.paymentInfoObj?null:r.paymentInfoObj.totalView)&&void 0!==m?m:0,""),e.R7$(2),e.SpI("\u0110\xe3 \u0111\u0103ng k\xfd: ",null!==(l=null==r.paymentInfoObj?null:r.paymentInfoObj.totalJoin)&&void 0!==l?l:0,""),e.R7$(2),e.JRh(r.price>0?e.bMT(23,18,r.price)+"\u0111":"Mi\u1ec5n ph\xed")}}let h=(()=>{var v;class f extends p.H{}return(v=f).\u0275fac=(()=>{let m;return function(r){return(m||(m=e.xGo(v)))(r||v)}})(),v.\u0275cmp=e.VBU({type:v,selectors:[["app-view-list-live-classroom"]],inputs:{objs:"objs",prefixOfDetailLink:"prefixOfDetailLink"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,consts:[[1,"mt-3"],[4,"ngFor","ngForOf"],[1,"mb-3"],[1,"hover-border-secondary","block",3,"routerLink"],[1,"flex","mb-1"],[1,"font-bold",2,"font-size","14px"],[3,"time","productStatus"],[1,"flex","items-center"],["name","calendar-days","size","64",3,"ngClass"],[1,"d-block"],[1,"mb-1","h5"],[1,"flex"],[1,"mb-1"],[1,"mb-1","ml-5","text-sm"],[1,"mb-1","text-sm","text-info",2,"color","#3c8ebc"]],template:function(l,r){1&l&&(e.j41(0,"div",0),e.DNE(1,u,24,23,"ng-container",1),e.k0s()),2&l&&(e.R7$(),e.Y8G("ngForOf",r.objs))},dependencies:[M.n,O.F2,o.MD,o.YU,o.Sq,o.Jj,_.X1,i.iI,i.Wk,_.YN,s.s,c.flO,c.WGl,E.L,O.i_,O.t0,O.xc,D.Id,P.k],styles:[".ps-SUCCESS[_ngcontent-%COMP%]{color:green}.ps-PENDING[_ngcontent-%COMP%]{color:orange}"]}),f})()},39763:(b,C,t)=>{t.d(C,{m:()=>o});var p=t(48891),M=t(36484),O=t(543);let o=(()=>{var _;class i{constructor(c,E){this.userService=c,this.commonService=E}checkLoginZalo(){if(!this.userService.isLogin())return!1;const c=this.userService.getUserObj();return!(!c.zaloId||c.phone&&10==c.phone.length||c.email&&-1!==c.email.indexOf("@"))}zaloInfoRequired(){this.checkLoginZalo()&&this.commonService.myNavigation("/auth/required-phone-or-email")}}return(_=i).\u0275fac=function(c){return new(c||_)(p.KVO(M.R),p.KVO(O.R))},_.\u0275prov=p.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),i})()},25777:(b,C,t)=>{t.d(C,{Z:()=>p});class p{static customDateTimeValidator(O){const i=O.controls.endTime;let s=O.controls.startTime.value,c=i.value;return s&&c&&!p.isValidStartTimeEndTime(s,c)?(i?.setErrors({customDateTimeValidator:!0}),{identityRevealed:!0}):(i?.setErrors(null),null)}static isValidStartTimeEndTime(O,o){let _=new Date(O),i=new Date(1e3*p.getSecondOfDateWithZeroSecond(_)),s=o?new Date(o):new Date;return new Date(1e3*p.getSecondOfDateWithZeroSecond(s)).getTime()-i.getTime()>0}static getSecondOfDateWithZeroSecond(O){var o=O.getSeconds();return Math.floor(O.getTime()/1e3)-o}}},84545:(b,C,t)=>{t.d(C,{n:()=>v});var p=t(48891),M=t(35024),O=t(18447),o=t(69372),_=t(5424),i=t(59640),s=t(66772),c=t(54460),E=t(10936),D=t(65162),P=t(21656),e=t(15343),a=t(70050),n=t(5502),u=t(36894),h=t(47348);let v=(()=>{var f;class m extends i.H{constructor(){super(...arguments),this.sAZTranslateService=(0,p.WQX)(s.o),this.countdownText="",this.diffTime=0,this.monthTrans=this.sAZTranslateService.myTranslateInstant("lang_auto_month")??" th\xe1ng",this.dayTrans=this.sAZTranslateService.myTranslateInstant("lang_auto_day")??" ng\xe0y",this.clockTrans=this.sAZTranslateService.myTranslateInstant("lang_auto_clock")??" gi\u1edd",this.minuteTrans=this.sAZTranslateService.myTranslateInstant("lang_auto_minute")??" ph\xfat",this.secondTrans=this.sAZTranslateService.myTranslateInstant("lang_auto_giay")??" gi\xe2y",this.moreTrans=this.sAZTranslateService.myTranslateInstant("lang_time_more")??" n\u1eefa",this.soonTrans=this.sAZTranslateService.myTranslateInstant("lang_time_start_soon")??"S\u1eafp di\u1ec5n ra",this.startedTrans=this.sAZTranslateService.myTranslateInstant("lang_time_started")??"\u0110\xe3 di\u1ec5n ra",this.startingTrans=this.sAZTranslateService.myTranslateInstant("lang_time_starting")??"\u0110ang di\u1ec5n ra"}updateCountdown(){if(!this.time)return void(this.countdownText="");let g=new Date(this.time).getTime()-Date.now();this.diffTime=g;const T=Math.floor(g/2592e6);g-=2592e6*T;const A=Math.floor(g/864e5);g-=864e5*A;const I=Math.floor(g/36e5);g-=36e5*I;const y=Math.floor(g/6e4);g-=6e4*y;const z=Math.floor(g/1e3);this.countdownText=this.productStatus!=M.WD.RUNNING?this.productStatus!=M.WD.COMPLETED?g<=0||this.diffTime<=0?`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center; opacity: 0.5">${this.startedTrans}</span>`:T>0?`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium  text-xs text-slate-300 inline-block" style="align-content: center;">${T}&nbsp;${this.monthTrans}${this.moreTrans}</span>`:A>0?`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center;">${A}&nbsp;${this.dayTrans}${this.moreTrans}</span>`:I>0?`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center;">${I}&nbsp;${this.clockTrans}${y>0?"&nbsp;"+y+"&nbsp;"+this.minuteTrans:""}${this.moreTrans}</span>`:y>0?`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center;">${y}&nbsp;${this.minuteTrans}${z>0?"&nbsp;"+z+"&nbsp;"+this.secondTrans:""}${this.moreTrans}</span>`:`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center;">${z}&nbsp;${this.secondTrans}${this.moreTrans}</span>`:`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center; opacity: 0.5">${this.startedTrans}</span>`:`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-success inline-block" style="align-content: center">${this.startingTrans}</span>`}startCountdown(){if(this.updateCountdown(),this.time){const r=new Date(this.time).getTime(),d=Date.now();if(0===Math.floor((r-d)/864e5)){const A=new O.B,I=(0,o.Y)(1e3).pipe((0,_.Q)(A));this.waitDestroy(I.subscribe(y=>{if(this.diffTime<=0)return this.countdownText=`<span class="whitespace-nowrap ml-2 px-2 rounded-full bg-slate-200 font-medium text-xs text-slate-300 inline-block" style="align-content: center; opacity: 0.5">${this.startedTrans}</span>`,A.next(!0);this.updateCountdown()}))}}}ngOnInit(){this.updateCountdown(),this.startCountdown()}}return(f=m).\u0275fac=(()=>{let l;return function(d){return(l||(l=p.xGo(f)))(d||f)}})(),f.\u0275cmp=p.VBU({type:f,selectors:[["azt-countdown-timer"]],inputs:{time:"time",productStatus:"productStatus"},standalone:!0,features:[p.Vt3,p.aNF],decls:2,vars:3,consts:[[3,"innerHTML"]],template:function(r,d){1&r&&(p.nrm(0,"span",0),p.nI1(1,"safeNormalHtmlContent")),2&r&&p.Y8G("innerHTML",p.bMT(1,1,d.countdownText),p.npT)},dependencies:[c.MD,E.X1,D.iI,E.YN,P.s,e.flO,a.L,h._y,n.Id,u.k],encapsulation:2}),m})()},47020:(b,C,t)=>{t.d(C,{D:()=>r});var p=t(89163),M=t(33887),O=t(2915),o=t(94743),_=t(54460),i=t(10936),s=t(65162),c=t(47348),E=t(21656),D=t(15343),P=t(70050),e=t(5502),a=t(36894),n=t(48891),u=t(91500),h=t(76534);function v(d,g){if(1&d&&n.nrm(0,"azt-svg-icon",20),2&d){const T=n.XpG(2);n.Y8G("size",T.isMobileDevice?40:60)}}function f(d,g){if(1&d&&n.nrm(0,"azt-svg-icon",21),2&d){const T=n.XpG(2);n.Y8G("size",T.isMobileDevice?40:60)}}function m(d,g){if(1&d&&n.nrm(0,"azt-svg-icon",22),2&d){const T=n.XpG(2);n.Y8G("size",T.isMobileDevice?40:60)}}function l(d,g){if(1&d){const T=n.RV6();n.j41(0,"div",11)(1,"button",12),n.bIt("click",function(){const I=n.eBV(T).$implicit,y=n.XpG();return n.Njj(y.handleGiveAGift(I))}),n.j41(2,"div",13),n.DNE(3,v,1,1,"azt-svg-icon",14)(4,f,1,1,"azt-svg-icon",15)(5,m,1,1,"azt-svg-icon",16),n.j41(6,"div",17),n.EFF(7),n.nI1(8,"mytranslate"),n.k0s(),n.j41(9,"div",18)(10,"span",19),n.EFF(11),n.nI1(12,"formatMoney"),n.nI1(13,"mytranslate"),n.k0s()()()()()}if(2&d){const T=g.$implicit;n.R7$(3),n.Y8G("ngIf","lang_core_gift_rose_flower"===T.name),n.R7$(),n.Y8G("ngIf","lang_core_gift_book"===T.name),n.R7$(),n.Y8G("ngIf","lang_core_gift_pen"===T.name),n.R7$(2),n.SpI(" ",n.bMT(8,5,T.name)," "),n.R7$(4),n.SpI(" ",n.bMT(12,7,T.price)+" "+n.bMT(13,9,"lang_auto_vnd_upper")," ")}}let r=(()=>{var d;class g extends M._{handleCloseDialog(){this.dialogRef.close(!1)}handleGiveAGift(A){this.waitDestroy(this.productOrderService.apiProductOrderBuyGiftPackageGet(this.commonService.getActualCurrentHostName(),this.commonService.getCurrentLang(),A.id,this.data.examHashId,this.data.homeworkHashId,this.data.queryString).subscribe(I=>{if(!I.success)return this.errorStatusObj(I.message,!0);this.dialogRef.close(!0),window.location.href=I.data?.value??"",this.successStatusObj()}))}getGiftList(){this.initStatusObj(),this.waitDestroy(this.giftPackageService.apiGiftPackageGetPackageObjsPost().subscribe(A=>{if(!A.success)return this.errorStatusObj(A.message,!0);this.giftList=A.data?.objs??[],this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getGiftList()}constructor(A,I,y,z){super(I,A),this.dialogRef=A,this.data=I,this.giftPackageService=y,this.productOrderService=z,this.giftList=[]}}return(d=g).\u0275fac=function(A){return new(A||d)(n.rXU(p.CP,8),n.rXU(p.Vh,8),n.rXU(u.c),n.rXU(h.Hg))},d.\u0275cmp=n.VBU({type:d,selectors:[["azt-dialog-give-a-gift"]],standalone:!0,features:[n.Vt3,n.aNF],decls:13,vars:5,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[1,"flex","items-center"],[1,"text-base","font-medium"],[1,"ml-auto"],[1,"btn","btn-danger-soft","p-1",3,"click"],["name","x","size","20"],[1,"mt-3"],[3,"defaultHeight"],[1,"grid","grid-cols-12","gap-5","p-3",2,"padding-right","8px"],["class","col-span-4",4,"ngFor","ngForOf"],[1,"col-span-4"],[1,"btn","btn-outline-secondary","cursor-pointer","w-full",3,"click"],[1,"text-center"],["type","flower-gift",3,"size",4,"ngIf"],["type","book-gift",3,"size",4,"ngIf"],["type","pen-gift",3,"size",4,"ngIf"],[1,"font-medium","mt-3"],[1,"mt-2"],[1,"font-medium"],["type","flower-gift",3,"size"],["type","book-gift",3,"size"],["type","pen-gift",3,"size"]],template:function(A,I){1&A&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s(),n.j41(6,"div",4)(7,"button",5),n.bIt("click",function(){return I.handleCloseDialog()}),n.nrm(8,"lucide-icon",6),n.k0s()()()(),n.j41(9,"div",7)(10,"azt-mat-dialog-content",8)(11,"div",9),n.DNE(12,l,14,11,"div",10),n.k0s()()()()),2&A&&(n.R7$(4),n.SpI(" ",n.bMT(5,3,"lang_azt_gift_list")," "),n.R7$(6),n.Y8G("defaultHeight",60),n.R7$(2),n.Y8G("ngForOf",I.giftList))},dependencies:[O.U,o.m,_.MD,_.Sq,_.bT,i.X1,s.iI,i.YN,c.wp,E.s,D.flO,D.WGl,P.L,c.t0,e.Id,a.k],encapsulation:2}),g})()},97357:(b,C,t)=>{t.d(C,{Y:()=>O});var p=t(48891),M=t(543);let O=(()=>{var o;class _{processDataSchoolAndLevel(s){this.valueSurvey=s.filter(c=>c.schoolLevel?.id).map(c=>({value:c.schoolLevel?.id,desc:this.commonService.myTranslateInstant(c.schoolLevel?.name)})),this.valueSubjectSurvey=Array.from({length:14},(c,E)=>s.find(D=>D.schoolLevel?.id==E)?.schoolSubjectObjs??[])}constructor(s){this.commonService=s,this.valueSurvey=[],this.valueSubjectSurvey=[]}}return(o=_).\u0275fac=function(s){return new(s||o)(p.KVO(M.R))},o.\u0275prov=p.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),_})()},89121:(b,C,t)=>{t.d(C,{z:()=>P});var p=t(59640),M=t(54460),O=t(10936),o=t(65162),_=t(21656),i=t(15343),s=t(70050),c=t(5502),E=t(36894),D=t(48891);let P=(()=>{var e;class a extends p.H{constructor(){super(...arguments),this.id="default-id"}}return(e=a).\u0275fac=(()=>{let n;return function(h){return(n||(n=D.xGo(e)))(h||e)}})(),e.\u0275cmp=D.VBU({type:e,selectors:[["app-common-master-page"]],inputs:{id:"id"},standalone:!0,features:[D.Vt3,D.aNF],decls:2,vars:1,consts:[[3,"id"]],template:function(u,h){1&u&&(D.j41(0,"div",0),D.nrm(1,"router-outlet"),D.k0s()),2&u&&D.FS9("id",h.id)},dependencies:[M.MD,O.X1,o.iI,o.n3,O.YN,_.s,i.flO,s.L,c.Id,E.k],encapsulation:2}),a})()},99391:(b,C,t)=>{t.d(C,{n:()=>m});var p=t(59640),M=t(52811),O=t(54460),o=t(10936),_=t(65162),i=t(47348),s=t(21656),c=t(15343),E=t(70050),D=t(5502),P=t(36894),e=t(48891),a=t(64396),n=t(35024);function u(l,r){1&l&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auth_remove_teacher_role")))}function h(l,r){if(1&l&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&l){const d=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,d.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role")," ")}}function v(l,r){if(1&l&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&l){const d=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,d.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role_in_teacher_mobile_app")," ")}}function f(l,r){1&l&&e.nrm(0,"azt-loading-ui",7)}let m=(()=>{var l;class r extends p.H{becomeTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(g=>{if(!g.success)return this.errorStatusObj(g.message,!0);this.redirectByRoleService.redirectLoginByRole("")}))}becomeStudent(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(g=>{g.success||this.errorStatusObj(g.message,!0),this.redirectByRoleService.redirectLoginByRole(this.commonService.getLocalRouter("/student/classroom/0"))}))}ngOnInit(){super.ngOnInit()}constructor(g,T){super(),this.redirectByRoleService=g,this.userInfoService=T,this.isTeacherDashboard=!1,this.hasTeacherRole=!1}}return(l=r).\u0275fac=function(g){return new(g||l)(e.rXU(a.b),e.rXU(n.fv))},l.\u0275cmp=e.VBU({type:l,selectors:[["coazt-convert-account-role"]],inputs:{isTeacherDashboard:"isTeacherDashboard",hasTeacherRole:"hasTeacherRole"},standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:7,consts:[[1,"intro-x","box","p-5"],[1,"flex","items-center"],[1,"font-medium","inline-block","mr-auto"],["class","h5",4,"ngIf"],["azt-track-service","setting-role-INiaGXvvjK",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"h5"],[1,"mr-1"]],template:function(g,T){1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,u,3,3,"span",3)(4,h,3,3,"span",3)(5,v,3,3,"span",3),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return T.isTeacherDashboard?T.becomeStudent():T.becomeTeacher()}),e.DNE(7,f,1,0,"azt-loading-ui",5),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()),2&g&&(e.R7$(3),e.Y8G("ngIf",T.isTeacherDashboard),e.R7$(),e.Y8G("ngIf",!T.isTeacherDashboard&&!T.isMobileWebView),e.R7$(),e.Y8G("ngIf",!T.isTeacherDashboard&&T.isMobileWebView),e.R7$(2),e.Y8G("ngIf",T.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(9,5,"lang_auth_confirm_change_role")," "))},dependencies:[M.R,O.MD,O.bT,o.X1,_.iI,o.YN,i.wp,s.s,c.flO,E.L,D.Id,P.k],encapsulation:2}),r})()},6152:(b,C,t)=>{t.d(C,{b:()=>f});var p=t(26651),M=t(59640),O=t(47348),o=t(54460),_=t(10936),i=t(65162),s=t(21656),c=t(15343),E=t(70050),D=t(5502),P=t(36894),e=t(48891),a=t(9691);const n=m=>[m],u=m=>({backto:m});function h(m,l){if(1&m&&(e.qex(0),e.j41(1,"div",3)(2,"div",4)(3,"b"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.EFF(6),e.nI1(7,"formatFullDateTimeByUserUnitPipe"),e.j41(8,"span",5),e.EFF(9),e.nI1(10,"mytranslate"),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"a",6),e.nI1(13,"navigationLocalize"),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()(),e.bVm()),2&m){const r=e.XpG(2);e.R7$(4),e.SpI("",e.bMT(5,9,"lang_business_config_billing_end_time"),":"),e.R7$(2),e.SpI(" ",e.bMT(7,11,r.vipAccountObj.endTime)," ( "),e.R7$(3),e.LHq("",r.vipAccountObj.subscriptionTimeDtoObj.days," ",e.bMT(10,13,"lang_auto_day"),", ",r.vipAccountObj.subscriptionTimeDtoObj.hours," ",e.bMT(11,15,"lang_auto_clock"),")"),e.R7$(3),e.Y8G("routerLink",e.eq3(21,n,e.bMT(13,17,"/auth/vip-packages/"+(r.type===r.vipPackageType.VIPFORSTUDENT?"studentVip":"teacherVip"))))("queryParams",e.eq3(23,u,r.backToLink)),e.R7$(2),e.SpI(" ",e.bMT(15,19,"lang_azt_renew_now")," ")}}function v(m,l){if(1&m&&(e.j41(0,"div",1),e.DNE(1,h,16,25,"ng-container",2),e.k0s()),2&m){const r=e.XpG();e.R7$(),e.Y8G("ngIf",r.vipAccountObj.isVipTeacher&&r.type===r.vipPackageType.VIPFORTEACHER||r.vipAccountObj.isVipStudent&&r.type===r.vipPackageType.VIPFORSTUDENT)}}let f=(()=>{var m;class l extends M.H{getData(){this.checkVipAccountService.getVipInfo(this.type,!0,void 0).subscribe(d=>{if(!d.success)return this.errorStatusObj(d.message);this.vipAccountObj=d.data?.vipSubscriptionObj,this.successStatusObj(),this.vipAccountObj&&(this.vipAccountObj.subscriptionTimeDtoObj=this.sAztTimeService.getDayHourMinuteOfSubtract(this.vipAccountObj?.endTime),(this.vipAccountObj.subscriptionTimeDtoObj.days<0||this.vipAccountObj.subscriptionTimeDtoObj.hours<0||this.vipAccountObj.subscriptionTimeDtoObj.minutes<0)&&(this.vipAccountObj.subscriptionTimeDtoObj={days:0,hours:0,minutes:0}))})}ngOnInit(){super.ngOnInit(),this.backToLink=this.type===this.vipPackageType.VIPFORTEACHER?"/admin/dashboard":"/student/classroom/0",this.getData()}constructor(d){super(),this.sAztTimeService=d,this.vipPackageType=p.W5,this.backToLink=""}}return(m=l).\u0275fac=function(d){return new(d||m)(e.rXU(a.F))},m.\u0275cmp=e.VBU({type:m,selectors:[["azota-vip-package-warning-box"]],inputs:{type:"type"},standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,consts:[["class","p-2 box",4,"ngIf"],[1,"p-2","box"],[4,"ngIf"],[1,"flex","items-center"],[1,"mr-auto"],[1,"text-danger"],["azt-track-service","azota-business-package-expired-v3CxKNRMa",1,"btn","btn-sm","btn-outline-primary","px-2","py-1",3,"routerLink","queryParams"]],template:function(d,g){1&d&&e.DNE(0,v,2,1,"div",0),2&d&&e.Y8G("ngIf",g.vipAccountObj&&g.vipAccountObj.subscriptionTimeDtoObj&&g.vipAccountObj.subscriptionTimeDtoObj.days<=10&&g.vipAccountObj.subscriptionTimeDtoObj.days>0)},dependencies:[O.F2,o.MD,o.bT,_.X1,i.iI,i.Wk,_.YN,O.wp,s.s,c.flO,E.L,O.Rr,D.Id,P.k],encapsulation:2}),l})()},84181:(b,C,t)=>{t.d(C,{f:()=>M});var p=t(73014);class M{constructor(o,_,i="https://lti-canvas-clound.azota.vn"){this.businessId=o,this.authUserId=_,this.apiDomain=i}getCourseExam(o,_,i){var s=this;return(0,p.A)(function*(){return s.baseGet(`api/course-exam/${o}/${_}`,{classroomId:i.toString()})})()}openLinkOpenApp(o,_){window.location.href=this.renderLinkOpenApp(o,_)}renderLinkOpenApp(o,_){const i=new URL(`${this.apiDomain}/api/connect/application`),s={businessId:this.businessId.toString(),azotaAuthId:this.authUserId.toString()};return o&&(s.examCatId=o.toString()),_&&(s.examId=_.toString()),i.search=new URLSearchParams(s).toString(),i.toString()}postCourseExam(o,_,i,s,c,E){var D=this;return(0,p.A)(function*(){return D.basePost(`api/course-exam/${o}/${_}`,{name:i,classroomId:s,benchmark:c,groupId:E})})()}baseGet(o,_){var i=this;return(0,p.A)(function*(){try{const s=new URL(`${i.apiDomain}/${o}`);s.search=new URLSearchParams({..._,businessId:i.businessId.toString(),azotaAuthId:i.authUserId.toString()}).toString();const c=yield fetch(s.toString(),{method:"GET",headers:{}});if(!c.ok)throw new Error(`Error: ${c.status} - ${c.statusText}`);return yield c.json()}catch(s){throw console.error("baseGet Error:",s),s}})()}basePost(o,_){var i=this;return(0,p.A)(function*(){try{const s=`${i.apiDomain}/${o}`,c=yield fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({..._,businessId:i.businessId,azotaAuthId:i.authUserId})});if(!c.ok)throw new Error(`Error: ${c.status} - ${c.statusText}`);return yield c.json()}catch(s){throw console.error("basePost Error:",s),s}})()}}},18470:(b,C,t)=>{t.r(C),t.d(C,{conf:()=>c,language:()=>E});var p=t(18343),M=Object.defineProperty,O=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,s={};((D,P,e,a)=>{if(P&&"object"==typeof P||"function"==typeof P)for(let n of o(P))!_.call(D,n)&&"default"!==n&&M(D,n,{get:()=>P[n],enumerable:!(a=O(P,n))||a.enumerable})})(s,p);var c={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:s.languages.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:s.languages.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:s.languages.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:s.languages.IndentAction.None,removeText:1}}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"`",close:"`",notIn:["string","comment"]},{open:"/**",close:" */",notIn:["string"]}],folding:{markers:{start:new RegExp("^\\s*//\\s*#?region\\b"),end:new RegExp("^\\s*//\\s*#?endregion\\b")}}},E={defaultToken:"invalid",tokenPostfix:".ts",keywords:["abstract","any","as","asserts","bigint","boolean","break","case","catch","class","continue","const","constructor","debugger","declare","default","delete","do","else","enum","export","extends","false","finally","for","from","function","get","if","implements","import","in","infer","instanceof","interface","is","keyof","let","module","namespace","never","new","null","number","object","package","private","protected","public","override","readonly","require","global","return","set","static","string","super","switch","symbol","this","throw","true","try","type","typeof","undefined","unique","unknown","var","void","while","with","yield","async","await","of"],operators:["<=",">=","==","!=","===","!==","=>","+","-","**","*","/","%","++","--","<<","</",">>",">>>","&","|","^","!","~","&&","||","??","?",":","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=","@"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,regexpctl:/[(){}\[\]\$\^|\-*+?\.]/,regexpesc:/\\(?:[bBdDfnrstvwWn0\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/,tokenizer:{root:[[/[{}]/,"delimiter.bracket"],{include:"common"}],common:[[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w\$]*/,"type.identifier"],{include:"@whitespace"},[/\/(?=([^\\\/]|\\.)+\/([dgimsuy]*)(\s*)(\.|;|,|\)|\]|\}|$))/,{token:"regexp",bracket:"@open",next:"@regexp"}],[/[()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/!(?=([^=]|$))/,"delimiter"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/(@digits)[eE]([\-+]?(@digits))?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?/,"number.float"],[/0[xX](@hexdigits)n?/,"number.hex"],[/0[oO]?(@octaldigits)n?/,"number.octal"],[/0[bB](@binarydigits)n?/,"number.binary"],[/(@digits)n?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string_double"],[/'/,"string","@string_single"],[/`/,"string","@string_backtick"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@jsdoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],jsdoc:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],regexp:[[/(\{)(\d+(?:,\d*)?)(\})/,["regexp.escape.control","regexp.escape.control","regexp.escape.control"]],[/(\[)(\^?)(?=(?:[^\]\\\/]|\\.)+)/,["regexp.escape.control",{token:"regexp.escape.control",next:"@regexrange"}]],[/(\()(\?:|\?=|\?!)/,["regexp.escape.control","regexp.escape.control"]],[/[()]/,"regexp.escape.control"],[/@regexpctl/,"regexp.escape.control"],[/[^\\\/]/,"regexp"],[/@regexpesc/,"regexp.escape"],[/\\\./,"regexp.invalid"],[/(\/)([dgimsuy]*)/,[{token:"regexp",bracket:"@close",next:"@pop"},"keyword.other"]]],regexrange:[[/-/,"regexp.escape.control"],[/\^/,"regexp.invalid"],[/@regexpesc/,"regexp.escape"],[/[^\]]/,"regexp"],[/\]/,{token:"regexp.escape.control",next:"@pop",bracket:"@close"}]],string_double:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],string_single:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"]],string_backtick:[[/\$\{/,{token:"delimiter.bracket",next:"@bracketCounting"}],[/[^\\`$]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/`/,"string","@pop"]],bracketCounting:[[/\{/,"delimiter.bracket","@bracketCounting"],[/\}/,"delimiter.bracket","@pop"],{include:"common"}]}}}}]);