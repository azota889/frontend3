"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[2785],{99503:(M,f,r)=>{r.d(f,{fb:()=>g,ij:()=>C});var t=r(81519),p=r(48891),u=r(20381),o=r.n(u),h=r(53793);const m=o()||u,C=new p.nKC("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function D(){return{useUtc:!1}}});function c(s,l){const i=Array(s);for(let e=0;e<s;e++)i[e]=l(e);return i}let g=(()=>{var s;class l extends t.$O{constructor(e){super(),this._options=e,this.commonService=(0,p.WQX)(h.R),this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""},m.locale(),this.setLocale(this.commonService.getCurrentLang()||m.locale())}setLocale(e){super.setLocale(e);const n=m.localeData(e);this._localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:n.months(),shortMonths:n.monthsShort(),dates:c(31,a=>this.createDate(2017,0,a+1).format("D")),longDaysOfWeek:n.weekdays(),shortDaysOfWeek:n.weekdaysShort(),narrowDaysOfWeek:n.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return"long"===e?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return"long"===e?this._localeData.longDaysOfWeek:"short"===e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,n,a){if(n<0||n>11)throw Error(`Invalid month index "${n}". Month index has to be between 0 and 11.`);if(a<1)throw Error(`Invalid date "${a}". Date has to be greater than 0.`);const _=this._createMoment({year:e,month:n,date:a}).locale(this.locale);if(!_.isValid())throw Error(`Invalid date "${a}" for month with index "${n}".`);return _}today(){return this._createMoment().locale(this.locale)}parse(e,n){return e&&"string"==typeof e?this._createMoment(e,n,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,n){if(e=this.clone(e),!this.isValid(e))throw Error("MomentDateAdapter: Cannot format invalid date.");return e.format(n)}addCalendarYears(e,n){return this.clone(e).add({years:n})}addCalendarMonths(e,n){return this.clone(e).add({months:n})}addCalendarDays(e,n){return this.clone(e).add({days:n})}toIso8601(e){return this.clone(e).format()}deserialize(e){let n;if(e instanceof Date)n=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;n=this._createMoment(e,m.ISO_8601).locale(this.locale)}return n&&this.isValid(n)?this._createMoment(n).locale(this.locale):super.deserialize(e)}isDateInstance(e){return m.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return m.invalid()}getHour(e){return e.hours()}getMinute(e){return e.minutes()}getSecond(e){return e.seconds()}setHour(e,n){e.hours(n)}setMinute(e,n){e.minutes(n)}setSecond(e,n){e.seconds(n)}_createMoment(e,n,a){const{strict:_,useUtc:d}=this._options||{};return d?m.utc(e,n,a,_):m(e,n,a,_)}}return(s=l).\u0275fac=function(e){return new(e||s)(p.KVO(C,8))},s.\u0275prov=p.jDH({token:s,factory:s.\u0275fac}),l})()},75421:(M,f,r)=>{r.d(f,{u:()=>s});var t=r(10936),p=r(89163),u=r(33887),o=r(48891),h=r(54460),m=r(15343),C=r(47348);const D=()=>({"mr-2 text-danger":!0});function c(l,i){if(1&l&&o.nrm(0,"lucide-icon",10),2&l){const e=o.XpG();o.Y8G("name",e.data.iconName)("ngClass",o.lJ4(2,D))}}function g(l,i){if(1&l&&(o.j41(0,"div",11)(1,"div",3)(2,"span"),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s(),o.j41(5,"b"),o.EFF(6),o.k0s(),o.j41(7,"span"),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s()(),o.j41(10,"div",12),o.nrm(11,"input",13),o.k0s()()),2&l){const e=o.XpG();o.R7$(3),o.JRh(o.bMT(4,4,"lang_azt_enter")+" "),o.R7$(3),o.JRh('"'+e.data.textConfirm+'" '),o.R7$(2),o.JRh(o.bMT(9,6,"lang_azt_for_delete_data")),o.R7$(3),o.Y8G("formControl",e.confirmValue)}}let s=(()=>{var l;class i extends u._{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(n,a){super(a,n),this.dialogRef=n,this.data=a,this.confirmValue=new t.MJ("",{nonNullable:!0})}}return(l=i).\u0275fac=function(n){return new(n||l)(o.rXU(p.CP,8),o.rXU(p.Vh,8))},l.\u0275cmp=o.VBU({type:l,selectors:[["azt-dialog-danger"]],features:[o.Vt3],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md"],["size","24",3,"name","ngClass",4,"ngIf"],[1,"text-md",3,"innerHtml"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click","disabled"],["size","24",3,"name","ngClass"],[1,"mt-3"],[1,"mt-2"],["type","text",1,"form-control",3,"formControl"]],template:function(n,a){1&n&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),o.DNE(4,c,1,3,"lucide-icon",4),o.nrm(5,"span",5),o.k0s(),o.DNE(6,g,12,8,"div",6),o.k0s()(),o.j41(7,"div",7)(8,"button",8),o.bIt("click",function(){return a.btnCloseDialog()}),o.EFF(9),o.nI1(10,"mytranslate"),o.k0s(),o.j41(11,"button",9),o.bIt("click",function(){return a.confirmDialog()}),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s()()()),2&n&&(o.R7$(4),o.Y8G("ngIf",a.data.iconName),o.R7$(),o.Y8G("innerHtml",a.data.content,o.npT),o.R7$(),o.Y8G("ngIf",a.data.textConfirm),o.R7$(3),o.SpI(" ",o.bMT(10,6,"lang_auto_huy")," "),o.R7$(2),o.Y8G("disabled",a.data.textConfirm&&a.data.textConfirm!==a.confirmValue.value),o.R7$(),o.SpI(" ",o.bMT(13,8,"lang_auto_xac_nhan")," "))},dependencies:[h.YU,h.bT,t.me,t.BC,t.l_,m.WGl,C.wp],encapsulation:2}),i})()},96670:(M,f,r)=>{r.d(f,{y:()=>g});var t=r(48891),p=r(64198),u=r(9516),o=r(54460),h=r(25571),m=r(47348);const C=[[["","btnUpload",""]],[["","btnRemove",""]],[["","body",""]],[["","header",""]]],D=["[btnUpload]","[btnRemove]","[body]","[header]"];function c(s,l){if(1&s){const i=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),t.SdG(4,3),t.k0s(),t.j41(5,"div",10)(6,"div",11)(7,"image-cropper",12),t.bIt("imageCropped",function(n){t.eBV(i);const a=t.XpG();return t.Njj(a.imageCropped(n))}),t.k0s()()(),t.j41(8,"div",13)(9,"button",14),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.removeDialog())}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"button",15),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.submitImage())}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()()()}if(2&s){const i=t.XpG();t.Y8G("ngClass",i.isMobileWebView?"box-mobile-web-view":"box-web"),t.R7$(7),t.Y8G("imageChangedEvent",i.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",i.aspectRatio)("resizeToWidth",i.widthResize)("cropperMinWidth",128),t.R7$(3),t.JRh(t.bMT(11,8,"lang_auto_huy")),t.R7$(3),t.JRh(t.bMT(14,10,"lang_auto_cap_nhat"))}}let g=(()=>{var s;class l extends u.L{constructor(){super(...arguments),this.aspectRatio=1,this.widthResize=150,this.uploadComplete=new t.bkB,this.imageChangedEvent=void 0,this.imageFileName="",this.hasClicked=!1}checkPermissionCameraAndImagePicker(e){this.hasClicked=!1,this.onOpenFileDictionary();var n=this.commonService.appVersion();this.isMobileWebView&&n?(this.mobileWebviewService.sendSimpleMessage("CHECK_PERMISSION_IMAGE_PICKER"),this.mobileWebviewService.getWebviewPermissionImagePicker().subscribe(a=>{this.hasClicked||(a?.url&&this.uploadComplete.emit({url:a.url}),this.hasClicked=!0)})):e.click()}fileChangeEvent(e){const a=e.target.files;if(a){if((0,p.hD)(a[0]?.size)>=this.limitSize)return this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_vui_long_chon_tep_co_kich_thuoc_nho_hon",this.limitSize.toString(),"MB"));this.imageChangedEvent=e,this.imageFileName=a?.length?a[0]?.name:""}}imageCropped(e){fetch(e.objectUrl??"").then(n=>n.blob()).then(n=>{const a=new FileReader;a.onload=()=>{let d=this.b64toFile(a.result,this.imageFileName);this.saveImage=d},a.readAsDataURL(n)}).catch(n=>{console.error(this.commonService.translateToKeyParam("lang_auto_co_loi_xay_ra",n))})}submitImage(){const e=this.imageChangedEvent?.target;e.files=null,this.imageChangedEvent=void 0,this.saveImage&&this.uploadFile(this.saveImage,"").then(n=>{n&&this.uploadComplete.emit(n)})}removeDialog(){const e=this.imageChangedEvent?.target;e.files=null,this.imageChangedEvent=void 0}emitUploadComplete(e){}b64toFile(e,n){e=e.replace("data:image/png;base64,","");let d=window.atob(e),I=[];for(let O=0;O<d.length;O+=512){let v=d.slice(O,O+512),b=new Array(v.length);for(let E=0;E<v.length;E++)b[E]=v.charCodeAt(E);let A=new Uint8Array(b);I.push(A)}return new File(I,n,{type:"image/png"})}}return(s=l).\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275cmp=t.VBU({type:s,selectors:[["azt-upload-image-cropper"]],inputs:{aspectRatio:"aspectRatio",widthResize:"widthResize"},outputs:{uploadComplete:"uploadComplete"},features:[t.Vt3],ngContentSelectors:D,decls:10,vars:2,consts:[["formChoseFile",""],[1,"h-full"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[1,"flex","items-center","ml-0","sm:ml-3"],[1,"cursor-pointer",3,"click"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],[3,"imageCropped","imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth"],[1,"modal-footer"],["control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"]],template:function(e,n){if(1&e){const a=t.RV6();t.NAR(C),t.j41(0,"div",1)(1,"input",2,0),t.bIt("change",function(d){return t.eBV(a),t.Njj(n.fileChangeEvent(d))})("cancel",function(d){return t.eBV(a),t.Njj(n.onCancelSelect(d))}),t.k0s(),t.j41(3,"div",3)(4,"div",4),t.bIt("click",function(){t.eBV(a);const d=t.sdS(2);return t.Njj(n.checkPermissionCameraAndImagePicker(d))}),t.SdG(5),t.k0s(),t.SdG(6,1),t.k0s(),t.j41(7,"div",4),t.bIt("click",function(){t.eBV(a);const d=t.sdS(2);return t.Njj(n.checkPermissionCameraAndImagePicker(d))}),t.SdG(8,2),t.k0s()(),t.DNE(9,c,15,12,"div",5)}2&e&&(t.R7$(),t.FS9("accept",n.fileType),t.R7$(8),t.Y8G("ngIf",n.imageChangedEvent))},dependencies:[o.YU,o.bT,h._D,m.wp],styles:[".source-image{margin:auto!important}.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:auto}.box-web[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px}.box-mobile-web-view[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px;display:flex;align-items:center;justify-content:center}"]}),l})()},20013:(M,f,r)=>{r.d(f,{T:()=>D});var t=r(48891),p=r(9516),u=r(54460),o=r(52811);const h=["*"];function m(c,g){1&c&&t.SdG(0,0,["*ngIf","!isUploadFile"])}function C(c,g){1&c&&(t.j41(0,"span",5),t.nrm(1,"azt-loading-ui"),t.k0s())}let D=(()=>{var c;class g extends p.L{constructor(){super(...arguments),this.uploadComplete=new t.bkB}emitUploadComplete(l){l.length>0&&this.uploadComplete.emit(l[0])}}return(c=g).\u0275fac=(()=>{let s;return function(i){return(s||(s=t.xGo(c)))(i||c)}})(),c.\u0275cmp=t.VBU({type:c,selectors:[["azt-upload-single-box"]],outputs:{uploadComplete:"uploadComplete"},features:[t.Vt3],ngContentSelectors:h,decls:6,vars:4,consts:[["formChoseFile",""],[3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[4,"ngIf"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"w-4","h-4","inline-block"]],template:function(l,i){if(1&l){const e=t.RV6();t.NAR(),t.j41(0,"div",1),t.bIt("click",function(){t.eBV(e);const a=t.sdS(2);return t.Njj(i.onOpenFileDictionary()&&a.click())}),t.j41(1,"input",2,0),t.bIt("change",function(a){return t.eBV(e),t.Njj(i.onFileSelected(a))})("cancel",function(a){return t.eBV(e),t.Njj(i.onCancelSelect(a))}),t.k0s(),t.DNE(3,m,1,0,"ng-content",3),t.j41(4,"div"),t.DNE(5,C,2,0,"span",4),t.k0s()()}2&l&&(t.BMQ("class",i.containerClass),t.R7$(),t.FS9("accept",i.fileType),t.R7$(2),t.Y8G("ngIf",!i.isUploadFile),t.R7$(2),t.Y8G("ngIf",i.isUploadFile))},dependencies:[u.bT,o.R],encapsulation:2}),g})()}}]);