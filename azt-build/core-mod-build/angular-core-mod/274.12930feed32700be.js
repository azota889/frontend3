"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[274],{27274:(us,fe,m)=>{m.r(fe),m.d(fe,{LadingPageRoutingModule:()=>cs});var f=m(32108),Xe=m(74341),d=m(60177),c=m(89417),b=m(8516),C=m(11782),be=m(84572),e=m(93953),T=m(72093),$=function(t){return t[t.CONFIG_EXAM_CLASSROOM=0]="CONFIG_EXAM_CLASSROOM",t[t.SHOW_EXAM_DETAIL=1]="SHOW_EXAM_DETAIL",t[t.SHARE_OFFLINE_RESULT=2]="SHARE_OFFLINE_RESULT",t[t.COPY_EXAM_LINK=3]="COPY_EXAM_LINK",t}($||{}),Ce=function(t){return t[t.OFFLINE_CONFIG=0]="OFFLINE_CONFIG",t[t.CONFIG_EXAM=1]="CONFIG_EXAM",t[t.EDIT_EXAM=2]="EDIT_EXAM",t[t.POWER_POINT=3]="POWER_POINT",t[t.STATISTIC=4]="STATISTIC",t[t.TESTED_LIST=5]="TESTED_LIST",t[t.LEADERBOARD=6]="LEADERBOARD",t}(Ce||{}),V=function(t){return t[t.BY_NAME=0]="BY_NAME",t[t.BY_PUBLISH_STATUS=1]="BY_PUBLISH_STATUS",t[t.BY_UPDATED_DATE=2]="BY_UPDATED_DATE",t[t.BY_ATTENDED=3]="BY_ATTENDED",t}(V||{}),xe=m(57258),J=function(t){return t.COPY="copy",t.CUT="cut",t.DELETE="delete",t.SELECTED="selected",t}(J||{}),H=function(t){return t[t.EXAM_CATEGORY=0]="EXAM_CATEGORY",t[t.EXAM=1]="EXAM",t}(H||{}),g=m(89819),O=m(98697),A=m(47218),F=m(34006),B=m(81174),w=m(83409),ne=m(36258),Ue=m(51454);const We=t=>({box:t}),Qe=t=>({"border-b border-slate-200/60 dark:border-darkmode-400 scroll-menu-test":t}),Je=t=>({"pt-3 px-3":t});function He(t,i){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const a=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,a.title))}}function Ke(t,i){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const a=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,a.data.keyTrans))}}function Ze(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",11)(1,"button",12),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.goToRegister())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_dang_ky")," "))}function qe(t,i){1&t&&(e.j41(0,"div",13)(1,"p",14),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_ban_da_co_tai_khoan")," "))}function et(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.btnCloseDialog())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_dong")," "))}let ve=(()=>{var t;class i extends B._{goToRegister(){this.redirectService.redirectRegisterForTeacherWithReturnUrl(`${this.router.url}`),this.dialogRef.close()}goToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`),this.dialogRef.close()}btnCloseDialog(){this.dialogRef.close()}constructor(o,n,s,r){super(r,s),this.redirectService=o,this.router=n,this.dialogRef=s,this.data=r,this.isViewScreen=!1,this.title=""}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(Ue.m),e.rXU(f.Ix),e.rXU(F.CP,8),e.rXU(F.Vh,8))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-check-login-dialog"]],inputs:{isViewScreen:"isViewScreen",title:"title"},standalone:!0,features:[e.Vt3,e.aNF],decls:17,vars:17,consts:[[3,"ngClass"],[1,"text-md","font-medium","flex"],[1,"w-6","h-6","inline-block","text-pending","mr-2"],["name","octagon-alert","size","24"],[4,"ngIf"],[1,"text-center"],["class","mx-auto mt-2",4,"ngIf"],["class","mb-2 text-md font-medium mt-2",4,"ngIf"],[1,"mx-auto"],["azt-track-service","check-login-2s-rIAqTmC",1,"btn","w-24","btn-primary",3,"click"],["class","p-3 text-right",4,"ngIf"],[1,"mx-auto","mt-2"],["azt-track-service","check-login--yrvbfjZv",1,"btn","w-24","btn-primary",3,"click"],[1,"mb-2","text-md","font-medium","mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"p-3","text-right"],["azt-track-service","check-login-pYJ0d_xYtI",1,"btn","btn-secondary","w-24",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",0)(2,"azt-mat-dialog-content")(3,"div",0)(4,"h3",1)(5,"span",2),e.nrm(6,"lucide-icon",3),e.k0s(),e.DNE(7,He,3,3,"span",4)(8,Ke,3,3,"span",4),e.k0s(),e.j41(9,"div",5),e.DNE(10,Ze,4,3,"div",6)(11,qe,4,3,"div",7),e.j41(12,"div",8)(13,"button",9),e.bIt("click",function(){return n.goToLogin()}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()()()()(),e.DNE(16,et,4,3,"div",10),e.k0s()()),2&o&&(e.Y8G("ngClass",e.eq3(11,We,!n.isViewScreen)),e.R7$(),e.Y8G("ngClass",e.eq3(13,Qe,!n.isViewScreen)),e.R7$(2),e.Y8G("ngClass",e.eq3(15,Je,!n.isViewScreen)),e.R7$(4),e.Y8G("ngIf",n.isViewScreen),e.R7$(),e.Y8G("ngIf",!n.isViewScreen),e.R7$(2),e.Y8G("ngIf",!n.isBusinessDomain),e.R7$(),e.Y8G("ngIf",!n.isBusinessDomain),e.R7$(3),e.SpI(" ",e.bMT(15,9,"lang_auto_dang_nhap")," "),e.R7$(2),e.Y8G("ngIf",!n.isViewScreen))},dependencies:[ne.U,d.MD,d.YU,d.bT,c.X1,f.iI,c.YN,g.wp,T.s,b.flO,b.WGl,O.L,C.Id,w.k],encapsulation:2}),i})();var K=m(18068),tt=m(44424),ke=m(71985),M=function(t){return t[t.homework=0]="homework",t[t.exam=1]="exam",t[t.classroom=2]="classroom",t[t.student=3]="student",t[t.export_excel=4]="export_excel",t}(M||{});class Z{static classroomInGroupCheckBoxValidator(i){const a=i,o=a.controls.whoAllow.value,n=a.controls.classroomFormArray;return o&&n?2!=o||Z.countCheckBoxInGroup(n)>=1?(a.controls.classroomFormArray.setErrors(null),null):(a.controls.classroomFormArray.setErrors({classroomCheckBoxValidator:!0}),{identityRevealed:!0}):null}static classroomInGroupCheckBoxValidatorWithoutWhoAllow(i){const a=i,o=a.controls.classroomFormArray;return o?Z.countCheckBoxInGroup(o)>0?(a.controls.classroomFormArray.setErrors(null),null):(a.controls.classroomFormArray.setErrors({classroomCheckBoxValidatorWithoutWhoAllow:!0}),{identityRevealed:!0}):null}static countCheckBoxInGroup(i){return i.getRawValue().filter(a=>a.isChecked).length}}var Y=m(81538),ot=m(84412);let Se=(()=>{var t;class i{toggle(){this.isMaximizedSubject.getValue()?this.minimize():this.maximize()}maximize(){if(this.lastScrollPosition=document.documentElement.scrollTop,!this.el)return;this.isMaximizedSubject.next(!0),this.renderer.addClass(this.el.nativeElement,this.containerCssClass);let o=document.getElementsByTagName("body"),n=document.getElementsByTagName("html");o&&o[0]&&this.renderer.addClass(o[0],this.bodyCssClass),n&&n[0]&&this.renderer.addClass(n[0],this.bodyCssClass)}minimize(){if(this.el){this.isMaximizedSubject.next(!1),this.renderer.removeClass(this.el.nativeElement,this.containerCssClass);let o=document.getElementsByTagName("body"),n=document.getElementsByTagName("html");o&&o[0]&&this.renderer.removeClass(o[0],this.bodyCssClass),n&&n[0]&&this.renderer.removeClass(n[0],this.bodyCssClass)}window.scrollTo(0,this.lastScrollPosition)}constructor(o,n){this.el=o,this.renderer=n,this.isMaximizedSubject=new ot.t(!1),this.containerCssClass="azt-maximize-container-fullscreen",this.bodyCssClass="azt-maximize-body-fullscreen",this.isMaximized$=this.isMaximizedSubject.pipe(),this.lastScrollPosition=0}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(e.aKT),e.rXU(e.sFG))},t.\u0275dir=e.FsC({type:t,selectors:[["","maximize",""]],exportAs:["maximize"],standalone:!0}),i})();var ae=m(61394),q=m(82274),L=m(14823);function nt(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",2),e.nI1(1,"mytranslate"),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.maximize.maximize())}),e.nrm(2,"lucide-icon",3),e.k0s()}2&t&&e.FS9("matTooltip",e.bMT(1,1,"lang_maximize_full_screen"))}function at(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",4),e.nI1(1,"mytranslate"),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.maximize.minimize())}),e.nrm(2,"lucide-icon",5),e.k0s()}2&t&&e.FS9("matTooltip",e.bMT(1,1,"lang_maximize_full_screen"))}let ye=(()=>{var t;class i{}return(t=i).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-maximize-box"]],inputs:{maximize:"maximize"},standalone:!0,features:[e.aNF],decls:4,vars:6,consts:[["azt-track-service","azt-maximize-box-qd6nnS2Xw","class","max-button flex",3,"matTooltip","click",4,"ngIf"],["azt-track-service","azt-maximize-box-HD0EsgLeR-","class","min-button flex",3,"matTooltip","click",4,"ngIf"],["azt-track-service","azt-maximize-box-qd6nnS2Xw",1,"max-button","flex",3,"click","matTooltip"],["name","expand","size","24"],["azt-track-service","azt-maximize-box-HD0EsgLeR-",1,"min-button","flex",3,"click","matTooltip"],["name","shrink","size","24"]],template:function(o,n){1&o&&(e.DNE(0,nt,3,3,"button",0),e.nI1(1,"async"),e.DNE(2,at,3,3,"button",1),e.nI1(3,"async")),2&o&&(e.Y8G("ngIf",!e.bMT(1,2,n.maximize.isMaximized$)),e.R7$(2),e.Y8G("ngIf",e.bMT(3,4,n.maximize.isMaximized$)))},dependencies:[d.MD,d.bT,d.Jj,c.X1,f.iI,c.YN,g.wp,T.s,L.oV,b.flO,b.WGl,O.L,C.Id,w.k],encapsulation:2}),i})();var me=m(1372),st=m(88959),it=m(93371),ee=m(5552);function rt(t,i){1&t&&(e.j41(0,"div",11)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}let lt=(()=>{var t;class i extends B._{btnCloseDialog(){this.dialogRef.close()}saveClass(){if(this.form.invalid||this.statusObj.loading)this.showErrorSnack("lang_auto_vui_long_dien_day_du_thong_tin");else{this.initStatusObj();let o=(new Date).getFullYear(),s={classroomName:this.form.getRawValue().className,year:`${o} - ${o+1}`};this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(s).subscribe(r=>{1==r.success?(this.successStatusObj(),this.showSuccessSnack("lang_auto_tao_thanh_cong_lop_hoc"),this.dialogRef.close(r.data)):this.errorStatusObj(r.message??"lang_auto_tao_lop_hoc_khong_thanh_cong_vui_long_kiem_tra_lai_du_lieu",!0)})}}ngOnInit(){super.ngOnInit()}constructor(o,n,s){super(s,n),this.classroomGroupService=o,this.dialogRef=n,this.data=s,this.form=new c.gE({className:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,st.M.noWhiteSpace]})})}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(it.kG),e.rXU(F.CP,8),e.rXU(F.Vh))},t.\u0275cmp=e.VBU({type:t,selectors:[["create-classroom"]],standalone:!0,features:[e.Vt3,e.aNF],decls:18,vars:15,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],[1,"mt-2"],["type","text","formControlName","className",1,"form-control",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","create-classroom-dialog-U1melptHG5",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-classroom-dialog-UgZXPvjLFu",1,"btn","w-24","btn-primary",3,"click","disabled"],[1,"text-xs","text-danger","font-medium","mt-1"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",5),e.nrm(8,"input",6),e.nI1(9,"mytranslate"),e.k0s(),e.DNE(10,rt,4,3,"div",7),e.k0s()(),e.j41(11,"div",8)(12,"button",9),e.bIt("click",function(){return n.btnCloseDialog()}),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"button",10),e.bIt("click",function(){return n.saveClass()}),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()()),2&o&&(e.R7$(),e.Y8G("formGroup",n.form),e.R7$(4),e.SpI(" ",e.bMT(6,7,"lang_auto_tao_lop")," "),e.R7$(3),e.FS9("placeholder",e.bMT(9,9,"lang_auto_nhap_ten_lop")),e.R7$(2),e.Y8G("ngIf",n.form.controls.className.dirty&&n.form.controls.className.errors),e.R7$(3),e.SpI(" ",e.bMT(14,11,"lang_auto_dong")," "),e.R7$(2),e.Y8G("disabled",n.form.invalid),e.R7$(),e.SpI(" ",e.bMT(17,13,"lang_auto_luu")," "))},dependencies:[d.MD,d.bT,c.X1,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,f.iI,c.YN,g.wp,T.s,b.flO,O.L,C.Id,w.k,ee.t],encapsulation:2}),i})();var P=m(96797),te=m(3679);let se=(()=>{var t;class i{constructor(o,n){this.commonService=o,this.permissionService=n}findClassroomWithNoFullPermission(o,n){let s=[];return o.forEach(r=>{(null==r.permissionObj||!this.permissionService.hasFullPermission(M[n],r))&&s.push(r)}),s}getClassroomIdsCheckedInGroup(o){return o.getRawValue().filter(n=>n.isChecked).map(n=>n.classroomId)}}return(t=i).\u0275fac=function(o){return new(o||t)(e.KVO(te.R),e.KVO(q.p))},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();var X=m(59115),U=m(90882),W=m(65478);const ct=(t,i)=>({"classroom-box-in-full-screen-in-mobile":t,"classroom-box-in-full-screen-in-desktop":i}),mt=(t,i)=>({"w-85":t,"w-56":i}),ut=t=>({"ml-3":t}),dt=(t,i)=>({"bg-primary text-white font-medium":t," hover:bg-slate-100 dark:hover:bg-darkmode-400":i}),_t=(t,i,a)=>({"bg-primary text-white font-medium":t,"hover:bg-slate-100 dark:hover:bg-darkmode-400":i,"link-color":a}),pt=t=>({"grid-column":t});function ht(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",8)(1,"div")(2,"div",9),e.EFF(3),e.nI1(4,"mytranslate"),e.j41(5,"a",10),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.openDialogCreateClassroom())}),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s(),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()}2&t&&(e.R7$(3),e.SpI(" ",e.bMT(4,3,"lang_auto_thay_co_chua_tao_lop_vui_long_click")," "),e.R7$(3),e.SpI(" ",e.bMT(7,5,"lang_testbank_test_config_come_in")," "),e.R7$(2),e.SpI(" ",e.bMT(9,7,"lang_testbank_test_config_create_classroom"),". "))}function gt(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",52),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.selectByGroupId(void 0))}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}if(2&t){const a=e.XpG(2);e.Y8G("ngClass",e.l_i(5,dt,0===a.mapClassroomGroupDataToForm.groupIdSelected,0!==a.mapClassroomGroupDataToForm.groupIdSelected)),e.R7$(),e.Lme(" ",e.bMT(2,3,"lang_auto_tat_ca")," (",a.mapClassroomGroupDataToForm.allClassroomInfos.totalChecked+"/"+a.mapClassroomGroupDataToForm.allClassroomInfos.total,") ")}}function ft(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",55),e.bIt("click",function(){e.eBV(a);const n=e.XpG().$implicit,s=e.XpG(3);return e.Njj(s.selectByGroupId(n.groupObj))}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}if(2&t){const a=e.XpG().$implicit,o=e.XpG(3);e.Y8G("ngClass",e.sMw(4,_t,o.mapClassroomGroupDataToForm.groupIdSelected===a.groupObj.id,o.mapClassroomGroupDataToForm.groupIdSelected!==a.groupObj.id,a.groupObj.allClassroomInfos.totalChecked>0)),e.R7$(),e.SpI(" ",e.bMT(2,2,a.groupObj.name)+" ("+a.groupObj.allClassroomInfos.totalChecked+"/"+a.groupObj.allClassroomInfos.total+")"," ")}}function bt(t,i){if(1&t&&(e.qex(0),e.DNE(1,ft,3,8,"button",54),e.bVm()),2&t){const a=i.$implicit;e.R7$(),e.Y8G("ngIf",a.groupObj.isShowGroup)}}function Ct(t,i){if(1&t&&(e.qex(0),e.DNE(1,bt,2,1,"ng-container",53),e.bVm()),2&t){const a=e.XpG(2);e.R7$(),e.Y8G("ngForOf",a.mapClassroomGroupDataToForm.groupObjs)}}function xt(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",56),e.nI1(1,"mytranslate"),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.sAztMatDrawerService.openDrawer())}),e.nrm(2,"lucide-icon",57),e.k0s()}2&t&&e.FS9("matTooltip",e.bMT(1,1,"lang_auto_mo_menu"))}function vt(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",58),e.nI1(1,"mytranslate"),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.sAztMatDrawerService.closeDrawer())}),e.nrm(2,"lucide-icon",59),e.k0s()}2&t&&e.FS9("matTooltip",e.bMT(1,1,"lang_auto_dong_menu"))}function kt(t,i){if(1&t&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&t){const a=e.XpG(2);e.R7$(),e.SpI(" ",(a.filterObj.isShowChecked?1:0)+(a.filterObj.isShowNotChecked?1:0)," ")}}function St(t,i){if(1&t){const a=e.RV6();e.j41(0,"span",68),e.bIt("click",function(){e.eBV(a);const n=e.XpG(4);return e.Njj(n.toggleAllCheckBox(!1))}),e.j41(1,"span",69),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.EFF(4),e.k0s()}if(2&t){const a=e.XpG(4);e.R7$(2),e.JRh(e.bMT(3,3,"lang_remove_all_classroom")),e.R7$(2),e.Lme(" (",a.mapClassroomGroupDataToForm.viewClassroomInfos.totalChecked,"/",a.mapClassroomGroupDataToForm.viewClassroomInfos.total,") ")}}function yt(t,i){if(1&t){const a=e.RV6();e.j41(0,"span",70),e.bIt("click",function(){e.eBV(a);const n=e.XpG(4);return e.Njj(n.toggleAllCheckBox(!0))}),e.j41(1,"span",69),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.EFF(4),e.k0s()}if(2&t){const a=e.XpG(4);e.R7$(2),e.JRh(e.bMT(3,3,"lang_select_all_classroom")),e.R7$(2),e.Lme(" (",a.mapClassroomGroupDataToForm.viewClassroomInfos.totalChecked,"/",a.mapClassroomGroupDataToForm.viewClassroomInfos.total,") ")}}function jt(t,i){if(1&t&&(e.j41(0,"div",66),e.DNE(1,St,5,5,"span",67)(2,yt,5,5,"ng-template",null,4,e.C5r),e.k0s()),2&t){const a=e.sdS(3),o=e.XpG(3);e.R7$(),e.Y8G("ngIf",o.mapClassroomGroupDataToForm.viewClassroomInfos.total==o.mapClassroomGroupDataToForm.viewClassroomInfos.totalChecked)("ngIfElse",a)}}function Ot(t,i){if(1&t){const a=e.RV6();e.j41(0,"span",74),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2).$implicit,s=e.XpG(3);return e.Njj(s.toggleAllCheckBoxInGroup(!1,n.groupObj))}),e.j41(1,"span",69),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_remove_all_classroom")))}function It(t,i){if(1&t){const a=e.RV6();e.j41(0,"span",75),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2).$implicit,s=e.XpG(3);return e.Njj(s.toggleAllCheckBoxInGroup(!0,n.groupObj))}),e.j41(1,"span",69),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_select_all_classroom")))}function Tt(t,i){if(1&t&&(e.qex(0),e.j41(1,"span",72),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.EFF(4),e.nI1(5,"mytranslate"),e.DNE(6,Ot,4,3,"span",73)(7,It,4,3,"ng-template",null,4,e.C5r),e.bVm()),2&t){const a=e.sdS(8),o=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,4,o.groupObj.name)),e.R7$(2),e.SpI(" ","("+o.groupObj.viewClassroomInfos.totalChecked+"/"+o.groupObj.viewClassroomInfos.total+" "+e.bMT(5,6,"lang_testbank_test_list_classes")+")"," "),e.R7$(2),e.Y8G("ngIf",o.groupObj.viewClassroomInfos.total==o.groupObj.viewClassroomInfos.totalChecked)("ngIfElse",a)}}function wt(t,i){if(1&t){const a=e.RV6();e.j41(0,"input",82),e.bIt("change",function(){e.eBV(a);const n=e.XpG(5);return e.Njj(n.changeCheckboxEventLocal())}),e.k0s()}if(2&t){const a=e.XpG(2).$implicit;e.FS9("id","azt-checkbox-item-"+a.classroomObj.id),e.FS9("value",a.classroomObj.id),e.Y8G("formControl",a.classroomObj.classroomFormGroup.controls.isChecked)}}function Dt(t,i){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&t){const a=e.XpG(3).$implicit;e.R7$(),e.SpI("(",a.classroomObj.countStudents,")")}}function Ft(t,i){if(1&t&&(e.j41(0,"span",83),e.EFF(1),e.nI1(2,"slice"),e.DNE(3,Dt,2,1,"span",7),e.k0s()),2&t){const a=e.XpG(2).$implicit;e.FS9("matTooltip",a.classroomObj.name),e.R7$(),e.SpI(" ",e.brH(2,3,a.classroomObj.name,0,25)+"..."," "),e.R7$(2),e.Y8G("ngIf",a.classroomObj.id>0)}}function Gt(t,i){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&t){const a=e.XpG(3).$implicit;e.R7$(),e.SpI("(",a.classroomObj.countStudents,")")}}function Et(t,i){if(1&t&&(e.j41(0,"span",28),e.EFF(1),e.DNE(2,Gt,2,1,"span",7),e.k0s()),2&t){const a=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",a.classroomObj.name," "),e.R7$(),e.Y8G("ngIf",a.classroomObj.id>0)}}function At(t,i){1&t&&(e.j41(0,"span",84),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_testbank_test_config_share")," "))}function zt(t,i){if(1&t&&(e.qex(0),e.j41(1,"div",76),e.DNE(2,wt,1,3,"input",77),e.j41(3,"label",78),e.DNE(4,Ft,4,7,"span",79)(5,Et,3,2,"span",80)(6,At,3,3,"span",81),e.nI1(7,"fullPermission"),e.k0s()(),e.bVm()),2&t){let a,o;const n=e.XpG().$implicit;e.R7$(2),e.Y8G("ngIf",n.classroomObj.classroomFormGroup),e.R7$(),e.FS9("for","azt-checkbox-item-"+n.classroomObj.id),e.R7$(),e.Y8G("ngIf",(null!==(a=null==n.classroomObj.name?null:n.classroomObj.name.length)&&void 0!==a?a:0)>25),e.R7$(),e.Y8G("ngIf",(null!==(o=null==n.classroomObj.name?null:n.classroomObj.name.length)&&void 0!==o?o:0)<=25),e.R7$(),e.Y8G("ngIf",!e.i5U(7,5,n.classroomObj,"classroom"))}}function Rt(t,i){if(1&t&&(e.j41(0,"div",71),e.DNE(1,Tt,9,8,"ng-container",7)(2,zt,8,8,"ng-container",7),e.k0s()),2&t){const a=i.$implicit;e.Y8G("ngStyle",e.eq3(3,pt,"group"==a.type?"span 12 / span 12":"")),e.R7$(),e.Y8G("ngIf","group"==a.type),e.R7$(),e.Y8G("ngIf","classroom"==a.type&&a.classroomObj)}}function Nt(t,i){if(1&t&&(e.qex(0),e.j41(1,"ng-scrollbar",61)(2,"cdk-virtual-scroll-viewport",62),e.DNE(3,jt,4,2,"div",63),e.j41(4,"div",64),e.DNE(5,Rt,3,5,"div",65),e.k0s()()(),e.bVm()),2&t){const a=e.XpG(2);e.R7$(),e.Y8G("visibility","hover"),e.R7$(2),e.Y8G("ngIf",0==a.mapClassroomGroupDataToForm.groupIdSelected&&a.mapClassroomGroupDataToForm.groupObjs.length>1),e.R7$(2),e.Y8G("cdkVirtualForOf",a.mapClassroomGroupDataToVirtualScroll)}}function Mt(t,i){1&t&&(e.j41(0,"div",85),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_student_classroom_list_class_null")," "))}function Lt(t,i){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_testbank_test_config_you_not_yet_class")))}function Bt(t,i){if(1&t){const a=e.RV6();e.j41(0,"div")(1,"form",11)(2,"mat-drawer-container",12)(3,"mat-drawer",13,1),e.bIt("openedChange",function(n){e.eBV(a);const s=e.XpG();return e.Njj(s.sAztMatDrawerService.openedChange(n))}),e.j41(5,"div",14)(6,"div",15)(7,"div",16)(8,"azt-search-box",17),e.nI1(9,"mytranslate"),e.bIt("onSearch",function(n){e.eBV(a);const s=e.XpG();return e.Njj(s.searchByGroupName(n.searchObj))}),e.k0s()()(),e.j41(10,"div",18)(11,"ng-scrollbar",19)(12,"div",20),e.DNE(13,gt,3,8,"button",21)(14,Ct,2,1,"ng-container",7),e.k0s()()()()(),e.j41(15,"mat-drawer-content")(16,"div",22)(17,"div",23)(18,"div",24),e.DNE(19,xt,3,3,"button",25)(20,vt,3,3,"button",26),e.j41(21,"div",27)(22,"div",28)(23,"azt-search-box",17),e.nI1(24,"mytranslate"),e.bIt("onSearch",function(n){e.eBV(a);const s=e.XpG();return e.Njj(s.searchByClassroomName(n.searchObj))}),e.k0s()(),e.j41(25,"div",29)(26,"button",30)(27,"span",31),e.nrm(28,"lucide-icon",32),e.k0s(),e.j41(29,"span",33),e.EFF(30),e.nI1(31,"mytranslate"),e.DNE(32,kt,2,1,"span",34),e.k0s()()(),e.j41(33,"div",35),e.nrm(34,"azt-maximize-box",36),e.k0s(),e.j41(35,"mat-menu",null,2)(37,"div",37)(38,"ul",38)(39,"li")(40,"label",39),e.bIt("click",function(n){return e.eBV(a),e.Njj(n.stopPropagation())}),e.EFF(41),e.nI1(42,"mytranslate"),e.j41(43,"div",40)(44,"input",41),e.bIt("change",function(){e.eBV(a);const n=e.XpG();return n.filterObj.isShowChecked=!n.filterObj.isShowChecked,e.Njj(n.changeFilter())}),e.k0s()()()(),e.j41(45,"li")(46,"label",42),e.bIt("click",function(n){return e.eBV(a),e.Njj(n.stopPropagation())}),e.EFF(47),e.nI1(48,"mytranslate"),e.j41(49,"div",40)(50,"input",43),e.bIt("change",function(){e.eBV(a);const n=e.XpG();return n.filterObj.isShowNotChecked=!n.filterObj.isShowNotChecked,e.Njj(n.changeFilter())}),e.k0s()()()(),e.j41(51,"li"),e.nrm(52,"hr",44),e.k0s(),e.j41(53,"li")(54,"div",45)(55,"button",46),e.EFF(56),e.nI1(57,"mytranslate"),e.k0s(),e.j41(58,"div",47),e.bIt("click",function(n){return e.eBV(a),e.Njj(n.stopPropagation())}),e.j41(59,"button",48),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.clearFilter())}),e.EFF(60),e.nI1(61,"mytranslate"),e.k0s()()()()()()()()(),e.j41(62,"div",49),e.DNE(63,Nt,6,3,"ng-container",50)(64,Mt,3,3,"ng-template",null,3,e.C5r),e.k0s()()()()(),e.j41(66,"div",8)(67,"div",51),e.DNE(68,Lt,3,3,"span",7),e.EFF(69," \xa0 "),e.k0s()()()()}if(2&t){const a=e.sdS(36),o=e.sdS(65),n=e.XpG(),s=e.sdS(1);e.R7$(),e.Y8G("formGroup",n.form),e.R7$(),e.HbH(n.defaultCssClass),e.Y8G("ngClass",e.l_i(49,ct,n.isMobileDevice,!n.isMobileDevice))("hasBackdrop",n.sAztMatDrawerService.hasBackdrop),e.R7$(),e.FS9("opened",n.sAztMatDrawerService.isOpenSideNav?"true":"false"),e.Y8G("ngClass",e.l_i(52,mt,n.isMobileDevice,!n.isMobileDevice))("mode",n.sAztMatDrawerService.mode),e.R7$(5),e.Y8G("isServerSearch",!1)("placeholder",e.bMT(9,35,"lang_azt_search_class_group"))("searchContentObj",n.searchByGroupContentObj)("styleInput","pr-10 py-1"),e.R7$(3),e.Y8G("visibility","hover"),e.R7$(2),e.Y8G("ngIf",!n.searchByGroupContentObj.searchContent),e.R7$(),e.Y8G("ngIf",n.mapClassroomGroupDataToForm.groupObjs.length>1),e.R7$(2),e.Y8G("ngClass",e.eq3(55,ut,!n.isMobileDevice&&n.sAztMatDrawerService.isOpenSideNav)),e.R7$(3),e.Y8G("ngIf",!n.sAztMatDrawerService.isOpenSideNav||n.isMobileDevice),e.R7$(),e.Y8G("ngIf",n.sAztMatDrawerService.isOpenSideNav&&!n.isMobileDevice),e.R7$(3),e.Y8G("isServerSearch",!1)("placeholder",e.bMT(24,37,"lang_azt_search_class"))("searchContentObj",n.searchByClassroomContentObj)("styleInput","py-1"),e.R7$(3),e.Y8G("matMenuTriggerFor",a),e.R7$(4),e.SpI(" ",e.bMT(31,39,"lang_testbank_tested_list_sort")," "),e.R7$(2),e.Y8G("ngIf",n.filterObj.isShowChecked||n.filterObj.isShowNotChecked),e.R7$(2),e.Y8G("maximize",s),e.R7$(7),e.SpI(" ",e.bMT(42,41,"lang_azt_selected_classes")," "),e.R7$(3),e.Y8G("checked",n.filterObj.isShowChecked),e.R7$(3),e.SpI(" ",e.bMT(48,43,"lang_azt_unselected_classes")," "),e.R7$(3),e.Y8G("checked",n.filterObj.isShowNotChecked),e.R7$(6),e.JRh(e.bMT(57,45,"lang_button_close")),e.R7$(4),e.JRh(e.bMT(61,47,"lang_button_delete")),e.R7$(3),e.Y8G("ngIf",n.mapClassroomGroupDataToForm.viewClassroomInfos.total>0)("ngIfElse",o),e.R7$(5),e.Y8G("ngIf",n.form.controls.classroomFormArray.errors)}}let je=(()=>{var t;class i extends A.H{changeCheckboxEventLocal(){this.changeCheckboxEvent.emit()}searchByClassroomName(o){this.searchByClassroomContentObj=o,this.checkIsFilter(),this.calculateClassroomInfo()}searchByGroupName(o){this.searchByGroupContentObj=o,this.checkIsFilter(),this.calculateClassroomInfo()}changeFilter(){this.checkIsFilter(),this.calculateClassroomInfo()}clearFilter(){this.filterObj={isShowChecked:!1,isShowNotChecked:!1},this.checkIsFilter(),this.calculateClassroomInfo()}checkIsFilter(){return 0!=this.mapClassroomGroupDataToForm.groupIdSelected||this.filterObj.isShowChecked||this.filterObj.isShowNotChecked||""!=this.searchByClassroomContentObj.searchContent.trim()}selectByGroupId(o){this.mapClassroomGroupDataToForm.groupIdSelected=o?.id??0,this.calculateClassroomInfo(),this.scrollable?.scrollTo({top:0,duration:0}),this.isMobileDevice&&this.sAztMatDrawerService.closeDrawer()}toggleAllCheckBox(o){let n=this.formArray.getRawValue();n.map(s=>s.isChecked=o),this.formArray.patchValue(n,{emitEvent:!1}),this.calculateClassroomInfo()}toggleAllCheckBoxInGroup(o,n){let s=this.commonService.concatMultipleArray(this.mapClassroomGroupDataToForm.groupObjs.filter(l=>l.groupObj.id==n.id).map(l=>l.classroomObjs.map(_=>_.classroomFormGroup.controls.classroomId.value))),r=this.formArray.getRawValue();r.map(l=>l.isChecked=s.includes(l.classroomId)?o:l.isChecked),this.formArray.patchValue(r,{emitEvent:!1}),this.calculateClassroomInfo()}checkShowCreateClassroom(){var o=this.commonService.concatMultipleArray(this.classroomGroupData.map(s=>s.classroomObjs)),n=this.sAztClassroomCheckboxService.findClassroomWithNoFullPermission(o,this.permissionName);this.showCreateNewClassroom=n.length===o.length}calculateClassroomInfo(){this.doFilterData(),this.countCheckboxData(),this.calculateVirtualScrollData(),this.changeCheckboxEventLocal()}doFilterData(){const o=this.searchByClassroomContentObj.searchContent?this.commonService.convertVietnameseToEnglish(this.searchByClassroomContentObj.searchContent).toLowerCase().trim():"",n=this.searchByGroupContentObj.searchContent?this.commonService.convertVietnameseToEnglish(this.searchByGroupContentObj.searchContent).toLowerCase().trim():"";this.mapClassroomGroupDataToForm.groupObjs.forEach(s=>{const r=this.commonService.convertVietnameseToEnglish(s.groupObj.name??"");s.groupObj.isShowGroup=""==n||r.toLowerCase().trim().includes(n),s.classroomObjs.forEach(l=>{if(l.isShowClassroom=!0,!this.checkIsFilter())return;const _=this.commonService.convertVietnameseToEnglish(l.name);let u=0==this.mapClassroomGroupDataToForm.groupIdSelected||s.groupObj.id==this.mapClassroomGroupDataToForm.groupIdSelected,p=""==o||_.toLowerCase().trim().includes(o);l.isShowClassroom=u&&p&&(this.filterObj.isShowChecked&&l.classroomFormGroup.controls.isChecked.value||this.filterObj.isShowNotChecked&&!l.classroomFormGroup.controls.isChecked.value||!this.filterObj.isShowChecked&&!this.filterObj.isShowNotChecked)})})}countCheckboxData(){this.mapClassroomGroupDataToForm.groupObjs.forEach(o=>{o.groupObj.allClassroomInfos.total=o.classroomObjs.length,o.groupObj.allClassroomInfos.totalChecked=o.classroomObjs.filter(n=>n.classroomFormGroup.controls.isChecked.value).length,o.groupObj.filterClassroomInfos.total=o.classroomObjs.filter(n=>n.isShowClassroom).length,o.groupObj.filterClassroomInfos.totalChecked=o.classroomObjs.filter(n=>n.isShowClassroom&&n.classroomFormGroup.controls.isChecked.value).length,o.groupObj.viewClassroomInfos=this.checkIsFilter()?o.groupObj.filterClassroomInfos:o.groupObj.allClassroomInfos}),this.mapClassroomGroupDataToForm.allClassroomInfos.total=this.mapClassroomGroupDataToForm.groupObjs.reduce((o,n)=>o+n.groupObj.allClassroomInfos.total,0),this.mapClassroomGroupDataToForm.allClassroomInfos.totalChecked=this.mapClassroomGroupDataToForm.groupObjs.reduce((o,n)=>o+n.groupObj.allClassroomInfos.totalChecked,0),this.mapClassroomGroupDataToForm.filterClassroomInfos.total=this.mapClassroomGroupDataToForm.groupObjs.reduce((o,n)=>o+n.groupObj.filterClassroomInfos.total,0),this.mapClassroomGroupDataToForm.filterClassroomInfos.totalChecked=this.mapClassroomGroupDataToForm.groupObjs.reduce((o,n)=>o+n.groupObj.filterClassroomInfos.totalChecked,0),this.mapClassroomGroupDataToForm.viewClassroomInfos=this.checkIsFilter()?this.mapClassroomGroupDataToForm.filterClassroomInfos:this.mapClassroomGroupDataToForm.allClassroomInfos}calculateVirtualScrollData(){var o=[];this.mapClassroomGroupDataToForm.groupObjs.filter(n=>n.groupObj.viewClassroomInfos.total>0).forEach(n=>{o.push({type:"group",groupObj:n.groupObj,classroomObj:void 0}),n.classroomObjs.filter(s=>s.isShowClassroom).forEach(s=>{o.push({type:"classroom",groupObj:n.groupObj,classroomObj:s})})}),this.mapClassroomGroupDataToVirtualScroll=o}openDialogCreateClassroom(){this.sAztDialogService.open(lt,{data:{},width:"500px",restoreFocus:!1}).afterClosed().subscribe(n=>{n&&n.obj&&(this.changeClassroomObjs(n.obj),this.createdNewClassroom.emit(!0))})}changeClassroomObjs(o){var n=this.classroomGroupData.find(s=>-2==s.groupObj.id);n&&(n.classroomObjs.push(o),n.classroomObjs.sort((s,r)=>(s.name??"").localeCompare(r.name??"")),this.checkShowCreateClassroom(),this.initClassroomCheckbox())}initClassroomCheckbox(){let o=[];var n=[];const s=Number(this.getMyQueryParam("classroomId")??0);s&&n.push(s),this.homeworkObj&&this.homeworkObj.classroomId&&n.push(this.homeworkObj.classroomId),this.examClassroomObjs.filter(r=>r.classroomId).forEach(r=>n.push(r.classroomId??0)),null!=this.shareClassroomIds&&(n=this.shareClassroomIds),this.classroomGroupData=this.classroomGroupData.map(r=>({groupObj:r.groupObj,isOwned:r.isOwned,classroomObjs:r.classroomObjs.filter(l=>null!=l.permissionObj&&this.permissionService.hasCreatePermission(this.listPermissionTypes[this.permissionName],l))})),this.mapClassroomGroupDataToForm.groupObjs=this.classroomGroupData.map(r=>({groupObj:{...r.groupObj,isShowGroup:!0,allClassroomInfos:{total:0,totalChecked:0},viewClassroomInfos:{total:0,totalChecked:0},filterClassroomInfos:{total:0,totalChecked:0}},isOwned:r.isOwned,classroomObjs:r.classroomObjs.map(l=>{let _=n.includes(l.id),u=new c.gE({classroomId:new c.MJ(l.id,{nonNullable:!0}),classroomName:new c.MJ(l.name,{nonNullable:!0}),isChecked:new c.MJ(_,{nonNullable:!0})});return o.push(u),{...l,classroomFormGroup:u,isShowClassroom:!0}})})),this.formArray.clear(),o.forEach(r=>this.formArray.push(r,{emitEvent:!1})),this.calculateClassroomInfo()}initForm(){this.formArray=this.form.controls.classroomFormArray,this.classroomGroupData.forEach(o=>o.classroomObjs.map(n=>n.name=this.commonService.myTranslateInstant(n.name)??"")),this.initClassroomCheckbox(),this.checkShowCreateClassroom(),this.formArray.valueChanges.subscribe(()=>{this.calculateClassroomInfo()})}ngOnInit(){super.ngOnInit(),this.initForm()}constructor(){super(),this.sAztMatDrawerService=(0,e.WQX)(ae.n),this.permissionService=(0,e.WQX)(q.p),this.sAztClassroomCheckboxService=(0,e.WQX)(se),this.sAztDialogService=(0,e.WQX)(Y.i),this.permissionName=M.homework,this.examClassroomObjs=[],this.shareClassroomIds=void 0,this.defaultCssClass="classroom-box-in-single-page",this.changeCheckboxEvent=new e.bkB,this.createdNewClassroom=new e.bkB,this.formArray=new c.Yp([]),this.mapClassroomGroupDataToForm={groupObjs:[],groupIdSelected:0,allClassroomInfos:{total:0,totalChecked:0},viewClassroomInfos:{total:0,totalChecked:0},filterClassroomInfos:{total:0,totalChecked:0}},this.mapClassroomGroupDataToVirtualScroll=[],this.listPermissionTypes=M,this.showCreateNewClassroom=!1,this.searchByClassroomContentObj=new P.Z,this.searchByGroupContentObj=new P.Z,this.filterObj={isShowChecked:!1,isShowNotChecked:!1}}}return(t=i).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-list-classroom-checkbox"]],viewQuery:function(o,n){if(1&o&&e.GBs(C.Yh,7),2&o){let s;e.mGM(s=e.lsd())&&(n.scrollable=s.first)}},inputs:{form:"form",classroomGroupData:"classroomGroupData",permissionName:"permissionName",homeworkObj:"homeworkObj",examClassroomObjs:"examClassroomObjs",shareClassroomIds:"shareClassroomIds",defaultCssClass:"defaultCssClass"},outputs:{changeCheckboxEvent:"changeCheckboxEvent",createdNewClassroom:"createdNewClassroom"},standalone:!0,features:[e.Jv_([ae.n]),e.Vt3,e.aNF],decls:4,vars:2,consts:[["maximize","maximize"],["drawer",""],["menuFilter","matMenu"],["emptyClassroom",""],["notCheckAll",""],["maximize","",1,"azt-list-classroom-by-group"],["class","mt-2",4,"ngIf"],[4,"ngIf"],[1,"mt-2"],[1,"text-create","pb-2"],["azt-track-service","azt-list-classroom-checkbox-6scHm7Ch1-",1,"btn-text-primary",3,"click"],[3,"formGroup"],[1,"azt-drawer-container",3,"ngClass","hasBackdrop"],[3,"openedChange","ngClass","mode","opened"],[1,"box","h-full","border","border-slate-200/60","dark:border-darkmode-400"],[1,"flex","rounded-md","border-b","border-slate-200","dark:border-darkmode-400","p-2","text-slate-500",2,"border-bottom-right-radius","0","border-bottom-left-radius","0"],[1,"search-box"],[3,"onSearch","isServerSearch","placeholder","searchContentObj","styleInput"],[2,"height","calc(100% - 50px)"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility"],[1,"p-2"],["azt-track-service","azt-list-classroom-checkbox-TUrZzBy9T","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],[1,"azt-drawer-content","h-full",3,"ngClass"],[1,"box","border","border-slate-200","dark:border-darkmode-400","h-full"],[1,"flex","items-center","rounded-md","border-b","border-slate-200","dark:border-darkmode-400","p-2","text-slate-500",2,"border-bottom-right-radius","0","border-bottom-left-radius","0"],["azt-track-service","azt-list-classroom-checkbox-WB1u8XZHUS","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","azt-list-classroom-checkbox-q2BPTM5lPo","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"flex","ml-auto"],[1,"mr-2"],[1,"filter","mr-2"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],[1,"w-4","h-4","inline-block"],["name","filter","size","18"],[1,"azt-hidden","md:block","ml-2"],["class","p-1 ml-1 items-center justify-center rounded-full text-xs bg-primary text-white cursor-pointer font-medium","style","display: inline-flex; width: 15px; height: 15px; font-size: 10px",4,"ngIf"],[1,"flex","items-center"],[3,"maximize"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","azt-list-classroom-checkbox-mJWF3uWTQJ","for","isShowChecked",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","isShowChecked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","azt-list-classroom-checkbox-pFWk_nWN9o","for","isShowNotChecked",1,"dropdown-item","cursor-pointer",3,"click"],["id","isShowNotChecked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","azt-list-classroom-checkbox-3OFGLRY5fa",3,"click"],["azt-track-service","azt-list-classroom-checkbox-iJlkvwO36n",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"w-full",2,"height","calc(100% - 50px)"],[4,"ngIf","ngIfElse"],[1,"text-xs","font-medium","text-danger"],["azt-track-service","azt-list-classroom-checkbox-TUrZzBy9T",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"click","ngClass"],[4,"ngFor","ngForOf"],["azt-track-service","azt-list-classroom-checkbox-hUXQqnl7px","class","flex items-center px-3 py-2 rounded-md w-full text-left",3,"ngClass","click",4,"ngIf"],["azt-track-service","azt-list-classroom-checkbox-hUXQqnl7px",1,"flex","items-center","px-3","py-2","rounded-md","w-full","text-left",3,"click","ngClass"],["azt-track-service","azt-list-classroom-checkbox-WB1u8XZHUS",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-open","size","16"],["azt-track-service","azt-list-classroom-checkbox-q2BPTM5lPo",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-close","size","16"],[1,"p-1","ml-1","items-center","justify-center","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium",2,"display","inline-flex","width","15px","height","15px","font-size","10px"],["track","vertical",1,"h-full",3,"visibility"],["scrollViewport","","itemSize","10"],["class","p-3 pb-0",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","p-3","pt-2"],["class","col-span-12 md:col-span-6",3,"ngStyle",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-3","pb-0"],["azt-track-service","azt-list-classroom-checkbox-loLpkgGG1","class","clickable",3,"click",4,"ngIf","ngIfElse"],["azt-track-service","azt-list-classroom-checkbox-loLpkgGG1",1,"clickable",3,"click"],[1,"link-color"],["azt-track-service","azt-list-classroom-checkbox-icrcYTPz96",1,"clickable",3,"click"],[1,"col-span-12","md:col-span-6",3,"ngStyle"],[1,"font-bold"],["azt-track-service","azt-list-classroom-checkbox-__b3YKDM_d","class","clickable",3,"click",4,"ngIf","ngIfElse"],["azt-track-service","azt-list-classroom-checkbox-__b3YKDM_d",1,"clickable",3,"click"],["azt-track-service","azt-list-classroom-checkbox-3SlyuYRP9f",1,"clickable",3,"click"],[1,"azt-checkbox-item"],["class","form-check-input","type","checkbox",3,"id","formControl","value","change",4,"ngIf"],[1,"form-check-label",2,"vertical-align","middle",3,"for"],["class","mr-2",3,"matTooltip",4,"ngIf"],["class","mr-2",4,"ngIf"],["class","py-0.5 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium","style","white-space: nowrap",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"change","id","formControl","value"],[1,"mr-2",3,"matTooltip"],[1,"py-0.5","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium",2,"white-space","nowrap"],[1,"flex","items-center","justify-center",2,"height","200px"]],template:function(o,n){1&o&&(e.j41(0,"div",5,0),e.DNE(2,ht,10,9,"div",6)(3,Bt,70,57,"div",7),e.k0s()),2&o&&(e.R7$(2),e.Y8G("ngIf",n.showCreateNewClassroom),e.R7$(),e.Y8G("ngIf",n.form))},dependencies:[Se,me.W,ye,d.MD,d.YU,d.Sq,d.bT,d.B3,d.P9,c.X1,c.qT,c.Zm,c.BC,c.cb,c.l_,c.j4,f.iI,c.YN,g.wp,T.s,X.kk,X.Cp,U.qe,U.$C,U.$l,L.oV,W.yg,W.E$,W.d6,b.flO,b.WGl,O.L,g.gC,C.Id,C.Yh,C.Gl,w.k],encapsulation:2}),i})();var Oe=m(66579),Ie=m(83801);function $t(t,i){1&t&&(e.j41(0,"div",9)(1,"span",10),e.nrm(2,"azt-loading-ui"),e.k0s(),e.j41(3,"span",11),e.EFF(4,"Loading..."),e.k0s()())}function Vt(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",26)(1,"azt-list-classroom-checkbox",27),e.bIt("changeCheckboxEvent",function(n){e.eBV(a);const s=e.XpG(3);return e.Njj(s.changeStatusOfflineShare(n))}),e.k0s()()}if(2&t){const a=e.XpG(3);e.R7$(),e.Y8G("form",a.form)("classroomGroupData",a.classroomWithGroup)("shareClassroomIds",a.shareClassroomIds)("permissionName",a.permissionTypes.exam)("defaultCssClass","classroom-box-in-dialog")}}function Yt(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",28),e.nrm(1,"input",29),e.j41(2,"button",30),e.bIt("click",function(){e.eBV(a);const n=e.XpG(3);return e.Njj(n.showCopySuccess())}),e.j41(3,"span",31),e.nrm(4,"lucide-icon",32),e.k0s(),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()}if(2&t){const a=e.XpG(3);e.R7$(),e.Y8G("value",a.linkCopy),e.R7$(),e.Y8G("cdkCopyToClipboard",a.copyLinkToClipboard()),e.R7$(3),e.SpI(" ",e.bMT(6,3,"lang_auto_sao_chep")," ")}}function Pt(t,i){1&t&&(e.j41(0,"div",33)(1,"p",34),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_chua_duoc_cau_hinh_tra_de_thi")))}function Xt(t,i){if(1&t){const a=e.RV6();e.qex(0),e.j41(1,"div",14)(2,"div",15)(3,"input",16),e.bIt("change",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.changeStatusOfflineShare(void 0))}),e.k0s(),e.j41(4,"label",17),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()(),e.j41(7,"div",18)(8,"input",19),e.bIt("change",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.changeStatusOfflineShare(void 0))}),e.k0s(),e.j41(9,"label",20),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"div",18)(13,"input",21),e.bIt("change",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.changeStatusOfflineShare(void 0))}),e.k0s(),e.j41(14,"label",22),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()(),e.DNE(17,Vt,2,5,"div",23)(18,Yt,7,5,"div",24)(19,Pt,4,3,"div",25),e.nI1(20,"fullPermission"),e.bVm()}if(2&t){const a=e.XpG(2);e.R7$(3),e.Y8G("value",0),e.R7$(2),e.JRh(e.bMT(6,9,"lang_auto_khong")),e.R7$(3),e.Y8G("value",1),e.R7$(2),e.JRh(e.bMT(11,11,"lang_auto_tat_ca_cac_lop")),e.R7$(3),e.Y8G("value",2),e.R7$(2),e.JRh(e.bMT(16,13,"lang_auto_tuy_chon_theo_lop")),e.R7$(2),e.Y8G("ngIf",2===a.form.controls.chooseOption.value),e.R7$(),e.Y8G("ngIf",1===a.form.controls.chooseOption.value||2===a.form.controls.chooseOption.value&&!a.form.controls.classroomFormArray.errors),e.R7$(),e.Y8G("ngIf",!e.i5U(20,15,a.examWithPermissionObj,"exam"))}}function Ut(t,i){1&t&&(e.j41(0,"div",36)(1,"p",34),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_chua_duoc_cau_hinh_tra_de_thi")))}function Wt(t,i){if(1&t&&(e.DNE(0,Ut,4,3,"div",35),e.nI1(1,"fullPermission")),2&t){const a=e.XpG(2);e.Y8G("ngIf",!e.i5U(1,1,a.examWithPermissionObj,"exam"))}}function Qt(t,i){if(1&t&&(e.j41(0,"form",12),e.DNE(1,Xt,21,18,"ng-container",13),e.nI1(2,"fullPermission"),e.DNE(3,Wt,2,4,"ng-template",null,1,e.C5r),e.k0s()),2&t){const a=e.sdS(4),o=e.XpG();e.Y8G("formGroup",o.form),e.R7$(),e.Y8G("ngIf",e.i5U(2,3,o.examWithPermissionObj,"exam"))("ngIfElse",a)}}function Jt(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",37)(1,"button",38),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.btnCloseDialog(!1))}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_dong")," "))}let Ht=(()=>{var t;class i extends B._{btnCloseDialog(o){this.dialogRef.close(o)}copyLinkToClipboard(){let o=this.commonService.getCurrentDomain();return this.linkCopy=`${o}/de-thi/${this.examWithPermissionObj?.hashId}?offline=${this.offlineCode}`,this.linkCopy}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}getCodeOfflineShare(){this.initStatusObj(),this.waitDestroy(this.offlineShareService.apiOfflineShareGetObjGet(this.examHashId).subscribe(o=>{1==o.success?(this.offlineCode=o.data?.shareHashId??"",this.shareClassroomIds=o.data?.shareClassroomIds??[],this.examWithPermissionObj=o.data?.examObj,this.classroomWithGroup=[{groupObj:{id:-1,name:this.commonService.myTranslateInstant("lang_testbank_share_offline_default_group")},isOwned:!0,classroomObjs:o.data?.classroomObjs??[]}],this.form.controls.chooseOption.setValue(o.data?.showOfflineResult??0),this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}changeStatusOfflineShare(o){if(2==this.form.getRawValue().chooseOption&&this.form.controls.classroomFormArray.errors?.classroomCheckBoxValidatorWithoutWhoAllow)return;let n=this.form.getRawValue().chooseOption;const s=2!=n?[]:this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray);this.waitDestroy(this.offlineShareService.apiOfflineShareChangeStatusPost({examHashId:this.examWithPermissionObj?.hashId??"",status:n,classroomIds:s}).subscribe(l=>{1==l.success?this.offlineCode=l.data?.shareHashId??"":this.errorStatusObj(l.message??"",!0)}))}ngAfterContentChecked(){this.changeDetector.detectChanges()}ngOnInit(){super.ngOnInit(),this.getCodeOfflineShare()}constructor(o,n,s,r,l){super(r,s),this.changeDetector=o,this.offlineShareService=n,this.dialogRef=s,this.sAztClassroomCheckboxService=l,this.examHashId="",this.useDialog=!1,this.permissionTypes=M,this.offlineCode="",this.linkCopy="",this.examWithPermissionObj=void 0,this.classroomWithGroup=[],this.shareClassroomIds=[],this.examHashId=r.examHashId?r.examHashId:this.examHashId,this.useDialog=r?r.useDialog:this.useDialog,this.form=new c.gE({chooseOption:new c.MJ(0,{nonNullable:!0}),whoAllow:new c.MJ(0,{nonNullable:!0}),classroomFormArray:new c.Yp([])},{validators:[Z.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(e.gRc),e.rXU(Oe.i$),e.rXU(F.CP,8),e.rXU(F.Vh,8),e.rXU(se))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-offline-share"]],inputs:{examHashId:"examHashId",useDialog:"useDialog"},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:6,consts:[["doneLoading",""],["noFullPermission",""],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium"],[1,"p-3","pt-0"],["class","flex justify-center items-center",4,"ngIf","ngIfElse"],["class","text-right mt-3",4,"ngIf"],[1,"flex","justify-center","items-center"],[1,"w-4","h-4","inline-block"],[1,"sr-only","ml-2"],[3,"formGroup"],[4,"ngIf","ngIfElse"],[1,"flex","flex-col","sm:flex-row","mb-3"],[1,"form-check","mr-8"],["formControlName","chooseOption","id","notAllow","type","radio",1,"form-check-input",3,"change","value"],["for","notAllow",1,"form-check-label"],[1,"form-check","mr-8","mt-2","sm:mt-0"],["formControlName","chooseOption","id","allAllow","type","radio",1,"form-check-input",3,"change","value"],["for","allAllow",1,"form-check-label"],["formControlName","chooseOption","id","customAllow","type","radio",1,"form-check-input",3,"change","value"],["for","customAllow",1,"form-check-label"],["class","azt-list-classroom",4,"ngIf"],["class","azt-copy relative",4,"ngIf"],["class","mt-0",4,"ngIf"],[1,"azt-list-classroom"],[3,"changeCheckboxEvent","form","classroomGroupData","shareClassroomIds","permissionName","defaultCssClass"],[1,"azt-copy","relative"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10","text-primary",2,"padding-right","120px","cursor","pointer",3,"value"],["azt-track-service","practice-detail-isTsISlyAY",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click","cdkCopyToClipboard"],[1,"w-4","h-4","inline-block","mr-2"],["name","copy","size","20"],[1,"mt-0"],[1,"note"],["class","text-center",4,"ngIf"],[1,"text-center"],[1,"text-right","mt-3"],["azt-track-service","azt-offline-share-hrBGx7oL2r",1,"btn","w-24","btn-secondary",3,"click"]],template:function(o,n){if(1&o&&(e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3",5),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"div",6),e.DNE(7,$t,5,0,"div",7)(8,Qt,5,6,"ng-template",null,0,e.C5r)(10,Jt,4,3,"div",8),e.k0s()()()),2&o){const s=e.sdS(9);e.R7$(4),e.JRh(e.bMT(5,4,"lang_auto_tra_ket_qua_thi_offline")),e.R7$(3),e.Y8G("ngIf",n.statusObj.loading)("ngIfElse",s),e.R7$(3),e.Y8G("ngIf",n.useDialog)}},dependencies:[K.R,je,d.MD,d.bT,c.X1,c.qT,c.me,c.Fm,c.BC,c.cb,c.j4,c.JD,f.iI,c.YN,g.wp,T.s,Ie.dF,b.flO,b.WGl,O.L,g.gC,C.Id,w.k,ee.t],encapsulation:2}),i})();var Kt=m(96475),Te=m(53688),we=function(t){return t[t.multipleChoice=1]="multipleChoice",t[t.essay=3]="essay",t[t.trueFalse=5]="trueFalse",t[t.fill=4]="fill",t}(we||{}),De=m(92039);const Zt=["table"],Fe=()=>[];function qt(t,i){if(1&t&&(e.j41(0,"td",6),e.EFF(1),e.nI1(2,"formatOfflineExamHashIdToNumber"),e.k0s()),2&t){const a=i.$implicit,o=i.index;e.BMQ("excelRow",1)("excelColumn",o+1),e.R7$(),e.SpI(" ",e.bMT(2,3,null==a?null:a.offlineMixQuestionHashId)," ")}}function eo(t,i){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const a=e.XpG(2).$implicit,o=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,a.offlineQuestionObjs[o].answer)," ")}}function to(t,i){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_core_essay_question")," "))}function oo(t,i){if(1&t&&(e.j41(0,"span"),e.DNE(1,eo,3,3,"span",7)(2,to,3,3,"span",7),e.k0s()),2&t){const a=e.XpG().$implicit,o=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",!(null!=a.offlineQuestionObjs&&null!=a.offlineQuestionObjs[o]&&a.offlineQuestionObjs[o].isEssay)),e.R7$(),e.Y8G("ngIf",null==a.offlineQuestionObjs||null==a.offlineQuestionObjs[o]?null:a.offlineQuestionObjs[o].isEssay)}}function no(t,i){if(1&t&&(e.j41(0,"td",6),e.DNE(1,oo,3,2,"span",7),e.k0s()),2&t){let a;const o=i.$implicit,n=i.index,s=e.XpG().$implicit;e.BMQ("excelRow",s+2)("excelColumn",n+1),e.R7$(),e.Y8G("ngIf",(null!==(a=null==o.offlineQuestionObjs?null:o.offlineQuestionObjs.length)&&void 0!==a?a:0)>s)}}function ao(t,i){if(1&t&&(e.j41(0,"tr")(1,"td",3),e.EFF(2),e.k0s(),e.DNE(3,no,2,3,"td",4),e.k0s()),2&t){let a;const o=i.$implicit,n=e.XpG();e.R7$(),e.BMQ("excelRow",o+2)("excelColumn",0),e.R7$(),e.SpI(" ",o+n.startQuestionIndex," "),e.R7$(),e.Y8G("ngForOf",null!==(a=null==n.obj?null:n.obj.offlineMixQuestionObjs)&&void 0!==a?a:e.lJ4(4,Fe))}}let so=(()=>{var t;class i extends A.H{calculateMaxQuestion(){let o=0;return this.obj.offlineMixQuestionObjs&&this.obj.offlineMixQuestionObjs.forEach(n=>{o<(n.offlineQuestionObjs?.length??0)&&(o=n.offlineQuestionObjs?.length??0)}),o}processData(){for(let o=0;o<this.obj.offlineMixQuestionObjs.length;o++)for(let n=0;n<this.obj.offlineMixQuestionObjs[o].offlineQuestionObjs.length;n++)this.obj.offlineMixQuestionObjs[o].offlineQuestionObjs[n].answerType===this.offlineAnswerType.trueFalse&&(this.obj.offlineMixQuestionObjs[o].offlineQuestionObjs[n].answer=this.convertAnswerTrueFalse(this.obj.offlineMixQuestionObjs[o].offlineQuestionObjs[n].answer))}convertAnswerTrueFalse(o){const n=o.split(","),s=this.commonService.myClone(this.answerChoiceMap),r=this.commonService.myTranslateInstant("lang_testbank_correct_answer_to_offline_exam"),l=this.commonService.myTranslateInstant("lang_testbank_wrong_answer_to_offline_exam");return s.map(u=>n.includes(u)?r:l).join("")}ngOnChanges(){this.processData(),this.isExported=!1,this.maxQuestionIndex=this.calculateMaxQuestion(),this.totalExamCode=this.obj.offlineMixQuestionObjs?.length??0}ngAfterViewChecked(){0==this.isExported&&(this.isExported=!0,setTimeout(()=>{this.exportDataDone.emit(this.exportExcelService.exportHtmlTableToExcelBlob(this.table,!0))},0))}constructor(o){super(),this.exportExcelService=o,this.startQuestionIndex=1,this.exportDataDone=new e.bkB,this.maxQuestionIndex=0,this.totalExamCode=0,this.isExported=!1,this.offlineAnswerType=we,this.answerChoiceMap=["A","B","C","D"]}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(De.x))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-export-excel-for-answersheet"]],viewQuery:function(o,n){if(1&o&&e.GBs(Zt,5),2&o){let s;e.mGM(s=e.lsd())&&(n.table=s.first)}},inputs:{obj:"obj",startQuestionIndex:"startQuestionIndex"},outputs:{exportDataDone:"exportDataDone"},standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:14,vars:16,consts:[["table",""],[1,"table","table-bordered",2,"display","none"],["rowspan","2","excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true}}',1,"text-center","azt-excel-cell"],["excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true}}',1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell","excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true}}',4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true}}',1,"text-center","azt-excel-cell"],[4,"ngIf"]],template:function(o,n){if(1&o&&(e.j41(0,"table",1,0)(2,"tbody")(3,"tr")(4,"td",2),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"td",3),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"tr"),e.DNE(11,qt,3,5,"td",4),e.k0s(),e.DNE(12,ao,4,5,"tr",5),e.nI1(13,"createEmptyArray"),e.k0s()()),2&o){let s;e.R7$(4),e.BMQ("excelRow",0)("excelColumn",0),e.R7$(),e.SpI(" ",e.bMT(6,9,"lang_testbank_answersheet_question_title")," "),e.R7$(2),e.BMQ("colspan",n.totalExamCode)("excelRow",0)("excelColumn",1),e.R7$(),e.SpI(" ",e.bMT(9,11,"lang_auto_ma_de_thi")," "),e.R7$(3),e.Y8G("ngForOf",null!==(s=null==n.obj?null:n.obj.offlineMixQuestionObjs)&&void 0!==s?s:e.lJ4(15,Fe)),e.R7$(),e.Y8G("ngForOf",e.bMT(13,13,n.maxQuestionIndex))}},dependencies:[d.MD,d.Sq,d.bT,c.X1,f.iI,c.YN,g.wp,T.s,b.flO,O.L,g.IX,g.c,C.Id,w.k],encapsulation:2}),i})();var z=m(98457),io=m(50193),ro=m(83536),lo=m(15019),co=m(31413),mo=m(87670),Q=m(53470),ue=m(78839),uo=m(74523),_o=m(65537),po=m(86020),ho=m(1167),de=m(77247),Ge=m(45312),R=m(34117),go=m(84113),ie=m(57507),fo=m(21524),Ee=function(t){return t[t.templateOriginalA4=20]="templateOriginalA4",t[t.templateA5Full50=22]="templateA5Full50",t[t.templateA4Essay=21]="templateA4Essay",t[t.templateA6Full20=23]="templateA6Full20",t[t.templateTrueFalseFullA4=24]="templateTrueFalseFullA4",t[t.templateHSGA4=25]="templateHSGA4",t[t.templateTrueFalseA4With12Fill=26]="templateTrueFalseA4With12Fill",t[t.templateA4With96MultipleAndEssay=27]="templateA4With96MultipleAndEssay",t[t.templateA4Full66WithFax=28]="templateA4Full66WithFax",t[t.templateA4EssayWith4Fill2018=29]="templateA4EssayWith4Fill2018",t[t.templateA4NoEssay2025=31]="templateA4NoEssay2025",t[t.templateMinistryA4TF=2025]="templateMinistryA4TF",t[t.templateMinistry4DigitsExamCode=20254]="templateMinistry4DigitsExamCode",t[t.templateSGDQN=30]="templateSGDQN",t[t.templateTrueFalseA4=15]="templateTrueFalseA4",t[t.templateTrueFalseEssayA4=32]="templateTrueFalseEssayA4",t[t.templateTrueFalseA5=17]="templateTrueFalseA5",t[t.templateTrueFalseA6=18]="templateTrueFalseA6",t[t.templateA4WithFax=19]="templateA4WithFax",t[t.templateA4WithFaxV2=190]="templateA4WithFaxV2",t[t.templateTrueFalseA4WithColor=150]="templateTrueFalseA4WithColor",t[t.templateA4WithColorNew=200]="templateA4WithColorNew",t}(Ee||{}),bo=m(72241),Ae=m(35773);let ze=(()=>{var t;class i{constructor(o,n,s,r,l){this.commonService=o,this.shareFileFlutterService=n,this.encryptService=s,this.formatAnswerSheetService=r,this.exportExcelService=l,this.allAnswerSheet=Ee}exportFileNameOfStudentCode(o,n,s){return 100==o&&(n=""),this.commonService.createFileNameExportFile(["DanhSachSBD"+(n?"_"+n:"")+"_"+this.encryptService.createMd5(s).substring(0,6)])+".xlsx"}chooseAnswerSheetTemplate(o,n,s,r,l,_){return n==this.allAnswerSheet.templateA5Full50?o.createA5AnswerSheetFullA4_50(_??50):n==this.allAnswerSheet.templateA4Essay?o.createA4AnswerSheet_35hh(_??50):n==this.allAnswerSheet.templateA6Full20?o.createA6AnswerSheetFullA4_20(_??20):n==this.allAnswerSheet.templateTrueFalseA4||n==this.allAnswerSheet.templateHSGA4||n==this.allAnswerSheet.templateTrueFalseA4With12Fill||n==this.allAnswerSheet.templateTrueFalseFullA4||n==this.allAnswerSheet.templateTrueFalseA4WithColor||n==this.allAnswerSheet.templateTrueFalseEssayA4||n==this.allAnswerSheet.templateTrueFalseA5||n==this.allAnswerSheet.templateTrueFalseA6||n==this.allAnswerSheet.templateA4WithFax||n==this.allAnswerSheet.templateA4WithFaxV2||n==this.allAnswerSheet.templateA4EssayWith4Fill2018||n==this.allAnswerSheet.templateA4NoEssay2025||n==this.allAnswerSheet.templateA4With96MultipleAndEssay?o.createTrueFalseAnswerSheet():n==this.allAnswerSheet.templateMinistryA4TF?o.createAzotaAnswerSheetMinistry_A4():n==this.allAnswerSheet.templateMinistry4DigitsExamCode?o.createAzotaAnswerSheetMinistry_A4_4DigitsExamCode():o.createAzotaAnswerSheet_A4(_??120)}exportFileNameOfAnswerSheet(o,n,s){var r="";return 100==o&&(n=""),(0==o||100==o)&&(r=this.commonService.createFileNameExportFile(["PhieuTL_"+s+(n?"_"+n:"")])),r}exportFileNameOfAnswerExcelOffline(o,n,s){var r="";return 100==o&&(n=""),(0==o||100==o)&&(r=this.commonService.createFileNameExportFile(["DapAn_"+(n?"_"+n:"")])),r}exportFileNameOfRawExam(o,n,s){var r="";return 100==o&&(n=""),(0==o||100==o)&&(r=this.commonService.createFileNameExportFile([(n?"_"+n:"")+"_"+this.encryptService.createMd5(s).substring(0,6)])),r}exportFileNameOfExamOffline(o,n,s,r){var l="";return 100==o&&(n=""),(0==o||100==o)&&(l=this.commonService.createFileNameExportFile([(r?this.formatAnswerSheetService.formatOfflineExamHashIdToNumber(r,Ge.c.maxExamCodeLength)+"_":"")+s+(n?"_"+n:"")])),l}printStudentCode(o,n){var s=[];let r=this.commonService.myClone(n);for(let l=0;l<r.length;l++)s.push({code:r[l].code??0,fullName:r[l]?.fullName??"",birthday:r[l]?.birthday??"",phone:r[l]?.phone,className:r[l].classroomName??""});this._exportExcelForCodeNumber(o,s)}_exportExcelForCodeNumber(o,n){let s=this.exportFileNameOfStudentCode(0,o?.name??"",o?.hashId??"");const r=this.exportExcelService.exportExcelForCodeNumber(n);this.shareFileFlutterService.shareFileWithBlob(r,s)}}return(t=i).\u0275fac=function(o){return new(o||t)(e.KVO(te.R),e.KVO(ue.R),e.KVO(bo.v),e.KVO(Ae.e),e.KVO(De.x))},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();var Co=m(23360);let xo=(()=>{var t;class i{constructor(o,n,s,r,l,_,u,p,h){this.docxService=o,this.commonService=n,this.userService=s,this.questionRenderService=r,this.printAnswersheetService=l,this.formatAnswerSheetService=_,this.shareFileFlutterService=u,this.sAztAnswerTypeService=p,this.documentConfigService=h,this.configRenderService=new po.y,this.saveLoadingMsg="",this.isAnsDetail=!1,this.isEnableDebug=!1,this.zipper=new de,this.countRetryLoadJS=0}convertAnswerQuestion(o,n){let s=[],r=[];return o.answerResult&&this.isAnsDetail&&o.answerResult.forEach(l=>{let _=l;const u=o.answers?.find(p=>p.key===l);u&&(_=u.alpha??_),r.push(_)}),o.answers.forEach(l=>{let _="<b>     "+(r.includes(l.alpha??l.key)?"*":"")+(n?(l.alpha?l.alpha:l.key).toLowerCase()+")":(l.alpha?l.alpha:l.key)+".")+"</b> "+(0,R.t5)(l.content);s.push(_)}),s}getDataForExportDocxApi(o,n,s){let r=[],l=0;if(s){let u=this.commonService.myTranslateInstant("lang_cms_publish_test_exam");r.push({content:`<b> ${u} `+this.formatAnswerSheetService.formatOfflineExamHashIdToNumber(s,Ge.c.maxExamCodeLength)+".</b>",answers:[]})}let _=this.expandInfoParse?.label??this.commonService.myTranslateInstant("lang_auto_cau");return n.forEach(u=>{1!==o.hideGroupQuestion&&u.groupInfo?.isFirstInGroup&&u.groupInfo.groupContent&&r.push({content:`<b>${u.groupInfo.groupContent}<b>`,answers:[]}),this.isEnableDebug&&r.push({content:` <br/><br/><br/>*** <b>Question ID: ${u.id}</b> ***`,answers:[]});let p={content:`<b>${_} `+((u.labelIndex??l)+(o.startQuestionIndex??1))+".</b> "+(this.checkImgAtStart(u.content??"")?"<br/>":"")+(0,R.t5)(u.content),answers:this.convertAnswerQuestion(u??[],this.sAztAnswerTypeService.isTrueFalseAnswer(u))};if(l++,r.push(p),this.isAnsDetail&&((u.help||this.sAztAnswerTypeService.isFillAnswer(u))&&r.push({content:`<b>${this.commonService.myTranslateInstant("lang_auto_loi_giai")}</b><br/> ${u.help}`,answers:[]}),u.answerResult&&this.isAnsDetail)){let h=[];u.answerResult.forEach(v=>{let x=v;const I=u.answers?.find(D=>D.key===v);I&&(x=I.alpha??x),h.push(x)}),this.sAztAnswerTypeService.isFillAnswer(u)&&r.push({content:`${this.commonService.myTranslateInstant("lang_auto_dap_an")}: ${h.join(" | ")}`,answers:[]})}this.isEnableDebug&&r.push({content:"*** *************** .. **************** ***<br/><br/><br/>",answers:[]})}),r}makeDefaultStrValue(o,n){return o&&0!==o.trim().length?o??"":n??""}itemConverterCaller(o,n,s,r,l){var _=this;return new Promise((u,p)=>{var h=0;this.questionRenderService.parseRenderQuestions(o.listQuestion,v=>{if(!this.saveLoadingMsg.includes(")")){h=v/2;var x=(this.commonService.myTranslateInstant("lang_cms_common_loading")??"")+Math.floor(h)+"%";this.changeMsg?this.changeMsg(x):z.L.changeMsgLoadingEffect(x)}},this.configRenderService,void 0,!0,l).then(v=>{let x=[];const I=[],D=[];if((n.indetifyBox||n.examName)&&I.push(R.$s.createLineCenterBold(this.makeDefaultStrValue(n.indetifyBox,n.examName))),n.subject&&I.push(R.$s.createLineCenterBold(n.subject)),(n.timeBox||n.examMinutes)&&I.push(R.$s.createLineCenterItalicized(this.makeDefaultStrValue(n.timeBox,n.examMinutes))),I.push(R.$s.createLineCenterItalicized("-------------------------")),n.departmentName&&D.push(R.$s.createLineCenterBold(n.departmentName)),n.schoolName&&D.push(R.$s.createLineCenterBold(n.schoolName)),x.push({content:R.$s.makeHeaderTable(D,I,!1),answers:[]}),x.push({content:R.$s.createLineBold(this.commonService.myTranslateInstant("lang_auto_ho_ten_thi_sinh_offline")??"").outerHTML,answers:[]}),x.push({content:R.$s.createLineBold(this.commonService.myTranslateInstant("lang_auto_so_bao_danh_offline")??"").outerHTML,answers:[]}),x=x.concat(this.getDataForExportDocxApi(r,v,o.offlineExamMixQuestionObj?o.offlineExamMixQuestionObj.hashId??0:void 0)),(0,_o.w)()){var N=0;let G=o.offlineExamMixQuestionObj?.hashId?o.offlineExamMixQuestionObj.hashId.toString().padStart(3,"0"):void 0,E=G?this.commonService.myTranslateInstant("lang_auto_ma_de")+" "+G:"";this.docxService.exportToDocxBinary(x,{isHeadless:!0,footerLeft:E},function(){var k=(0,uo.A)(function*(y,S,j){new Promise(oe=>{setTimeout(()=>{0==y&&(N=h),h=y/S*25+N;var ms=(_.commonService.myTranslateInstant("lang_cms_common_loading")??"")+Math.floor(h)+"%";z.L.changeMsgLoadingEffect(ms)}),oe(!0)})});return function(y,S,j){return k.apply(this,arguments)}}()).then(k=>{u({userObj:s,data:k,input:x,additionParams:n,offlineExamMixQuestionObj:o.offlineExamMixQuestionObj})})}else p(new Error("C\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh x\u1eed l\xfd d\u1eef li\u1ec7u (Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c th\u01b0 vi\u1ec7n). Vui l\xf2ng F5 v\xe0 th\u1eed l\u1ea1i sau!"))}).catch(v=>{p(new Error(v[0].message))})})}masterConverterCaller(o,n,s,r,l,_){return new Promise((u,p)=>{const h=this.userService.getUserObj();let v=this.commonService.myTranslateInstant("lang_testbank_utils_footer_information_school")?.toLowerCase(),x=this.commonService.myTranslateInstant("lang_auto_docx_mon_thi")?.toLowerCase(),I=this.commonService.myTranslateInstant("lang_auto_docx_bai_thi")?.toLowerCase(),D=this.commonService.myTranslateInstant("lang_testbank_tested_list_time_homework"),N=this.commonService.myTranslateInstant("lang_core_khong_ke_thoi_gian_giao_de"),G=this.commonService.myTranslateInstant("lang_testbank_tested_list_minute"),E=this.commonService.myTranslateInstant("lang_auto_khong_gioi_han");const k=new ho.n(1,{function:(y,S)=>{this.saveLoadingMsg=`${this.commonService.myTranslateInstant("lang_auto_dang_tao_tep_tin_cho_de_thi")} ${S<=1?"":`(${y}/${S}) `}`,this.changeMsg?this.changeMsg(this.saveLoadingMsg):z.L.changeMsgLoadingEffect(this.saveLoadingMsg)}});o.forEach(y=>{let S={schoolName:this.makeDefaultStrValue(r?.nameSchool,`{${v}}`),subject:this.makeDefaultStrValue(r?.nameSubject,`{${x}}`),examName:this.makeDefaultStrValue(n.name,`{${I}}`),examMinutes:n.minutes&&n.minutes>0?`${D}: `+n.minutes+` ${G} (${N})`:` ${D}: ${E}`,templateType:l??0,numberOfQuestion:y.listQuestion.length,examId:y.offlineExamMixQuestionObj?.hashId??0,departmentName:r?.departmentName,indetifyBox:r?.indetifyBox,timeBox:r?.timeBox};k.addTask(this,this.itemConverterCaller,[y,S,h,n,_])}),k.start().then(y=>{if(y.errs.length>0)p(y.errs[0]);else if(1===y.datas.length){const S=y.datas[0],j=new Blob([S.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});let oe=this.createNameExam(n,s,S.offlineExamMixQuestionObj);this.shareFileFlutterService.shareFileWithBlob(j,oe),u()}else y.datas.forEach(S=>{let j=this.createNameExam(n,s,S.offlineExamMixQuestionObj);j=this.replaceAllString(j,"/","_"),this.zipper.file("DOCS/"+j,S.data)}),setTimeout(()=>{this.zipper.generateAsync({type:"blob"}).then(S=>{let j=this.commonService.createFileNameExportFile([n.name??"azota"])+"_offline_test.zip";this.shareFileFlutterService.shareFileWithBlob(S,j),u()},S=>{p(S)})},200)})})}replaceAllString(o,n,s){for(;o.includes(n);)o=o.replace(n,s);return o}createNameExam(o,n,s){return n?this.printAnswersheetService.exportFileNameOfExamOffline(0,o.name??"",n?.hashId??"",s?.hashId??0)+".docx":this.printAnswersheetService.exportFileNameOfRawExam(0,o.name??"",o.hashId??"")+".docx"}downloadExam(o,n,s,r,l,_,u,p,h,v,x){return new Promise((I,D)=>{this.isAnsDetail=o,this.isEnableDebug=!!v,this.expandInfoParse=this.commonService.castJsonToObj(n.expandInfo??"{}"),this.changeMsg=h,this.commonService.loadAzotaDocxJs().then(()=>{this.documentConfigService.apiDocumentConfigGetExamConfigDataV2Get(n.hashId??"").subscribe(N=>{if(1==N.success){let G=0,E=0;l.forEach((k,y)=>{k.labelIndex=k.originalLabel?Number(k.originalLabel)-1:y,N.data?.resetQuestionIndex&&k.groupInfo&&k.groupInfo.groupId&&(G!=k.groupInfo.groupId&&(G=k.groupInfo.groupId,E=0),k.labelIndex=k.originalLabel?Number(k.originalLabel)-1:E,E++)})}this.masterConverterCaller([{listQuestion:l,offlineExamMixQuestionObj:r}],n,s,_,u,x).then(()=>{this.zipper=new de,p?p(10):z.L.closeLoadingEffect(10),I()}).catch(G=>{z.L.closeLoadingEffect(10),D(G)})})}).catch(()=>{p?p(10):z.L.closeLoadingEffect(10),D(new Error("lang_core_lib_not_load"))})})}downloadExamObjs(o,n,s,r,l,_,u,p,h,v){return new Promise((x,I)=>{this.isAnsDetail=o,this.isEnableDebug=!!h,this.expandInfoParse=this.commonService.castJsonToObj(n.expandInfo??"{}"),this.changeMsg=p,this.commonService.loadAzotaDocxJs().then(()=>{let D=!0;const N=[];this.documentConfigService.apiDocumentConfigGetExamConfigDataV2Get(n.hashId??"").subscribe(G=>{r.forEach(E=>{let k=this.commonService.castJsonToClassObjs(Te.I,JSON.stringify(E.mixQuestions??[]))??[];if(k.length>0){if(1==G.success){let y=0,S=0;k.forEach((j,oe)=>{j.labelIndex=j.originalLabel?Number(j.originalLabel)-1:oe,G.data?.resetQuestionIndex&&j.groupInfo&&j.groupInfo.groupId&&(y!=j.groupInfo.groupId&&(y=j.groupInfo.groupId,S=0),j.labelIndex=j.originalLabel?Number(j.originalLabel)-1:S,S++)})}N.push({listQuestion:k,offlineExamMixQuestionObj:E})}else D=!1}),D?this.masterConverterCaller(N,n,s,l,_,v).then(()=>{this.zipper=new de,u?u(10):z.L.closeLoadingEffect(10),x()}).catch(E=>{u?u(10):z.L.closeLoadingEffect(10),I(E)}):(u?u(10):z.L.closeLoadingEffect(10),I(new Error("lang_testbank_exam_is_invalid_condition")))})}).catch(()=>{u?u(10):z.L.closeLoadingEffect(10),I(new Error("lang_core_lib_not_load"))})})}checkImgAtStart(o){return/^\s*<img/.test(o)}}return(t=i).\u0275fac=function(o){return new(o||t)(e.KVO(go.I),e.KVO(te.R),e.KVO(ie.R),e.KVO(fo.g),e.KVO(ze),e.KVO(Ae.e),e.KVO(ue.R),e.KVO(Co._),e.KVO(Q.x_))},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();var Re=m(72031);const re=()=>({"mr-1 flex-none":!0});function vo(t,i){if(1&t&&(e.j41(0,"a",33),e.nI1(1,"mytranslate"),e.j41(2,"span",23),e.nrm(3,"lucide-icon",34),e.k0s()()),2&t){e.XpG(2);const a=e.sdS(3);e.FS9("matTooltip",e.bMT(1,2,"lang_auto_tai_ve")),e.Y8G("matMenuTriggerFor",a)}}function ko(t,i){if(1&t){const a=e.RV6();e.j41(0,"a",35),e.nI1(1,"mytranslate"),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.showCopySuccess())}),e.j41(2,"span",36),e.nrm(3,"lucide-icon",37),e.k0s(),e.j41(4,"span"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()}if(2&t){const a=e.XpG(2);e.FS9("matTooltip",e.bMT(1,3,"lang_auto_copy_link_de_thi")),e.Y8G("cdkCopyToClipboard",a.copyLinkExam()),e.R7$(5),e.JRh(e.bMT(6,5,"lang_auto_copy_link"))}}function So(t,i){1&t&&(e.j41(0,"div",38)(1,"span",39),e.nrm(2,"azt-loading-ui"),e.k0s(),e.j41(3,"span",40),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&t&&(e.R7$(4),e.JRh(e.bMT(5,1,"lang_auto_dang_chuan_bi_tai_lieu_doing")))}function yo(t,i){if(1&t&&(e.j41(0,"div",41),e.nrm(1,"div",42),e.nI1(2,"safeNormalHtmlContent"),e.k0s()),2&t){const a=e.XpG(2);e.R7$(),e.Y8G("innerHtml",e.bMT(2,1,a.data.headerContent),e.npT)}}function jo(t,i){if(1&t&&e.nrm(0,"azt-loaded-img",43),2&t){const a=e.XpG(2);e.Y8G("imgSrc",a.data.obj.examHeader)}}function Oo(t,i){if(1&t&&e.nrm(0,"azt-question-standalone-for-preview",45),2&t){const a=e.XpG(),o=a.$implicit,n=a.index,s=e.XpG(2);e.Y8G("examObj",s.examObj)("questionObj",o)("follower",s.followerRenderQuest)("curQuestionIndex",n)("isShowExplain",s.showExplanation)}}function Io(t,i){if(1&t&&(e.qex(0),e.DNE(1,Oo,1,5,"azt-question-standalone-for-preview",44),e.bVm()),2&t){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",a.examObj)}}function To(t,i){if(1&t){const a=e.RV6();e.qex(0),e.j41(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17),e.DNE(6,vo,4,4,"a",18),e.nI1(7,"editPermission"),e.DNE(8,ko,7,7,"a",19),e.j41(9,"button",20),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.showAllExplanation())}),e.EFF(10),e.nI1(11,"mytranslate"),e.nI1(12,"mytranslate"),e.k0s()()(),e.j41(13,"div",21)(14,"a",22)(15,"span",23),e.nrm(16,"lucide-icon",24),e.k0s()()()(),e.j41(17,"azt-mat-dialog-content",25),e.DNE(18,So,6,3,"div",26),e.j41(19,"div",27),e.nrm(20,"div",28),e.DNE(21,yo,3,3,"div",29)(22,jo,1,1,"azt-loaded-img",30)(23,Io,2,1,"ng-container",31),e.nrm(24,"div",32),e.k0s()()()(),e.bVm()}if(2&t){const a=e.XpG();e.R7$(6),e.Y8G("ngIf",!(null!=a.data&&a.data.globalLadingPage)&&!a.data.allowHeader&&e.i5U(7,8,null==a.data?null:a.data.obj,"exam")),e.R7$(2),e.Y8G("ngIf",0==(null==a.data?null:a.data.isOnLib)&&!(null!=a.data&&a.data.globalLadingPage)),e.R7$(2),e.SpI(" ",a.showExplanation?e.bMT(11,11,"lang_auto_an_giai_thich"):e.bMT(12,13,"lang_auto_xem_giai_thich")," "),e.R7$(7),e.Y8G("defaultHeight",70),e.R7$(),e.Y8G("ngIf",a.statusObj.loading),e.R7$(3),e.Y8G("ngIf",a.data.allowHeader&&!a.statusObj.loading),e.R7$(),e.Y8G("ngIf",null==a.data||null==a.data.obj?null:a.data.obj.examHeader),e.R7$(),e.Y8G("ngForOf",a.questionList)}}function wo(t,i){if(1&t){const a=e.RV6();e.j41(0,"azt-export-excel-for-answersheet",46),e.bIt("exportDataDone",function(n){e.eBV(a);const s=e.XpG();return e.Njj(s.exportDataDone(n))}),e.k0s()}if(2&t){let a;const o=e.XpG();e.Y8G("startQuestionIndex",null!==(a=null==o.examObj?null:o.examObj.startQuestionIndex)&&void 0!==a?a:1)("obj",o.exportExcelData)}}let Ne=(()=>{var t;class i extends B._{handlerCloseDialog(o){o&&this.dialogRef.close()}copyLinkExam(){return`${this.commonService.getCurrentDomain()}/de-thi/${this.data?.obj?.hashId}`}showCopySuccess(){this.commonService.snackSuccess("lang_auto_sao_chep_thanh_cong")}showAllExplanation(){this.showExplanation=!this.showExplanation}downloadExam(o,n){o&&this.data.obj&&this.sAztDialogService.open(lo.T,{data:{transactionType:"export-docx",times:1,returnUrl:this.commonService.getCurrentUrlWithoutLocale()},hasBackdrop:!0}).afterClosed().subscribe(s=>{if("cancel"==s)return;if("upgrade"==s)return void this.dialogRef.close();const r=this.commonService.myTranslateInstant("lang_auto_dang_khoi_tao_du_lieu")??"",l=this.printAddInfo.templateType??0,_={nameSchool:this.printAddInfo.nameSchool??"",nameSubject:this.printAddInfo.nameSubject??"",departmentName:this.printAddInfo?.departmentName??"",indetifyBox:this.printAddInfo?.indetifyBox??"",timeBox:this.printAddInfo?.timeBox??""};z.L.openLoadingEffect(`${r}...`),this.data.obj.hideGroupQuestion=0,this.exportSAztDocxService.downloadExam(n,{...this.data.obj,editable:!1,allowStudentView:!0},void 0,void 0,this.cloneQuestionList,_,l,void 0,void 0,void 0,!0).then(()=>{}).catch(u=>{this.showErrorSnack(u.message)})})}downloadExamAnswer(){this.waitDestroy(this.offlineExamExportService.apiOfflineExamExportExportResultOfRawExamGet(this.examObj?.hashId??"").subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message??"");let n=o.data?.obj;n?.offlineMixQuestionObjs&&n.offlineMixQuestionObjs.length>0&&(this.exportExcelData=this.commonService.myClone(n))}))}exportDataDone(o){const n=this.createNameExam("answerexcel",!1);this.shareFileFlutterService.shareFileWithBlob(o,n)}redirectToDownloadExamPdf(o){window.open(this.commonService.getLocalRouter(`/admin/testbank/export-exam-to-pdf/${this.examObj?.id}?isShowExplain=${o}`),"_blank")}getConfigExam(){const o=this.data?.globalLadingPage?this.documentConfigService.apiDocumentConfigGetGlobalExamConfigDataGet(this.examObj?.hashId??""):this.documentConfigService.apiDocumentConfigGetExamConfigDataV2Get(this.examObj?.hashId??"");this.waitDestroy(o.subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!1);let s=0,r=0;this.questionList.forEach((l,_)=>{l.labelIndex=_,n.data?.resetQuestionIndex&&l.groupInfo&&l.groupInfo.groupId&&(s!=l.groupInfo.groupId&&(s=l.groupInfo.groupId,r=0),l.labelIndex=r,r++)}),this.successStatusObj()}))}getData(o){this.initStatusObj();const n=this.data?.globalLadingPage?this.examService.apiExamGetGlobalQuestionsIdGet(o?.id??0):this.permissionService.hasViewPermission("exam",o)?this.examService.apiExamGetQuestionsIdGet(o?.id??0):void 0;if(!n)return this.showErrorSnack("lang_auto_ban_khong_co_quyen_thuc_thi_chuc_nang_nay");n.subscribe(s=>{const r=this.commonService.castJsonToClassObjs(Te.I,JSON.stringify(s.data?.questionObjs||[]))??[];this.followerRenderQuest.setNumQuest(r.length),r.forEach(l=>{l.isRoleTeacher=!0}),this.cloneQuestionList=this.commonService.myClone(r),this.questionList=r,this.examObj=s.data?.examObj,this.getConfigExam()})}createNameExam(o,n){const s=this.examObj?.name??"";let r;switch(o){case"answersheet":r=this.printAnswersheetService.exportFileNameOfAnswerSheet(0,s,"");break;case"answerexcel":r=this.printAnswersheetService.exportFileNameOfAnswerExcelOffline(0,s,"");break;default:r=this.printAnswersheetService.exportFileNameOfExamOffline(0,s,"",void 0)}return n&&(r=this.commonService.replaceAll(r,"_","-")??""),r+("answersheet"===o?".pdf":"answerexcel"===o?".xlsx":".docx")}ngOnChanges(){this.data?.obj&&this.getData(this.data.obj)}ngOnInit(){super.ngOnInit(),this.data?.obj&&this.getData(this.data.obj)}constructor(o,n,s,r,l,_,u,p,h){super(h,p),this.documentConfigService=o,this.shareFileFlutterService=n,this.permissionService=s,this.exportSAztDocxService=r,this.examService=l,this.offlineExamExportService=_,this.printAnswersheetService=u,this.dialogRef=p,this.data=h,this.closeDialog=new e.bkB,this.questionList=[],this.cloneQuestionList=[],this.followerRenderQuest=new ro.e,this.printAddInfo={},this.showExplanation=!1,this.sAztDialogService=(0,e.WQX)(Y.i)}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(Q.x_),e.rXU(ue.R),e.rXU(q.p),e.rXU(xo),e.rXU(Re.R),e.rXU(Oe.qG),e.rXU(ze),e.rXU(F.CP,8),e.rXU(F.Vh,8))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-preview-exam"]],outputs:{closeDialog:"closeDialog"},standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:29,vars:35,consts:[["menuDownload","matMenu"],[4,"ngIf"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],[3,"checkAction","closeDialog","vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey"],["name","file-check","size","16",3,"ngClass"],[1,"mr-3"],["name","file-text","size","16",3,"ngClass"],["azt-track-service","azt-preview-exam-ef7yEq6a3",1,"dropdown-item",3,"click"],["name","file-down","size","16",3,"ngClass"],["azt-track-service","azt-preview-exam--mJB2JKFgNu",1,"dropdown-item",3,"click"],["name","file-spreadsheet","size","16",3,"ngClass"],[3,"startQuestionIndex","obj","exportDataDone",4,"ngIf"],[1,"az-dialog-info"],[1,"box",2,"overflow-x","hidden"],[1,"flex","items-center","p-2","bg-slate-100","dark:bg-darkmode-400"],[1,"mr-auto"],[1,"flex","items-center","mr-2"],["class","btn btn-sm btn-outline-secondary btn-transparent mr-2",3,"matTooltip","matMenuTriggerFor",4,"ngIf"],["azt-track-service","azt-preview-exam-dgdyLZO48Hq","class","btn btn-sm btn-outline-secondary btn-transparent mr-2",3,"matTooltip","cdkCopyToClipboard","click",4,"ngIf"],["azt-track-service","azt-preview-exam-WEwBr57UW",1,"btn","btn-sm","btn-outline-secondary","btn-transparent","mr-2",3,"click"],[1,"ml-auto"],["azt-track-service","azt-preview-exam-y2xqBN7DlGX",1,"btn","btn-transparent","btn-outline-danger","btn-sm",3,"mat-dialog-close"],[1,"w-4","h-4","flex-none"],["name","x","size","18"],[1,"mt-3",3,"defaultHeight"],["class","flex justify-center items-center h-40",4,"ngIf"],["id","boxContentQuestion",1,"p-2"],[1,"pt-3"],["class","box p-3 mb-3",4,"ngIf"],["style","display: block","class","mt-5",3,"imgSrc",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"py-5"],[1,"btn","btn-sm","btn-outline-secondary","btn-transparent","mr-2",3,"matTooltip","matMenuTriggerFor"],["name","download","size","18"],["azt-track-service","azt-preview-exam-dgdyLZO48Hq",1,"btn","btn-sm","btn-outline-secondary","btn-transparent","mr-2",3,"click","matTooltip","cdkCopyToClipboard"],[1,"w-4","h-4","mr-2","flex-none"],["name","copy","size","18"],[1,"flex","justify-center","items-center","h-40"],[1,"w-4","h-4","inline-block"],[1,"sr-only","ml-2"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHtml"],[1,"mt-5",2,"display","block",3,"imgSrc"],[3,"examObj","questionObj","follower","curQuestionIndex","isShowExplain",4,"ngIf"],[3,"examObj","questionObj","follower","curQuestionIndex","isShowExplain"],[3,"exportDataDone","startQuestionIndex","obj"]],template:function(o,n){if(1&o){const s=e.RV6();e.DNE(0,To,25,15,"ng-container",1),e.nI1(1,"viewPermission"),e.j41(2,"mat-menu",null,0)(4,"div",2)(5,"ul",3)(6,"li")(7,"azt-check-vip-account",4),e.bIt("checkAction",function(l){return e.eBV(s),e.Njj(n.downloadExam(l,!1))})("closeDialog",function(l){return e.eBV(s),e.Njj(n.handlerCloseDialog(l))}),e.nrm(8,"lucide-icon",5),e.j41(9,"span",6),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()(),e.j41(12,"li")(13,"azt-check-vip-account",4),e.bIt("checkAction",function(l){return e.eBV(s),e.Njj(n.downloadExam(l,!0))})("closeDialog",function(l){return e.eBV(s),e.Njj(n.handlerCloseDialog(l))}),e.nrm(14,"lucide-icon",7),e.j41(15,"span",6),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()(),e.j41(18,"li")(19,"a",8),e.bIt("click",function(){return e.eBV(s),e.Njj(n.redirectToDownloadExamPdf(0))}),e.nrm(20,"lucide-icon",9),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()(),e.j41(23,"li")(24,"a",10),e.bIt("click",function(){return e.eBV(s),e.Njj(n.downloadExamAnswer())}),e.nrm(25,"lucide-icon",11),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()()()()(),e.DNE(28,wo,1,2,"azt-export-excel-for-answersheet",12)}2&o&&(e.Y8G("ngIf",e.i5U(1,20,null==n.data?null:n.data.obj,"exam")||(null==n.data?null:n.data.globalLadingPage)),e.R7$(7),e.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item cursor-pointer")("isShowBadgeVip",!n.isBusinessDomain)("isAction",!1)("trackingKey","DOWNLOAD_EXAM_DOCX_NO_ANSWER"),e.R7$(),e.Y8G("ngClass",e.lJ4(31,re)),e.R7$(2),e.SpI(" ",e.bMT(11,23,"lang_testbank_download_exam_in_docx")," "),e.R7$(3),e.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item cursor-pointer")("isShowBadgeVip",!n.isBusinessDomain)("isAction",!1)("trackingKey","DOWNLOAD_EXAM_DOCX_WITH_ANSWER"),e.R7$(),e.Y8G("ngClass",e.lJ4(32,re)),e.R7$(2),e.SpI(" ",e.bMT(17,25,"lang_azt_download_exam_paper_with_detailed_answers_in_docx")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(33,re)),e.R7$(),e.SpI(" ",e.bMT(22,27,"lang_auto_tai_xuong_de_thi")+" PDF"," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(34,re)),e.R7$(),e.SpI(" ",e.bMT(27,29,"lang_testbank_download_exam_answer_in_excel")," "),e.R7$(2),e.Y8G("ngIf",null!=n.exportExcelData))},dependencies:[ne.U,K.R,co.H,io.a,mo.F,so,d.MD,d.YU,d.Sq,d.bT,c.X1,f.iI,c.YN,g.wp,T.s,Ie.dF,F.tx,X.kk,X.Cp,L.oV,b.flO,b.WGl,O.L,g._y,g.FV,g.eL,C.Id,w.k],encapsulation:2}),i})();function Do(t,i){1&t&&(e.j41(0,"div",6),e.nrm(1,"azt-loading-ui"),e.k0s())}function Fo(t,i){if(1&t){const a=e.RV6();e.j41(0,"azt-mat-dialog-content",7)(1,"app-capacity-exam-tree-in-view-mode-component",8),e.bIt("getExamData",function(n){e.eBV(a);const s=e.XpG();return e.Njj(s.getExamData(n))}),e.k0s()()}if(2&t){const a=e.XpG();e.Y8G("defaultHeight",70),e.R7$(),e.Y8G("rawNodes",a.examComponents)}}let Go=(()=>{var t;class i extends B._{getExamData(o){this.documentConfigService.apiDocumentConfigGetExamConfigDataV2Get(o.hashId??"").subscribe(n=>{if(!n.success||!n.data?.examObj)return this.errorStatusObj(n.message??"");this.showExamDetailDialog(n.data?.examObj)})}showExamDetailDialog(o){let n={obj:{...o},curCateId:o.categoryId??0,isOnLib:0,isShow:!0};this.sAztDialogService.open(Ne,{width:"800px",maxWidth:"90vw",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:n,restoreFocus:!1}).afterClosed().subscribe(r=>{})}getData(){this.initStatusObj(),this.waitDestroy(this.examService.apiExamListExamComponentsIdGet(this.data.id).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message??"");this.examComponents=o.data?.objs??[],this.stopStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(o,n,s,r,l){super(l,r),this.documentConfigService=o,this.sAztDialogService=n,this.examService=s,this.dialogRef=r,this.data=l,this.examComponents=[]}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(Q.x_),e.rXU(Y.i),e.rXU(Re.R),e.rXU(F.CP,8),e.rXU(F.Vh,8))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-preview-capacity-exam"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"az-dialog-info"],[1,"box","p-3",2,"overflow-x","hidden"],["class","flex justify-between items-center p-5",4,"ngIf"],["class","mt-3",3,"defaultHeight",4,"ngIf"],[1,"text-right","pt-3"],[1,"btn","w-24","btn-outline-secondary",3,"click"],[1,"flex","justify-between","items-center","p-5"],[1,"mt-3",3,"defaultHeight"],[3,"getExamData","rawNodes"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,Do,2,0,"div",2)(3,Fo,2,2,"azt-mat-dialog-content",3),e.j41(4,"div",4)(5,"button",5),e.bIt("click",function(){return n.dialogRef.close()}),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()()()),2&o&&(e.R7$(2),e.Y8G("ngIf",n.statusObj.loading),e.R7$(),e.Y8G("ngIf",!n.statusObj.loading),e.R7$(3),e.SpI(" ",e.bMT(7,3,"lang_auto_dong")," "))},dependencies:[K.R,ne.U,Kt.n,d.MD,d.bT,c.X1,f.iI,c.YN,g.wp,T.s,b.flO,O.L,C.Id,w.k],encapsulation:2}),i})();var Me=m(48910),Eo=m(75263),Ao=m(86600),Le=m(29097),zo=m(13505),Ro=m(11619);const No=(t,i)=>({"dark:bg-darkmode-400 bg-slate-100":t,"border-b border-slate-200/60 dark:border-darkmode-400":i});function Mo(t,i){if(1&t&&e.nrm(0,"azt-loading-effect",10),2&t){const a=e.XpG();e.Y8G("currentStatusObj",a.statusObj)}}function Lo(t,i){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const a=e.XpG(3);e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_da_chon")+": "+a.totalStudentsSelected)}}function Bo(t,i){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const a=e.XpG(3);e.R7$(),e.JRh(a.data.classroomName+(a.totalStudentsSelected?" ("+e.bMT(2,1,"lang_auto_da_chon")+": "+a.totalStudentsSelected+")":""))}}function $o(t,i){}function Vo(t,i){if(1&t&&(e.j41(0,"div")(1,"azt-mat-dialog-content",24),e.DNE(2,$o,0,0,"ng-template",25),e.k0s()()),2&t){e.XpG(3);const a=e.sdS(8);e.R7$(),e.Y8G("defaultHeight",40),e.R7$(),e.Y8G("ngTemplateOutlet",a)}}function Yo(t,i){}function Po(t,i){if(1&t&&(e.j41(0,"div"),e.DNE(1,Yo,0,0,"ng-template",25),e.k0s()),2&t){e.XpG(3);const a=e.sdS(8);e.R7$(),e.Y8G("ngTemplateOutlet",a)}}function Xo(t,i){if(1&t){const a=e.RV6();e.qex(0),e.j41(1,"div",12)(2,"div",13),e.DNE(3,Lo,3,3,"span",14)(4,Bo,3,3,"span",14),e.j41(5,"div",15)(6,"azt-search-box",16),e.nI1(7,"mytranslate"),e.bIt("onSearch",function(n){e.eBV(a);const s=e.XpG(2);return e.Njj(s.onSearchBox(n.searchObj))}),e.k0s()()(),e.j41(8,"div",17)(9,"div",18)(10,"input",19),e.bIt("change",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.selectAllStudentOfClass())}),e.k0s(),e.j41(11,"label",20),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"div",21)(15,"input",22),e.bIt("change",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.calculateFormData())}),e.k0s(),e.j41(16,"label",23),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()()(),e.DNE(19,Vo,3,2,"div",14)(20,Po,2,1,"div",14),e.bVm()}if(2&t){const a=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.l_i(18,No,a.isDialog,!a.isDialog)),e.R7$(2),e.Y8G("ngIf",!a.isDialog),e.R7$(),e.Y8G("ngIf",a.isDialog),e.R7$(2),e.Y8G("isServerSearch",!1)("styleInput","form-control-sm ")("placeholder",e.bMT(7,12,"lang_student_classroom_list_detail_search_name_student")),e.R7$(4),e.Y8G("formControl",a.selectAllFormControl),e.R7$(2),e.SpI(" ",e.bMT(13,14,a.selectAllFormControl.value?"lang_remove_all":"lang_select_all")," "),e.R7$(3),e.Y8G("formControl",a.showCheckedFormControl),e.R7$(2),e.SpI(" ",e.bMT(18,16,"lang_testbank_selected_students")," "),e.R7$(2),e.Y8G("ngIf",a.isDialog),e.R7$(),e.Y8G("ngIf",!a.isDialog)}}function Uo(t,i){1&t&&(e.j41(0,"div",26)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_core_class_has_no_student")))}function Wo(t,i){if(1&t&&e.DNE(0,Xo,21,21,"ng-container",11)(1,Uo,4,3,"ng-template",null,2,e.C5r),2&t){const a=e.sdS(2),o=e.XpG();e.Y8G("ngIf",o.studentObjs.length>0)("ngIfElse",a)}}function Qo(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",27)(1,"button",28),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.btnCloseDialog())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_cms_common_ok")," "))}function Jo(t,i){1&t&&(e.qex(0),e.j41(1,"div",26)(2,"span",29),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_testbank_no_students_selected")))}function Ho(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"input",36),e.bIt("change",function(){e.eBV(a);const n=e.XpG(4);return e.Njj(n.calculateFormData())}),e.k0s(),e.j41(3,"label",37,4),e.nI1(5,"mytranslate"),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()()}if(2&t){const a=e.sdS(4),o=e.XpG().$implicit;e.R7$(2),e.FS9("id","azt-checkbox-student-"+o.id),e.Y8G("formControl",o.isChecked),e.R7$(),e.FS9("for","azt-checkbox-student-"+o.id),e.Y8G("matTooltip",e.bMT(5,8,o.fullName))("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled)("matTooltipShowDelay",500),e.R7$(3),e.SpI(" ",e.bMT(7,10,o.fullName)," ")}}function Ko(t,i){if(1&t&&(e.qex(0),e.DNE(1,Ho,8,12,"div",33),e.bVm()),2&t){const a=i.$implicit;e.R7$(),e.Y8G("ngIf",a.isShowStudent)}}function Zo(t,i){1&t&&(e.j41(0,"div",26),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function qo(t,i){if(1&t&&(e.j41(0,"div",30),e.DNE(1,Ko,2,1,"ng-container",31),e.k0s(),e.DNE(2,Zo,3,3,"div",32)),2&t){const a=e.XpG(2);e.R7$(),e.Y8G("ngForOf",a.studentObjs),e.R7$(),e.Y8G("ngIf",0==a.totalStudentsShow)}}function en(t,i){if(1&t&&e.DNE(0,Jo,5,3,"ng-container",11)(1,qo,3,2,"ng-template",null,3,e.C5r),2&t){const a=e.sdS(2),o=e.XpG();e.Y8G("ngIf",o.totalStudentsSelected<=0&&o.showCheckedFormControl.value)("ngIfElse",a)}}let tn=(()=>{var t;class i extends A.H{resetAll(){this.selectAllFormControl.reset(),this.showCheckedFormControl.reset(),this.selectAllStudentOfClass()}btnCloseDialog(){if(this.studentObjs.length<=0)return this.closeBox.emit();let o={classroomId:this.data.classroomId,classroomName:this.data.classroomName,studentIdsSelected:this.studentObjs.filter(n=>n.isChecked.value).map(n=>n.id)};this.closeBox.emit(o)}onSearchBox(o){this.searchContentObj=o,this.calculateFormData()}selectAllStudentOfClass(){this.studentObjs.map(o=>o.isChecked.setValue(this.selectAllFormControl.value)),this.calculateFormData()}calculateFormData(){let o=this.commonService.convertVietnameseToEnglish(this.searchContentObj.searchContent).toLowerCase().trim();this.studentObjs.forEach(n=>{const s=this.commonService.convertVietnameseToEnglish(n.fullName??"").toLowerCase().trim();let r=""==o||s.includes(o);n.isShowStudent=(!this.showCheckedFormControl.value||n.isChecked.value)&&r}),this.totalStudentsSelected=this.studentObjs.filter(n=>n.isChecked.value).length,this.selectAllFormControl.setValue(this.totalStudentsSelected==this.studentObjs.length),this.totalStudentsShow=this.studentObjs.filter(n=>n.isShowStudent).length,this.isDialog||this.btnCloseDialog()}getData(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.data.classroomId).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);let n=o.data?.studentObjs??[];n=0==o.data?.classroomObj.sortType?this.sortService.sortFirstNameStudents(this.commonService.myClone(n)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(n)??[],"pos","id"),this.initFormData(n),this.stopStatusObj()}))}initFormData(o){this.studentObjs=o.map(n=>({...n,isShowStudent:!0,isChecked:new c.MJ(this.data.studentIdsSelected.includes(n.id),{nonNullable:!0})})),this.calculateFormData()}ngOnInit(){this.getData()}constructor(o,n){super(),this.sortService=o,this.studentProfileV2Service=n,this.selectAllFormControl=new c.MJ(!1,{nonNullable:!0}),this.showCheckedFormControl=new c.MJ(!1,{nonNullable:!0}),this.studentObjs=[],this.totalStudentsSelected=0,this.totalStudentsShow=0,this.searchContentObj=new P.Z,this.isDialog=!0,this.closeBox=new e.bkB}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(zo.g),e.rXU(Ro.m_))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-select-student"]],inputs:{isDialog:"isDialog",data:"data"},outputs:{closeBox:"closeBox"},standalone:!0,features:[e.Vt3,e.aNF],decls:9,vars:3,consts:[["doneLoading",""],["templateSelectStudent",""],["emptyStudents",""],["checkedBox",""],["c","isDisabled"],["id","selectStudent",1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","p-3 text-right",4,"ngIf"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[1,"p-3","flex","flex-col","sm:flex-row","sm:h-auto","sm:items-center",3,"ngClass"],[1,"font-medium","mr-auto"],[4,"ngIf"],[1,"w-full","relative","flex","items-center","mt-2"],[3,"onSearch","isServerSearch","styleInput","placeholder"],[1,"flex","items-center","mt-2","sm:mt-0"],[1,"form-check","mr-3"],["id","selected-all","type","checkbox",1,"form-check-input",3,"change","formControl"],["for","selected-all",1,"form-check-label"],[1,"form-check"],["id","show-student-checked","type","checkbox",1,"form-check-input",3,"change","formControl"],["for","show-student-checked",1,"form-check-label"],[3,"defaultHeight"],[3,"ngTemplateOutlet"],[1,"h-full","flex","items-center","justify-center","p-5"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"],[1,"mx-auto"],[1,"p-3","grid","grid-cols-12","gap-3"],[4,"ngFor","ngForOf"],["class","h-full flex items-center justify-center p-5",4,"ngIf"],["class","col-span-12 md:col-span-4 mt-2",4,"ngIf"],[1,"col-span-12","md:col-span-4","mt-2"],[1,"azt-checkbox-item"],["type","checkbox",1,"form-check-input",3,"change","id","formControl"],[1,"form-check-label","truncate",2,"vertical-align","middle",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","matTooltipShowDelay","for"]],template:function(o,n){if(1&o&&(e.j41(0,"div",5)(1,"div",6)(2,"div",7),e.DNE(3,Mo,1,1,"azt-loading-effect",8)(4,Wo,3,2,"ng-template",null,0,e.C5r),e.k0s()(),e.DNE(6,Qo,4,3,"div",9),e.k0s(),e.DNE(7,en,3,2,"ng-template",null,1,e.C5r)),2&o){const s=e.sdS(5);e.R7$(3),e.Y8G("ngIf",n.statusObj.loading)("ngIfElse",s),e.R7$(3),e.Y8G("ngIf",n.isDialog)}},dependencies:[xe.f,Le.K,me.W,ne.U,d.MD,d.YU,d.Sq,d.bT,d.T3,c.X1,c.Zm,c.BC,c.l_,f.iI,c.YN,g.wp,T.s,L.oV,b.flO,O.L,C.Id,w.k],encapsulation:2}),i})(),on=(()=>{var t;class i extends B._{btnCloseDialog(o){if(!o)return this.dialogRef.close();this.dialogRef.close(o)}ngOnInit(){}constructor(o,n){super(n,o),this.dialogRef=o,this.data=n,this.selectAllFormControl=new c.MJ(!1,{nonNullable:!0}),this.showCheckedFormControl=new c.MJ(!1,{nonNullable:!0}),this.studentObjs=[],this.totalStudentsSelected=0,this.totalStudentsShow=0,this.searchContentObj=new P.Z}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(F.CP,8),e.rXU(F.Vh,8))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-assign-student-dialog"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,consts:[[3,"closeBox","data"]],template:function(o,n){1&o&&(e.j41(0,"azt-select-student",0),e.bIt("closeBox",function(r){return n.btnCloseDialog(r)}),e.k0s()),2&o&&e.Y8G("data",n.data)},dependencies:[tn,d.MD,c.X1,f.iI,c.YN,T.s,b.flO,O.L,C.Id,w.k],encapsulation:2}),i})();const nn=(t,i)=>({"classroom-box-in-full-screen-in-mobile":t,"classroom-box-in-full-screen-in-desktop":i}),an=(t,i)=>({"w-85":t,"w-56":i}),sn=t=>({"ml-3":t}),rn=(t,i)=>({"bg-primary text-white font-medium":t,"hover:bg-slate-100 dark:hover:bg-darkmode-400":i}),ln=(t,i)=>({"bg-primary text-white font-medium":t," hover:bg-slate-100 dark:hover:bg-darkmode-400":i}),cn=t=>({"grid-column":t}),mn=t=>({"text-success font-medium":t});function un(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.selectByGroupId(void 0))}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}if(2&t){const a=e.XpG();e.Y8G("ngClass",e.l_i(5,rn,0===a.mapClassroomGroupDataToForm.groupIdSelected,0!==a.mapClassroomGroupDataToForm.groupIdSelected)),e.R7$(),e.Lme(" ",e.bMT(2,3,"lang_auto_tat_ca")," (",a.mapClassroomGroupDataToForm.totalAllClassrooms,") ")}}function dn(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",48),e.bIt("click",function(){e.eBV(a);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.selectByGroupId(n.groupObj))}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}if(2&t){const a=e.XpG().$implicit,o=e.XpG(2);e.Y8G("ngClass",e.l_i(4,ln,o.mapClassroomGroupDataToForm.groupIdSelected===a.groupObj.id,o.mapClassroomGroupDataToForm.groupIdSelected!==a.groupObj.id)),e.R7$(),e.SpI(" ",e.bMT(2,2,a.groupObj.name)+" ("+a.groupObj.totalAllClassrooms+")"," ")}}function _n(t,i){if(1&t&&(e.qex(0),e.DNE(1,dn,3,7,"button",47),e.bVm()),2&t){const a=i.$implicit;e.R7$(),e.Y8G("ngIf",a.groupObj.isShowGroup)}}function pn(t,i){if(1&t&&(e.qex(0),e.DNE(1,_n,2,1,"ng-container",46),e.bVm()),2&t){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.mapClassroomGroupDataToForm.groupObjs)}}function hn(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",49),e.nI1(1,"mytranslate"),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.sAztMatDrawerService.openDrawer())}),e.nrm(2,"lucide-icon",50),e.k0s()}2&t&&e.FS9("matTooltip",e.bMT(1,1,"lang_auto_mo_menu"))}function gn(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",51),e.nI1(1,"mytranslate"),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.sAztMatDrawerService.closeDrawer())}),e.nrm(2,"lucide-icon",52),e.k0s()}2&t&&e.FS9("matTooltip",e.bMT(1,1,"lang_auto_dong_menu"))}function fn(t,i){if(1&t&&(e.j41(0,"span",53),e.EFF(1),e.k0s()),2&t){const a=e.XpG();e.R7$(),e.SpI(" ",(a.filterObj.isShowChecked?1:0)+(a.filterObj.isShowNotChecked?1:0)," ")}}function bn(t,i){if(1&t&&(e.qex(0),e.j41(1,"span",59),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.EFF(4),e.nI1(5,"mytranslate"),e.bVm()),2&t){const a=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,2,a.groupObj.name)),e.R7$(2),e.SpI(" ","("+a.groupObj.totalAllClassrooms+" "+e.bMT(5,4,"lang_testbank_test_list_classes")+")"," ")}}function Cn(t,i){if(1&t&&(e.j41(0,"span",64),e.EFF(1),e.nI1(2,"slice"),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&t){const a=e.XpG(2).$implicit;e.FS9("matTooltip",a.classroomObj.name),e.R7$(),e.SpI(" ",e.brH(2,4,a.classroomObj.name,0,25)+"..."," "),e.R7$(3),e.Lme("(",a.classroomObj.studentIdsSelected.length,"/",a.classroomObj.countStudents,")")}}function xn(t,i){if(1&t&&(e.j41(0,"span"),e.EFF(1),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&t){const a=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",a.classroomObj.name," "),e.R7$(2),e.Lme("(",a.classroomObj.studentIdsSelected.length,"/",a.classroomObj.countStudents,")")}}function vn(t,i){1&t&&(e.j41(0,"span",65),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_testbank_test_config_share")," "))}function kn(t,i){if(1&t){const a=e.RV6();e.qex(0),e.j41(1,"div",60),e.bIt("click",function(){e.eBV(a);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.selectClassroomEvent(n.groupObj,n.classroomObj))}),e.j41(2,"span",22),e.nrm(3,"lucide-icon",61),e.k0s(),e.DNE(4,Cn,5,8,"span",62)(5,xn,4,3,"span",15)(6,vn,3,3,"span",63),e.nI1(7,"fullPermission"),e.k0s(),e.bVm()}if(2&t){let a,o;const n=e.XpG().$implicit;e.R7$(),e.Y8G("ngClass",e.eq3(7,mn,n.classroomObj.studentIdsSelected.length>0)),e.R7$(3),e.Y8G("ngIf",(null!==(a=null==n.classroomObj.name?null:n.classroomObj.name.length)&&void 0!==a?a:0)>25),e.R7$(),e.Y8G("ngIf",(null!==(o=null==n.classroomObj.name?null:n.classroomObj.name.length)&&void 0!==o?o:0)<=25),e.R7$(),e.Y8G("ngIf",!e.i5U(7,4,n.classroomObj,"classroom"))}}function Sn(t,i){if(1&t&&(e.j41(0,"div",58),e.DNE(1,bn,6,6,"ng-container",15)(2,kn,8,9,"ng-container",15),e.k0s()),2&t){const a=i.$implicit;e.Y8G("ngStyle",e.eq3(3,cn,"group"==a.type?"span 12 / span 12":"")),e.R7$(),e.Y8G("ngIf","group"==a.type),e.R7$(),e.Y8G("ngIf","classroom"==a.type&&a.classroomObj)}}function yn(t,i){if(1&t&&(e.qex(0),e.j41(1,"ng-scrollbar",54)(2,"cdk-virtual-scroll-viewport",55)(3,"div",56),e.DNE(4,Sn,3,5,"div",57),e.k0s()()(),e.bVm()),2&t){const a=e.XpG();e.R7$(),e.Y8G("visibility","hover"),e.R7$(3),e.Y8G("cdkVirtualForOf",a.mapClassroomGroupDataToVirtualScroll)}}function jn(t,i){1&t&&(e.j41(0,"div",66),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_student_classroom_list_class_null")," "))}let On=(()=>{var t;class i extends A.H{searchByClassroomName(o){this.searchByClassroomContentObj=o,this.checkIsFilter(),this.calculateClassroomInfo()}searchByGroupName(o){this.searchByGroupContentObj=o,this.checkIsFilter(),this.calculateClassroomInfo()}changeFilter(){this.checkIsFilter(),this.calculateClassroomInfo()}clearFilter(){this.filterObj={isShowChecked:!1,isShowNotChecked:!1},this.checkIsFilter(),this.calculateClassroomInfo()}checkIsFilter(){return 0!=this.mapClassroomGroupDataToForm.groupIdSelected||this.filterObj.isShowChecked||this.filterObj.isShowNotChecked||""!=this.searchByClassroomContentObj.searchContent.trim()}selectByGroupId(o){this.mapClassroomGroupDataToForm.groupIdSelected=o?.id??0,this.calculateClassroomInfo(),this.scrollable?.scrollTo({top:0,duration:0}),this.isMobileDevice&&this.sAztMatDrawerService.closeDrawer()}selectClassroomEvent(o,n){this.sAztDialogService.open(on,{data:{classroomId:n.id,classroomName:n.name,studentIdsSelected:this.studentsSelected.find(r=>r.classroomId==n.id)?.studentIdsSelected??[]},width:"1000px",autoFocus:!1}).afterClosed().subscribe(r=>{r&&this.chooseStudentsEvent.emit(r)})}calculateClassroomInfo(){this.doFilterData(),this.countFilterData(),this.calculateVirtualScrollData()}doFilterData(){const o=this.searchByClassroomContentObj.searchContent?this.commonService.convertVietnameseToEnglish(this.searchByClassroomContentObj.searchContent).toLowerCase().trim():"",n=this.searchByGroupContentObj.searchContent?this.commonService.convertVietnameseToEnglish(this.searchByGroupContentObj.searchContent).toLowerCase().trim():"";this.mapClassroomGroupDataToForm.groupObjs.forEach(s=>{const r=this.commonService.convertVietnameseToEnglish(s.groupObj.name??"");s.groupObj.isShowGroup=""==n||r.toLowerCase().trim().includes(n),s.classroomObjs.forEach(l=>{if(l.isShowClassroom=!0,!this.checkIsFilter())return;const _=this.commonService.convertVietnameseToEnglish(l.name);let u=0==this.mapClassroomGroupDataToForm.groupIdSelected||s.groupObj.id==this.mapClassroomGroupDataToForm.groupIdSelected,p=""==o||_.toLowerCase().trim().includes(o);l.isShowClassroom=u&&p&&(this.filterObj.isShowChecked&&l.studentIdsSelected.length>0||this.filterObj.isShowNotChecked&&l.studentIdsSelected.length<=0||!this.filterObj.isShowChecked&&!this.filterObj.isShowNotChecked)})})}countFilterData(){this.mapClassroomGroupDataToForm.groupObjs.forEach(o=>{o.groupObj.totalAllClassrooms=o.classroomObjs.length,o.groupObj.totalViewClassrooms=o.classroomObjs.filter(n=>n.isShowClassroom).length}),this.mapClassroomGroupDataToForm.totalAllClassrooms=this.mapClassroomGroupDataToForm.groupObjs.reduce((o,n)=>o+n.groupObj.totalAllClassrooms,0),this.mapClassroomGroupDataToForm.totalViewClassrooms=this.mapClassroomGroupDataToForm.groupObjs.reduce((o,n)=>o+n.groupObj.totalViewClassrooms,0)}calculateVirtualScrollData(){var o=[];this.mapClassroomGroupDataToForm.groupObjs.filter(n=>n.groupObj.totalViewClassrooms>0).forEach(n=>{o.push({type:"group",groupObj:n.groupObj,classroomObj:void 0}),n.classroomObjs.filter(s=>s.isShowClassroom).forEach(s=>{o.push({type:"classroom",groupObj:n.groupObj,classroomObj:s})})}),this.mapClassroomGroupDataToVirtualScroll=o}initClassroomData(){this.classroomGroupData=this.classroomGroupData.map(o=>({groupObj:o.groupObj,isOwned:o.isOwned,classroomObjs:o.classroomObjs.filter(n=>null!=n.permissionObj&&this.permissionService.hasCreatePermission(this.listPermissionTypes[this.permissionName],n))})),this.mapClassroomGroupDataToForm.groupObjs=this.classroomGroupData.map(o=>({groupObj:{...o.groupObj,isShowGroup:!0,totalAllClassrooms:0,totalViewClassrooms:0},isOwned:o.isOwned,classroomObjs:o.classroomObjs.map(n=>{let s=this.studentsSelected.find(r=>r.classroomId==n.id)?.studentIdsSelected??[];return{...n,studentIdsSelected:s,isShowClassroom:!0}})})),this.calculateClassroomInfo()}ngOnChanges(){this.initClassroomData()}ngOnInit(){super.ngOnInit(),this.classroomGroupData.forEach(o=>o.classroomObjs.map(n=>n.name=this.commonService.myTranslateInstant(n.name)??"")),this.initClassroomData()}constructor(o,n,s,r){super(),this.sAztMatDrawerService=o,this.permissionService=n,this.sAztClassroomCheckboxService=s,this.sAztDialogService=r,this.permissionName=M.exam,this.defaultCssClass="classroom-box-in-single-page",this.chooseStudentsEvent=new e.bkB,this.studentsSelected=[],this.mapClassroomGroupDataToForm={groupObjs:[],groupIdSelected:0,totalAllClassrooms:0,totalViewClassrooms:0},this.mapClassroomGroupDataToVirtualScroll=[],this.listPermissionTypes=M,this.searchByClassroomContentObj=new P.Z,this.searchByGroupContentObj=new P.Z,this.filterObj={isShowChecked:!1,isShowNotChecked:!1}}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(ae.n),e.rXU(q.p),e.rXU(se),e.rXU(Y.i))},t.\u0275cmp=e.VBU({type:t,selectors:[["azt-list-classroom-view-tree"]],viewQuery:function(o,n){if(1&o&&e.GBs(C.Yh,7),2&o){let s;e.mGM(s=e.lsd())&&(n.scrollable=s.first)}},inputs:{classroomGroupData:"classroomGroupData",permissionName:"permissionName",defaultCssClass:"defaultCssClass",studentsSelected:"studentsSelected"},outputs:{chooseStudentsEvent:"chooseStudentsEvent"},standalone:!0,features:[e.Jv_([ae.n]),e.Vt3,e.OA$,e.aNF],decls:66,vars:55,consts:[["maximize","maximize"],["drawer",""],["menuFilter","matMenu"],["emptyClassroom",""],["maximize","",1,"azt-list-classroom-by-group"],[1,"azt-drawer-container",3,"ngClass","hasBackdrop"],[3,"openedChange","ngClass","mode","opened"],[1,"box","h-full","border","border-slate-200/60","dark:border-darkmode-400"],[1,"flex","rounded-md","border-b","border-slate-200","dark:border-darkmode-400","p-2","text-slate-500",2,"border-bottom-right-radius","0","border-bottom-left-radius","0"],[1,"search-box"],[3,"onSearch","isServerSearch","placeholder","searchContentObj","styleInput"],[2,"height","calc(100% - 50px)"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility"],[1,"p-2"],["azt-track-service","azt-list-classroom-checkbox-TUrZzBy9T","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],[4,"ngIf"],[1,"azt-drawer-content","h-full",3,"ngClass"],[1,"box","border","border-slate-200","dark:border-darkmode-400","h-full"],[1,"flex","items-center","rounded-md","border-b","border-slate-200","dark:border-darkmode-400","p-2","text-slate-500",2,"border-bottom-right-radius","0","border-bottom-left-radius","0"],["azt-track-service","azt-list-classroom-checkbox-WB1u8XZHUS","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","azt-list-classroom-checkbox-q2BPTM5lPo","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"flex","ml-auto"],[1,"mr-2"],[1,"filter","mr-2"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],[1,"w-4","h-4","inline-block"],["name","filter","size","18"],[1,"azt-hidden","md:block","ml-2"],["class","p-1 ml-1 items-center justify-center rounded-full text-xs bg-primary text-white cursor-pointer font-medium","style","display: inline-flex; width: 15px; height: 15px; font-size: 10px",4,"ngIf"],[1,"flex","items-center"],[3,"maximize"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","azt-list-classroom-checkbox-mJWF3uWTQJ","for","isShowChecked",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","isShowChecked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","azt-list-classroom-checkbox-pFWk_nWN9o","for","isShowNotChecked",1,"dropdown-item","cursor-pointer",3,"click"],["id","isShowNotChecked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","azt-list-classroom-checkbox-3OFGLRY5fa",3,"click"],["azt-track-service","azt-list-classroom-checkbox-iJlkvwO36n",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"w-full",2,"height","calc(100% - 50px)"],[4,"ngIf","ngIfElse"],["azt-track-service","azt-list-classroom-checkbox-TUrZzBy9T",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"click","ngClass"],[4,"ngFor","ngForOf"],["azt-track-service","azt-list-classroom-checkbox-hUXQqnl7px","class","flex items-center px-3 py-2 rounded-md w-full text-left",3,"ngClass","click",4,"ngIf"],["azt-track-service","azt-list-classroom-checkbox-hUXQqnl7px",1,"flex","items-center","px-3","py-2","rounded-md","w-full","text-left",3,"click","ngClass"],["azt-track-service","azt-list-classroom-checkbox-WB1u8XZHUS",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-open","size","16"],["azt-track-service","azt-list-classroom-checkbox-q2BPTM5lPo",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-close","size","16"],[1,"p-1","ml-1","items-center","justify-center","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium",2,"display","inline-flex","width","15px","height","15px","font-size","10px"],["track","vertical",1,"h-full",3,"visibility"],["scrollViewport","","itemSize","10"],[1,"grid","grid-cols-12","gap-3","p-3","pt-2"],["class","col-span-12 md:col-span-6",3,"ngStyle",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"col-span-12","md:col-span-6",3,"ngStyle"],[1,"font-bold"],["azt-track-service","azt-list-classroom-view-tree-o6QRGuakJ",1,"flex","items-center","clickable","hover:text-primary",3,"click","ngClass"],["name","align-justify","size","16"],[3,"matTooltip",4,"ngIf"],["class","ml-2 py-0.5 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[3,"matTooltip"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"flex","items-center","justify-center",2,"height","200px"]],template:function(o,n){if(1&o){const s=e.RV6();e.j41(0,"div",4,0)(2,"mat-drawer-container",5)(3,"mat-drawer",6,1),e.bIt("openedChange",function(l){return e.eBV(s),e.Njj(n.sAztMatDrawerService.openedChange(l))}),e.j41(5,"div",7)(6,"div",8)(7,"div",9)(8,"azt-search-box",10),e.nI1(9,"mytranslate"),e.bIt("onSearch",function(l){return e.eBV(s),e.Njj(n.searchByGroupName(l.searchObj))}),e.k0s()()(),e.j41(10,"div",11)(11,"ng-scrollbar",12)(12,"div",13),e.DNE(13,un,3,8,"button",14)(14,pn,2,1,"ng-container",15),e.k0s()()()()(),e.j41(15,"mat-drawer-content")(16,"div",16)(17,"div",17)(18,"div",18),e.DNE(19,hn,3,3,"button",19)(20,gn,3,3,"button",20),e.j41(21,"div",21)(22,"div",22)(23,"azt-search-box",10),e.nI1(24,"mytranslate"),e.bIt("onSearch",function(l){return e.eBV(s),e.Njj(n.searchByClassroomName(l.searchObj))}),e.k0s()(),e.j41(25,"div",23)(26,"button",24)(27,"span",25),e.nrm(28,"lucide-icon",26),e.k0s(),e.j41(29,"span",27),e.EFF(30),e.nI1(31,"mytranslate"),e.DNE(32,fn,2,1,"span",28),e.k0s()()(),e.j41(33,"div",29),e.nrm(34,"azt-maximize-box",30),e.k0s(),e.j41(35,"mat-menu",null,2)(37,"div",31)(38,"ul",32)(39,"li")(40,"label",33),e.bIt("click",function(l){return e.eBV(s),e.Njj(l.stopPropagation())}),e.EFF(41),e.nI1(42,"mytranslate"),e.j41(43,"div",34)(44,"input",35),e.bIt("change",function(){return e.eBV(s),n.filterObj.isShowChecked=!n.filterObj.isShowChecked,e.Njj(n.changeFilter())}),e.k0s()()()(),e.j41(45,"li")(46,"label",36),e.bIt("click",function(l){return e.eBV(s),e.Njj(l.stopPropagation())}),e.EFF(47),e.nI1(48,"mytranslate"),e.j41(49,"div",34)(50,"input",37),e.bIt("change",function(){return e.eBV(s),n.filterObj.isShowNotChecked=!n.filterObj.isShowNotChecked,e.Njj(n.changeFilter())}),e.k0s()()()(),e.j41(51,"li"),e.nrm(52,"hr",38),e.k0s(),e.j41(53,"li")(54,"div",39)(55,"button",40),e.EFF(56),e.nI1(57,"mytranslate"),e.k0s(),e.j41(58,"div",41),e.bIt("click",function(l){return e.eBV(s),e.Njj(l.stopPropagation())}),e.j41(59,"button",42),e.bIt("click",function(){return e.eBV(s),e.Njj(n.clearFilter())}),e.EFF(60),e.nI1(61,"mytranslate"),e.k0s()()()()()()()()(),e.j41(62,"div",43),e.DNE(63,yn,5,2,"ng-container",44)(64,jn,3,3,"ng-template",null,3,e.C5r),e.k0s()()()()()()}if(2&o){const s=e.sdS(1),r=e.sdS(36),l=e.sdS(65);e.R7$(2),e.HbH(n.defaultCssClass),e.Y8G("ngClass",e.l_i(47,nn,n.isMobileDevice,!n.isMobileDevice))("hasBackdrop",n.sAztMatDrawerService.hasBackdrop),e.R7$(),e.FS9("opened",n.sAztMatDrawerService.isOpenSideNav?"true":"false"),e.Y8G("ngClass",e.l_i(50,an,n.isMobileDevice,!n.isMobileDevice))("mode",n.sAztMatDrawerService.mode),e.R7$(5),e.Y8G("isServerSearch",!1)("placeholder",e.bMT(9,33,"lang_azt_search_class_group"))("searchContentObj",n.searchByGroupContentObj)("styleInput","pr-10 py-1"),e.R7$(3),e.Y8G("visibility","hover"),e.R7$(2),e.Y8G("ngIf",!n.searchByGroupContentObj.searchContent),e.R7$(),e.Y8G("ngIf",n.mapClassroomGroupDataToForm.groupObjs.length>1),e.R7$(2),e.Y8G("ngClass",e.eq3(53,sn,!n.isMobileDevice&&n.sAztMatDrawerService.isOpenSideNav)),e.R7$(3),e.Y8G("ngIf",!n.sAztMatDrawerService.isOpenSideNav||n.isMobileDevice),e.R7$(),e.Y8G("ngIf",n.sAztMatDrawerService.isOpenSideNav&&!n.isMobileDevice),e.R7$(3),e.Y8G("isServerSearch",!1)("placeholder",e.bMT(24,35,"lang_azt_search_class"))("searchContentObj",n.searchByClassroomContentObj)("styleInput","py-1"),e.R7$(3),e.Y8G("matMenuTriggerFor",r),e.R7$(4),e.SpI(" ",e.bMT(31,37,"lang_testbank_tested_list_sort")," "),e.R7$(2),e.Y8G("ngIf",n.filterObj.isShowChecked||n.filterObj.isShowNotChecked),e.R7$(2),e.Y8G("maximize",s),e.R7$(7),e.SpI(" ",e.bMT(42,39,"lang_azt_selected_classes")," "),e.R7$(3),e.Y8G("checked",n.filterObj.isShowChecked),e.R7$(3),e.SpI(" ",e.bMT(48,41,"lang_azt_unselected_classes")," "),e.R7$(3),e.Y8G("checked",n.filterObj.isShowNotChecked),e.R7$(6),e.JRh(e.bMT(57,43,"lang_button_close")),e.R7$(4),e.JRh(e.bMT(61,45,"lang_button_delete")),e.R7$(3),e.Y8G("ngIf",n.mapClassroomGroupDataToForm.totalViewClassrooms>0)("ngIfElse",l)}},dependencies:[Se,me.W,ye,d.MD,d.YU,d.Sq,d.bT,d.B3,d.P9,c.X1,f.iI,c.YN,g.wp,T.s,X.kk,X.Cp,U.qe,U.$C,U.$l,L.oV,W.yg,W.E$,W.d6,b.flO,b.WGl,O.L,g.gC,C.Id,C.Yh,C.Gl,w.k],encapsulation:2}),i})();function In(t,i){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_testbank_test_config_you_not_yet_student")))}function Tn(t,i){if(1&t){const a=e.RV6();e.j41(0,"div")(1,"azt-list-classroom-view-tree",1),e.bIt("chooseStudentsEvent",function(n){e.eBV(a);const s=e.XpG();return e.Njj(s.chooseStudentsEvent(n))}),e.k0s(),e.j41(2,"div",2)(3,"div",3),e.DNE(4,In,3,3,"span",0),e.k0s()()()}if(2&t){const a=e.XpG();e.R7$(),e.Y8G("classroomGroupData",a.classroomGroupData)("studentsSelected",a.studentsSelected)("permissionName",a.permissionName),e.R7$(3),e.Y8G("ngIf",a.form.controls.studentIds.errors)}}let wn=(()=>{var t;class i extends A.H{chooseStudentsEvent(o){let n=this.form.controls.studentIds.controls.filter(s=>s.controls.classroomId.value!=o.classroomId);this.form.controls.studentIds.clear(),n.forEach(s=>{this.form.controls.studentIds.push(s)}),o.studentIdsSelected.forEach(s=>{this.form.controls.studentIds.push(new c.gE({classroomId:new c.MJ(o.classroomId,{nonNullable:!0}),studentId:new c.MJ(s,{nonNullable:!0})}))}),this.calculateStudentsSelected()}initStudentsControl(){this.form.controls.studentIds.clear(),this.examStudentObjs.forEach(o=>{this.form.controls.studentIds.push(new c.gE({classroomId:new c.MJ(o.classroomId,{nonNullable:!0}),studentId:new c.MJ(o.studentId,{nonNullable:!0})}))}),this.calculateStudentsSelected()}calculateStudentsSelected(){let o=[],n=this.commonService.arrayToDictionary(this.form.controls.studentIds.getRawValue(),s=>s.classroomId.toString());Object.entries(n).forEach(([s,r],l)=>{let _=this.commonService.getFirstOfArray(r)?.classroomId;_&&o.push({classroomId:_,classroomName:"",studentIdsSelected:r.map(u=>u.studentId)})}),this.studentsSelected=o}ngOnInit(){super.ngOnInit(),this.initStudentsControl()}constructor(){super(),this.examStudentObjs=[],this.permissionName=M.exam,this.studentsSelected=[]}}return(t=i).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["list-student-checkbox"]],inputs:{form:"form",classroomGroupData:"classroomGroupData",examStudentObjs:"examStudentObjs",permissionName:"permissionName"},standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[3,"chooseStudentsEvent","classroomGroupData","studentsSelected","permissionName"],[1,"mt-2"],[1,"text-xs","font-medium","text-danger"]],template:function(o,n){1&o&&e.DNE(0,Tn,5,4,"div",0),2&o&&e.Y8G("ngIf",n.form)},dependencies:[On,d.MD,d.bT,c.X1,f.iI,c.YN,g.wp,T.s,b.flO,O.L,C.Id,w.k],encapsulation:2}),i})();var Dn=m(11466),Fn=m(87744),Gn=m(57400);class _e{static studentCheckBoxValidator(i){const o=i.controls.whoAllow,n=i.controls.studentIds;return o&&n?3!=o.value||_e.countCheckBox(n)>=1?(n.setErrors(null),null):(n.setErrors({studentCheckBoxValidator:!0}),{identityRevealed:!0}):null}static countCheckBox(i){return i.getRawValue().length}}var En=m(81983);function An(t,i){1&t&&(e.j41(0,"div",5),e.nrm(1,"azt-loading-ui"),e.k0s())}function zn(t,i){if(1&t&&(e.j41(0,"div",27)(1,"div",28),e.nrm(2,"azt-list-classroom-checkbox",29),e.k0s()()),2&t){const a=e.XpG(2);e.R7$(2),e.Y8G("form",a.form)("classroomGroupData",a.classroomWithGroup)("examClassroomObjs",a.examClassroomObjs)("permissionName",a.permissionTypes.exam)}}function Rn(t,i){if(1&t&&(e.j41(0,"div",27)(1,"div",30)(2,"div",31)(3,"h3",32),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.nrm(6,"list-student-checkbox",33),e.k0s()()),2&t){const a=e.XpG(2);e.R7$(4),e.SpI(" ",e.bMT(5,5,"lang_test_config_student_list")," "),e.R7$(2),e.Y8G("form",a.form)("classroomGroupData",a.classroomWithGroup)("examStudentObjs",a.data.examStudents)("permissionName",a.permissionTypes.exam)}}function Nn(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",6)(1,"form",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()(),e.j41(8,"div",12)(9,"div",13)(10,"div",14)(11,"input",15),e.bIt("change",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.clearAllCheckBox(0))}),e.k0s(),e.j41(12,"label",16),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()(),e.j41(15,"div",17)(16,"input",18),e.bIt("change",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.clearAllCheckBox(2))}),e.k0s(),e.j41(17,"label",19),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s()(),e.j41(20,"div",20)(21,"input",21),e.bIt("change",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.clearAllCheckBox(3))}),e.k0s(),e.j41(22,"label",22),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()()()(),e.DNE(25,zn,3,4,"div",23)(26,Rn,7,7,"div",23),e.k0s()()()(),e.j41(27,"div",24)(28,"button",25),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.closeDialog())}),e.EFF(29),e.nI1(30,"mytranslate"),e.k0s(),e.j41(31,"button",26),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.savePublishExam("save"))}),e.EFF(32),e.nI1(33,"mytranslate"),e.k0s()()}if(2&t){const a=e.XpG();e.R7$(),e.Y8G("formGroup",a.form),e.R7$(5),e.SpI(" ",e.bMT(7,13,"lang_testbank_test_config_who_tested")," "),e.R7$(5),e.Y8G("value",0),e.R7$(2),e.SpI(" ",e.bMT(14,15,"lang_testbank_test_config_all_people")," "),e.R7$(3),e.Y8G("value",2),e.R7$(2),e.SpI(" ",e.bMT(19,17,"lang_testbank_test_config_assigne_class")," "),e.R7$(3),e.Y8G("value",3),e.R7$(2),e.SpI(" ",e.bMT(24,19,"lang_testbank_test_config_assigne_student")," "),e.R7$(2),e.Y8G("ngIf",2===a.form.controls.whoAllow.value),e.R7$(),e.Y8G("ngIf",3===a.form.controls.whoAllow.value),e.R7$(3),e.SpI(" ",e.bMT(30,21,"lang_auto_huy")," "),e.R7$(2),e.Y8G("disabled",3===a.form.controls.whoAllow.value&&a.form.controls.studentIds.errors||2===a.form.controls.whoAllow.value&&a.form.controls.classroomFormArray.errors),e.R7$(),e.SpI(" ",e.bMT(33,23,"lang_auto_luu")," ")}}let Mn=(()=>{var t;class i extends B._{clearAllCheckBox(o){1==o?this.isSelectClassroom=!1:2==o&&(this.isSelectClassroom=!0)}closeDialog(o){this.dialogRef.close(o)}savePublishExam(o){this.initStatusObj();let n="publish"===o?1:void 0;var s=this.form.getRawValue();const r=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray);let l=[];if(3==s.whoAllow&&s.studentIds&&s.studentIds.length){let p=this.commonService.arrayToDictionary(s.studentIds,h=>h.classroomId.toString());Object.entries(p).forEach(([h,v],x)=>{let I=this.commonService.getFirstOfArray(v)?.classroomId;I&&l?.push({classroomId:I,assignStudentIds:v.map(D=>D.studentId)})})}else l=void 0;let _={whoAllow:s.whoAllow,isPublished:n??void 0,classroomIds:r,assignStudents:l,isSaveConfig:0};var u=this.permissionService.hasEditPermission("exam",this.obj)?this.documentConfigService.apiDocumentConfigSaveExamConfigPost(this.hashId,_):this.documentConfigService.apiDocumentConfigSaveExamDataForConfigClassroomPost(this.hashId,_);this.waitDestroy(u.subscribe(p=>{1==p.success?(this.successStatusObj(),this.showSuccessSnack("lang_auto_luu_thanh_cong"),this.closeDialog(p.data?.obj)):this.errorStatusObj(p.message??"",!0)}))}getExamDataByHashId(o){this.initStatusObj(),this.waitDestroy(this.documentConfigService.apiDocumentConfigGetExamDataForConfigClassroomV2Get(o).subscribe(n=>{if(1==n.success){if(null!=n.data){var r,s=n.data?.examObj;if(!(r=this.castObj(s)))return;r.limitQuestionGroupsParse=this.commonService.myParseJson(s.limitQuestionGroups??""),this.obj=r,this.hashId=this.obj.hashId??"",this.classroomWithGroup=n.data.classroomGroupObjs??new Array,this.classroomObjs=this.commonService.concatMultipleArray(n.data.classroomGroupObjs.map(l=>l.classroomObjs)),this.examClassroomObjs=n.data.examClassroomObjs??[],this.form.patchValue({whoAllow:this.obj.whoAllow}),this.isSelectClassroom=2==this.obj.whoAllow,this.successStatusObj()}}else this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getExamDataByHashId(this.hashId)}constructor(o,n,s,r,l){super(r,s),this.documentConfigService=o,this.permissionService=n,this.dialogRef=s,this.data=r,this.sAztClassroomCheckboxService=l,this.permissionTypes=M,this.checkDialogFastContent=[],this.classroomObjs=[],this.examClassroomObjs=[],this.isSelectClassroom=!1,this.hashId="",this.classroomWithGroup=[],this.hashId=r.hashId,this.form=new c.gE({whoAllow:new c.MJ(0,{nonNullable:!0}),classroomFormArray:new c.Yp([]),studentIds:new c.Yp([])},{validators:[Z.classroomInGroupCheckBoxValidator,_e.studentCheckBoxValidator]})}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(En.x),e.rXU(q.p),e.rXU(F.CP,8),e.rXU(F.Vh,8),e.rXU(se))},t.\u0275cmp=e.VBU({type:t,selectors:[["config-online-exam-dialog"]],standalone:!0,features:[e.Jv_([{provide:Me.$O,useClass:Dn.fb,deps:[Ao.Ju,Eo.ij]},{provide:Me.vq,useFactory:Fn.Yw,deps:[Gn.F]}]),e.Vt3,e.aNF],decls:6,vars:2,consts:[["doneLoading",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],["class","loading flex items-center justify-center",4,"ngIf","ngIfElse"],[1,"loading","flex","items-center","justify-center"],[1,"col-md-12","setting"],[3,"formGroup"],[1,"setting-base"],["id","azt-config-who-allow",1,"grid","grid-cols-12","mt-4"],[1,"col-span-12","lg:col-span-3","pr-2"],[1,"mb-0","font-medium","flex","items-center"],[1,"col-span-12","lg:col-span-9"],[1,"flex","flex-col","sm:flex-row"],[1,"form-check","mr-5"],["id","config-who-all","formControlName","whoAllow","type","radio",1,"form-check-input",3,"change","value"],["for","config-who-all",1,"form-check-label"],[1,"form-check","mt-2","sm:mt-0","mr-5"],["id","config-who-class","formControlName","whoAllow","type","radio",1,"form-check-input",3,"change","value"],["for","config-who-class",1,"form-check-label"],[1,"form-check","mt-2","sm:mt-0"],["id","config-who-student","formControlName","whoAllow","type","radio",1,"form-check-input",3,"change","value"],["for","config-who-student",1,"form-check-label"],["class","col-span-12 mt-4",4,"ngIf"],[1,"text-right","mt-4"],["azt-track-service","config-exam-classroom-6-a-m4KztM",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","config-exam-classroom-brv1ZZTsfLY",1,"btn","w-24","btn-primary",3,"click","disabled"],[1,"col-span-12","mt-4"],[1,"azt-list-classroom"],[3,"form","classroomGroupData","examClassroomObjs","permissionName"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","pb-1"],[1,"p-3","bg-slate-100","dark:bg-darkmode-400","flex","items-center"],[1,"mr-auto"],[3,"form","classroomGroupData","examStudentObjs","permissionName"]],template:function(o,n){if(1&o&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.DNE(3,An,2,0,"div",4)(4,Nn,34,25,"ng-template",null,0,e.C5r),e.k0s()()()),2&o){const s=e.sdS(5);e.R7$(3),e.Y8G("ngIf",n.statusObj.loading)("ngIfElse",s)}},dependencies:[K.R,je,wn,d.MD,d.bT,c.X1,c.qT,c.me,c.Fm,c.BC,c.cb,c.j4,c.JD,f.iI,c.YN,g.wp,T.s,b.flO,O.L,C.Id,w.k,ee.t],encapsulation:2}),i})(),Ln=(()=>{var t;class i{doExamAction(o,n){switch(n){case $.CONFIG_EXAM_CLASSROOM:return this.showConfigExamClassroomDialog(o);case $.SHOW_EXAM_DETAIL:this.openDialog(o);break;case $.SHARE_OFFLINE_RESULT:this.showOfflineShareDialog(o);break;case $.COPY_EXAM_LINK:this.copyExamLink()}return this.returnUndefinedOutput()}copyExamLink(){this.commonService.snackSuccess("lang_auto_sao_chep_thanh_cong")}showConfigExamClassroomDialog(o){return new ke.c(n=>{this.sAztDialogService.open(Mn,{width:"900px",data:{hashId:o.examObj.hashId,examStudents:o.examObj?.examStudents??[]},restoreFocus:!1}).afterClosed().subscribe(r=>{r?(n.next({reloadData:!0}),n.complete()):(n.next(void 0),n.complete())})})}openDialog(o){"CAPACITY"!==o.examObj?.objectType&&this.showExamDetailDialog(o),"CAPACITY"===o.examObj?.objectType&&this.openDialogCapacityExamDetail(o)}openDialogCapacityExamDetail(o){this.sAztDialogService.open(Go,{width:"800px",maxWidth:"90vw",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:{id:o.examObj?.id??0},restoreFocus:!1}).afterClosed().subscribe(s=>{})}showExamDetailDialog(o){let n={obj:{...o.examObj,countQuestion:0,showFrontend:1,editable:!0,allowStudentView:!0},globalLadingPage:o.globalLadingPage,curCateId:o.categoryId,isOnLib:0,isShow:!0,showDelete:!0};this.sAztDialogService.open(Ne,{width:"800px",maxWidth:"90vw",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:n,restoreFocus:!1}).afterClosed().subscribe(r=>{})}showOfflineShareDialog(o){this.sAztDialogService.open(Ht,{width:"1000px",data:{examHashId:o.examObj.hashId,useDialog:!0},restoreFocus:!1})}returnUndefinedOutput(){return new ke.c(o=>{o.next(void 0),o.complete()})}constructor(o,n){this.commonService=o,this.sAztDialogService=n}}return(t=i).\u0275fac=function(o){return new(o||t)(e.KVO(te.R),e.KVO(Y.i))},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),i})(),Bn=(()=>{var t;class i{constructor(){this.clipboardObjs=[]}setActionToClipboard(o,n,s,r){var l={id:o,name:r,type:n,action:s};this.clipboardObjs.filter(u=>u.id==l.id&&u.type==l.type).length>0?this.clipboardObjs.forEach(u=>{u.id==l.id&&u.type==l.type&&(u.action=l.action)}):this.clipboardObjs.push(l)}hasInClipboard(o,n){return this.clipboardObjs.filter(r=>r.id==o&&r.type==n).length>0}hasCopyFolderActionInClipboard(){var o=!1;return this.clipboardObjs.forEach(n=>{n.type==H.EXAM_CATEGORY&&n.action==J.COPY&&(o=!0)}),o}getActionOfDocumentObj(o,n){var s=this.clipboardObjs.filter(r=>r.id==o&&r.type==n);if(s&&s.length>0)return s[0].action}removeDocumentInClipboard(o,n){for(var s=0;s<this.clipboardObjs.length;s++)this.clipboardObjs[s].id==o&&this.clipboardObjs[s].type==n&&this.clipboardObjs.splice(s,1)}isPasteToSelfFolder(o){var n=!1;return this.clipboardObjs.forEach(s=>{s.id==o&&s.type==H.EXAM_CATEGORY&&s.action==J.COPY&&(n=!0)}),n}getCurrentClipBoard(){return this.clipboardObjs}resetClipBoardAfterPasteOrCancelAllActions(){this.clipboardObjs=[]}}return(t=i).\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();var $n=m(50116);let Vn=(()=>{var t;class i{sortExamByColumn(o,n,s){return n==V.BY_NAME?this.sortExamByName(o,s):n==V.BY_PUBLISH_STATUS?this.sortExamByPublishStatus(o,s):n==V.BY_UPDATED_DATE?this.sortExamByDateUpdated(o,s):n==V.BY_ATTENDED?this.sortExamByAttended(o,s):this.sortExamByName(o,s)}sortExamByName(o,n){var s=[...o.rootCategoryObjs??[]],r=[...o.rootDocumentObjs??[]];return 1==n?{categoryObjs:this._sortCateByName(s),documentObjs:this._sortDocumentByName(r)}:{categoryObjs:this._sortCateByName(s).reverse(),documentObjs:this._sortDocumentByName(r).reverse()}}sortExamByPublishStatus(o,n){var s=[...o.rootDocumentObjs??[]];return 1==n?{categoryObjs:o.currentCategoryObjs,documentObjs:this._sortDocumentByPublish(s,s?.length)}:{categoryObjs:o.currentCategoryObjs,documentObjs:this._sortDocumentByPublish(s,s?.length).reverse()}}sortExamByDateUpdated(o,n){var s=this.commonService.castObj(o.rootCategoryObjs),r=this.commonService.castObj(o.rootDocumentObjs);return 1==n?{categoryObjs:this._sortCateByDateUpdateExam(s??[]),documentObjs:this._sortDocumentByUpdateTime(r??[])}:{categoryObjs:this._sortCateByDateUpdateExam(s??[]).reverse(),documentObjs:this._sortDocumentByUpdateTime(r??[]).reverse()}}sortExamByAttended(o,n){var s=this.commonService.castObj(o.rootDocumentObjs);return 1==n?{categoryObjs:o.currentCategoryObjs,documentObjs:this._sortDocumentByAttended(s??[])}:{categoryObjs:o.currentCategoryObjs,documentObjs:this._sortDocumentByAttended(s??[]).reverse()}}_sortCateByName(o){return o?.sort((n,s)=>(n.name?.trim()??"").localeCompare(s.name?.trim()??""))??[]}_sortDocumentByName(o){return o?.sort((n,s)=>(n.name?.trim()??"").localeCompare(s.name?.trim()??""))??[]}_sortDocumentByPublish(o,n){let s=[],r=[];for(let l=0;l<(n??0);l++)null!=o?.[l]&&!o?.[l].isPublished&&s.push(o[l]),o?.[l].isPublished&&r.push(o[l]);return s.concat(r)}_sortCateByDateUpdateExam(o){return o.sort((n,s)=>Number(new Date(n.updatedAt??""))-Number(new Date(s.updatedAt??""))),o}_sortDocumentByUpdateTime(o){return o?.sort((n,s)=>Number(new Date(n.updatedAt??""))-Number(new Date(s.updatedAt??"")))}_sortDocumentByAttended(o){return o?.sort((n,s)=>Number(n.attended)-Number(s.attended))}constructor(o){this.commonService=o}}return(t=i).\u0275fac=function(o){return new(o||t)(e.KVO(te.R))},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();var Yn=m(64283);const Be=t=>({active:t}),Pn=t=>[t],Xn=t=>({clickable:t}),Un=t=>({"truncate-bread":t}),Wn=(t,i)=>({"overflow-x-auto":t,"overflow-x-visible":i}),$e=t=>({"min-width":t}),Qn=(t,i)=>({"col-span-4":t,"col-span-12":i}),Jn=(t,i)=>({"ml-5":t,"ml-3":i}),Ve=t=>({"text-primary stroke-width-2.5":t}),Hn=()=>({"-mt-2":!0}),Kn=(t,i)=>({"col-span-8":t,"col-span-12":i}),Zn=(t,i)=>({"w-60":t,"w-52":i});function qn(t,i){if(1&t&&(e.j41(0,"li",15)(1,"a",16),e.nI1(2,"navigationLocalize"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&t){const a=e.XpG();e.Y8G("ngClass",e.eq3(7,Be,2885==a.currentCategoryId||0==a.currentCategoryId)),e.R7$(),e.Y8G("routerLink",e.eq3(9,Pn,e.bMT(2,3,"/ladingpage/document-management/0/0/1"))),e.R7$(2),e.SpI(" ",e.bMT(4,5,"azt_lang_core_share_global_azota")," ")}}function ea(t,i){if(1&t){const a=e.RV6();e.j41(0,"li",17)(1,"a",18),e.bIt("click",function(){const n=e.eBV(a).$implicit,s=e.XpG();return e.Njj(s.backToParentCategoryEvent(n))}),e.j41(2,"span",19,1),e.nI1(4,"mytranslate"),e.j41(5,"span"),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()()()}if(2&t){const a=i.$implicit,o=e.sdS(3),n=e.XpG();e.Y8G("ngClass",e.eq3(11,Be,a.id==n.currentCategoryId)),e.R7$(),e.Y8G("ngClass",e.eq3(13,Xn,a.id!=n.currentCategoryId)),e.R7$(),e.FS9("matTooltip",e.bMT(4,7,a.name)),e.Y8G("ngClass",e.eq3(15,Un,a.id!=n.currentCategoryId))("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),e.R7$(4),e.JRh(e.bMT(7,9,a.name))}}function ta(t,i){1&t&&(e.j41(0,"div",20)(1,"div",21),e.nrm(2,"azt-svg-icon",22),e.j41(3,"p",23),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(2),e.Y8G("size",84),e.R7$(2),e.SpI("",e.bMT(5,2,"lang_not_found_search"),"!"))}function oa(t,i){if(1&t&&(e.qex(0),e.eu8(1,24),e.bVm()),2&t){e.XpG();const a=e.sdS(14);e.R7$(),e.Y8G("ngTemplateOutlet",a)}}function na(t,i){1&t&&e.nrm(0,"azt-loading-ui",41)}function aa(t,i){1&t&&(e.qex(0),e.nrm(1,"azt-svg-icon",54),e.bVm()),2&t&&(e.R7$(),e.Y8G("size",24))}function sa(t,i){1&t&&(e.j41(0,"span"),e.nrm(1,"azt-svg-icon",55),e.k0s()),2&t&&(e.R7$(),e.Y8G("size",24))}function ia(t,i){1&t&&e.nrm(0,"azt-svg-icon",56),2&t&&e.Y8G("size",24)}function ra(t,i){if(1&t&&e.DNE(0,sa,2,1,"span",49)(1,ia,1,1,"ng-template",null,3,e.C5r),2&t){const a=e.sdS(2),o=e.XpG().$implicit;e.Y8G("ngIf",o.shared)("ngIfElse",a)}}function la(t,i){1&t&&(e.j41(0,"span",57),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_de_chung_azota")," "))}function ca(t,i){1&t&&(e.j41(0,"span",58),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_chia_se")))}function ma(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"div",46)(5,"div",47),e.bIt("click",function(){const n=e.eBV(a).$implicit,s=e.XpG(2);return e.Njj(s.handleOpenFolder(n))}),e.j41(6,"div",48),e.DNE(7,aa,2,1,"ng-container",49)(8,ra,3,2,"ng-template",null,2,e.C5r),e.k0s(),e.j41(10,"div",50,1),e.nI1(12,"mytranslate"),e.j41(13,"span"),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()(),e.DNE(16,la,3,3,"span",51)(17,ca,3,3,"span",52),e.k0s()()(),e.nrm(18,"div",53),e.k0s()()()}if(2&t){const a=i.$implicit,o=e.sdS(9),n=e.sdS(11),s=e.XpG(2);e.FS9("id","folder_"+a.id),e.R7$(5),e.Y8G("ngClass",e.l_i(17,Zn,-1==a.id,-1!=a.id)),e.R7$(2),e.Y8G("ngIf",1==a.isGlobalAzota)("ngIfElse",o),e.R7$(3),e.FS9("matTooltip",e.bMT(12,13,a.name)),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),e.R7$(3),e.HbH(s.isMobileWebView&&-1!=a.id?"azt-wv-item-name":""),e.R7$(),e.JRh(e.bMT(15,15,a.name)),e.R7$(2),e.Y8G("ngIf",-1!=a.id&&1==a.isGlobalAzota),e.R7$(),e.Y8G("ngIf",-1==a.id)}}function ua(t,i){1&t&&(e.nrm(0,"lucide-icon",73),e.nI1(1,"mytranslate")),2&t&&e.FS9("matTooltip",e.bMT(1,1,"lang_testbank_folder_and_file_published"))}function da(t,i){1&t&&(e.nrm(0,"lucide-icon",74),e.nI1(1,"mytranslate")),2&t&&e.FS9("matTooltip",e.bMT(1,1,"lang_testbank_folder_and_file_unpublished"))}function _a(t,i){if(1&t&&(e.j41(0,"span",75),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const a=e.XpG(2).$implicit;e.R7$(),e.Lme("",e.bMT(2,2,"lang_testbank_folder_and_file_number_attended"),": ",a.exam.attended,"")}}function pa(t,i){1&t&&(e.j41(0,"div",76),e.nrm(1,"azt-svg-icon",77),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(),e.FS9("matTooltip",e.bMT(2,2,"lang_auto_da_chia_se")),e.Y8G("size",16))}function ha(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",60)(1,"div",61)(2,"div",62)(3,"div")(4,"div",63),e.bIt("click",function(){e.eBV(a);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.doExamAction(n.exam,s.enumDocumentDoExamActionType.SHOW_EXAM_DETAIL))}),e.j41(5,"div",64),e.DNE(6,ua,2,3,"lucide-icon",65)(7,da,2,3,"lucide-icon",66),e.k0s(),e.j41(8,"div",67,1)(10,"span",68),e.EFF(11),e.k0s(),e.DNE(12,_a,3,4,"span",69),e.k0s(),e.DNE(13,pa,3,4,"div",70),e.k0s()(),e.j41(14,"div")(15,"a",71),e.bIt("click",function(){e.eBV(a);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.doExamAction(n.exam,s.enumDocumentDoExamActionType.SHOW_EXAM_DETAIL))}),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s(),e.j41(18,"a",72),e.nI1(19,"mytranslate"),e.bIt("click",function(){e.eBV(a);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.downLoadExam(n.exam))}),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()()()()}if(2&t){const a=e.sdS(9),o=e.XpG().$implicit,n=e.XpG(2);e.R7$(3),e.ZvI("w-full flex items-center ",n.isMobileWebView?"":"mobile-80vw",""),e.R7$(3),e.Y8G("ngIf",o.exam.isPublished),e.R7$(),e.Y8G("ngIf",!o.exam.isPublished),e.R7$(),e.ZvI("ml-3 ",n.isMobileDevice?"truncate":"mr-5",""),e.FS9("matTooltip",o.exam.name),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),e.R7$(2),e.ZvI("mb-0 d-block ",n.isMobileWebView?"azt-wv-item-name":"",""),e.R7$(),e.JRh(o.exam.name),e.R7$(),e.Y8G("ngIf",n.isMobileWebView),e.R7$(),e.Y8G("ngIf",o.shared),e.R7$(),e.ZvI("flex items-center py-1 ",n.isMobileDevice?"mt-2":"",""),e.R7$(2),e.SpI(" ",e.bMT(17,23,"lang_auto_xem_noi_dung_de")," "),e.R7$(2),e.FS9("matTooltip",e.bMT(19,25,"lang_global_azota_download")),e.R7$(2),e.SpI(" ",e.bMT(21,27,"lang_global_azota_download")," ")}}function ga(t,i){if(1&t&&(e.qex(0),e.DNE(1,ha,22,29,"div",59),e.bVm()),2&t){const a=i.$implicit;e.R7$(),e.Y8G("ngIf",a.exam)}}function fa(t,i){if(1&t){const a=e.RV6();e.j41(0,"form",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29)(5,"div",30),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.sortDocumentByColumn(n.enumDocumentSortType.BY_NAME,null==n.currentDocumentSortTypeObj?null:n.currentDocumentSortTypeObj.isAscSort))}),e.EFF(6),e.nI1(7,"mytranslate"),e.j41(8,"div",31),e.nrm(9,"lucide-icon",32)(10,"lucide-icon",33),e.k0s()()(),e.j41(11,"div",34)(12,"button",35,1),e.nI1(14,"mytranslate"),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.downloadAllFolder())}),e.DNE(15,na,1,0,"azt-loading-ui",36),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()(),e.j41(18,"div",37),e.DNE(19,ma,19,20,"div",38)(20,ga,2,1,"ng-container",39),e.k0s(),e.nrm(21,"div",40),e.k0s()()}if(2&t){const a=e.sdS(13),o=e.XpG();e.Y8G("formGroup",o.form),e.R7$(),e.Y8G("ngClass",e.l_i(25,Wn,!o.isMobileDevice,o.isMobileDevice)),e.R7$(),e.Y8G("ngStyle",e.eq3(28,$e,o.isMobileWebView?"":"1100px")),e.R7$(2),e.Y8G("ngClass",e.l_i(30,Qn,!o.isMobileWebView,o.isMobileWebView)),e.R7$(),e.Y8G("ngClass",e.l_i(33,Jn,!o.isMobileWebView,o.isMobileWebView)),e.R7$(),e.SpI(" ",e.bMT(7,19,"lang_testbank_folder_and_file_name")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(36,Ve,1==(null==o.currentDocumentSortTypeObj?null:o.currentDocumentSortTypeObj.isAscSort)&&(null==o.currentDocumentSortTypeObj?null:o.currentDocumentSortTypeObj.isColumnSortType)==o.enumDocumentSortType.BY_NAME)),e.R7$(),e.Y8G("ngClass",e.lJ4(38,Hn))("ngClass",e.eq3(39,Ve,0==(null==o.currentDocumentSortTypeObj?null:o.currentDocumentSortTypeObj.isAscSort)&&(null==o.currentDocumentSortTypeObj?null:o.currentDocumentSortTypeObj.isColumnSortType)==o.enumDocumentSortType.BY_NAME)),e.R7$(),e.Y8G("ngClass",e.l_i(41,Kn,!o.isMobileWebView,o.isMobileWebView)),e.R7$(),e.FS9("matTooltip",e.bMT(14,21,"lang_global_azota_download_all_folder_desc")),e.Y8G("disabled",o.loadingDownload)("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),e.R7$(3),e.Y8G("ngIf",o.loadingDownload),e.R7$(),e.SpI(" ",e.bMT(17,23,"lang_global_azota_download_all_folder")," "),e.R7$(2),e.Y8G("ngStyle",e.eq3(44,$e,o.isMobileWebView?"":"1100px")),e.R7$(),e.Y8G("ngForOf",o.categoryObjs),e.R7$(),e.Y8G("ngForOf",o.documentObjs)}}let ba=(()=>{var t;class i extends A.H{sendReloadData(){this.clipboardService.resetClipBoardAfterPasteOrCancelAllActions(),this.loadApiData.emit(!0)}handleOpenFolder(o){this.goToChildCategoryPage.emit(o)}goBackToAllCategoryPageEvent(){this.goBackToAllCategoryPage.emit()}backToParentCategoryEvent(o){this.backToParentCategory.emit(o)}doExamAction(o,n){this.documentDoExamActionService.doExamAction({categoryId:this.currentCategoryId,examObj:o,globalLadingPage:!0},n).subscribe(r=>{r&&r.reloadData&&this.sendReloadData()})}downloadAllFolder(){if(this.userService.isLoginAndNotAnonymous()){this.loadingDownload=!0;let o=(this.documentObjs?.filter(n=>n.exam)??[]).map(n=>({id:n.exam?.id??0,type:H.EXAM,action:J.COPY,documentType:"exam"}));this.waitDestroy(this.examCategoryService.apiExamCategoryCopyOrCutOrDeletePost(0,{copyOrCutObjs:o}).subscribe(n=>{if(this.loadingDownload=!1,n&&1==n.success)return this.showSuccessSnack("lang_global_azota_download_success"),void this.sendReloadData();if("azota_lang_core_exceed_max_global_copy"!=n.message)return this.errorStatusObj(n.message,!0);let s=this.sAztConfigService.getConfig("maxCopyGlobalExam")??20,r=this.commonService.translateToKeyParam(n.message??"",s.toString(),s.toString());this.errorStatusObj(r??"",!0)}))}else this.sAztDialogService.open(ve,{width:"600px",data:{keyTrans:this.isBusinessDomain?"lang_global_azota_must_login_business":"lang_global_azota_must_login",isShow:!0},restoreFocus:!1})}downLoadExam(o){if(this.userService.isLoginAndNotAnonymous()){let n=[];n.push({id:o.id,type:H.EXAM,action:J.COPY,documentType:"exam"}),this.waitDestroy(this.examCategoryService.apiExamCategoryCopyOrCutOrDeletePost(0,{copyOrCutObjs:n}).subscribe(s=>{if(s&&1==s.success)return this.showSuccessSnack("lang_global_azota_download_success"),void this.sendReloadData();if("azota_lang_core_exceed_max_global_copy"!=s.message)return this.errorStatusObj(s.message,!0);let r=this.sAztConfigService.getConfig("maxCopyGlobalExam")??20,l=this.commonService.translateToKeyParam(s.message??"",r.toString(),r.toString());this.errorStatusObj(l??"",!0)}))}else this.sAztDialogService.open(ve,{width:"600px",data:{keyTrans:this.isBusinessDomain?"lang_global_azota_must_login_business":"lang_global_azota_must_login",isShow:!0},restoreFocus:!1})}sortDocumentByColumn(o,n){let r=this.documentSortActionService.sortExamByColumn({rootCategoryObjs:this.rootCategoryObjs,rootDocumentObjs:this.rootDocumentObjs,currentCategoryObjs:this.categoryObjs??[],currentDocumentObjs:this.documentObjs??[]},o,n=null==n||!n);this.categoryObjs=r.categoryObjs,this.documentObjs=r.documentObjs,this.currentDocumentSortTypeObj={isAscSort:n,isColumnSortType:o},this.browserStorageService.saveSimpleSessionStorage("documentSort",JSON.stringify(this.currentDocumentSortTypeObj))}ngOnInit(){this.waitDestroy((0,be.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cat_id"))}));let o=this.commonService.myParseJson(this.browserStorageService.getSimpleSessionStorage("documentSort")??"");o&&this.sortDocumentByColumn(o.isColumnSortType,!o.isAscSort)}ngOnDestroy(){super.ngOnDestroy()}constructor(o,n,s,r,l,_,u,p,h){super(),this.documentDoExamActionService=o,this.activeRoute=n,this.sAztDialogService=s,this.clipboardService=r,this.browserStorageService=l,this.documentSortActionService=_,this.userService=u,this.sAztConfigService=p,this.examCategoryService=h,this.rootCategoryObjs=[],this.rootDocumentObjs=[],this.isShowSearchResult=!1,this.currentPage=0,this.listBreadcrumb=[],this.goBackToAllCategoryPage=new e.bkB,this.backToParentCategory=new e.bkB,this.goToChildCategoryPage=new e.bkB,this.loadApiData=new e.bkB,this.currentDocumentSortTypeObj=void 0,this.enumDocumentSortType=V,this.enumDocumentRedirectType=Ce,this.enumDocumentDoExamActionType=$,this.currentCategoryId=0,this.totalCheckboxSelected=0,this.shareType="",this.loadingDownload=!1,this.form=new c.gE({clipboardObjs:new c.Yp([]),isSelectAll:new c.MJ(!1,{nonNullable:!0,validators:[c.k0.required]})})}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(Ln),e.rXU(f.nX),e.rXU(Y.i),e.rXU(Bn),e.rXU($n.z),e.rXU(Vn),e.rXU(ie.R),e.rXU(Yn.u),e.rXU(Q.Ns))},t.\u0275cmp=e.VBU({type:t,selectors:[["global-exam-and-category-list"]],inputs:{rootCategoryObjs:"rootCategoryObjs",rootDocumentObjs:"rootDocumentObjs",categoryObjs:"categoryObjs",currentCategory:"currentCategory",documentObjs:"documentObjs",isShowSearchResult:"isShowSearchResult",backToData:"backToData",currentPage:"currentPage",listBreadcrumb:"listBreadcrumb"},outputs:{goBackToAllCategoryPage:"goBackToAllCategoryPage",backToParentCategory:"backToParentCategory",goToChildCategoryPage:"goToChildCategoryPage",loadApiData:"loadApiData"},standalone:!0,features:[e.Vt3,e.aNF],decls:15,vars:7,consts:[["DefaultDocumentTableTpl",""],["c","isDisabled"],["normalCate",""],["noShare",""],[1,"azt-file-manager"],[1,"mt-3","mb-3","h-auto","sm:h-10","flex","flex-col","sm:flex-row","items-center"],[1,"mr-auto"],[1,"breadcrumb"],[1,"breadcrumb-item"],["azt-track-service","global-exam-category-list-mLrqTdVRx",3,"click"],["class","breadcrumb-item",3,"ngClass",4,"ngIf"],["class","breadcrumb-item active",3,"ngClass",4,"ngFor","ngForOf"],[1,"table-zone"],["class","box p-5 flex items-center","style","height: 300px",4,"ngIf"],[4,"ngIf"],[1,"breadcrumb-item",3,"ngClass"],["azt-track-service","global-exam-category-list-NdujkQJ24",3,"routerLink"],[1,"breadcrumb-item","active",3,"ngClass"],["azt-track-service","global-exam-category-list-_rMqLAn4k6",3,"click","ngClass"],[3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"box","p-5","flex","items-center",2,"height","300px"],[1,"text-center","mx-auto"],["type","folder-empty",3,"size"],[1,"font-medium","mt-2"],[3,"ngTemplateOutlet"],[3,"formGroup"],[1,"inbox","box",2,"scroll-snap-type","x mandatory",3,"ngClass"],[1,"p-5","text-slate-500","border-b","border-slate-200/60",3,"ngStyle"],[1,"grid","grid-cols-12","gap-3","items-center","-mx-5","px-5"],[1,"flex","items-center",3,"ngClass"],["azt-track-service","global-exam-category-list-5-CYQgv-EU",1,"inbox__item--sender","flex","items-center","cursor-pointer",3,"click","ngClass"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[1,"text-right",3,"ngClass"],[1,"btn","btn-sm","btn-success","text-white",2,"white-space","nowrap",3,"click","disabled","matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","mr-2",4,"ngIf"],[1,"azt-table-body",2,"min-height","50vh",3,"ngStyle"],["class","folder-item",3,"id",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-5","flex","flex-col","sm:flex-row","items-center","text-center","sm:text-left","text-slate-500"],[1,"mr-2"],[1,"folder-item",3,"id"],[1,"inbox__item","inline-block","sm:block","hover:shadow-md","text-slate-600","dark:text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400",2,"cursor","default"],[1,"block","sm:grid","grid-cols-12","gap-3","items-center","px-5","box-exam"],[1,"flex","col-span-12","md:col-span-4",2,"width","80vw","justify-content","space-between"],[1,"flex-none","flex","items-center","w-full"],["azt-track-service","global-exam-category-list-VueJbv5yf5",1,"title-exam","flex","items-center","clickable","sm:w-full",3,"click","ngClass"],[1,"image-fit"],[4,"ngIf","ngIfElse"],[1,"truncate","ml-3",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","whitespace-nowrap ml-2 py-0.5 px-2 rounded-full text-xs bg-info text-white font-medium",4,"ngIf"],["class","whitespace-nowrap ml-2 py-0.5 px-2 rounded-full text-xs bg-primary text-white font-medium",4,"ngIf"],[1,"col-span-8","py-1"],["type","folder-azota",3,"size"],["type","folder-share",3,"size"],["type","folder",3,"size"],[1,"whitespace-nowrap","ml-2","py-0.5","px-2","rounded-full","text-xs","bg-info","text-white","font-medium"],[1,"whitespace-nowrap","ml-2","py-0.5","px-2","rounded-full","text-xs","bg-primary","text-white","font-medium"],["class","exam-item",4,"ngIf"],[1,"exam-item"],[1,"inbox__item","sm:block","text-slate-600","hover:shadow-md","dark:text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400",2,"cursor","default"],[1,"px-5","md:flex","block","box-exam"],["azt-track-service","global-exam-category-list-8ugbR7o5-K",1,"title-exam","flex","items-center","clickable",3,"click"],[1,"text-pending","image-fit"],["name","file-check","size","24",3,"matTooltip",4,"ngIf"],["name","file","size","24",3,"matTooltip",4,"ngIf"],[3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[2,"width","100% !important"],["class","azt-wv-sub-info mx-auto",4,"ngIf"],["class","icon-share ml-2",4,"ngIf"],["azt-track-service","global-exam-category-list--JVXwK7So7",1,"btn","btn-sm","btn-outline-success","mr-2",2,"white-space","nowrap",3,"click"],["azt-track-service","global-exam-category-list-pEOorzBaKX",1,"btn","btn-sm","btn-outline-primary",2,"white-space","nowrap",3,"click","matTooltip"],["name","file-check","size","24",3,"matTooltip"],["name","file","size","24",3,"matTooltip"],[1,"azt-wv-sub-info","mx-auto"],[1,"icon-share","ml-2"],["type","book",2,"padding","3px",3,"size","matTooltip"]],template:function(o,n){if(1&o){const s=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"ol",7)(4,"li",8)(5,"a",9),e.bIt("click",function(){return e.eBV(s),e.Njj(n.goBackToAllCategoryPageEvent())}),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()(),e.DNE(8,qn,5,11,"li",10)(9,ea,8,17,"li",11),e.k0s()()(),e.j41(10,"div",12),e.DNE(11,ta,6,4,"div",13)(12,oa,2,1,"ng-container",14),e.k0s()(),e.DNE(13,fa,22,46,"ng-template",null,0,e.C5r)}2&o&&(e.R7$(6),e.SpI(" ",e.bMT(7,5,"lang_auto_tat_ca")," "),e.R7$(2),e.Y8G("ngIf",n.userService.isLogin()),e.R7$(),e.Y8G("ngForOf",n.listBreadcrumb),e.R7$(2),e.Y8G("ngIf",0==(null==n.categoryObjs?null:n.categoryObjs.length)&&0==(null==n.documentObjs?null:n.documentObjs.length)),e.R7$(),e.Y8G("ngIf",0!=(null==n.categoryObjs?null:n.categoryObjs.length)||0!=(null==n.documentObjs?null:n.documentObjs.length)))},dependencies:[xe.f,tt.m,K.R,g.F2,d.MD,d.YU,d.Sq,d.bT,d.T3,d.B3,c.X1,c.qT,c.cb,c.j4,f.iI,f.Wk,c.YN,g.wp,T.s,L.oV,b.flO,b.WGl,O.L,C.Id,w.k],styles:[".title-exam[_ngcontent-%COMP%]{padding-top:14px;padding-bottom:14px}@media (max-width: 640px){.mobile-80vw[_ngcontent-%COMP%]{width:80vw!important}.title-exam[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;width:90%!important}.box-exam[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}}"]}),i})();var Ye=m(73973),Ca=m(62753),Pe=m(5553),pe=m(64509);const xa=["*"],va=()=>({"mr-1":!0}),ka=()=>({"search__icon dark:text-slate-500":!0}),le=t=>[t],he=()=>({"text-white transform -rotate-90":!0});function Sa(t,i){if(1&t&&(e.j41(0,"div",6),e.eu8(1,7),e.j41(2,"div",8),e.eu8(3,7),e.j41(4,"div",9)(5,"div",10),e.eu8(6,7),e.k0s(),e.j41(7,"div",11),e.eu8(8,7),e.k0s()()()()),2&t){e.XpG();const a=e.sdS(4),o=e.sdS(6),n=e.sdS(8),s=e.sdS(10);e.R7$(),e.Y8G("ngTemplateOutlet",n),e.R7$(2),e.Y8G("ngTemplateOutlet",s),e.R7$(3),e.Y8G("ngTemplateOutlet",o),e.R7$(2),e.Y8G("ngTemplateOutlet",a)}}function ya(t,i){if(1&t&&(e.j41(0,"div",6)(1,"div",8)(2,"div",12)(3,"div",11),e.eu8(4,7),e.k0s()()()()),2&t){e.XpG();const a=e.sdS(4);e.R7$(4),e.Y8G("ngTemplateOutlet",a)}}function ja(t,i){1&t&&e.SdG(0)}function Oa(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",25),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.goBack())}),e.nrm(1,"lucide-icon",26),e.j41(2,"span",27),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&t&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,va)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_auto_quay_lai")))}function Ia(t,i){if(1&t){const a=e.RV6();e.qex(0),e.j41(1,"form",28)(2,"div",29)(3,"div",30)(4,"input",31),e.nI1(5,"mytranslate"),e.bIt("keyup.enter",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.searchDocument())}),e.k0s(),e.j41(6,"lucide-icon",32),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.searchDocument())}),e.k0s()()()(),e.bVm()}if(2&t){const a=e.XpG(2);e.R7$(),e.Y8G("formGroup",a.form),e.R7$(3),e.FS9("placeholder",e.bMT(5,3,"lang_auto_tim_kiem")),e.R7$(2),e.Y8G("ngClass",e.lJ4(5,ka))}}function Ta(t,i){if(1&t&&(e.j41(0,"div",33),e.EFF(1),e.k0s()),2&t){const a=e.XpG(2);e.R7$(),e.SpI(" ",a.headerTitle," ")}}function wa(t,i){if(1&t&&(e.j41(0,"div",13)(1,"div",14)(2,"div",15),e.DNE(3,Oa,5,5,"button",16),e.k0s(),e.j41(4,"div",17)(5,"span",18),e.EFF(6),e.k0s()(),e.j41(7,"div",14),e.DNE(8,Ia,7,6,"ng-container",19),e.j41(9,"div",20),e.nrm(10,"azt-switch-language"),e.k0s(),e.j41(11,"div",20),e.nrm(12,"header-notice-box",21),e.k0s(),e.j41(13,"div",22),e.nrm(14,"header-account-menu",23),e.k0s()()(),e.DNE(15,Ta,2,1,"div",24),e.k0s()),2&t){const a=e.XpG();e.R7$(3),e.Y8G("ngIf",""!=a.headerBackToLink),e.R7$(3),e.SpI(" ",a.headerTitle," "),e.R7$(2),e.Y8G("ngIf",a.isDocumentMarket),e.R7$(4),e.Y8G("role",0),e.R7$(2),e.Y8G("isTeacherDashboard",!1),e.R7$(),e.Y8G("ngIf",a.headerTitle)}}function Da(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"a",36),e.nI1(3,"navigationLocalize"),e.nrm(4,"img",37),e.nI1(5,"getLinkLogo"),e.k0s(),e.j41(6,"a",38),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.openMenuMobile())}),e.nrm(7,"lucide-icon",39),e.k0s()(),e.j41(8,"div",40)(9,"a",41),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.closeMenuMobile())}),e.nrm(10,"lucide-icon",42),e.k0s(),e.j41(11,"div",40)(12,"a",43),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.closeMenuMobile())}),e.nrm(13,"lucide-icon",42),e.k0s(),e.j41(14,"ul",44)(15,"li")(16,"a",45),e.nI1(17,"navigationLocalize"),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.closeMenuMobile())}),e.j41(18,"div",46),e.nrm(19,"lucide-icon",47),e.k0s(),e.j41(20,"div",48),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()()()()()()()}if(2&t){const a=e.XpG();e.R7$(2),e.Y8G("routerLink",e.eq3(15,le,e.bMT(3,7,"/student/dashboard"))),e.R7$(2),e.Y8G("src",e.bMT(5,9,"smallLogo"),e.B4B),e.R7$(3),e.Y8G("ngClass",e.lJ4(17,he)),e.R7$(3),e.Y8G("ngClass",e.lJ4(18,he)),e.R7$(3),e.Y8G("ngClass",e.lJ4(19,he)),e.R7$(3),e.Y8G("routerLink",e.eq3(20,le,e.bMT(17,11,a.defaultHomeworkPage))),e.R7$(5),e.JRh(e.bMT(22,13,"lang_auto_de_thi"))}}function Fa(t,i){if(1&t&&(e.j41(0,"nav",49)(1,"a",50),e.nI1(2,"navigationLocalize"),e.nrm(3,"img",37),e.nI1(4,"getLinkLogo"),e.k0s(),e.nrm(5,"div",51),e.j41(6,"ul")(7,"li")(8,"a",52),e.nI1(9,"navigationLocalize"),e.j41(10,"div",53),e.nI1(11,"mytranslate"),e.nrm(12,"lucide-icon",47),e.k0s(),e.j41(13,"div",54),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()()()()()),2&t){const a=e.XpG();e.R7$(),e.Y8G("routerLink",e.eq3(16,le,e.bMT(2,6,"/student/dashboard"))),e.R7$(2),e.Y8G("src",e.bMT(4,8,"smallLogo"),e.B4B),e.R7$(5),e.Y8G("routerLink",e.eq3(18,le,e.bMT(9,10,a.defaultHomeworkPage))),e.R7$(2),e.FS9("matTooltip",e.bMT(11,12,"lang_auto_de_thi")),e.Y8G("matTooltipPosition","right"),e.R7$(4),e.JRh(e.bMT(15,14,"lang_auto_de_thi"))}}let Ga=(()=>{var t;class i extends A.H{searchDocument(){this.searchDocumentMarket.emit(this.form.controls.searchContent.value)}goBack(){let o=this.commonService.myParseJson(this.headerBackToLink);this.commonService.myNavigationBySpecialQueryString(o&&o.backTo?o.backTo:this.headerBackToLink)}openMenuMobile(){document.getElementById("toggle-menu")?.classList.add("mobile-menu--active")}closeMenuMobile(){document.getElementById("toggle-menu")?.classList.remove("mobile-menu--active")}ngOnInit(){super.ngOnInit(),window.scrollTo(0,0),this.waitDestroy(this.documentFilterSubscriber?.subscribe(o=>{this.form.controls.searchContent.setValue(o.searchKeyword)}))}constructor(o){super(),this.mobileWebviewService=o,this.headerBackToLink="",this.headerTitle="",this.defaultHomeworkPage="",this.isDocumentMarket=!1,this.searchDocumentMarket=new e.bkB,this.waitDestroy(this.mobileWebviewService.getWebviewBackToListenerSubscriber().subscribe(()=>{this.headerBackToLink&&this.goBack()})),this.form=new c.gE({searchContent:new c.MJ("",{nonNullable:!0})})}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(pe.f))},t.\u0275cmp=e.VBU({type:t,selectors:[["public-layout-for-student"]],inputs:{headerBackToLink:"headerBackToLink",headerTitle:"headerTitle",defaultHomeworkPage:"defaultHomeworkPage",isDocumentMarket:"isDocumentMarket",documentFilterSubscriber:"documentFilterSubscriber"},outputs:{searchDocumentMarket:"searchDocumentMarket"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:xa,decls:11,vars:2,consts:[["BodyContentTpl",""],["TopBarTpl",""],["mobileMenuTpl",""],["DesktopMenuTpl",""],["id","azt-layout",1,"azt-layout"],["class","azt-body",4,"ngIf"],[1,"azt-body"],[3,"ngTemplateOutlet"],[1,"flex","mt-[4.7rem]","md:mt-0"],[1,"content","relative"],[1,"top-bar"],[1,"azt-content"],[1,"content","relative",2,"padding","0 !important"],[1,"block","w-full"],[1,"flex","items-center"],[1,"mr-auto"],["azt-track-service","lading-page-layout-5ipgLIiEL","class","btn btn-transparent",3,"click",4,"ngIf"],[1,"font-medium","flex-one","text-center"],[1,"azt-hidden","md:block"],[4,"ngIf"],[1,"dropdown","mr-2","sm:mr-4"],[3,"role"],[1,"dropdown","header-account-menu"],[3,"isTeacherDashboard"],["class","block md:hidden text-center pt-2 pb-2 font-medium",4,"ngIf"],["azt-track-service","lading-page-layout-5ipgLIiEL",1,"btn","btn-transparent",3,"click"],["name","chevron-left","size","20",3,"ngClass"],[1,"azt-hidden","sm:block"],[3,"formGroup"],[1,"intro-x","relative","mr-4","sm:mr-6","document-market"],[1,"search","sm:block"],["type","text","formControlName","searchContent",1,"search__input","form-control","border-transparent",3,"keyup.enter","placeholder"],["name","search","size","20",3,"click","ngClass"],[1,"block","md:hidden","text-center","pt-2","pb-2","font-medium"],["id","toggle-menu",1,"mobile-menu","md:hidden"],[1,"mobile-menu-bar"],["azt-track-service","lading-page-layout-RUixq2byay",1,"flex","mr-auto",3,"routerLink"],["alt","Azota",1,"w-10",3,"src"],["azt-track-service","lading-page-layout-agxh9hrE8X",1,"mobile-menu-toggler",3,"click"],["name","bar-chart-2","size","32",3,"ngClass"],[1,"scrollable"],["azt-track-service","teacher-layout-p3XQvJS7FuD",1,"mobile-menu-toggler",3,"click"],["name","circle-x","size","32",3,"ngClass"],["azt-track-service","lading-page-layout-JJj3smTNsp",1,"mobile-menu-toggler",3,"click"],[1,"scrollable__content","py-2"],["azt-track-service","lading-page-layout-50bSnvl3eL",1,"menu","side-menu","side-menu--active",3,"click","routerLink"],[1,"menu__icon"],["name","file-check","size","24"],[1,"menu__title"],[1,"side-nav","side-nav--simple"],["azt-track-service","lading-page-layout-e7IetjEZrt",1,"flex","items-center","pl-5","pt-4","relative",3,"routerLink"],[1,"side-nav__devider","my-6"],["azt-track-service","lading-page-layout-_H4qd23B63",1,"side-menu","side-menu--active",3,"routerLink"],[1,"side-menu__icon",3,"matTooltip","matTooltipPosition"],[1,"side-menu__title"]],template:function(o,n){1&o&&(e.NAR(),e.j41(0,"div",4),e.DNE(1,Sa,9,4,"div",5)(2,ya,5,1,"div",5),e.k0s(),e.DNE(3,ja,1,0,"ng-template",null,0,e.C5r)(5,wa,16,6,"ng-template",null,1,e.C5r)(7,Da,23,22,"ng-template",null,2,e.C5r)(9,Fa,16,20,"ng-template",null,3,e.C5r)),2&o&&(e.R7$(),e.Y8G("ngIf",!n.isMobileWebView),e.R7$(),e.Y8G("ngIf",n.isMobileWebView))},dependencies:[Pe.V,Ca.O,Ye.V,g.F2,d.MD,d.YU,d.bT,d.T3,c.X1,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,f.iI,f.Wk,c.YN,g.wp,T.s,L.oV,b.flO,b.WGl,O.L,g.ph,C.Id,w.k,ee.t],encapsulation:2}),i})();const Ea=["*"],Aa=()=>({"mr-1":!0}),za=()=>({"search__icon dark:text-slate-500":!0}),ce=t=>[t],ge=()=>({"text-white transform -rotate-90":!0});function Ra(t,i){if(1&t&&(e.j41(0,"div",6),e.eu8(1,7),e.j41(2,"div",8),e.eu8(3,7),e.j41(4,"div",9)(5,"div",10),e.eu8(6,7),e.k0s(),e.j41(7,"div",11),e.eu8(8,7),e.k0s()()()()),2&t){e.XpG();const a=e.sdS(4),o=e.sdS(6),n=e.sdS(8),s=e.sdS(10);e.R7$(),e.Y8G("ngTemplateOutlet",n),e.R7$(2),e.Y8G("ngTemplateOutlet",s),e.R7$(3),e.Y8G("ngTemplateOutlet",o),e.R7$(2),e.Y8G("ngTemplateOutlet",a)}}function Na(t,i){if(1&t&&(e.j41(0,"div",6)(1,"div",8)(2,"div",12)(3,"div",11),e.eu8(4,7),e.k0s()()()()),2&t){e.XpG();const a=e.sdS(4);e.R7$(4),e.Y8G("ngTemplateOutlet",a)}}function Ma(t,i){1&t&&e.SdG(0)}function La(t,i){if(1&t){const a=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.goBack())}),e.nrm(1,"lucide-icon",25),e.j41(2,"span",26),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&t&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,Aa)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_auto_quay_lai")))}function Ba(t,i){if(1&t){const a=e.RV6();e.qex(0),e.j41(1,"form",27)(2,"div",28)(3,"div",29)(4,"input",30),e.nI1(5,"mytranslate"),e.bIt("keyup.enter",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.searchDocument())}),e.k0s(),e.j41(6,"lucide-icon",31),e.bIt("click",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.searchDocument())}),e.k0s()()()(),e.bVm()}if(2&t){const a=e.XpG(2);e.R7$(),e.Y8G("formGroup",a.form),e.R7$(3),e.FS9("placeholder",e.bMT(5,3,"lang_auto_tim_kiem")),e.R7$(2),e.Y8G("ngClass",e.lJ4(5,za))}}function $a(t,i){if(1&t&&(e.j41(0,"div",32),e.EFF(1),e.k0s()),2&t){const a=e.XpG(2);e.R7$(),e.SpI(" ",a.headerTitle," ")}}function Va(t,i){if(1&t&&(e.j41(0,"div",13)(1,"div",14)(2,"div",15),e.DNE(3,La,5,5,"button",16),e.k0s(),e.j41(4,"div",17)(5,"span",18),e.EFF(6),e.k0s()(),e.j41(7,"div",14),e.DNE(8,Ba,7,6,"ng-container",19),e.j41(9,"div",20),e.nrm(10,"azt-switch-language"),e.k0s(),e.j41(11,"div",21),e.nrm(12,"header-account-menu",22),e.k0s()()(),e.DNE(13,$a,2,1,"div",23),e.k0s()),2&t){const a=e.XpG();e.R7$(3),e.Y8G("ngIf",""!=a.headerBackToLink),e.R7$(3),e.SpI(" ",a.headerTitle," "),e.R7$(2),e.Y8G("ngIf",a.isDocumentMarket),e.R7$(4),e.Y8G("isTeacherDashboard",!1),e.R7$(),e.Y8G("ngIf",a.headerTitle)}}function Ya(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",33)(1,"div",34)(2,"a",35),e.nI1(3,"navigationLocalize"),e.nrm(4,"img",36),e.nI1(5,"getLinkLogo"),e.k0s(),e.j41(6,"a",37),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.openMenuMobile())}),e.nrm(7,"lucide-icon",38),e.k0s()(),e.j41(8,"div",39)(9,"a",40),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.closeMenuMobile())}),e.nrm(10,"lucide-icon",41),e.k0s(),e.j41(11,"div",39)(12,"a",42),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.closeMenuMobile())}),e.nrm(13,"lucide-icon",41),e.k0s(),e.j41(14,"ul",43)(15,"li")(16,"a",44),e.nI1(17,"navigationLocalize"),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.closeMenuMobile())}),e.j41(18,"div",45),e.nrm(19,"lucide-icon",46),e.k0s(),e.j41(20,"div",47),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()()()()()()()}if(2&t){const a=e.XpG();e.R7$(2),e.Y8G("routerLink",e.eq3(15,ce,e.bMT(3,7,a.defaultHomeworkPage))),e.R7$(2),e.Y8G("src",e.bMT(5,9,"smallLogo"),e.B4B),e.R7$(3),e.Y8G("ngClass",e.lJ4(17,ge)),e.R7$(3),e.Y8G("ngClass",e.lJ4(18,ge)),e.R7$(3),e.Y8G("ngClass",e.lJ4(19,ge)),e.R7$(3),e.Y8G("routerLink",e.eq3(20,ce,e.bMT(17,11,a.defaultHomeworkPage))),e.R7$(5),e.JRh(e.bMT(22,13,"lang_auto_de_thi"))}}function Pa(t,i){if(1&t&&(e.j41(0,"nav",48)(1,"a",49),e.nI1(2,"navigationLocalize"),e.nrm(3,"img",36),e.nI1(4,"getLinkLogo"),e.k0s(),e.nrm(5,"div",50),e.j41(6,"ul")(7,"li")(8,"a",51),e.nI1(9,"navigationLocalize"),e.j41(10,"div",52),e.nI1(11,"mytranslate"),e.nrm(12,"lucide-icon",46),e.k0s(),e.j41(13,"div",53),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()()()()()),2&t){const a=e.XpG();e.R7$(),e.Y8G("routerLink",e.eq3(16,ce,e.bMT(2,6,a.defaultHomeworkPage))),e.R7$(2),e.Y8G("src",e.bMT(4,8,"smallLogo"),e.B4B),e.R7$(5),e.Y8G("routerLink",e.eq3(18,ce,e.bMT(9,10,a.defaultHomeworkPage))),e.R7$(2),e.FS9("matTooltip",e.bMT(11,12,"lang_auto_de_thi")),e.Y8G("matTooltipPosition","right"),e.R7$(4),e.JRh(e.bMT(15,14,"lang_auto_de_thi"))}}let Xa=(()=>{var t;class i extends A.H{searchDocument(){this.searchDocumentMarket.emit(this.form.controls.searchContent.value)}goBack(){let o=this.commonService.myParseJson(this.headerBackToLink);this.commonService.myNavigationBySpecialQueryString(o&&o.backTo?o.backTo:this.headerBackToLink)}openMenuMobile(){document.getElementById("toggle-menu")?.classList.add("mobile-menu--active")}closeMenuMobile(){document.getElementById("toggle-menu")?.classList.remove("mobile-menu--active")}ngOnInit(){super.ngOnInit(),window.scrollTo(0,0),this.waitDestroy(this.documentFilterSubscriber?.subscribe(o=>{this.form.controls.searchContent.setValue(o.searchKeyword)}))}constructor(o){super(),this.mobileWebviewService=o,this.headerBackToLink="",this.headerTitle="",this.defaultHomeworkPage="",this.isDocumentMarket=!1,this.searchDocumentMarket=new e.bkB,this.waitDestroy(this.mobileWebviewService.getWebviewBackToListenerSubscriber().subscribe(()=>{this.headerBackToLink&&this.goBack()})),this.form=new c.gE({searchContent:new c.MJ("",{nonNullable:!0})})}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(pe.f))},t.\u0275cmp=e.VBU({type:t,selectors:[["public-layout-for-un-auth"]],inputs:{headerBackToLink:"headerBackToLink",headerTitle:"headerTitle",defaultHomeworkPage:"defaultHomeworkPage",isDocumentMarket:"isDocumentMarket",documentFilterSubscriber:"documentFilterSubscriber"},outputs:{searchDocumentMarket:"searchDocumentMarket"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Ea,decls:11,vars:2,consts:[["BodyContentTpl",""],["TopBarTpl",""],["mobileMenuTpl",""],["DesktopMenuTpl",""],["id","azt-layout",1,"azt-layout"],["class","azt-body",4,"ngIf"],[1,"azt-body"],[3,"ngTemplateOutlet"],[1,"flex","mt-[4.7rem]","md:mt-0"],[1,"content","relative"],[1,"top-bar"],[1,"azt-content"],[1,"content","relative",2,"padding","0 !important"],[1,"block","w-full"],[1,"flex","items-center"],[1,"mr-auto"],["azt-track-service","lading-page-layout-5ipgLIiEL","class","btn btn-transparent",3,"click",4,"ngIf"],[1,"font-medium","flex-one","text-center"],[1,"azt-hidden","md:block"],[4,"ngIf"],[1,"dropdown","mr-2","sm:mr-4"],[1,"dropdown","header-account-menu"],[3,"isTeacherDashboard"],["class","block md:hidden text-center pt-2 pb-2 font-medium",4,"ngIf"],["azt-track-service","lading-page-layout-5ipgLIiEL",1,"btn","btn-transparent",3,"click"],["name","chevron-left","size","20",3,"ngClass"],[1,"azt-hidden","sm:block"],[3,"formGroup"],[1,"intro-x","relative","mr-4","sm:mr-6","document-market"],[1,"search","sm:block"],["type","text","formControlName","searchContent",1,"search__input","form-control","border-transparent",3,"keyup.enter","placeholder"],["name","search","size","20",3,"click","ngClass"],[1,"block","md:hidden","text-center","pt-2","pb-2","font-medium"],["id","toggle-menu",1,"mobile-menu","md:hidden"],[1,"mobile-menu-bar"],["azt-track-service","lading-page-layout-RUixq2byay",1,"flex","mr-auto",3,"routerLink"],["alt","Azota",1,"w-10",3,"src"],["azt-track-service","lading-page-layout-agxh9hrE8X",1,"mobile-menu-toggler",3,"click"],["name","bar-chart-2","size","32",3,"ngClass"],[1,"scrollable"],["azt-track-service","teacher-layout-p3XQvJS7FuD",1,"mobile-menu-toggler",3,"click"],["name","circle-x","size","32",3,"ngClass"],["azt-track-service","lading-page-layout-JJj3smTNsp",1,"mobile-menu-toggler",3,"click"],[1,"scrollable__content","py-2"],["azt-track-service","lading-page-layout-50bSnvl3eL",1,"menu","side-menu","side-menu--active",3,"click","routerLink"],[1,"menu__icon"],["name","file-check","size","24"],[1,"menu__title"],[1,"side-nav","side-nav--simple"],["azt-track-service","lading-page-layout-e7IetjEZrt",1,"flex","items-center","pl-5","pt-4","relative",3,"routerLink"],[1,"side-nav__devider","my-6"],["azt-track-service","lading-page-layout-_H4qd23B63",1,"side-menu","side-menu--active",3,"routerLink"],[1,"side-menu__icon",3,"matTooltip","matTooltipPosition"],[1,"side-menu__title"]],template:function(o,n){1&o&&(e.NAR(),e.j41(0,"div",4),e.DNE(1,Ra,9,4,"div",5)(2,Na,5,1,"div",5),e.k0s(),e.DNE(3,Ma,1,0,"ng-template",null,0,e.C5r)(5,Va,14,5,"ng-template",null,1,e.C5r)(7,Ya,23,22,"ng-template",null,2,e.C5r)(9,Pa,16,20,"ng-template",null,3,e.C5r)),2&o&&(e.R7$(),e.Y8G("ngIf",!n.isMobileWebView),e.R7$(),e.Y8G("ngIf",n.isMobileWebView))},dependencies:[Pe.V,Ye.V,g.F2,d.MD,d.YU,d.bT,d.T3,c.X1,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,f.iI,f.Wk,c.YN,g.wp,T.s,L.oV,b.flO,b.WGl,O.L,g.ph,C.Id,w.k,ee.t],encapsulation:2}),i})();var Ua=m(89966);const Wa=["*"];function Qa(t,i){if(1&t){const a=e.RV6();e.qex(0),e.j41(1,"teacher-layout",2),e.bIt("handleBackDialog",function(n){e.eBV(a);const s=e.XpG();return e.Njj(s.handleBackDialog.emit(n))})("searchDocumentMarket",function(n){e.eBV(a);const s=e.XpG();return e.Njj(s.searchDocumentMarket.emit(n))}),e.eu8(2,3),e.k0s(),e.bVm()}if(2&t){const a=e.XpG(),o=e.sdS(4);e.R7$(),e.Y8G("headerBackToLink",a.headerBackToLink)("headerTitle",a.headerTitle)("checkBackDialog",a.checkBackDialog)("isDocumentMarket",a.isDocumentMarket)("documentFilterSubscriber",a.documentFilterSubscriber),e.R7$(),e.Y8G("ngTemplateOutlet",o)}}function Ja(t,i){if(1&t){const a=e.RV6();e.qex(0),e.j41(1,"public-layout-for-student",4),e.bIt("searchDocumentMarket",function(n){e.eBV(a);const s=e.XpG();return e.Njj(s.searchDocumentMarket.emit(n))}),e.eu8(2,3),e.k0s(),e.bVm()}if(2&t){const a=e.XpG(),o=e.sdS(4);e.R7$(),e.Y8G("headerBackToLink",a.headerBackToLink)("defaultHomeworkPage",a.defaultHomeworkPage)("isDocumentMarket",a.isDocumentMarket)("documentFilterSubscriber",a.documentFilterSubscriber),e.R7$(),e.Y8G("ngTemplateOutlet",o)}}function Ha(t,i){if(1&t){const a=e.RV6();e.qex(0),e.j41(1,"public-layout-for-un-auth",4),e.bIt("searchDocumentMarket",function(n){e.eBV(a);const s=e.XpG();return e.Njj(s.searchDocumentMarket.emit(n))}),e.eu8(2,3),e.k0s(),e.bVm()}if(2&t){const a=e.XpG(),o=e.sdS(4);e.R7$(),e.Y8G("headerBackToLink",a.headerBackToLink)("defaultHomeworkPage",a.defaultHomeworkPage)("isDocumentMarket",a.isDocumentMarket)("documentFilterSubscriber",a.documentFilterSubscriber),e.R7$(),e.Y8G("ngTemplateOutlet",o)}}function Ka(t,i){1&t&&e.SdG(0)}let Za=(()=>{var t;class i extends A.H{ngOnInit(){super.ngOnInit(),this.currentRole=this.userService.isTeacherRole()?"teacher":this.currentRole,this.currentRole=!this.userService.isTeacherRole()&&this.userService.isLoginAndNotAnonymous()?"student":this.currentRole,this.currentRole=this.userService.isLoginAndNotAnonymous()?this.currentRole:"un-auth","landing-page"==this.layoutName&&(this.defaultHomeworkPage="/ladingpage/document-management/0/0/1"),"document-market"==this.layoutName&&(this.defaultHomeworkPage="/document-market/list-documents/all-documents/1")}constructor(o){super(),this.userService=o,this.headerBackToLink="",this.headerTitle="",this.checkBackDialog=!1,this.handleBackDialog=new e.bkB,this.isDocumentMarket=!1,this.searchDocumentMarket=new e.bkB,this.defaultHomeworkPage=""}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(ie.R))},t.\u0275cmp=e.VBU({type:t,selectors:[["public-layout"]],inputs:{layoutName:"layoutName",headerBackToLink:"headerBackToLink",headerTitle:"headerTitle",checkBackDialog:"checkBackDialog",isDocumentMarket:"isDocumentMarket",documentFilterSubscriber:"documentFilterSubscriber"},outputs:{handleBackDialog:"handleBackDialog",searchDocumentMarket:"searchDocumentMarket"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Wa,decls:5,vars:3,consts:[["BodyContentTpl",""],[4,"ngIf"],[3,"handleBackDialog","searchDocumentMarket","headerBackToLink","headerTitle","checkBackDialog","isDocumentMarket","documentFilterSubscriber"],[3,"ngTemplateOutlet"],[3,"searchDocumentMarket","headerBackToLink","defaultHomeworkPage","isDocumentMarket","documentFilterSubscriber"]],template:function(o,n){1&o&&(e.NAR(),e.DNE(0,Qa,3,6,"ng-container",1)(1,Ja,3,5,"ng-container",1)(2,Ha,3,5,"ng-container",1)(3,Ka,1,0,"ng-template",null,0,e.C5r)),2&o&&(e.Y8G("ngIf","teacher"==n.currentRole),e.R7$(),e.Y8G("ngIf","student"==n.currentRole),e.R7$(),e.Y8G("ngIf","un-auth"==n.currentRole))},dependencies:[Ua.Q,Ga,Xa,d.MD,d.bT,d.T3,c.X1,f.iI,c.YN,b.flO,O.L,C.Id],encapsulation:2}),i})();var qa=m(36876),es=m(95506),ts=m(21413);let os=(()=>{var t;class i{constructor(){this.hasDataChanged=new ts.B,this.currentMessage=this.hasDataChanged.asObservable()}changeStatus(o){this.hasDataChanged.next(o)}}return(t=i).\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();const ns=()=>[];function as(t,i){if(1&t&&e.nrm(0,"azt-loading-effect",5),2&t){const a=e.XpG();e.Y8G("currentStatusObj",a.statusObj)}}function ss(t,i){1&t&&(e.qex(0),e.j41(1,"div",9)(2,"span",10),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_global_azota_not_support_student_role")))}function is(t,i){if(1&t){const a=e.RV6();e.j41(0,"div",11)(1,"global-exam-and-category-list",12),e.bIt("goToChildCategoryPage",function(n){e.eBV(a);const s=e.XpG(2);return e.Njj(s.goToChildCategoryPage(n))})("goBackToAllCategoryPage",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.goBackToAllCategoryPage())})("backToParentCategory",function(n){e.eBV(a);const s=e.XpG(2);return e.Njj(s.backToParentCategory(n))})("loadApiData",function(){e.eBV(a);const n=e.XpG(2);return e.Njj(n.reloadApi())}),e.k0s()(),e.j41(2,"div",13)(3,"div",14)(4,"azt-paging",15),e.bIt("goToPaginationPage",function(n){e.eBV(a);const s=e.XpG(2);return e.Njj(s.goToPage(n))}),e.k0s()(),e.j41(5,"div",16)(6,"p",17),e.EFF(7),e.nI1(8,"number"),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",18)(11,"p",17),e.EFF(12),e.nI1(13,"number"),e.nI1(14,"mytranslate"),e.k0s()()()}if(2&t){const a=e.XpG(2);e.R7$(),e.Y8G("rootCategoryObjs",a.cloneCategoryObjs)("rootDocumentObjs",a.cloneDocumentObjs)("categoryObjs",a.categoryObjs)("documentObjs",a.documentObjs)("backToData",a.backToData)("currentPage",a.pageObj.page)("currentCategory",a.currentCategory)("isShowSearchResult",a.isShowSearchResult)("listBreadcrumb",a.listBreadcrumb||e.lJ4(20,ns)),e.R7$(3),e.Y8G("pageObj",a.pageObj),e.R7$(3),e.JRh(e.bMT(8,12,a.totalExam)+" "+e.bMT(9,14,"lang_testbank_test_list_document")),e.R7$(5),e.JRh(e.bMT(13,16,a.totalExam)+" "+e.bMT(14,18,"lang_testbank_test_list_document"))}}function rs(t,i){if(1&t&&(e.j41(0,"div",6)(1,"div",7),e.DNE(2,ss,5,3,"ng-container",8)(3,is,15,21,"ng-template",null,1,e.C5r),e.k0s()()),2&t){const a=e.sdS(4),o=e.XpG();e.R7$(2),e.Y8G("ngIf",o.userService.isLogin()&&!o.userService.isTeacherRole()&&!o.userService.isAnonymousRoleOfCurrentUser())("ngIfElse",a)}}const ls=[{path:"",component:(()=>{var t;class i extends A.H{}return(t=i).\u0275fac=(()=>{let a;return function(n){return(a||(a=e.xGo(t)))(n||t)}})(),t.\u0275cmp=e.VBU({type:t,selectors:[["lading-master-page"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["id","lading-page-layout"]],template:function(o,n){1&o&&(e.j41(0,"div",0),e.nrm(1,"router-outlet"),e.k0s())},dependencies:[d.MD,c.X1,f.iI,f.n3,c.YN,T.s,b.flO,O.L,C.Id,w.k],encapsulation:2}),i})(),children:[{path:"document-management/0/:cat_id/:page",component:(()=>{var t;class i extends A.H{goToPage(o){this.backToData?this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+this.currentCategoryId+"/"+o,"?data="+this.commonService.serializeJson(this.backToData)):this.commonService.myNavigation("/ladingpage/document-management/0/"+this.currentCategoryId+"/"+o)}resetSearchForm(){this.form.patchValue({searchContent:""}),this.isShowSearchResult=!1}convertExamObj(o){var n=[];return o.forEach(s=>{s.exam&&n.push({name:s.exam.name,updatedAt:s.exam.updatedAt,createdAt:s.exam.createdAt,attended:s.exam.attended,isPublished:s.exam.isPublished,exam:s.exam,shared:s.shared,type:"exam",paths:s.paths,isGlobalAzota:0})}),n}goBackToAllCategoryPage(){var o=this.getFormValue();let n=this.userService.isLogin()&&this.userService.isTeacherRole()?"/admin/testbank":"/ladingpage";o.searchContent?(this.resetSearchForm(),0==this.currentCategoryId?this.getData():this.commonService.myNavigation(n+"/document-management/0/0/1")):this.commonService.myNavigation(n+"/document-management/0/0/1")}backToParentCategory(o){o.id!=this.currentCategoryId&&(this.resetSearchForm(),this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+o.id+"/1",o.shareType?"?data="+this.commonService.serializeJson({shareType:o.shareType,backTo:`/ladingpage/document-management/0/${this.currentCategoryId}/1`,suggest:o.isGlobalAzota>1?1:0,isAztLib:0!=o.isGlobalAzota?1:0}):""))}goToChildCategoryPage(o){this.resetSearchForm(),this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+o.id+"/1",o.shareType?"?data="+this.commonService.serializeJson({shareType:o.shareType,suggest:0!=o.isGlobalAzota?1:0,isAztLib:0!=o.isGlobalAzota?1:0}):"")}getFormValue(){return this.form.getRawValue()}getListParentCategoryObjs(){this.waitDestroy(this.examCategoryService.apiExamCategoryGetGlobalBreadcrumbsGet(this.currentCategoryId).subscribe(o=>{if(o&&1==o.success){var n=[];o.data?.objs&&o.data?.objs.forEach(s=>{n.push({...s,shared:!1,sharedGroups:[],sharedTeachers:[],paths:[]})}),this.listBreadcrumb=n;for(let s=0;s<this.listBreadcrumb?.length;s++)if(this.listBreadcrumb[s].id==this.currentCategoryId){let r="",l=0,_=0;0!=this.listBreadcrumb[s].isGlobalAzota&&(_=1),!this.listBreadcrumb[s].parentId&&this.listBreadcrumb[s].shareType?(r=0!=this.listBreadcrumb[s].isGlobalAzota?"":"user",l=s>1?this.listBreadcrumb[s-1].id??-1:0==s&&0!=this.listBreadcrumb[s].isGlobalAzota?0:this.listBreadcrumb[s].parentId??this.listBreadcrumb[s].tenantId??-1):this.listBreadcrumb[s].parentId&&this.listBreadcrumb[s].shareType?(r=s>1?this.listBreadcrumb[s-1].shareType??"":s<=1&&0!=this.listBreadcrumb[s].isGlobalAzota?this.listBreadcrumb[s].shareType??"":"",l=this.listBreadcrumb[s].parentId??-1):l=this.listBreadcrumb[s].parentId??0;let u=l?`/ladingpage/document-management/0/${l}/1`+(this.backToData?"?data="+this.commonService.serializeJson({shareType:r}):""):"/ladingpage/document-management/0/0/1";this.backToLink=this.commonService.serializeJson({shareType:r,backTo:u,suggest:_})}}else this.showErrorSnack(o.message??"")}))}getData(){var o=Number(this.commonService.getMyParam(this.activeRoute,"page"));let n=this.getFormValue();this.pageObj.setPageNumber(o),this.initStatusObj();let s={categoryId:0!=this.currentCategoryId?this.currentCategoryId:0,documentType:void 0,shareType:this.backToData?.shareType??"",fileType:"exam",classroomId:void 0,name:this.isShowSearchResult?n.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:1,page:this.pageObj.page,itemPerPage:void 0};this.waitDestroy(this.documentService.apiDocumentsGlobalGet(s.categoryId,s.suggestExamPurpose,s.page,s.itemPerPage).subscribe(r=>{if(r&&1==r.success){var l=this.commonService.castObj(r.data?.documentObjs)??[],_=this.convertExamObj(l);this.documentObjs=_,this.cloneDocumentObjs=_,this.categoryObjs=r.data?.categoryObjs,this.cloneCategoryObjs=r.data?.categoryObjs??[],this.currentCategory=r.data?.currentCategory?{...r.data?.currentCategory,shared:!1,sharedGroups:[],sharedTeachers:[],paths:[]}:void 0,this.totalExam=r.data?.total??0,this.pageObj.setTotalPages(this.totalExam),this.getListParentCategoryObjs(),this.stopStatusObj()}else this.showErrorSnack(r.message??"")}))}reloadApi(){this.getData()}ngOnInit(){this.waitDestroy((0,be.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))),this.currentCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cat_id")),this.backToData=this.commonService.myParseJson(this.commonService.getMyQueryParam("data")??"");let o={shareType:this.backToData?.shareType,suggest:this.backToData?.suggest,backTo:this.backToData?.backTo??(this.userService.isTeacherRole()?"/admin/testbank/document-management/0/0/1":"/student/dashboard")};this.backToLink=this.commonService.serializeJson(o),this.mobileWebviewService.sendSimpleMessage("OPEN_EXAM"),this.getData()})),this.commonService.translateMetaData({title:"lang_testbank_document_list_header_title",description:"lang_testbank_document_list_header_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}constructor(o,n,s,r,l,_){super(),this.activeRoute=o,this.examCategoryService=n,this.documentService=s,this.aztShareService=r,this.mobileWebviewService=l,this.userService=_,this.isShowSearchResult=!1,this.totalExam=0,this.recommendExamObjs=[],this.documentObjs=[],this.cloneDocumentObjs=[],this.cloneCategoryObjs=[],this.listBreadcrumb=[],this.currentCategoryId=0,this.backToLink="",this.pageObj=new es.d(24),this.form=new c.gE({searchContent:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]})})}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(f.nX),e.rXU(Q.Ns),e.rXU(Q.DK),e.rXU(os),e.rXU(pe.f),e.rXU(ie.R))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-global-exam-management-list"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:4,consts:[["doneLoading",""],["normalTeacherView",""],[3,"layoutName","headerBackToLink"],[1,"container-fluid","mt-3","overflow-hidden"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[4,"ngIf","ngIfElse"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[1,"azt-view-file-manager"],[3,"goToChildCategoryPage","goBackToAllCategoryPage","backToParentCategory","loadApiData","rootCategoryObjs","rootDocumentObjs","categoryObjs","documentObjs","backToData","currentPage","currentCategory","isShowSearchResult","listBreadcrumb"],[1,"azt-document-footer","flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2"],[3,"goToPaginationPage","pageObj"],[1,"text-right","mt-2","azt-hidden","md:block"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"]],template:function(o,n){if(1&o&&(e.j41(0,"public-layout",2)(1,"div",3),e.DNE(2,as,1,1,"azt-loading-effect",4)(3,rs,5,2,"ng-template",null,0,e.C5r),e.k0s()()),2&o){const s=e.sdS(4);e.Y8G("layoutName","landing-page")("headerBackToLink",n.userService.isLogin()?n.backToLink:0==n.currentCategoryId?"":n.backToLink),e.R7$(2),e.Y8G("ngIf",n.statusObj.loading)("ngIfElse",s)}},dependencies:[Za,Le.K,ba,qa.q,d.MD,d.bT,d.QX,c.X1,f.iI,c.YN,g.wp,T.s,b.flO,O.L,C.Id,w.k],encapsulation:2}),i})()}]}];let cs=(()=>{var t;class i{}return(t=i).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[f.iI.forChild(ls),f.iI,Xe.XE]}),i})()}}]);