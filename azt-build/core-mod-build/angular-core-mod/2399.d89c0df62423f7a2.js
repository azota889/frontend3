"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[2399],{51034:(M,S,r)=>{r.r(S),r.d(S,{LadingPageModule:()=>Ye});var t=r(54460),u=r(10936),D=r(89163),d=r(65162),f=r(81275),C=r(69223),h=r(15437),E=r(15343),I=r(13763),R=r(25571),w=r(5502),P=r(70050),L=r(7050),$=r(35143),B=r(43234),V=r(21656),F=r(1133),A=r(76627),O=r(59640),N=r(37497),e=r(48891),G=r(78472),Y=r(15485),X=r(52509),k=r(36484),U=r(18718),W=r(22613),J=r(86972),K=r(92274),l=r(45306),p=r(43362),m=r(51221),_=r(86925),y=r(37581),v=r(92654),z=r(46899),b=r(30977),Q=r(50589),H=r(31291),Z=r(23356),j=r(47712),ie=r(69135),se=r(52811),re=r(94743),q=r(47348);const ae=n=>({active:n}),le=n=>[n],ce=n=>({clickable:n}),me=n=>({"truncate-bread":n}),de=(n,c)=>({"overflow-x-auto":n,"overflow-x-visible":c}),ne=n=>({"min-width":n}),ge=(n,c)=>({"col-span-4":n,"col-span-12":c}),_e=(n,c)=>({"ml-5":n,"ml-3":c}),oe=n=>({"text-primary stroke-width-2.5":n}),pe=()=>({"-mt-2":!0}),ue=(n,c)=>({"col-span-8":n,"col-span-12":c}),he=(n,c)=>({"w-60":n,"w-52":c});function be(n,c){if(1&n&&(e.j41(0,"li",15)(1,"a",16),e.nI1(2,"navigationLocalize"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&n){const i=e.XpG();e.Y8G("ngClass",e.eq3(7,ae,2885==i.currentCategoryId||0==i.currentCategoryId)),e.R7$(),e.Y8G("routerLink",e.eq3(9,le,e.bMT(2,3,"/ladingpage/document-management/0/0/1"))),e.R7$(2),e.SpI(" ",e.bMT(4,5,"azt_lang_core_share_global_azota")," ")}}function xe(n,c){if(1&n){const i=e.RV6();e.j41(0,"li",17)(1,"a",18),e.bIt("click",function(){const o=e.eBV(i).$implicit,s=e.XpG();return e.Njj(s.backToParentCategoryEvent(o))}),e.j41(2,"span",19,1),e.nI1(4,"mytranslate"),e.j41(5,"span"),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()()()}if(2&n){const i=c.$implicit,a=e.sdS(3),o=e.XpG();e.Y8G("ngClass",e.eq3(11,ae,i.id==o.currentCategoryId)),e.R7$(),e.Y8G("ngClass",e.eq3(13,ce,i.id!=o.currentCategoryId)),e.R7$(),e.FS9("matTooltip",e.bMT(4,7,i.name)),e.Y8G("ngClass",e.eq3(15,me,i.id!=o.currentCategoryId))("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),e.R7$(4),e.JRh(e.bMT(7,9,i.name))}}function fe(n,c){1&n&&(e.j41(0,"div",20)(1,"div",21),e.nrm(2,"azt-svg-icon",22),e.j41(3,"p",23),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&n&&(e.R7$(2),e.Y8G("size",84),e.R7$(2),e.SpI("",e.bMT(5,2,"lang_not_found_search"),"!"))}function ye(n,c){if(1&n&&(e.qex(0),e.eu8(1,24),e.bVm()),2&n){e.XpG();const i=e.sdS(14);e.R7$(),e.Y8G("ngTemplateOutlet",i)}}function Ce(n,c){1&n&&e.nrm(0,"azt-loading-ui",41)}function ve(n,c){1&n&&(e.qex(0),e.nrm(1,"azt-svg-icon",54),e.bVm()),2&n&&(e.R7$(),e.Y8G("size",24))}function Te(n,c){1&n&&(e.j41(0,"span"),e.nrm(1,"azt-svg-icon",55),e.k0s()),2&n&&(e.R7$(),e.Y8G("size",24))}function Se(n,c){1&n&&e.nrm(0,"azt-svg-icon",56),2&n&&e.Y8G("size",24)}function Ee(n,c){if(1&n&&e.DNE(0,Te,2,1,"span",49)(1,Se,1,1,"ng-template",null,3,e.C5r),2&n){const i=e.sdS(2),a=e.XpG().$implicit;e.Y8G("ngIf",a.shared)("ngIfElse",i)}}function De(n,c){1&n&&(e.j41(0,"span",57),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_de_chung_azota")," "))}function Ie(n,c){1&n&&(e.j41(0,"span",58),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_chia_se")))}function Oe(n,c){if(1&n){const i=e.RV6();e.j41(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"div",46)(5,"div",47),e.bIt("click",function(){const o=e.eBV(i).$implicit,s=e.XpG(2);return e.Njj(s.handleOpenFolder(o))}),e.j41(6,"div",48),e.DNE(7,ve,2,1,"ng-container",49)(8,Ee,3,2,"ng-template",null,2,e.C5r),e.k0s(),e.j41(10,"div",50,1),e.nI1(12,"mytranslate"),e.j41(13,"span"),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()(),e.DNE(16,De,3,3,"span",51)(17,Ie,3,3,"span",52),e.k0s()()(),e.nrm(18,"div",53),e.k0s()()()}if(2&n){const i=c.$implicit,a=e.sdS(9),o=e.sdS(11),s=e.XpG(2);e.FS9("id","folder_"+i.id),e.R7$(5),e.Y8G("ngClass",e.l_i(17,he,-1==i.id,-1!=i.id)),e.R7$(2),e.Y8G("ngIf",1==i.isGlobalAzota)("ngIfElse",a),e.R7$(3),e.FS9("matTooltip",e.bMT(12,13,i.name)),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),e.R7$(3),e.HbH(s.isMobileWebView&&-1!=i.id?"azt-wv-item-name":""),e.R7$(),e.JRh(e.bMT(15,15,i.name)),e.R7$(2),e.Y8G("ngIf",-1!=i.id&&1==i.isGlobalAzota),e.R7$(),e.Y8G("ngIf",-1==i.id)}}function Ge(n,c){1&n&&(e.nrm(0,"lucide-icon",73),e.nI1(1,"mytranslate")),2&n&&e.FS9("matTooltip",e.bMT(1,1,"lang_testbank_folder_and_file_published"))}function je(n,c){1&n&&(e.nrm(0,"lucide-icon",74),e.nI1(1,"mytranslate")),2&n&&e.FS9("matTooltip",e.bMT(1,1,"lang_testbank_folder_and_file_unpublished"))}function Ae(n,c){if(1&n&&(e.j41(0,"span",75),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const i=e.XpG(2).$implicit;e.R7$(),e.Lme("",e.bMT(2,2,"lang_testbank_folder_and_file_number_attended"),": ",i.exam.attended,"")}}function ke(n,c){1&n&&(e.j41(0,"div",76),e.nrm(1,"azt-svg-icon",77),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(),e.FS9("matTooltip",e.bMT(2,2,"lang_auto_da_chia_se")),e.Y8G("size",16))}function ze(n,c){if(1&n){const i=e.RV6();e.j41(0,"div",60)(1,"div",61)(2,"div",62)(3,"div")(4,"div",63),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.doExamAction(o.exam,s.enumDocumentDoExamActionType.SHOW_EXAM_DETAIL))}),e.j41(5,"div",64),e.DNE(6,Ge,2,3,"lucide-icon",65)(7,je,2,3,"lucide-icon",66),e.k0s(),e.j41(8,"div",67,1)(10,"span",68),e.EFF(11),e.k0s(),e.DNE(12,Ae,3,4,"span",69),e.k0s(),e.DNE(13,ke,3,4,"div",70),e.k0s()(),e.j41(14,"div")(15,"a",71),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.doExamAction(o.exam,s.enumDocumentDoExamActionType.SHOW_EXAM_DETAIL))}),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s(),e.j41(18,"a",72),e.nI1(19,"mytranslate"),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.downLoadExam(o.exam))}),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()()()()}if(2&n){const i=e.sdS(9),a=e.XpG().$implicit,o=e.XpG(2);e.R7$(3),e.ZvI("w-full flex items-center ",o.isMobileWebView?"":"mobile-80vw",""),e.R7$(3),e.Y8G("ngIf",a.exam.isPublished),e.R7$(),e.Y8G("ngIf",!a.exam.isPublished),e.R7$(),e.ZvI("ml-3 ",o.isMobileDevice?"truncate":"mr-5",""),e.FS9("matTooltip",a.exam.name),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),e.R7$(2),e.ZvI("mb-0 d-block ",o.isMobileWebView?"azt-wv-item-name":"",""),e.R7$(),e.JRh(a.exam.name),e.R7$(),e.Y8G("ngIf",o.isMobileWebView),e.R7$(),e.Y8G("ngIf",a.shared),e.R7$(),e.ZvI("flex items-center py-1 ",o.isMobileDevice?"mt-2":"",""),e.R7$(2),e.SpI(" ",e.bMT(17,23,"lang_auto_xem_noi_dung_de")," "),e.R7$(2),e.FS9("matTooltip",e.bMT(19,25,"lang_global_azota_download")),e.R7$(2),e.SpI(" ",e.bMT(21,27,"lang_global_azota_download")," ")}}function Me(n,c){if(1&n&&(e.qex(0),e.DNE(1,ze,22,29,"div",59),e.bVm()),2&n){const i=c.$implicit;e.R7$(),e.Y8G("ngIf",i.exam)}}function Re(n,c){if(1&n){const i=e.RV6();e.j41(0,"form",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29)(5,"div",30),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.sortDocumentByColumn(o.enumDocumentSortType.BY_NAME,null==o.currentDocumentSortTypeObj?null:o.currentDocumentSortTypeObj.isAscSort))}),e.EFF(6),e.nI1(7,"mytranslate"),e.j41(8,"div",31),e.nrm(9,"lucide-icon",32)(10,"lucide-icon",33),e.k0s()()(),e.j41(11,"div",34)(12,"button",35,1),e.nI1(14,"mytranslate"),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.downloadAllFolder())}),e.DNE(15,Ce,1,0,"azt-loading-ui",36),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()(),e.j41(18,"div",37),e.DNE(19,Oe,19,20,"div",38)(20,Me,2,1,"ng-container",39),e.k0s(),e.nrm(21,"div",40),e.k0s()()}if(2&n){const i=e.sdS(13),a=e.XpG();e.Y8G("formGroup",a.form),e.R7$(),e.Y8G("ngClass",e.l_i(25,de,!a.isMobileDevice,a.isMobileDevice)),e.R7$(),e.Y8G("ngStyle",e.eq3(28,ne,a.isMobileWebView?"":"1100px")),e.R7$(2),e.Y8G("ngClass",e.l_i(30,ge,!a.isMobileWebView,a.isMobileWebView)),e.R7$(),e.Y8G("ngClass",e.l_i(33,_e,!a.isMobileWebView,a.isMobileWebView)),e.R7$(),e.SpI(" ",e.bMT(7,19,"lang_testbank_folder_and_file_name")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(36,oe,1==(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isAscSort)&&(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isColumnSortType)==a.enumDocumentSortType.BY_NAME)),e.R7$(),e.Y8G("ngClass",e.lJ4(38,pe))("ngClass",e.eq3(39,oe,0==(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isAscSort)&&(null==a.currentDocumentSortTypeObj?null:a.currentDocumentSortTypeObj.isColumnSortType)==a.enumDocumentSortType.BY_NAME)),e.R7$(),e.Y8G("ngClass",e.l_i(41,ue,!a.isMobileWebView,a.isMobileWebView)),e.R7$(),e.FS9("matTooltip",e.bMT(14,21,"lang_global_azota_download_all_folder_desc")),e.Y8G("disabled",a.loadingDownload)("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),e.R7$(3),e.Y8G("ngIf",a.loadingDownload),e.R7$(),e.SpI(" ",e.bMT(17,23,"lang_global_azota_download_all_folder")," "),e.R7$(2),e.Y8G("ngStyle",e.eq3(44,ne,a.isMobileWebView?"":"1100px")),e.R7$(),e.Y8G("ngForOf",a.categoryObjs),e.R7$(),e.Y8G("ngForOf",a.documentObjs)}}let we=(()=>{var n;class c extends O.H{sendReloadData(){this.clipboardService.resetClipBoardAfterPasteOrCancelAllActions(),this.loadApiData.emit(!0)}handleOpenFolder(a){this.goToChildCategoryPage.emit(a)}goBackToAllCategoryPageEvent(){this.goBackToAllCategoryPage.emit()}backToParentCategoryEvent(a){this.backToParentCategory.emit(a)}doExamAction(a,o){this.documentDoExamActionService.doExamAction({categoryId:this.currentCategoryId,examObj:a,globalLadingPage:!0},o).subscribe(g=>{g&&g.reloadData&&this.sendReloadData()})}downloadAllFolder(){if(this.userService.isLoginAndNotAnonymous()){this.loadingDownload=!0;let a=(this.documentObjs?.filter(o=>o.exam)??[]).map(o=>({id:o.exam?.id??0,type:_.Y.EXAM,action:m.$.COPY,documentType:"exam"}));this.waitDestroy(this.examCategoryService.apiExamCategoryCopyOrCutOrDeletePost(0,{copyOrCutObjs:a}).subscribe(o=>{if(this.loadingDownload=!1,o&&1==o.success)return this.showSuccessSnack("lang_global_azota_download_success"),void this.sendReloadData();if("azota_lang_core_exceed_max_global_copy"!=o.message)return this.errorStatusObj(o.message,!0);let s=this.sAztConfigService.getConfig("maxCopyGlobalExam")??20,g=this.commonService.translateToKeyParam(o.message??"",s.toString(),s.toString());this.errorStatusObj(g??"",!0)}))}else this.sAztDialogService.open(y.x,{width:"600px",data:{keyTrans:this.isBusinessDomain?"lang_global_azota_must_login_business":"lang_global_azota_must_login",isShow:!0},restoreFocus:!1})}downLoadExam(a){if(this.userService.isLoginAndNotAnonymous()){let o=[];o.push({id:a.id,type:_.Y.EXAM,action:m.$.COPY,documentType:"exam"}),this.waitDestroy(this.examCategoryService.apiExamCategoryCopyOrCutOrDeletePost(0,{copyOrCutObjs:o}).subscribe(s=>{if(s&&1==s.success)return this.showSuccessSnack("lang_global_azota_download_success"),void this.sendReloadData();if("azota_lang_core_exceed_max_global_copy"!=s.message)return this.errorStatusObj(s.message,!0);let g=this.sAztConfigService.getConfig("maxCopyGlobalExam")??20,x=this.commonService.translateToKeyParam(s.message??"",g.toString(),g.toString());this.errorStatusObj(x??"",!0)}))}else this.sAztDialogService.open(y.x,{width:"600px",data:{keyTrans:this.isBusinessDomain?"lang_global_azota_must_login_business":"lang_global_azota_must_login",isShow:!0},restoreFocus:!1})}sortDocumentByColumn(a,o){let g=this.documentSortActionService.sortExamByColumn({rootCategoryObjs:this.rootCategoryObjs,rootDocumentObjs:this.rootDocumentObjs,currentCategoryObjs:this.categoryObjs??[],currentDocumentObjs:this.documentObjs??[]},a,o=null==o||!o);this.categoryObjs=g.categoryObjs,this.documentObjs=g.documentObjs,this.currentDocumentSortTypeObj={isAscSort:o,isColumnSortType:a},this.browserStorageService.saveSimpleSessionStorage("documentSort",JSON.stringify(this.currentDocumentSortTypeObj))}ngOnInit(){this.waitDestroy((0,A.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cat_id"))}));let a=this.commonService.myParseJson(this.browserStorageService.getSimpleSessionStorage("documentSort")??"");a&&this.sortDocumentByColumn(a.isColumnSortType,!a.isAscSort)}ngOnDestroy(){super.ngOnDestroy()}constructor(a,o,s,g,x,T,ee,te,Xe){super(),this.documentDoExamActionService=a,this.activeRoute=o,this.sAztDialogService=s,this.clipboardService=g,this.browserStorageService=x,this.documentSortActionService=T,this.userService=ee,this.sAztConfigService=te,this.examCategoryService=Xe,this.rootCategoryObjs=[],this.rootDocumentObjs=[],this.isShowSearchResult=!1,this.currentPage=0,this.listBreadcrumb=[],this.goBackToAllCategoryPage=new e.bkB,this.backToParentCategory=new e.bkB,this.goToChildCategoryPage=new e.bkB,this.loadApiData=new e.bkB,this.currentDocumentSortTypeObj=void 0,this.enumDocumentSortType=p.N,this.enumDocumentRedirectType=l.d,this.enumDocumentDoExamActionType=K.$,this.currentCategoryId=0,this.totalCheckboxSelected=0,this.shareType="",this.loadingDownload=!1,this.form=new u.gE({clipboardObjs:new u.Yp([]),isSelectAll:new u.MJ(!1,{nonNullable:!0,validators:[u.k0.required]})})}}return(n=c).\u0275fac=function(a){return new(a||n)(e.rXU(v.x),e.rXU(d.nX),e.rXU(z.i),e.rXU(b.g),e.rXU(Q.z),e.rXU(H.n),e.rXU(k.R),e.rXU(Z.u),e.rXU(G.Ns))},n.\u0275cmp=e.VBU({type:n,selectors:[["global-exam-and-category-list"]],inputs:{rootCategoryObjs:"rootCategoryObjs",rootDocumentObjs:"rootDocumentObjs",categoryObjs:"categoryObjs",currentCategory:"currentCategory",documentObjs:"documentObjs",isShowSearchResult:"isShowSearchResult",backToData:"backToData",currentPage:"currentPage",listBreadcrumb:"listBreadcrumb"},outputs:{goBackToAllCategoryPage:"goBackToAllCategoryPage",backToParentCategory:"backToParentCategory",goToChildCategoryPage:"goToChildCategoryPage",loadApiData:"loadApiData"},features:[e.Vt3],decls:15,vars:7,consts:[["DefaultDocumentTableTpl",""],["c","isDisabled"],["normalCate",""],["noShare",""],[1,"azt-file-manager"],[1,"mt-3","mb-3","h-auto","sm:h-10","flex","flex-col","sm:flex-row","items-center"],[1,"mr-auto"],[1,"breadcrumb"],[1,"breadcrumb-item"],["azt-track-service","global-exam-category-list-mLrqTdVRx",3,"click"],["class","breadcrumb-item",3,"ngClass",4,"ngIf"],["class","breadcrumb-item active",3,"ngClass",4,"ngFor","ngForOf"],[1,"table-zone"],["class","box p-5 flex items-center","style","height: 300px",4,"ngIf"],[4,"ngIf"],[1,"breadcrumb-item",3,"ngClass"],["azt-track-service","global-exam-category-list-NdujkQJ24",3,"routerLink"],[1,"breadcrumb-item","active",3,"ngClass"],["azt-track-service","global-exam-category-list-_rMqLAn4k6",3,"click","ngClass"],[3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"box","p-5","flex","items-center",2,"height","300px"],[1,"text-center","mx-auto"],["type","folder-empty",3,"size"],[1,"font-medium","mt-2"],[3,"ngTemplateOutlet"],[3,"formGroup"],[1,"inbox","box",2,"scroll-snap-type","x mandatory",3,"ngClass"],[1,"p-5","text-slate-500","border-b","border-slate-200/60",3,"ngStyle"],[1,"grid","grid-cols-12","gap-3","items-center","-mx-5","px-5"],[1,"flex","items-center",3,"ngClass"],["azt-track-service","global-exam-category-list-5-CYQgv-EU",1,"inbox__item--sender","flex","items-center","cursor-pointer",3,"click","ngClass"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[1,"text-right",3,"ngClass"],[1,"btn","btn-sm","btn-success","text-white",2,"white-space","nowrap",3,"click","disabled","matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","mr-2",4,"ngIf"],[1,"azt-table-body",2,"min-height","50vh",3,"ngStyle"],["class","folder-item",3,"id",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-5","flex","flex-col","sm:flex-row","items-center","text-center","sm:text-left","text-slate-500"],[1,"mr-2"],[1,"folder-item",3,"id"],[1,"inbox__item","inline-block","sm:block","hover:shadow-md","text-slate-600","dark:text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400",2,"cursor","default"],[1,"block","sm:grid","grid-cols-12","gap-3","items-center","px-5","box-exam"],[1,"flex","col-span-12","md:col-span-4",2,"width","80vw","justify-content","space-between"],[1,"flex-none","flex","items-center","w-full"],["azt-track-service","global-exam-category-list-VueJbv5yf5",1,"title-exam","flex","items-center","clickable","sm:w-full",3,"click","ngClass"],[1,"image-fit"],[4,"ngIf","ngIfElse"],[1,"truncate","ml-3",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","whitespace-nowrap ml-2 py-0.5 px-2 rounded-full text-xs bg-info text-white font-medium",4,"ngIf"],["class","whitespace-nowrap ml-2 py-0.5 px-2 rounded-full text-xs bg-primary text-white font-medium",4,"ngIf"],[1,"col-span-8","py-1"],["type","folder-azota",3,"size"],["type","folder-share",3,"size"],["type","folder",3,"size"],[1,"whitespace-nowrap","ml-2","py-0.5","px-2","rounded-full","text-xs","bg-info","text-white","font-medium"],[1,"whitespace-nowrap","ml-2","py-0.5","px-2","rounded-full","text-xs","bg-primary","text-white","font-medium"],["class","exam-item",4,"ngIf"],[1,"exam-item"],[1,"inbox__item","sm:block","text-slate-600","hover:shadow-md","dark:text-slate-500","border-b","border-slate-200/60","dark:border-darkmode-400",2,"cursor","default"],[1,"px-5","md:flex","block","box-exam"],["azt-track-service","global-exam-category-list-8ugbR7o5-K",1,"title-exam","flex","items-center","clickable",3,"click"],[1,"text-pending","image-fit"],["name","file-check","size","24",3,"matTooltip",4,"ngIf"],["name","file","size","24",3,"matTooltip",4,"ngIf"],[3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[2,"width","100% !important"],["class","azt-wv-sub-info mx-auto",4,"ngIf"],["class","icon-share ml-2",4,"ngIf"],["azt-track-service","global-exam-category-list--JVXwK7So7",1,"btn","btn-sm","btn-outline-success","mr-2",2,"white-space","nowrap",3,"click"],["azt-track-service","global-exam-category-list-pEOorzBaKX",1,"btn","btn-sm","btn-outline-primary",2,"white-space","nowrap",3,"click","matTooltip"],["name","file-check","size","24",3,"matTooltip"],["name","file","size","24",3,"matTooltip"],[1,"azt-wv-sub-info","mx-auto"],[1,"icon-share","ml-2"],["type","book",2,"padding","3px",3,"size","matTooltip"]],template:function(a,o){if(1&a){const s=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"ol",7)(4,"li",8)(5,"a",9),e.bIt("click",function(){return e.eBV(s),e.Njj(o.goBackToAllCategoryPageEvent())}),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()(),e.DNE(8,be,5,11,"li",10)(9,xe,8,17,"li",11),e.k0s()()(),e.j41(10,"div",12),e.DNE(11,fe,6,4,"div",13)(12,ye,2,1,"ng-container",14),e.k0s()(),e.DNE(13,Re,22,46,"ng-template",null,0,e.C5r)}2&a&&(e.R7$(6),e.SpI(" ",e.bMT(7,5,"lang_auto_tat_ca")," "),e.R7$(2),e.Y8G("ngIf",o.userService.isLogin()),e.R7$(),e.Y8G("ngForOf",o.listBreadcrumb),e.R7$(2),e.Y8G("ngIf",0==(null==o.categoryObjs?null:o.categoryObjs.length)&&0==(null==o.documentObjs?null:o.documentObjs.length)),e.R7$(),e.Y8G("ngIf",0!=(null==o.categoryObjs?null:o.categoryObjs.length)||0!=(null==o.documentObjs?null:o.documentObjs.length)))},dependencies:[d.Wk,t.YU,t.Sq,t.bT,t.T3,t.B3,j.oV,u.qT,u.cb,u.j4,ie.f,se.R,re.m,E.WGl,q.F2,q.wp],styles:[".title-exam[_ngcontent-%COMP%]{padding-top:14px;padding-bottom:14px}@media (max-width: 640px){.mobile-80vw[_ngcontent-%COMP%]{width:80vw!important}.title-exam[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;width:90%!important}.box-exam[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}}"]}),c})();const Pe=()=>[];function Le(n,c){if(1&n&&e.nrm(0,"azt-loading-effect",5),2&n){const i=e.XpG();e.Y8G("currentStatusObj",i.statusObj)}}function $e(n,c){1&n&&(e.qex(0),e.j41(1,"div",9)(2,"span",10),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_global_azota_not_support_student_role")))}function Be(n,c){if(1&n){const i=e.RV6();e.j41(0,"div",11)(1,"global-exam-and-category-list",12),e.bIt("goToChildCategoryPage",function(o){e.eBV(i);const s=e.XpG(2);return e.Njj(s.goToChildCategoryPage(o))})("goBackToAllCategoryPage",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.goBackToAllCategoryPage())})("backToParentCategory",function(o){e.eBV(i);const s=e.XpG(2);return e.Njj(s.backToParentCategory(o))})("loadApiData",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.reloadApi())}),e.k0s()(),e.j41(2,"div",13)(3,"div",14)(4,"azt-paging",15),e.bIt("goToPaginationPage",function(o){e.eBV(i);const s=e.XpG(2);return e.Njj(s.goToPage(o))}),e.k0s()(),e.j41(5,"div",16)(6,"p",17),e.EFF(7),e.nI1(8,"number"),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",18)(11,"p",17),e.EFF(12),e.nI1(13,"number"),e.nI1(14,"mytranslate"),e.k0s()()()}if(2&n){const i=e.XpG(2);e.R7$(),e.Y8G("rootCategoryObjs",i.cloneCategoryObjs)("rootDocumentObjs",i.cloneDocumentObjs)("categoryObjs",i.categoryObjs)("documentObjs",i.documentObjs)("backToData",i.backToData)("currentPage",i.pageObj.page)("currentCategory",i.currentCategory)("isShowSearchResult",i.isShowSearchResult)("listBreadcrumb",i.listBreadcrumb||e.lJ4(20,Pe)),e.R7$(3),e.Y8G("pageObj",i.pageObj),e.R7$(3),e.JRh(e.bMT(8,12,i.totalExam)+" "+e.bMT(9,14,"lang_testbank_test_list_document")),e.R7$(5),e.JRh(e.bMT(13,16,i.totalExam)+" "+e.bMT(14,18,"lang_testbank_test_list_document"))}}function Ve(n,c){if(1&n&&(e.j41(0,"div",6)(1,"div",7),e.DNE(2,$e,5,3,"ng-container",8)(3,Be,15,21,"ng-template",null,1,e.C5r),e.k0s()()),2&n){const i=e.sdS(4),a=e.XpG();e.R7$(2),e.Y8G("ngIf",a.userService.isLogin()&&!a.userService.isTeacherRole()&&!a.userService.isAnonymousRoleOfCurrentUser())("ngIfElse",i)}}const Fe=[{path:"",component:(()=>{var n;class c extends O.H{}return(n=c).\u0275fac=(()=>{let i;return function(o){return(i||(i=e.xGo(n)))(o||n)}})(),n.\u0275cmp=e.VBU({type:n,selectors:[["lading-master-page"]],features:[e.Vt3],decls:2,vars:0,consts:[["id","lading-page-layout"]],template:function(a,o){1&a&&(e.j41(0,"div",0),e.nrm(1,"router-outlet"),e.k0s())},dependencies:[d.n3],encapsulation:2}),c})(),children:[{path:"document-management/0/:cat_id/:page",component:(()=>{var n;class c extends O.H{goToPage(a){this.backToData?this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+this.currentCategoryId+"/"+a,"?data="+this.commonService.serializeJson(this.backToData)):this.commonService.myNavigation("/ladingpage/document-management/0/"+this.currentCategoryId+"/"+a)}resetSearchForm(){this.form.patchValue({searchContent:""}),this.isShowSearchResult=!1}convertExamObj(a){var o=[];return a.forEach(s=>{s.exam&&o.push({name:s.exam.name,updatedAt:s.exam.updatedAt,createdAt:s.exam.createdAt,attended:s.exam.attended,isPublished:s.exam.isPublished,exam:s.exam,shared:s.shared,type:"exam",paths:s.paths,isGlobalAzota:0})}),o}goBackToAllCategoryPage(){var a=this.getFormValue();let o=this.userService.isLogin()&&this.userService.isTeacherRole()?"/admin/testbank":"/ladingpage";a.searchContent?(this.resetSearchForm(),0==this.currentCategoryId?this.getData():this.commonService.myNavigation(o+"/document-management/0/0/1")):this.commonService.myNavigation(o+"/document-management/0/0/1")}backToParentCategory(a){a.id!=this.currentCategoryId&&(this.resetSearchForm(),this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+a.id+"/1",a.shareType?"?data="+this.commonService.serializeJson({shareType:a.shareType,backTo:`/ladingpage/document-management/0/${this.currentCategoryId}/1`,suggest:a.isGlobalAzota>1?1:0,isAztLib:0!=a.isGlobalAzota?1:0}):""))}goToChildCategoryPage(a){this.resetSearchForm(),this.commonService.myNavigationWithQueryString("/ladingpage/document-management/0/"+a.id+"/1",a.shareType?"?data="+this.commonService.serializeJson({shareType:a.shareType,suggest:0!=a.isGlobalAzota?1:0,isAztLib:0!=a.isGlobalAzota?1:0}):"")}getFormValue(){return this.form.getRawValue()}getListParentCategoryObjs(){this.waitDestroy(this.examCategoryService.apiExamCategoryGetGlobalBreadcrumbsGet(this.currentCategoryId).subscribe(a=>{if(a&&1==a.success){var o=[];a.data?.objs&&a.data?.objs.forEach(s=>{o.push({...s,shared:!1,sharedGroups:[],sharedTeachers:[],paths:[]})}),this.listBreadcrumb=o;for(let s=0;s<this.listBreadcrumb?.length;s++)if(this.listBreadcrumb[s].id==this.currentCategoryId){let g="",x=0,T=0;0!=this.listBreadcrumb[s].isGlobalAzota&&(T=1),!this.listBreadcrumb[s].parentId&&this.listBreadcrumb[s].shareType?(g=0!=this.listBreadcrumb[s].isGlobalAzota?"":"user",x=s>1?this.listBreadcrumb[s-1].id??-1:0==s&&0!=this.listBreadcrumb[s].isGlobalAzota?0:this.listBreadcrumb[s].parentId??this.listBreadcrumb[s].tenantId??-1):this.listBreadcrumb[s].parentId&&this.listBreadcrumb[s].shareType?(g=s>1?this.listBreadcrumb[s-1].shareType??"":s<=1&&0!=this.listBreadcrumb[s].isGlobalAzota?this.listBreadcrumb[s].shareType??"":"",x=this.listBreadcrumb[s].parentId??-1):x=this.listBreadcrumb[s].parentId??0;let ee=x?`/ladingpage/document-management/0/${x}/1`+(this.backToData?"?data="+this.commonService.serializeJson({shareType:g}):""):"/ladingpage/document-management/0/0/1";this.backToLink=this.commonService.serializeJson({shareType:g,backTo:ee,suggest:T})}}else this.showErrorSnack(a.message??"")}))}getData(){var a=Number(this.commonService.getMyParam(this.activeRoute,"page"));let o=this.getFormValue();this.pageObj.setPageNumber(a),this.initStatusObj();let s={categoryId:0!=this.currentCategoryId?this.currentCategoryId:0,documentType:void 0,shareType:this.backToData?.shareType??"",fileType:"exam",classroomId:void 0,name:this.isShowSearchResult?o.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:1,page:this.pageObj.page,itemPerPage:void 0};this.waitDestroy(this.documentService.apiDocumentsGlobalGet(s.categoryId,s.suggestExamPurpose,s.page,s.itemPerPage).subscribe(g=>{if(g&&1==g.success){var x=this.commonService.castObj(g.data?.documentObjs)??[],T=this.convertExamObj(x);this.documentObjs=T,this.cloneDocumentObjs=T,this.categoryObjs=g.data?.categoryObjs,this.cloneCategoryObjs=g.data?.categoryObjs??[],this.currentCategory=g.data?.currentCategory?{...g.data?.currentCategory,shared:!1,sharedGroups:[],sharedTeachers:[],paths:[]}:void 0,this.totalExam=g.data?.total??0,this.pageObj.setTotalPages(this.totalExam),this.getListParentCategoryObjs(),this.stopStatusObj()}else this.showErrorSnack(g.message??"")}))}reloadApi(){this.getData()}ngOnInit(){this.waitDestroy((0,A.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))),this.currentCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cat_id")),this.backToData=this.commonService.myParseJson(this.commonService.getMyQueryParam("data")??"");let a={shareType:this.backToData?.shareType,suggest:this.backToData?.suggest,backTo:this.backToData?.backTo??(this.userService.isTeacherRole()?"/admin/testbank/document-management/0/0/1":"/student/dashboard")};this.backToLink=this.commonService.serializeJson(a),this.mobileWebviewService.sendSimpleMessage("OPEN_EXAM"),this.getData()})),this.commonService.translateMetaData({title:"lang_testbank_document_list_header_title",description:"lang_testbank_document_list_header_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}constructor(a,o,s,g,x,T){super(),this.activeRoute=a,this.examCategoryService=o,this.documentService=s,this.aztShareService=g,this.mobileWebviewService=x,this.userService=T,this.isShowSearchResult=!1,this.totalExam=0,this.recommendExamObjs=[],this.documentObjs=[],this.cloneDocumentObjs=[],this.cloneCategoryObjs=[],this.listBreadcrumb=[],this.currentCategoryId=0,this.backToLink="",this.pageObj=new N.d(24),this.form=new u.gE({searchContent:new u.MJ("",{nonNullable:!0,validators:[u.k0.required]})})}}return(n=c).\u0275fac=function(a){return new(a||n)(e.rXU(d.nX),e.rXU(G.Ns),e.rXU(G.DK),e.rXU(Y.l),e.rXU(X.f),e.rXU(k.R))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-global-exam-management-list"]],features:[e.Vt3],decls:5,vars:4,consts:[["doneLoading",""],["normalTeacherView",""],[3,"layoutName","headerBackToLink"],[1,"container-fluid","mt-3","overflow-hidden"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[4,"ngIf","ngIfElse"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[1,"azt-view-file-manager"],[3,"goToChildCategoryPage","goBackToAllCategoryPage","backToParentCategory","loadApiData","rootCategoryObjs","rootDocumentObjs","categoryObjs","documentObjs","backToData","currentPage","currentCategory","isShowSearchResult","listBreadcrumb"],[1,"azt-document-footer","flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2"],[3,"goToPaginationPage","pageObj"],[1,"text-right","mt-2","azt-hidden","md:block"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"]],template:function(a,o){if(1&a&&(e.j41(0,"public-layout",2)(1,"div",3),e.DNE(2,Le,1,1,"azt-loading-effect",4)(3,Ve,5,2,"ng-template",null,0,e.C5r),e.k0s()()),2&a){const s=e.sdS(4);e.Y8G("layoutName","landing-page")("headerBackToLink",o.userService.isLogin()?o.backToLink:0==o.currentCategoryId?"":o.backToLink),e.R7$(2),e.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[t.bT,U.K,W.q,J.J,we,t.QX,q.wp],encapsulation:2}),c})()}]}];let Ne=(()=>{var n;class c{}return(n=c).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[d.iI.forChild(Fe),d.iI,F.XE]}),c})(),Ye=(()=>{var n;class c{}return(n=c).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({providers:[{provide:C.vn,useValue:B.c.azt_tiny_mce_script_src}],imports:[d.iI,t.MD,V.s,C.sv,Ne,u.YN,u.X1,D.hM,P.L,I.Lk,R.xv,$.Q,L.b,E.flO.pick(E.Ptg),w.Id,h.f,f.rc]}),c})()},50334:(M,S,r)=>{r.d(S,{C:()=>u});var t=r(59640);class u extends t.H{constructor(){super(...arguments),this.nodeObjs=[]}searchByText(d){this.nodeObjs=(d=this.standardSearchText(d)).trim()?this.doSearchByText(d,this.nodeObjs,[]):this.showAndExpandAll(this.nodeObjs)}expand(d){d.isExpand=!0}collapse(d){d.isExpand=!1}doSearchByText(d,f,C){for(var h of f){h.isShow=!1;let E=this.standardSearchText(h.text);(d.includes(E)||E.includes(d))&&(h.isShow=!0,h.isExpand=!0,C.forEach(I=>{I.isShow=!0,I.isExpand=!0})),h.children.length&&(h.children=this.doSearchByText(d,h.children,C.concat(h)))}return f}showAndExpandAll(d){for(var f of d)f.isShow=!0,f.isExpand=!0,f.children=this.showAndExpandAll(f.children);return d}standardSearchText(d){return d=d.toLowerCase(),d=this.commonService.removeSpecialStringInSearch(d),this.commonService.convertVietnameseToEnglish(d)}}},15485:(M,S,r)=>{r.d(S,{l:()=>D});var t=r(18447),u=r(48891);let D=(()=>{var d;class f{constructor(){this.hasDataChanged=new t.B,this.currentMessage=this.hasDataChanged.asObservable()}changeStatus(h){this.hasDataChanged.next(h)}}return(d=f).\u0275fac=function(h){return new(h||d)},d.\u0275prov=u.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),f})()},8022:(M,S,r)=>{r.d(S,{n:()=>K});var t=r(48891),u=r(52909),D=r(50334),d=r(54460),f=r(15343),C=r(47348);const h=l=>({nodeObjs:l}),E=l=>({"padding-left":l}),I=()=>({"rotate-90deg":!0}),R=()=>({"transition-3s":!0}),w=()=>({"ml-1":!0});function P(l,p){1&l&&t.eu8(0)}function L(l,p){1&l&&(t.j41(0,"label",6)(1,"span",7),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&l&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_structure_of_the_capacity_exam")))}function $(l,p){1&l&&t.eu8(0)}function B(l,p){if(1&l&&(t.qex(0),t.DNE(1,$,1,0,"ng-container",8),t.bVm()),2&l){const m=t.XpG(2),_=t.sdS(4);t.R7$(),t.Y8G("ngTemplateOutlet",_)("ngTemplateOutletContext",t.eq3(2,h,m.nodeObjs))}}function V(l,p){if(1&l&&(t.DNE(0,L,4,3,"label",3),t.j41(1,"div",4),t.DNE(2,B,2,4,"ng-container",5),t.k0s()),2&l){const m=t.XpG();t.Y8G("ngIf",m.isShowLabel),t.R7$(2),t.Y8G("ngIf",m.nodeObjs.length)}}function F(l,p){1&l&&t.nrm(0,"lucide-icon",20),2&l&&t.Y8G("ngClass",t.lJ4(1,I))}function A(l,p){1&l&&t.nrm(0,"lucide-icon",21),2&l&&t.Y8G("ngClass",t.lJ4(1,R))}function O(l,p){if(1&l&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s()),2&l){const m=t.XpG(2).$implicit;t.R7$(),t.SpI(" ","("+t.bMT(2,1,"lang_auto_chon")+" "+m.data.folderData.totalPart+" "+t.bMT(3,3,"lang_azt_in")+" "+m.children.length+" "+t.bMT(4,5,"lang_azt_hereafter")+")"," ")}}function N(l,p){if(1&l){const m=t.RV6();t.qex(0),t.j41(1,"div",13),t.bIt("click",function(){t.eBV(m);const y=t.XpG().$implicit,v=t.XpG(3);return t.Njj(v.clickToNode(y))}),t.j41(2,"div",14),t.DNE(3,F,1,2,"lucide-icon",15)(4,A,1,2,"lucide-icon",16),t.nrm(5,"lucide-icon",17),t.j41(6,"span",18),t.EFF(7),t.k0s(),t.DNE(8,O,5,7,"span",19),t.k0s()(),t.bVm()}if(2&l){const m=t.XpG().$implicit;t.R7$(3),t.Y8G("ngIf",!m.isExpand),t.R7$(),t.Y8G("ngIf",m.isExpand),t.R7$(3),t.JRh(m.data.folderData.name),t.R7$(),t.Y8G("ngIf",m.children.length&&m.data.folderData.totalPart&&m.children.length!=m.data.folderData.totalPart)}}function e(l,p){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const m=t.XpG(2).$implicit;t.R7$(),t.Lme("\xa0(",m.data.examData.minutes," ",t.bMT(2,2,"lang_auto_minute"),")")}}function G(l,p){1&l&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(),t.SpI("\xa0(",t.bMT(2,1,"lang_auto_khong_gioi_han"),")"))}function Y(l,p){if(1&l){const m=t.RV6();t.qex(0),t.j41(1,"div",23),t.bIt("click",function(){t.eBV(m);const y=t.XpG().$implicit,v=t.XpG(3);return t.Njj(v.selectExam(y.data.examData))}),t.nrm(2,"lucide-icon",24),t.j41(3,"span",18),t.EFF(4),t.DNE(5,e,3,4,"span",5)(6,G,3,3,"span",5),t.k0s()(),t.bVm()}if(2&l){const m=t.XpG().$implicit;t.R7$(2),t.Y8G("name",m.data.examData.isPublished?"file-check":"file")("ngClass",t.lJ4(5,w)),t.R7$(2),t.SpI(" ",m.data.examData.name," "),t.R7$(),t.Y8G("ngIf",m.data.examData.minutes),t.R7$(),t.Y8G("ngIf",!m.data.examData.minutes)}}function X(l,p){1&l&&t.eu8(0)}function k(l,p){if(1&l&&(t.qex(0),t.j41(1,"div",25),t.DNE(2,X,1,0,"ng-container",8),t.k0s(),t.bVm()),2&l){const m=t.XpG().$implicit;t.XpG(3);const _=t.sdS(4);t.R7$(2),t.Y8G("ngTemplateOutlet",_)("ngTemplateOutletContext",t.eq3(2,h,m.children))}}function U(l,p){if(1&l&&(t.qex(0),t.j41(1,"div",10)(2,"div",11)(3,"div",12),t.DNE(4,N,9,4,"ng-container",5)(5,Y,7,6,"ng-container",5),t.k0s(),t.DNE(6,k,3,4,"ng-container",5),t.k0s()(),t.bVm()),2&l){const m=p.$implicit;t.R7$(),t.Y8G("hidden",!m.isShow),t.R7$(),t.Y8G("ngStyle",t.eq3(9,E,m.level>0?"20px":"")),t.R7$(),t.yjJ("id","node-",m.randomHashId,"-",m.level,"-",m.nodeIndex,""),t.R7$(),t.Y8G("ngIf",m.data.folderData),t.R7$(),t.Y8G("ngIf",m.data.examData),t.R7$(),t.Y8G("ngIf",m.isExpand)}}function W(l,p){if(1&l&&(t.qex(0),t.DNE(1,U,7,11,"ng-container",9),t.bVm()),2&l){const m=p.$implicit;t.R7$(),t.Y8G("ngForOf",m)}}function J(l,p){if(1&l&&t.DNE(0,W,2,1,"ng-container",5),2&l){const m=p.nodeObjs,_=t.XpG();t.Y8G("ngIf",_.asTemplateDataObj(m))}}let K=(()=>{var l;class p extends D.C{constructor(){super(...arguments),this.isShowLabel=!0,this.isExpand=!0,this.showCountInfo=!1,this.getExamData=new t.bkB,this.nodeObjs=[],this.uuidService=(0,t.WQX)(u.D)}selectExam(_){this.getExamData.emit(_)}clickToNode(_){_.isExpand?this.collapse(_):this.expand(_)}asTemplateDataObj(_){return _}standardTreeNodes(_,y,v){let z=[];return _.forEach((b,Q)=>{let H=b.exam?void 0:{name:b.objectName??"Empty",totalPart:b.totalPart},Z=b.exam?{id:b.exam.id,hashId:b.exam.hashId??"",categoryId:b.exam.categoryId??0,name:b.exam.name,minutes:b.exam.minutes??0,totalQuestion:b.exam.countQuestion,isPublished:!!b.exam.isPublished}:void 0,j={level:y,isExpand:this.isExpand,isShow:!0,nodeIndex:Q,selected:!1,randomHashId:this.uuidService.getUuid(),data:{nodeId:b.objectId??0,isEdited:!1,folderData:H,examData:Z,parentNodeId:v,children:b.children},children:[],text:"Not use"};j.children=this.standardTreeNodes(b.children,y+1,j.data.nodeId),z.push(j)}),z}ngOnChanges(_){_.rawNodes&&(this.nodeObjs=this.standardTreeNodes(this.rawNodes,0,0))}}return(l=p).\u0275fac=(()=>{let m;return function(y){return(m||(m=t.xGo(l)))(y||l)}})(),l.\u0275cmp=t.VBU({type:l,selectors:[["app-capacity-exam-tree-in-view-mode-component"]],inputs:{rawNodes:"rawNodes",isShowLabel:"isShowLabel",isExpand:"isExpand",showCountInfo:"showCountInfo"},outputs:{getExamData:"getExamData"},features:[t.Vt3,t.OA$],decls:5,vars:1,consts:[["mainContent",""],["recursiveListTmpl",""],[4,"ngTemplateOutlet"],["class","flex items-center",4,"ngIf"],["id","list-category-arr",1,"grid","grid-cols-12","gap-1"],[4,"ngIf"],[1,"flex","items-center"],[1,"font-medium","text-lg"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"col-span-12",3,"hidden"],[3,"ngStyle"],[1,"flex","items-center","mb-1","w-full","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded",3,"id"],[1,"flex","items-center","clickable","w-full",3,"click"],[1,"pt-2","pb-2"],["name","chevron-right","size","18",3,"ngClass",4,"ngIf"],["name","chevron-down","size","18",3,"ngClass",4,"ngIf"],["name","folder","size","18",2,"padding-left","5px"],[1,"ml-2"],["class","ml-1 text-slate-500 text-xs",4,"ngIf"],["name","chevron-right","size","18",3,"ngClass"],["name","chevron-down","size","18",3,"ngClass"],[1,"ml-1","text-slate-500","text-xs"],[1,"flex","items-center","pb-2","pt-2","clickable",3,"click"],["size","18",1,"text-pending",3,"name","ngClass"],[1,"grid","grid-cols-12","gap-1","w-full","children-tmp"]],template:function(_,y){if(1&_&&t.DNE(0,P,1,0,"ng-container",2)(1,V,3,2,"ng-template",null,0,t.C5r)(3,J,1,1,"ng-template",null,1,t.C5r),2&_){const v=t.sdS(2);t.Y8G("ngTemplateOutlet",v)}},dependencies:[d.YU,d.Sq,d.bT,d.T3,d.B3,f.WGl,C.wp],encapsulation:2}),p})()}}]);