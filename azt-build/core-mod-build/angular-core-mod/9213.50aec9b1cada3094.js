"use strict";(self.webpackChunkCoreMod=self.webpackChunkCoreMod||[]).push([[9213],{99503:(v,u,i)=>{i.d(u,{fb:()=>D,ij:()=>h});var t=i(81519),d=i(48891),p=i(20381),a=i.n(p),g=i(53793);const m=a()||p,h=new d.nKC("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function C(){return{useUtc:!1}}});function f(s,l){const r=Array(s);for(let e=0;e<s;e++)r[e]=l(e);return r}let D=(()=>{var s;class l extends t.$O{constructor(e){super(),this._options=e,this.commonService=(0,d.WQX)(g.R),this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""},m.locale(),this.setLocale(this.commonService.getCurrentLang()||m.locale())}setLocale(e){super.setLocale(e);const n=m.localeData(e);this._localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:n.months(),shortMonths:n.monthsShort(),dates:f(31,o=>this.createDate(2017,0,o+1).format("D")),longDaysOfWeek:n.weekdays(),shortDaysOfWeek:n.weekdaysShort(),narrowDaysOfWeek:n.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return"long"===e?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return"long"===e?this._localeData.longDaysOfWeek:"short"===e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,n,o){if(n<0||n>11)throw Error(`Invalid month index "${n}". Month index has to be between 0 and 11.`);if(o<1)throw Error(`Invalid date "${o}". Date has to be greater than 0.`);const c=this._createMoment({year:e,month:n,date:o}).locale(this.locale);if(!c.isValid())throw Error(`Invalid date "${o}" for month with index "${n}".`);return c}today(){return this._createMoment().locale(this.locale)}parse(e,n){return e&&"string"==typeof e?this._createMoment(e,n,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,n){if(e=this.clone(e),!this.isValid(e))throw Error("MomentDateAdapter: Cannot format invalid date.");return e.format(n)}addCalendarYears(e,n){return this.clone(e).add({years:n})}addCalendarMonths(e,n){return this.clone(e).add({months:n})}addCalendarDays(e,n){return this.clone(e).add({days:n})}toIso8601(e){return this.clone(e).format()}deserialize(e){let n;if(e instanceof Date)n=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;n=this._createMoment(e,m.ISO_8601).locale(this.locale)}return n&&this.isValid(n)?this._createMoment(n).locale(this.locale):super.deserialize(e)}isDateInstance(e){return m.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return m.invalid()}getHour(e){return e.hours()}getMinute(e){return e.minutes()}getSecond(e){return e.seconds()}setHour(e,n){e.hours(n)}setMinute(e,n){e.minutes(n)}setSecond(e,n){e.seconds(n)}_createMoment(e,n,o){const{strict:c,useUtc:_}=this._options||{};return _?m.utc(e,n,o,c):m(e,n,o,c)}}return(s=l).\u0275fac=function(e){return new(e||s)(d.KVO(h,8))},s.\u0275prov=d.jDH({token:s,factory:s.\u0275fac}),l})()},75421:(v,u,i)=>{i.d(u,{u:()=>s});var t=i(10936),d=i(89163),p=i(33887),a=i(48891),g=i(54460),m=i(15343),h=i(47348);const C=()=>({"mr-2 text-danger":!0});function f(l,r){if(1&l&&a.nrm(0,"lucide-icon",10),2&l){const e=a.XpG();a.Y8G("name",e.data.iconName)("ngClass",a.lJ4(2,C))}}function D(l,r){if(1&l&&(a.j41(0,"div",11)(1,"div",3)(2,"span"),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s(),a.j41(5,"b"),a.EFF(6),a.k0s(),a.j41(7,"span"),a.EFF(8),a.nI1(9,"mytranslate"),a.k0s()(),a.j41(10,"div",12),a.nrm(11,"input",13),a.k0s()()),2&l){const e=a.XpG();a.R7$(3),a.JRh(a.bMT(4,4,"lang_azt_enter")+" "),a.R7$(3),a.JRh('"'+e.data.textConfirm+'" '),a.R7$(2),a.JRh(a.bMT(9,6,"lang_azt_for_delete_data")),a.R7$(3),a.Y8G("formControl",e.confirmValue)}}let s=(()=>{var l;class r extends p._{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(n,o){super(o,n),this.dialogRef=n,this.data=o,this.confirmValue=new t.MJ("",{nonNullable:!0})}}return(l=r).\u0275fac=function(n){return new(n||l)(a.rXU(d.CP,8),a.rXU(d.Vh,8))},l.\u0275cmp=a.VBU({type:l,selectors:[["azt-dialog-danger"]],features:[a.Vt3],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md"],["size","24",3,"name","ngClass",4,"ngIf"],[1,"text-md",3,"innerHtml"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click","disabled"],["size","24",3,"name","ngClass"],[1,"mt-3"],[1,"mt-2"],["type","text",1,"form-control",3,"formControl"]],template:function(n,o){1&n&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),a.DNE(4,f,1,3,"lucide-icon",4),a.nrm(5,"span",5),a.k0s(),a.DNE(6,D,12,8,"div",6),a.k0s()(),a.j41(7,"div",7)(8,"button",8),a.bIt("click",function(){return o.btnCloseDialog()}),a.EFF(9),a.nI1(10,"mytranslate"),a.k0s(),a.j41(11,"button",9),a.bIt("click",function(){return o.confirmDialog()}),a.EFF(12),a.nI1(13,"mytranslate"),a.k0s()()()),2&n&&(a.R7$(4),a.Y8G("ngIf",o.data.iconName),a.R7$(),a.Y8G("innerHtml",o.data.content,a.npT),a.R7$(),a.Y8G("ngIf",o.data.textConfirm),a.R7$(3),a.SpI(" ",a.bMT(10,6,"lang_auto_huy")," "),a.R7$(2),a.Y8G("disabled",o.data.textConfirm&&o.data.textConfirm!==o.confirmValue.value),a.R7$(),a.SpI(" ",a.bMT(13,8,"lang_auto_xac_nhan")," "))},dependencies:[g.YU,g.bT,t.me,t.BC,t.l_,m.WGl,h.wp],encapsulation:2}),r})()},96670:(v,u,i)=>{i.d(u,{y:()=>D});var t=i(48891),d=i(64198),p=i(9516),a=i(54460),g=i(25571),m=i(47348);const h=[[["","btnUpload",""]],[["","btnRemove",""]],[["","body",""]],[["","header",""]]],C=["[btnUpload]","[btnRemove]","[body]","[header]"];function f(s,l){if(1&s){const r=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),t.SdG(4,3),t.k0s(),t.j41(5,"div",10)(6,"div",11)(7,"image-cropper",12),t.bIt("imageCropped",function(n){t.eBV(r);const o=t.XpG();return t.Njj(o.imageCropped(n))}),t.k0s()()(),t.j41(8,"div",13)(9,"button",14),t.bIt("click",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.removeDialog())}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"button",15),t.bIt("click",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.submitImage())}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()()()}if(2&s){const r=t.XpG();t.Y8G("ngClass",r.isMobileWebView?"box-mobile-web-view":"box-web"),t.R7$(7),t.Y8G("imageChangedEvent",r.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",r.aspectRatio)("resizeToWidth",150)("cropperMinWidth",128),t.R7$(3),t.JRh(t.bMT(11,8,"lang_auto_huy")),t.R7$(3),t.JRh(t.bMT(14,10,"lang_auto_cap_nhat"))}}let D=(()=>{var s;class l extends p.L{constructor(){super(...arguments),this.aspectRatio=1,this.uploadComplete=new t.bkB,this.imageChangedEvent=void 0,this.imageFileName="",this.hasClicked=!1}checkPermissionCameraAndImagePicker(e){this.hasClicked=!1,this.onOpenFileDictionary();var n=this.commonService.appVersion();this.isMobileWebView&&n?(this.mobileWebviewService.sendSimpleMessage("CHECK_PERMISSION_IMAGE_PICKER"),this.mobileWebviewService.getWebviewPermissionImagePicker().subscribe(o=>{this.hasClicked||(o?.url&&this.uploadComplete.emit({url:o.url}),this.hasClicked=!0)})):e.click()}fileChangeEvent(e){const o=e.target.files;if(o){if((0,d.hD)(o[0]?.size)>=this.limitSize)return this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_vui_long_chon_tep_co_kich_thuoc_nho_hon",this.limitSize.toString(),"MB"));this.imageChangedEvent=e,this.imageFileName=o?.length?o[0]?.name:""}}imageCropped(e){fetch(e.objectUrl??"").then(n=>n.blob()).then(n=>{const o=new FileReader;o.onload=()=>{let _=this.b64toFile(o.result,this.imageFileName);this.saveImage=_},o.readAsDataURL(n)}).catch(n=>{console.error(this.commonService.translateToKeyParam("lang_auto_co_loi_xay_ra",n))})}submitImage(){const e=this.imageChangedEvent?.target;e.files=null,this.imageChangedEvent=void 0,this.saveImage&&this.uploadFile(this.saveImage,"").then(n=>{n&&this.uploadComplete.emit(n)})}removeDialog(){const e=this.imageChangedEvent?.target;e.files=null,this.imageChangedEvent=void 0}emitUploadComplete(e){}b64toFile(e,n){e=e.replace("data:image/png;base64,","");let _=window.atob(e),b=[];for(let E=0;E<_.length;E+=512){let M=_.slice(E,E+512),I=new Array(M.length);for(let O=0;O<M.length;O++)I[O]=M.charCodeAt(O);let y=new Uint8Array(I);b.push(y)}return new File(b,n,{type:"image/png"})}}return(s=l).\u0275fac=(()=>{let r;return function(n){return(r||(r=t.xGo(s)))(n||s)}})(),s.\u0275cmp=t.VBU({type:s,selectors:[["azt-upload-image-cropper"]],inputs:{aspectRatio:"aspectRatio"},outputs:{uploadComplete:"uploadComplete"},features:[t.Vt3],ngContentSelectors:C,decls:10,vars:2,consts:[["formChoseFile",""],[1,"h-full"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[1,"flex","items-center","ml-0","sm:ml-3"],[1,"cursor-pointer",3,"click"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],[3,"imageCropped","imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth"],[1,"modal-footer"],["control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"]],template:function(e,n){if(1&e){const o=t.RV6();t.NAR(h),t.j41(0,"div",1)(1,"input",2,0),t.bIt("change",function(_){return t.eBV(o),t.Njj(n.fileChangeEvent(_))})("cancel",function(_){return t.eBV(o),t.Njj(n.onCancelSelect(_))}),t.k0s(),t.j41(3,"div",3)(4,"div",4),t.bIt("click",function(){t.eBV(o);const _=t.sdS(2);return t.Njj(n.checkPermissionCameraAndImagePicker(_))}),t.SdG(5),t.k0s(),t.SdG(6,1),t.k0s(),t.j41(7,"div",4),t.bIt("click",function(){t.eBV(o);const _=t.sdS(2);return t.Njj(n.checkPermissionCameraAndImagePicker(_))}),t.SdG(8,2),t.k0s()(),t.DNE(9,f,15,12,"div",5)}2&e&&(t.R7$(),t.FS9("accept",n.fileType),t.R7$(8),t.Y8G("ngIf",n.imageChangedEvent))},dependencies:[a.YU,a.bT,g._D,m.wp],styles:[".source-image{margin:auto!important}.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:auto}.box-web[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px}.box-mobile-web-view[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px;display:flex;align-items:center;justify-content:center}"]}),l})()}}]);