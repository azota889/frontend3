"use strict";(self.webpackChunkSmobileMod=self.webpackChunkSmobileMod||[]).push([[7130],{43166:(b,v,l)=>{l.d(v,{x:()=>t});var e=l(10936),g=l(48891),C=l(53793);let t=(()=>{var u;class f{filter(r,s){return null==r?[]:r=r.filter(d=>this.removeAllSpecialChars((null!=s?d[s]:d).toString()).includes(this.removeAllSpecialChars(this.searchControl.value)))}mergeSchoolLevel(r){let s=[];return r.forEach(d=>null!=d.schoolLevel&&s.push(d.schoolLevel)),s}removeAllSpecialChars(r){return r=(r=this.commonService.myTranslateInstant(r)??r).toLowerCase().trim(),r=this.commonService.convertVietnameseToEnglish(r),r=this.commonService.removeSpecialStringInSearch(r),(r=this.commonService.removeNonAlphabetic(r)).toLowerCase().trim()}constructor(r){this.commonService=r,this.searchControl=new e.MJ("",{nonNullable:!0})}}return(u=f).\u0275fac=function(r){return new(r||u)(g.rXU(C.R))},u.\u0275dir=g.FsC({type:u,selectors:[["","searchInList",""]],exportAs:["searchInList"]}),f})()},75421:(b,v,l)=>{l.d(v,{u:()=>_});var e=l(10936),g=l(89163),C=l(33887),t=l(48891),u=l(54460),f=l(15343),O=l(76975);const r=()=>({"mr-2 text-danger":!0});function s(c,o){if(1&c&&t.nrm(0,"lucide-icon",10),2&c){const a=t.XpG();t.Y8G("name",a.data.iconName)("ngClass",t.lJ4(2,r))}}function d(c,o){if(1&c&&(t.j41(0,"div",11)(1,"div",3)(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"b"),t.EFF(6),t.k0s(),t.j41(7,"span"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",12),t.nrm(11,"input",13),t.k0s()()),2&c){const a=t.XpG();t.R7$(3),t.JRh(t.bMT(4,4,"lang_azt_enter")+" "),t.R7$(3),t.JRh('"'+a.data.textConfirm+'" '),t.R7$(2),t.JRh(t.bMT(9,6,"lang_azt_for_delete_data")),t.R7$(3),t.Y8G("formControl",a.confirmValue)}}let _=(()=>{var c;class o extends C._{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(n,i){super(i,n),this.dialogRef=n,this.data=i,this.confirmValue=new e.MJ("",{nonNullable:!0})}}return(c=o).\u0275fac=function(n){return new(n||c)(t.rXU(g.CP,8),t.rXU(g.Vh,8))},c.\u0275cmp=t.VBU({type:c,selectors:[["azt-dialog-danger"]],features:[t.Vt3],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md"],["size","24",3,"name","ngClass",4,"ngIf"],[1,"text-md",3,"innerHtml"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click","disabled"],["size","24",3,"name","ngClass"],[1,"mt-3"],[1,"mt-2"],["type","text",1,"form-control",3,"formControl"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.DNE(4,s,1,3,"lucide-icon",4),t.nrm(5,"span",5),t.k0s(),t.DNE(6,d,12,8,"div",6),t.k0s()(),t.j41(7,"div",7)(8,"button",8),t.bIt("click",function(){return i.btnCloseDialog()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"button",9),t.bIt("click",function(){return i.confirmDialog()}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(4),t.Y8G("ngIf",i.data.iconName),t.R7$(),t.Y8G("innerHtml",i.data.content,t.npT),t.R7$(),t.Y8G("ngIf",i.data.textConfirm),t.R7$(3),t.SpI(" ",t.bMT(10,6,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",i.data.textConfirm&&i.data.textConfirm!==i.confirmValue.value),t.R7$(),t.SpI(" ",t.bMT(13,8,"lang_auto_xac_nhan")," "))},dependencies:[u.YU,u.bT,e.me,e.BC,e.l_,f.WGl,O.wp],encapsulation:2}),o})()},96670:(b,v,l)=>{l.d(v,{y:()=>d});var e=l(48891),g=l(64198),C=l(9516),t=l(54460),u=l(25571),f=l(76975);const O=[[["","btnUpload",""]],[["","btnRemove",""]],[["","body",""]],[["","header",""]]],r=["[btnUpload]","[btnRemove]","[body]","[header]"];function s(_,c){if(1&_){const o=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),e.SdG(4,3),e.k0s(),e.j41(5,"div",10)(6,"div",11)(7,"image-cropper",12),e.bIt("imageCropped",function(n){e.eBV(o);const i=e.XpG();return e.Njj(i.imageCropped(n))}),e.k0s()()(),e.j41(8,"div",13)(9,"button",14),e.bIt("click",function(){e.eBV(o);const n=e.XpG();return e.Njj(n.removeDialog())}),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"button",15),e.bIt("click",function(){e.eBV(o);const n=e.XpG();return e.Njj(n.submitImage())}),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()()()()}if(2&_){const o=e.XpG();e.Y8G("ngClass",o.isMobileWebView?"box-mobile-web-view":"box-web"),e.R7$(7),e.Y8G("imageChangedEvent",o.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",o.aspectRatio)("resizeToWidth",150)("cropperMinWidth",128),e.R7$(3),e.JRh(e.bMT(11,8,"lang_auto_huy")),e.R7$(3),e.JRh(e.bMT(14,10,"lang_auto_cap_nhat"))}}let d=(()=>{var _;class c extends C.L{constructor(){super(...arguments),this.aspectRatio=1,this.uploadComplete=new e.bkB,this.imageChangedEvent=void 0,this.imageFileName="",this.hasClicked=!1}checkPermissionCameraAndImagePicker(a){this.hasClicked=!1,this.onOpenFileDictionary(),this.mobileWebviewService.sendSimpleMessage("ALLOWED_UPDATE_AVATAR"),this.mobileWebviewService.getWebviewPermissionImagePicker().subscribe(n=>{this.hasClicked||(n?.url&&this.uploadComplete.emit({url:n.url}),this.hasClicked=!0),n.url||a.click()})}fileChangeEvent(a){const i=a.target.files;if(i){if((0,g.hD)(i[0]?.size)>=this.limitSize)return this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_vui_long_chon_tep_co_kich_thuoc_nho_hon",this.limitSize.toString(),"MB"));this.imageChangedEvent=a,this.imageFileName=i?.length?i[0]?.name:""}}imageCropped(a){fetch(a.objectUrl??"").then(n=>n.blob()).then(n=>{const i=new FileReader;i.onload=()=>{let m=this.b64toFile(i.result,this.imageFileName);this.saveImage=m},i.readAsDataURL(n)}).catch(n=>{console.error(this.commonService.translateToKeyParam("lang_auto_co_loi_xay_ra",n))})}submitImage(){const a=this.imageChangedEvent?.target;a.files=null,this.imageChangedEvent=void 0,this.saveImage&&this.uploadFile(this.saveImage,"").then(n=>{n&&this.uploadComplete.emit(n)})}removeDialog(){const a=this.imageChangedEvent?.target;a.files=null,this.imageChangedEvent=void 0}emitUploadComplete(a){}b64toFile(a,n){a=a.replace("data:image/png;base64,","");let m=window.atob(a),E=[];for(let A=0;A<m.length;A+=512){let I=m.slice(A,A+512),z=new Array(I.length);for(let D=0;D<I.length;D++)z[D]=I.charCodeAt(D);let M=new Uint8Array(z);E.push(M)}return new File(E,n,{type:"image/png"})}}return(_=c).\u0275fac=(()=>{let o;return function(n){return(o||(o=e.xGo(_)))(n||_)}})(),_.\u0275cmp=e.VBU({type:_,selectors:[["azt-upload-image-cropper"]],inputs:{aspectRatio:"aspectRatio"},outputs:{uploadComplete:"uploadComplete"},features:[e.Vt3],ngContentSelectors:r,decls:10,vars:2,consts:[["formChoseFile",""],[1,"h-full"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[1,"flex","items-center","ml-0","sm:ml-3"],[1,"cursor-pointer",3,"click"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],[3,"imageCropped","imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth"],[1,"modal-footer"],["control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"]],template:function(a,n){if(1&a){const i=e.RV6();e.NAR(O),e.j41(0,"div",1)(1,"input",2,0),e.bIt("change",function(m){return e.eBV(i),e.Njj(n.fileChangeEvent(m))})("cancel",function(m){return e.eBV(i),e.Njj(n.onCancelSelect(m))}),e.k0s(),e.j41(3,"div",3)(4,"div",4),e.bIt("click",function(){e.eBV(i);const m=e.sdS(2);return e.Njj(n.checkPermissionCameraAndImagePicker(m))}),e.SdG(5),e.k0s(),e.SdG(6,1),e.k0s(),e.j41(7,"div",4),e.bIt("click",function(){e.eBV(i);const m=e.sdS(2);return e.Njj(n.checkPermissionCameraAndImagePicker(m))}),e.SdG(8,2),e.k0s()(),e.DNE(9,s,15,12,"div",5)}2&a&&(e.R7$(),e.FS9("accept",n.fileType),e.R7$(8),e.Y8G("ngIf",n.imageChangedEvent))},dependencies:[t.YU,t.bT,u._D,f.wp],styles:[".source-image{margin:auto!important}.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:auto}.box-web[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px}.box-mobile-web-view[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px;display:flex;align-items:center;justify-content:center}"]}),c})()},63349:(b,v,l)=>{l.d(v,{V:()=>c});var e=l(48891),g=l(9516),C=l(54460),t=l(52811),u=l(34068);const f=["*"];function O(o,a){1&o&&e.SdG(0,0,["*ngIf","!isUploadFile"])}function r(o,a){if(1&o&&(e.j41(0,"div",8)(1,"h5",9),e.EFF(2),e.k0s(),e.j41(3,"div",10),e.nrm(4,"progress",11),e.k0s()()),2&o){const n=a.$implicit;e.R7$(2),e.JRh(n.fileName),e.R7$(2),e.FS9("value",n.uploadProgress)}}function s(o,a){if(1&o&&(e.qex(0),e.j41(1,"span",6),e.nrm(2,"azt-loading-ui"),e.k0s(),e.DNE(3,r,5,2,"div",7),e.bVm()),2&o){const n=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",n.fileUploadQueue)}}function d(o,a){1&o&&(e.j41(0,"span",6),e.nrm(1,"azt-loading-ui"),e.k0s())}function _(o,a){if(1&o&&(e.j41(0,"div"),e.DNE(1,s,4,1,"ng-container",5)(2,d,2,0,"ng-template",null,1,e.C5r),e.k0s()),2&o){const n=e.sdS(3),i=e.XpG();e.R7$(),e.Y8G("ngIf",i.showProgress)("ngIfElse",n)}}let c=(()=>{var o;class a extends g.L{constructor(){super(...arguments),this.uploadComplete=new e.bkB}emitUploadComplete(i){this.uploadComplete.emit(i)}ngOnInit(){this.files&&this.files.length>0&&this.emitFile(this.files)}}return(o=a).\u0275fac=(()=>{let n;return function(p){return(n||(n=e.xGo(o)))(p||o)}})(),o.\u0275cmp=e.VBU({type:o,selectors:[["azt-upload-multiple-box"]],inputs:{files:"files"},outputs:{uploadComplete:"uploadComplete"},features:[e.Vt3],ngContentSelectors:f,decls:5,vars:3,consts:[["formChoseFile",""],["notShowProgress",""],[1,"flex","items-center","justify-center","h-full",3,"appDropZone","click"],["type","file","id","box-left-file-input","multiple","",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"w-4","h-4","inline-block","mr-2"],["class","w-48",4,"ngFor","ngForOf"],[1,"w-48"],[1,"text-md","font-medium","truncate"],[1,"progress-container"],["max","100",2,"width","100%","background-color","#1e40af",3,"value"]],template:function(i,p){if(1&i){const m=e.RV6();e.NAR(),e.j41(0,"div",2),e.bIt("appDropZone",function(h){return e.eBV(m),e.Njj(p.onDrop(h))})("click",function(){e.eBV(m);const h=e.sdS(2);return e.Njj(h.click())}),e.j41(1,"input",3,0),e.bIt("change",function(h){return e.eBV(m),e.Njj(p.onFileSelected(h))})("cancel",function(h){return e.eBV(m),e.Njj(p.onCancelSelect(h))})("cancel",function(h){return e.eBV(m),e.Njj(p.onCancelSelect(h))}),e.k0s(),e.DNE(3,O,1,0,"ng-content",4)(4,_,4,2,"div",4),e.k0s()}2&i&&(e.R7$(),e.FS9("accept",p.fileType),e.R7$(2),e.Y8G("ngIf",!p.isUploadFile),e.R7$(),e.Y8G("ngIf",p.isUploadFile))},dependencies:[C.Sq,C.bT,t.R,u.F],styles:['.progress-container[_ngcontent-%COMP%]{position:relative;display:block;background:#eee;height:10px;border-radius:6px;overflow:hidden}.progress-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;height:100%;background:#1e40af}progress[_ngcontent-%COMP%]{accent-color:#1e40af}[_ngcontent-%COMP%]::-webkit-progress-value{background-color:#1e40af}[_ngcontent-%COMP%]::-moz-progress-bar{background-color:#1e40af}']}),a})()},20013:(b,v,l)=>{l.d(v,{T:()=>r});var e=l(48891),g=l(9516),C=l(54460),t=l(52811);const u=["*"];function f(s,d){1&s&&e.SdG(0,0,["*ngIf","!isUploadFile"])}function O(s,d){1&s&&(e.j41(0,"span",5),e.nrm(1,"azt-loading-ui"),e.k0s())}let r=(()=>{var s;class d extends g.L{constructor(){super(...arguments),this.uploadComplete=new e.bkB}emitUploadComplete(c){c.length>0&&this.uploadComplete.emit(c[0])}}return(s=d).\u0275fac=(()=>{let _;return function(o){return(_||(_=e.xGo(s)))(o||s)}})(),s.\u0275cmp=e.VBU({type:s,selectors:[["azt-upload-single-box"]],outputs:{uploadComplete:"uploadComplete"},features:[e.Vt3],ngContentSelectors:u,decls:6,vars:3,consts:[["formChoseFile",""],[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[4,"ngIf"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"w-4","h-4","inline-block"]],template:function(c,o){if(1&c){const a=e.RV6();e.NAR(),e.j41(0,"div",1),e.bIt("click",function(){e.eBV(a);const i=e.sdS(2);return e.Njj(o.onOpenFileDictionary()&&i.click())}),e.j41(1,"input",2,0),e.bIt("change",function(i){return e.eBV(a),e.Njj(o.onFileSelected(i))})("cancel",function(i){return e.eBV(a),e.Njj(o.onCancelSelect(i))}),e.k0s(),e.DNE(3,f,1,0,"ng-content",3),e.j41(4,"div"),e.DNE(5,O,2,0,"span",4),e.k0s()()}2&c&&(e.R7$(),e.FS9("accept",o.fileType),e.R7$(2),e.Y8G("ngIf",!o.isUploadFile),e.R7$(2),e.Y8G("ngIf",o.isUploadFile))},dependencies:[C.bT,t.R],encapsulation:2}),d})()}}]);