"use strict";(self.webpackChunkSmobileMod=self.webpackChunkSmobileMod||[]).push([[2865],{92865:(rt,P,l)=>{l.r(P),l.d(P,{HomeworkFrontModule:()=>qe});var p=l(54460),a=l(10936),R=l(89163),C=l(65162),$=l(69223),I=l(15343),N=l(13763),V=l(25571),Y=l(5502),L=l(21656),z=l(70050),X=l(7050),B=l(76407),U=l(35143),J=l(43234),_=l(1133),T=l(34158),b=l(76627),h=l(59640),t=l(48891);let G=(()=>{var e;class s extends h.H{ngOnInit(){super.ngOnInit(),(0,b.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.checkVipAccountService.setAdsScriptInStudentWithExamHomework(this.isBusinessDomain,this.isMobileWebView,"homework")})}constructor(i){super(),this.activeRoute=i}}return(e=s).\u0275fac=function(i){return new(i||e)(t.rXU(C.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-test-dashboard"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","homework-frontend-layout"]],template:function(i,o){1&i&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[C.n3],encapsulation:2}),s})();var A=l(73014),K=l(64198),st=l(53043),at=l(33887),lt=l(39307),f=l(76975);const mt=()=>({"mr-2 text-pending":!0});function ct(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",9)(1,"button",10),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.redirectToRegister())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_button_register")," "))}function dt(e,s){1&e&&(t.j41(0,"div",11)(1,"p",12),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("",t.bMT(3,1,"lang_homework_homework_frontend_submit_homework_have_account"),"?"))}let ut=(()=>{var e;class s extends at._{confirmQuit(){this.dialogRef.close(!0)}redirectToRegister(){this.redirectService.redirectRegisterForStudent(),this.dialogRef.close()}redirectToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`),this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(i,o,r,m){super(m,r),this.router=i,this.redirectService=o,this.dialogRef=r,this.data=m}}return(e=s).\u0275fac=function(i){return new(i||e)(t.rXU(C.Ix),t.rXU(lt.m),t.rXU(R.CP,8),t.rXU(R.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-message-dialog"]],features:[t.Vt3],decls:13,vars:11,consts:[[1,"box","p-5",2,"min-width","400px"],[1,"border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["name","badge-info",3,"size","ngClass"],["class","mx-auto mt-2",4,"ngIf"],["class","mb-2 text-md font-medium mt-2",4,"ngIf"],[1,"mx-auto"],["azt-track-service","message-dialog-VmueIbouAH",1,"btn","w-24","btn-primary",3,"click"],[1,"mx-auto","mt-2"],["azt-track-service","message-dialog-mbvZs1BXU4",1,"btn","w-24","btn-primary",3,"click"],[1,"mb-2","text-md","font-medium","mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,ct,4,3,"div",5)(8,dt,4,3,"div",6),t.j41(9,"div",7)(10,"button",8),t.bIt("click",function(){return o.redirectToLogin()}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()()()),2&i&&(t.R7$(4),t.Y8G("size",24)("ngClass",t.lJ4(10,mt)),t.R7$(),t.SpI(" ",t.bMT(6,6,o.isBusinessDomain?"lang_business_homework_frontend_submit_homework_register_account_submit":"lang_homework_homework_frontend_submit_homework_register_account_submit")," "),t.R7$(2),t.Y8G("ngIf",!o.isBusinessDomain),t.R7$(),t.Y8G("ngIf",!o.isBusinessDomain),t.R7$(3),t.SpI(" ",t.bMT(12,8,"lang_button_login")," "))},dependencies:[p.YU,p.bT,I.WGl,f.wp],encapsulation:2}),s})();var ht=l(58227),F=l(58511),E=l(51113),_t=l(36484),pt=l(91640),gt=l(46899),bt=l(23174),ft=l(52509),Z=l(47712),W=l(66729),wt=l(78745),kt=l(52811),vt=l(9570),jt=l(47952),Ct=l(94743),yt=l(69502);const q=()=>({"mr-1":!0});function St(e,s){if(1&e){const n=t.RV6();t.j41(0,"a",14),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.viewDetailHistory(null==o?null:o.id))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_xem_chi_tiet")))}function Ot(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",17)(1,"a",18),t.bIt("click",function(){const o=t.eBV(n).$implicit,r=t.XpG(4);return t.Njj(r.onShowFile(o,-1))}),t.nrm(2,"lucide-icon",19),t.j41(3,"span",20),t.EFF(4),t.k0s()()()}if(2&e){const n=s.$implicit;t.R7$(2),t.Y8G("ngClass",t.lJ4(3,q)),t.R7$(),t.Y8G("title",n.name),t.R7$(),t.JRh(n.name)}}function xt(e,s){if(1&e&&(t.j41(0,"div",15),t.DNE(1,Ot,5,4,"div",16),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",n.fileParse)}}function It(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",17)(1,"a",23),t.bIt("click",function(){const o=t.eBV(n).$implicit,r=t.XpG(5);return t.Njj(r.onShowFile(o,-1))}),t.nrm(2,"lucide-icon",24),t.j41(3,"span",20),t.EFF(4),t.k0s()()()}if(2&e){const n=s.$implicit;t.R7$(2),t.Y8G("ngClass",t.lJ4(3,q)),t.R7$(),t.Y8G("title",n.name),t.R7$(),t.JRh(n.name)}}function Mt(e,s){if(1&e&&(t.j41(0,"div",15),t.DNE(1,It,5,4,"div",16),t.k0s()),2&e){const n=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngForOf",n.fileParse)}}function Tt(e,s){if(1&e&&(t.j41(0,"p",8),t.nrm(1,"azt-check-mark",31),t.k0s()),2&e){const n=t.XpG(3).$implicit;t.R7$(),t.Y8G("mark",n.point)}}function Ft(e,s){if(1&e&&(t.j41(0,"div",25)(1,"div",26),t.DNE(2,Tt,2,1,"p",27),t.k0s(),t.j41(3,"div",28)(4,"span",29),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.nrm(7,"div",30),t.k0s()()),2&e){const n=t.XpG(2).$implicit;t.R7$(2),t.Y8G("ngIf",!n.hideMark),t.R7$(3),t.JRh(t.bMT(6,3,"lang_homework_homework_frontend_utils_comment")),t.R7$(2),t.Y8G("innerHTML",n.note,t.npT)}}function Ht(e,s){if(1&e&&(t.j41(0,"div",21),t.DNE(1,Mt,2,1,"div",12)(2,Ft,8,5,"div",22),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",n.fileParse&&n.fileParse.length>0),t.R7$(),t.Y8G("ngIf",null!=n&&null!=n.confirmedAt)}}function Rt(e,s){if(1&e&&(t.j41(0,"div",6)(1,"div",7)(2,"span",8),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.DNE(6,St,3,3,"a",9),t.k0s(),t.j41(7,"div",7)(8,"span",10),t.EFF(9),t.nI1(10,"mytranslate"),t.j41(11,"span",11),t.EFF(12),t.k0s()()(),t.DNE(13,xt,2,1,"div",12)(14,Ht,3,2,"div",13),t.k0s()),2&e){const n=s.$implicit;t.R7$(3),t.Lme("",t.bMT(4,7,"lang_auto_nop_luc"),": ",t.bMT(5,9,n.createdAt),""),t.R7$(3),t.Y8G("ngIf",n.result),t.R7$(3),t.SpI("",t.bMT(10,11,"lang_homework_homework_frontend_utils_request_submit"),": "),t.R7$(3),t.JRh(n.resendNote),t.R7$(),t.Y8G("ngIf",!n.result&&n.files),t.R7$(),t.Y8G("ngIf",n.result)}}function Gt(e,s){if(1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()(),t.DNE(6,Rt,15,13,"div",5),t.k0s()),2&e){const n=t.XpG();t.R7$(4),t.JRh(t.bMT(5,2,"lang_homework_homework_frontend_utils_history_submit")),t.R7$(2),t.Y8G("ngForOf",n.dataAnswerHistory)}}let Dt=(()=>{var e;class s extends h.H{viewDetailHistory(i){this.commonService.myNavigation("/homework/switch-view-homework/"+this.dataHomeworkObj?.id+"/"+this.dataHomeworkObj?.hashId+"/"+i)}onFileClose(){this.isShowPreviewFile=!1}onShowFile(i,o){this.isShowPreviewFile=!0;let r={...i,index:o};this.previewFileEmit.emit(r)}constructor(){super(),this.previewFileEmit=new t.bkB,this.isShowPreviewFile=!1,this.answerFile=null}}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-answer-history"]],inputs:{dataAnswerHistory:"dataAnswerHistory",dataHomeworkObj:"dataHomeworkObj"},outputs:{previewFileEmit:"previewFileEmit"},features:[t.Vt3],decls:1,vars:1,consts:[["class","card-box mt-3",4,"ngIf"],[1,"card-box","mt-3"],[1,"row","top-row"],[1,"col-12","text-center"],[1,"h5","text-white"],["class","ml-0 mr-0 mt-4 attach-container p-2",4,"ngFor","ngForOf"],[1,"ml-0","mr-0","mt-4","attach-container","p-2"],[1,"flex-title","mt-2","pl-3","pr-3"],[1,"mb-0"],["azt-track-service","answer-history-oWctyE3L2bg",3,"click",4,"ngIf"],[1,"mb-0",2,"font-weight","400"],[1,"text-danger","text-bold"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","mt-2",4,"ngIf"],["azt-track-service","answer-history-oWctyE3L2bg",3,"click"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],["azt-track-service","answer-history--J0jh8HNJVI","target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],["name","paperclip","size","20",3,"ngClass"],[1,"truncate",2,"line-height","1.6",3,"title"],[1,"mt-2"],["class","row justify-content-between mt-2","style","margin: 16px!important;",4,"ngIf"],["azt-track-service","answer-history-F80xamrrLdV","target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],["name","paperclip","size","24",3,"ngClass"],[1,"row","justify-content-between","mt-2",2,"margin","16px!important"],[1,"col-sm-3","col-md-3","col-lg-3","_col-left_result","text-center"],["class","mb-0",4,"ngIf"],[1,"col-sm-8","col-md-8","col-lg-8","_col-right_result"],[1,"h5","title"],[1,"content-homework","pt-3",3,"innerHTML"],[3,"mark"]],template:function(i,o){1&i&&t.DNE(0,Gt,7,4,"div",0),2&i&&t.Y8G("ngIf",o.dataAnswerHistory&&o.dataAnswerHistory.length>0)},dependencies:[p.YU,p.Sq,p.bT,W.D,I.WGl,f.wp,f.bH],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(0,167,208);border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}@font-face{font-family:handwriting_font;src:url(https://239114911.e.cdneverest.net/cdnazota/azt-assets/core-mod-assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}"]}),s})();const $t=e=>({joinByHomeworkHashId:e}),D=()=>({"mr-2":!0});function Pt(e,s){if(1&e&&t.eu8(0,17),2&e){t.XpG();const n=t.sdS(6);t.Y8G("ngTemplateOutlet",n)}}function Lt(e,s){if(1&e&&t.eu8(0,17),2&e){t.XpG();const n=t.sdS(8);t.Y8G("ngTemplateOutlet",n)}}function zt(e,s){if(1&e&&t.eu8(0,17),2&e){t.XpG();const n=t.sdS(12);t.Y8G("ngTemplateOutlet",n)}}function At(e,s){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_homework_frontend_come_back_at")+t.bMT(3,3,null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.startDate)," ")}}function Et(e,s){if(1&e&&(t.j41(0,"div",18)(1,"div",19),t.nrm(2,"azt-svg-icon",20),t.j41(3,"div",21),t.EFF(4),t.nI1(5,"mytranslate"),t.DNE(6,At,4,5,"span",22),t.k0s()()()),2&e){const n=t.XpG();t.R7$(2),t.Y8G("size",84),t.R7$(2),t.SpI(" ",t.bMT(5,3,n.statusObj.errorMessage)," "),t.R7$(2),t.Y8G("ngIf","lang_core_not_start_homework_obj"==n.statusObj.errorMessage&&(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.startDate))}}function Nt(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",23)(1,"div",24)(2,"div",25),t.eu8(3,17),t.k0s(),t.j41(4,"div",26)(5,"app-join-classroom-box",27),t.bIt("selectStudentEvent",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.selectStudentEvent(o))}),t.k0s()()()()}if(2&e){const n=t.XpG(),i=t.sdS(10);t.R7$(3),t.Y8G("ngTemplateOutlet",i),t.R7$(2),t.Y8G("joinClassroomByType",t.eq3(2,$t,null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.hashId))}}function Vt(e,s){if(1&e&&(t.j41(0,"div",28)(1,"h3",29),t.EFF(2),t.k0s(),t.j41(3,"div",30),t.nrm(4,"azt-download-qr-code",31),t.k0s()(),t.j41(5,"div",32)(6,"span",28),t.nrm(7,"lucide-icon",33),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"span",34),t.EFF(11),t.k0s()()()),2&e){const n=t.XpG();t.R7$(2),t.SpI(" ",null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.name," "),t.R7$(2),t.Y8G("fileName","azota_submit_homework_qrcode_"+(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.hashId))("linkUrl",n.copyLinkToClipboard()),t.R7$(3),t.Y8G("ngClass",t.lJ4(8,D)),t.R7$(),t.SpI(" ",t.bMT(9,6,"lang_homework_homework_frontend_submit_homework_code_homework")+": "," "),t.R7$(3),t.JRh(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.hashId)}}function Yt(e,s){if(1&e&&(t.j41(0,"div",32)(1,"span",28),t.nrm(2,"lucide-icon",52),t.EFF(3),t.nI1(4,"mytranslate"),t.j41(5,"span",37),t.EFF(6),t.k0s()()()),2&e){const n=t.XpG(2);t.R7$(2),t.Y8G("ngClass",t.lJ4(5,D)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_ten_hoc_sinh")+":"," "),t.R7$(3),t.SpI(" ",n.currentChild.fullName," ")}}function Xt(e,s){if(1&e&&(t.j41(0,"div",53)(1,"span",28),t.nrm(2,"lucide-icon",54),t.EFF(3),t.nI1(4,"mytranslate"),t.j41(5,"span",37),t.EFF(6),t.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()()),2&e){const n=t.XpG(2);t.R7$(2),t.Y8G("ngClass",t.lJ4(7,D)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_bat_dau_nop")+":"," "),t.R7$(3),t.SpI(" ",t.bMT(7,5,null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.startDate)," ")}}function Bt(e,s){if(1&e&&(t.j41(0,"span",37),t.EFF(1),t.nI1(2,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.deadline))}}function Ut(e,s){1&e&&(t.j41(0,"span",37),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_homework_homework_frontend_submit_homework_not_time")))}function Jt(e,s){if(1&e&&(t.nrm(0,"img",63),t.nI1(1,"mycdn")),2&e){const n=t.XpG().$implicit;t.Y8G("src",t.bMT(1,1,n.url),t.B4B)}}function Wt(e,s){if(1&e&&(t.nrm(0,"img",63),t.nI1(1,"coreModConvertCdnLinkOfGitHub")),2&e){const n=t.XpG().$implicit,i=t.XpG(2);t.Y8G("src",t.bMT(1,1,i.getFileIcon(n)),t.B4B)}}function Qt(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",55)(1,"div",56)(2,"a",57),t.bIt("click",function(){const o=t.eBV(n).$implicit,r=t.XpG(2);return t.Njj(r.onShowFile(o,-1))}),t.j41(3,"div",58),t.DNE(4,Jt,2,3,"img",59)(5,Wt,2,3,"img",59),t.k0s(),t.j41(6,"div",60)(7,"p",61),t.EFF(8),t.k0s(),t.j41(9,"div",62),t.EFF(10),t.k0s()()()()()}if(2&e){let n,i;const o=s.$implicit,r=t.XpG(2);t.R7$(4),t.Y8G("ngIf",null==o.mimes?null:o.mimes.includes("image")),t.R7$(),t.Y8G("ngIf",!(null!=o.mimes&&o.mimes.includes("image"))),t.R7$(2),t.Y8G("matTooltip",null!==(n=o.name)&&void 0!==n?n:""),t.R7$(),t.JRh(o.name),t.R7$(2),t.JRh(r.getFileType(null!==(i=o.mimes)&&void 0!==i?i:""))}}function Kt(e,s){if(1&e&&(t.qex(0),t.eu8(1,17),t.bVm()),2&e){t.XpG(2);const n=t.sdS(14);t.R7$(),t.Y8G("ngTemplateOutlet",n)}}function Zt(e,s){if(1&e&&t.eu8(0,17),2&e){t.XpG(2);const n=t.sdS(16);t.Y8G("ngTemplateOutlet",n)}}function qt(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",23)(1,"div",35),t.eu8(2,17),t.j41(3,"div",32)(4,"span",28),t.nrm(5,"lucide-icon",36),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"span",37),t.EFF(9),t.k0s()()(),t.DNE(10,Yt,7,6,"div",38),t.j41(11,"div",39),t.DNE(12,Xt,8,8,"div",40),t.j41(13,"div",41)(14,"span",28),t.nrm(15,"lucide-icon",42),t.EFF(16),t.nI1(17,"mytranslate"),t.DNE(18,Bt,3,3,"span",43)(19,Ut,3,3,"span",43),t.k0s()()()(),t.j41(20,"div",25)(21,"div",44),t.nrm(22,"azt-dynamic-hook",45),t.k0s(),t.j41(23,"div",46)(24,"div",47),t.DNE(25,Qt,11,5,"div",48),t.k0s()()(),t.j41(26,"div",49),t.DNE(27,Kt,2,1,"ng-container",50)(28,Zt,1,1,"ng-template",null,6,t.C5r),t.j41(30,"app-answer-history",51),t.bIt("previewFileEmit",function(o){t.eBV(n);const r=t.XpG();return t.Njj(r.onShowFile(o,0))}),t.k0s()()()}if(2&e){let n;const i=t.sdS(29),o=t.XpG(),r=t.sdS(10);t.R7$(2),t.Y8G("ngTemplateOutlet",r),t.R7$(3),t.Y8G("ngClass",t.lJ4(20,D)),t.R7$(),t.SpI(" ",t.bMT(7,16,"lang_auto_lop")+": "," "),t.R7$(3),t.SpI(" ",o.currentChild||null!=o.obj&&null!=o.obj.classroomObj&&o.obj.classroomObj.name?null==o.obj||null==o.obj.classroomObj?null:o.obj.classroomObj.name:""," "),t.R7$(),t.Y8G("ngIf",o.currentChild),t.R7$(2),t.Y8G("ngIf",null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.startDate),t.R7$(3),t.Y8G("ngClass",t.lJ4(21,D)),t.R7$(),t.SpI(" ",t.bMT(17,18,"lang_homework_homework_frontend_submit_homework_dealine"),":\xa0 "),t.R7$(2),t.Y8G("ngIf",null!=(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.deadline)),t.R7$(),t.Y8G("ngIf",null==(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.deadline)),t.R7$(3),t.Y8G("content",null!==(n=null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.content)&&void 0!==n?n:""),t.R7$(3),t.Y8G("ngForOf",o.files),t.R7$(2),t.Y8G("ngIf",null==o.answerObj||null==o.answerObj.confirmedAt)("ngIfElse",i),t.R7$(3),t.Y8G("dataAnswerHistory",o.answerHistory)("dataHomeworkObj",null==o.obj?null:o.obj.homeworkObj)}}function te(e,s){1&e&&(t.j41(0,"div",71)(1,"div",72)(2,"div",73)(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(4),t.SpI("",t.bMT(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function ee(e,s){1&e&&(t.j41(0,"div",74)(1,"h5",75),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("",t.bMT(3,1,"lang_homework_homework_frontend_submit_homework_submit_success"),"!"))}function ne(e,s){if(1&e&&(t.j41(0,"div",88)(1,"video",89),t.nrm(2,"source",90),t.nI1(3,"safe"),t.k0s(),t.j41(4,"div",91)(5,"div",92),t.nrm(6,"lucide-icon",93),t.k0s()()()),2&e){const n=t.XpG().$implicit;t.R7$(2),t.Y8G("src",t.bMT(3,1,n.url+"#t=5"),t.B4B)}}function oe(e,s){if(1&e&&(t.nrm(0,"img",94),t.nI1(1,"mycdn")),2&e){const n=t.XpG().$implicit;t.Y8G("src",t.bMT(1,1,n.thumb),t.B4B)}}function ie(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",95),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,r=t.XpG(4);return t.Njj(r.removeImg(o.url))}),t.nrm(1,"lucide-icon",96),t.k0s()}}function re(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",78)(1,"div",79),t.bIt("click",function(){const o=t.eBV(n).$implicit,r=t.XpG(4);return t.Njj(r.onShowFile(o,-1))}),t.DNE(2,ne,7,3,"div",80),t.nI1(3,"isVideo"),t.DNE(4,oe,2,3,"ng-template",null,8,t.C5r),t.k0s(),t.j41(6,"div",81)(7,"button",82),t.bIt("click",function(){const o=t.eBV(n).index,r=t.XpG(4);return t.Njj(r.switchAttributeArray(r.answerFileList,o,o-1))}),t.nrm(8,"lucide-icon",83),t.k0s(),t.j41(9,"input",84,9),t.nI1(11,"mytranslate"),t.bIt("keyup.enter",function(){const o=t.eBV(n).index,r=t.sdS(10),m=t.XpG(4);return t.Njj(m.switchAttributeArrayInput(o,r.value))})("change",function(){const o=t.eBV(n).index,r=t.sdS(10),m=t.XpG(4);return t.Njj(m.switchAttributeArrayInput(o,r.value))}),t.k0s(),t.j41(12,"button",85),t.bIt("click",function(){const o=t.eBV(n).index,r=t.XpG(4);return t.Njj(r.switchAttributeArray(r.answerFileList,o,o+1))}),t.nrm(13,"lucide-icon",86),t.k0s()(),t.DNE(14,ie,2,0,"div",87),t.k0s()}if(2&e){let n;const i=s.$implicit,o=s.index,r=t.sdS(5),m=t.XpG(4);t.R7$(2),t.Y8G("ngIf",t.bMT(3,7,null!==(n=i.mimes)&&void 0!==n?n:""))("ngIfElse",r),t.R7$(7),t.FS9("id","input_page_"+o),t.FS9("max",null==m.answerFileList?null:m.answerFileList.length),t.FS9("value",o+1),t.FS9("placeholder",t.bMT(11,9,"lang_auto_trang_so")),t.R7$(5),t.Y8G("ngIf",!(null!=m.obj&&m.obj.isMarked&&m.isShowGreenCheckbox(i.url)))}}function se(e,s){if(1&e&&(t.j41(0,"div",76),t.DNE(1,re,15,11,"div",77),t.k0s()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("ngForOf",n.answerFileList)}}function ae(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"div",97)(2,"button",98),t.bIt("click",function(){t.eBV(n);const o=t.XpG(3);return t.Njj(o.checkAvailableToSelectFile())}),t.nrm(3,"lucide-icon",99),t.j41(4,"span",100),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()(),t.j41(7,"div",101)(8,"span",102),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.bVm()}2&e&&(t.R7$(3),t.Y8G("ngClass",t.lJ4(7,D)),t.R7$(2),t.JRh(t.bMT(6,3,"lang_auto_upload_file")),t.R7$(4),t.JRh(t.bMT(10,5,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets")))}function le(e,s){if(1&e&&(t.qex(0),t.DNE(1,te,6,3,"div",68)(2,ee,4,3,"div",69)(3,se,2,1,"div",70)(4,ae,11,8,"ng-container",22),t.nI1(5,"isParentViewOnly"),t.bVm()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==n.obj?null:n.obj.isMarked),t.R7$(),t.Y8G("ngIf",(null==n.answerFileList?null:n.answerFileList.length)&&(null==n.rawAnswerFileList?null:n.rawAnswerFileList.length)&&n.isSubmit),t.R7$(),t.Y8G("ngIf",null==n.answerFileList?null:n.answerFileList.length),t.R7$(),t.Y8G("ngIf",!t.bMT(5,4,""))}}function me(e,s){1&e&&(t.j41(0,"div",71)(1,"div",72)(2,"div",73)(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()()),2&e&&(t.R7$(4),t.SpI("",t.bMT(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function ce(e,s){if(1&e&&(t.qex(0),t.nrm(1,"video",110),t.bVm()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("src",n.url+"#t=5",t.B4B)}}function de(e,s){if(1&e&&(t.nrm(0,"img",111),t.nI1(1,"mycdn")),2&e){const n=t.XpG().$implicit;t.Y8G("src",t.bMT(1,1,n.thumb),t.B4B)}}function ue(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",78)(1,"div",106),t.bIt("click",function(){const o=t.eBV(n).$implicit,r=t.XpG(4);return t.Njj(r.onShowFile(o,-1))}),t.DNE(2,ce,2,1,"ng-container",50),t.nI1(3,"isVideo"),t.DNE(4,de,2,3,"ng-template",null,11,t.C5r),t.k0s(),t.j41(6,"div",81)(7,"button",107),t.nrm(8,"lucide-icon",83),t.k0s(),t.nrm(9,"input",108,9),t.nI1(11,"mytranslate"),t.nI1(12,"isParentViewOnly"),t.j41(13,"button",107),t.nrm(14,"lucide-icon",109),t.k0s()()()}if(2&e){let n;const i=s.$implicit,o=s.index,r=t.sdS(5),m=t.XpG(4);t.R7$(2),t.Y8G("ngIf",t.bMT(3,7,null!==(n=i.mimes)&&void 0!==n?n:""))("ngIfElse",r),t.R7$(7),t.FS9("id","input_page_"+o),t.FS9("max",null==m.answerFileList?null:m.answerFileList.length),t.FS9("value",o+1),t.FS9("placeholder",t.bMT(11,9,"lang_auto_trang_so")),t.Y8G("readonly",t.bMT(12,11,""))}}function he(e,s){if(1&e&&(t.j41(0,"div",105),t.DNE(1,ue,15,13,"div",77),t.k0s()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("ngForOf",n.answerFileList)}}function _e(e,s){1&e&&(t.j41(0,"div",112)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_homework_homework_frontend_submit_homework_end_time_submit")))}function pe(e,s){if(1&e&&t.DNE(0,me,6,3,"div",103)(1,he,2,1,"div",104)(2,_e,4,3,"ng-template",null,10,t.C5r),2&e){const n=t.sdS(3),i=t.XpG(2);t.Y8G("ngIf",null==i.obj?null:i.obj.isMarked)("ngIfElse",n),t.R7$(),t.Y8G("ngIf",null==i.answerFileList?null:i.answerFileList.length)}}function ge(e,s){1&e&&t.nrm(0,"azt-loading-ui",115)}function be(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",113),t.nI1(1,"isParentViewOnly"),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.submitHomework())}),t.DNE(2,ge,1,0,"azt-loading-ui",114),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("disabled",n.statusObjData.loading||!(null!=n.answerFileList&&n.answerFileList.length)||(null==n.obj?null:n.obj.isMarked)||n.isNotChangeData||t.bMT(1,3,"")),t.R7$(2),t.Y8G("ngIf",n.statusObjData.loading),t.R7$(),t.SpI(" ",null!=n.obj&&n.obj.isMarked?t.bMT(4,5,"lang_homework_homework_frontend_submit_homework_submitted"):t.bMT(5,7,"lang_homework_homework_frontend_submit_homework_submit")," ")}}function fe(e,s){1&e&&t.nrm(0,"azt-loading-ui",115)}function we(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",116),t.nI1(1,"isParentViewOnly"),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.submitHomework())}),t.DNE(2,fe,1,0,"azt-loading-ui",114),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("disabled",n.statusObjData.loading||!(null!=n.answerFileList&&n.answerFileList.length)||(null==n.obj?null:n.obj.isOverTime)||t.bMT(1,3,"")),t.R7$(2),t.Y8G("ngIf",n.statusObjData.loading),t.R7$(),t.SpI(" ",null!=n.obj&&n.obj.isMarked?t.bMT(4,5,"lang_homework_homework_frontend_submit_homework_submitted"):t.bMT(5,7,"lang_homework_homework_frontend_submit_homework_submit")," ")}}function ke(e,s){if(1&e&&(t.j41(0,"div",64),t.DNE(1,le,6,6,"ng-container",50)(2,pe,4,3,"ng-template",null,7,t.C5r),t.k0s(),t.j41(4,"div",65),t.DNE(5,be,6,9,"button",66)(6,we,6,9,"button",67),t.k0s()),2&e){const n=t.sdS(3),i=t.XpG();t.R7$(),t.Y8G("ngIf",!(null!=i.obj&&i.obj.isOverTime))("ngIfElse",n),t.R7$(4),t.Y8G("ngIf",!(null!=i.obj&&i.obj.isOverTime)),t.R7$(),t.Y8G("ngIf",null==i.obj?null:i.obj.isOverTime)}}function ve(e,s){if(1&e&&(t.qex(0),t.nrm(1,"video",110),t.bVm()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("src",n.url+"#t=5",t.B4B)}}function je(e,s){if(1&e&&(t.nrm(0,"img",111),t.nI1(1,"mycdn")),2&e){const n=t.XpG().$implicit;t.Y8G("src",t.bMT(1,1,n.thumb),t.B4B)}}function Ce(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",78)(1,"div",124),t.bIt("click",function(){const o=t.eBV(n).$implicit,r=t.XpG(3);return t.Njj(r.onShowFile(o,-1))}),t.DNE(2,ve,2,1,"ng-container",50),t.nI1(3,"isVideo"),t.DNE(4,je,2,3,"ng-template",null,12,t.C5r),t.k0s(),t.j41(6,"div",81)(7,"button",107),t.nrm(8,"lucide-icon",83),t.k0s(),t.nrm(9,"input",125,9),t.nI1(11,"mytranslate"),t.j41(12,"button",107),t.nrm(13,"lucide-icon",86),t.k0s()()()}if(2&e){let n;const i=s.$implicit,o=s.index,r=t.sdS(5),m=t.XpG(3);t.R7$(2),t.Y8G("ngIf",t.bMT(3,6,null!==(n=i.mimes)&&void 0!==n?n:""))("ngIfElse",r),t.R7$(7),t.FS9("id","input_page_"+o),t.FS9("max",null==m.answerFileList?null:m.answerFileList.length),t.FS9("value",o+1),t.FS9("placeholder",t.bMT(11,8,"lang_auto_trang_so"))}}function ye(e,s){if(1&e&&(t.j41(0,"div",123),t.DNE(1,Ce,14,10,"div",77),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",n.answerFileList)}}function Se(e,s){1&e&&(t.j41(0,"div",126),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark")," "))}function Oe(e,s){1&e&&t.nrm(0,"p",134)}function xe(e,s){if(1&e&&(t.j41(0,"p",134),t.nrm(1,"azt-check-mark",135),t.k0s()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("mark",n.answerObj.point)}}function Ie(e,s){if(1&e&&t.nrm(0,"div",140),2&e){const n=t.XpG(4);t.Y8G("innerHTML",n.answerObj.note,t.npT)}}function Me(e,s){if(1&e&&t.nrm(0,"div",141),2&e){const n=t.XpG(4);t.Y8G("innerHTML",n.answerObj.note,t.npT)}}function Te(e,s){if(1&e&&t.nrm(0,"div",142),2&e){const n=t.XpG(4);t.Y8G("innerHTML",n.answerObj.note,t.npT)}}function Fe(e,s){if(1&e&&t.nrm(0,"div",143),2&e){const n=t.XpG(4);t.Y8G("innerHTML",n.answerObj.note,t.npT)}}function He(e,s){if(1&e&&(t.j41(0,"div"),t.DNE(1,Ie,1,1,"div",136)(2,Me,1,1,"div",137)(3,Te,1,1,"div",138)(4,Fe,1,1,"div",139),t.k0s()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("ngIf","font_chu_in"==n.answerObj.txtCommentFont),t.R7$(),t.Y8G("ngIf","font_chu_in_\u0111am"==n.answerObj.txtCommentFont),t.R7$(),t.Y8G("ngIf","font_chu_dep_z"==n.answerObj.txtCommentFont),t.R7$(),t.Y8G("ngIf","font_chu_in_nghieng"==n.answerObj.txtCommentFont)}}function Re(e,s){if(1&e&&(t.nrm(0,"div",144),t.nI1(1,"safeNormalHtmlContent")),2&e){const n=t.XpG(3);t.Y8G("innerHTML",t.bMT(1,1,n.answerObj.note),t.npT)}}function Ge(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",127)(1,"h5",119),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.EFF(4," \xa0( "),t.j41(5,"a",128),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.viewDetail())}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8," ) "),t.k0s(),t.j41(9,"div",129)(10,"div",130),t.DNE(11,Oe,1,0,"p",131)(12,xe,2,1,"p",131),t.k0s(),t.j41(13,"div",132)(14,"h4",133),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.DNE(17,He,5,4,"div",50)(18,Re,2,3,"ng-template",null,13,t.C5r),t.k0s()()}if(2&e){const n=t.sdS(19),i=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,7,"lang_homework_homework_frontend_submit_homework_result")),t.R7$(4),t.SpI(" ",t.bMT(7,9,"lang_homework_homework_frontend_submit_homework_view_detail_result")," "),t.R7$(5),t.Y8G("ngIf",!i.isHideMark&&null==i.answerObj.point),t.R7$(),t.Y8G("ngIf",!i.isHideMark&&null!=i.answerObj.point),t.R7$(3),t.JRh(t.bMT(16,11,"lang_homework_homework_frontend_submit_homework_comment")),t.R7$(2),t.Y8G("ngIf",i.answerObj&&null!=i.answerObj.txtCommentFont||null!=i.answerObj.txtCommentFont)("ngIfElse",n)}}function De(e,s){if(1&e&&(t.j41(0,"div",117)(1,"div",118)(2,"h5",119),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"span"),t.EFF(6),t.nI1(7,"mytranslate"),t.nI1(8,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()(),t.DNE(9,ye,2,1,"div",120)(10,Se,3,3,"div",121)(11,Ge,20,13,"ng-template",122),t.k0s()),2&e){const n=t.XpG();t.R7$(3),t.JRh(t.bMT(4,6,"lang_homework_homework_frontend_submit_homework_assignment")),t.R7$(3),t.Lme("\xa0(",t.bMT(7,8,"lang_homework_homework_frontend_submit_homework_time_submit"),": ",t.bMT(8,10,null==n.answerObj?null:n.answerObj.createdAt),")"),t.R7$(3),t.Y8G("ngIf",null==n.answerFileList?null:n.answerFileList.length),t.R7$(),t.Y8G("ngIf",null!=n.answerObj&&(null==n.obj?null:n.obj.isMarked)&&n.whenShowAnswer),t.R7$(),t.Y8G("ngIf",null!=n.answerObj&&(null==n.obj?null:n.obj.isMarked)&&!n.whenShowAnswer)}}let $e=(()=>{var e;class s extends h.H{selectStudentEvent(i){this.localStorageObject.removeCacheByValue("FrontPageStudent"),this.localStorageObject.removeCacheByValue("GetExamObjsInDashboard"),this.localStorageObject.removeCacheByValue("GetClassroomInHomeworkObjsInDashboard"),this.getData()}onShowFile(i,o){let r={...i,index:o};this.sAztDialogService.open(st.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:r},restoreFocus:!1})}checkAvailableToSelectFile(){this.mobileWebviewService.sendSimpleMessage("ALLOWED_SUBMIT_HOMEWORK")}addFileWithProcess(i){i&&(this.isNotChangeData=!1,this.answerFileList?.push(i));let o=this.answerFileList?.length??0;for(let r=0;r<o;r++)this.answerFileList&&!this.answerFileList?.[r].lastModified&&(this.answerFileList[r].lastModified=(new Date).getTime()),this.answerFileList&&!this.answerFileList[r].thumb&&(this.answerFileList[r].thumb=this.homeworkExamService.getThumbWithObj(this.answerFileList[r]));this.answerFileList&&this.answerFileList.length>0&&this.answerFileList.sort((r,m)=>r.lastModified&&m.lastModified?r.lastModified-m.lastModified:0)}getFileType(i){let o=(0,K.yY)(i),r=this.commonService.myTranslateInstant("lang_auto_hinh_anh")??"",m=this.commonService.myTranslateInstant("lang_auto_video")??"",y=this.commonService.myTranslateInstant("lang_auto_am_thanh")??"",O=this.commonService.myTranslateInstant("lang_auto_tai_lieu")??"";return"image"==o?r:"video"==o?m:"audio"==o?y:O}getFileIcon(i){let o=(0,K.yY)(i.mimes??"");return"image"==o?i.url??"images/jpg-icon.png":"video"==o?"images/video_sample.png":"audio"==o?"images/audio_sample.png":"pdf"==o?"images/ext_pdf_filetype_icon_176234.svg":"images/documents.png"}isShowGreenCheckbox(i){return!!this.rawAnswerFileList?.length&&null!=this.rawAnswerFileList.find(o=>o.url==i)}switchAttributeArray(i,o,r){if(!this.answerFileList?.length||this.answerFileList?.length<=o||this.answerFileList.length<=r||o<0||r<0)return;let m=this.castObj(this.answerFileList[o]);this.answerFileList[o]=this.castObj(this.answerFileList[r])??{},this.answerFileList[r]=m??{}}switchAttributeArrayInput(i,o){let r=Number(o)-1;r<=0?r=0:this.answerFileList&&r>=this.answerFileList?.length&&(r=this.answerFileList.length),this.answerFileList?.splice(r,0,this.answerFileList.splice(i,1)[0])}viewDetail(){let i=this.commonService.getCurrentUrlWithoutLocale();this.commonService.myNavigationWithQueryString("/homework/switch-view-homework/"+this.answerObj?.id+"/"+this.homeworkHashId,"?backto="+i)}removeImg(i){let o=this.answerFileList?.filter(r=>r.url!==i);this.answerFileList=o,this.isNotChangeData=!1}submitHomework(){let i={homeworkHashId:this.obj?.homeworkObj?.hashId??"",studentId:this.currentChild?.id??0,files:JSON.stringify(this.answerFileList)};if("[]"==i.files)return this.showErrorSnack("lang_auto_bai_lam_chua_day_du_vui_long_thu_lai");this.isSubmit=!1,this.statusObjData={loading:!0,errorMessage:"",mustShowErrorBox:!1};let o=JSON.stringify({type:"homework",id:this.obj?.homeworkObj?.id,user:this.obj?.homeworkObj?.tenantId});this.frontAnswerService.apiFrontAnswerSaveObjPost(i,o).subscribe(r=>{1==r.success?(this.localStorageObject.clearAllCache(),this.isSubmit=!0,this.statusObjData={loading:!1,errorMessage:"",mustShowErrorBox:!1},this.rawAnswerFileList=this.commonService.myClone(this.answerFileList),this.showSuccessSnack("lang_auto_ban_da_nop_bai_thanh_cong"),this.isNotChangeData=!0):(this.showErrorSnack(r.message??""),this.statusObjData={loading:!1,errorMessage:"",mustShowErrorBox:!1},this.isSubmit=!1)},r=>{console.log("Err:"+r)})}copyLinkToClipboard(){return`${this.commonService.getDomainToCopyLinkOrQR()}/bai-tap/${this.homeworkHashId}`}fillData(){if(this.files=this.commonService.myParseJson(this.obj?.homeworkObj?.files??"")??[],null==this.files&&(this.files=new Array),this.obj?.answerObj&&this.obj.answerObj.files&&(this.answerFileList=this.commonService.myParseJson(this.obj.answerObj.files),this.rawAnswerFileList=this.commonService.myClone(this.answerFileList),this.isNotChangeData=!0),this.obj?.answerHistoryObjs){for(let o=0;o<this.obj.answerHistoryObjs.length;o++)this.obj.answerHistoryObjs[o].result&&(this.obj.answerHistoryObjs[o].note=this.commonService.willDeleteParseJson(this.obj.answerHistoryObjs[o].result??"").comment);this.answerHistory=this.obj.answerHistoryObjs??[];for(let o=0;o<this.answerHistory.length;o++){if(this.answerHistory[o].result){var i=this.commonService.willDeleteParseJson(this.answerHistory[o].resultNote??"");this.answerHistory[o].hideMark=!(!i||!i?.IsHideMark)&&i?.IsHideMark}if(this.answerHistory[o].files)if(this.answerHistory[o].files?.includes("<z>:")){let r=this.zipDataService.decodeContentGzip(this.answerHistory[o].files??"");this.answerHistory[o].fileParse=this.commonService.myParseJson(r)}else this.answerHistory[o].fileParse=this.commonService.myParseJson(this.answerHistory[o].files??"")}}this.obj?.answerObj&&(this.answerObj=this.obj.answerObj),this.answerObj&&this.answerObj.result&&(this.answerObj.note=null!=this.commonService.willDeleteParseJson(this.answerObj.result)?this.commonService.willDeleteParseJson(this.answerObj.result).comment:"",this.answerObj.txtCommentFont=this.commonService.willDeleteParseJson(this.commonService.willDeleteParseJson(this.answerObj.result).staticTextConfig)?.txtCommentFont,this.isHideMark=null!=this.commonService.willDeleteParseJson(this.answerObj.result)&&this.commonService.willDeleteParseJson(this.answerObj.result).hideMark),null!=this.answerObj?.resultNote&&null==this.answerObj?.note&&(this.answerObj.note=null!=this.commonService.willDeleteParseJson(this.answerObj.resultNote)?this.commonService.willDeleteParseJson(this.answerObj.resultNote).Note:""),this.currentChild=this.obj?.studentObj?this.obj.studentObj:{...this.userService.getUserObj(),id:0,classroomId:0,parentId:0,gender:0}}callSaveAction(){this.userInfoService.apiUserInfoSaveUserActionPost({actionType:"answer-homework",objectId:this.obj?.homeworkObj?.id,objectKey:this.obj?.homeworkObj.hashId}).subscribe(i=>{})}getData(){this.initStatusObj(),this.waitDestroy(this.frontHomeworkService.apiFrontHomeworkGetObjGet(this.homeworkHashId).subscribe(i=>{if(!i.success)return this.obj=i.data,this.obj?.homeworkObj&&this.callSaveAction(),this.errorStatusObj(i.message,!0);this.zipDataService.convertAnswersHistories(i.data),this.zipDataService.convertSubmittedAnswersObj(i.data?.answerObj),this.obj=i.data,this.obj?.homeworkObj&&this.callSaveAction(),this.obj?.homeworkObj&&this.zipDataService.convertHomeworkObj(this.obj?.homeworkObj);let o=this.commonService.myTranslateInstant("lang_auto_lop");return this.commonService.translateMetaData({title:this.obj?.homeworkObj?.name+`- ${o}: `+this.obj?.classroomObj?.name,description:this.obj?.homeworkObj?.content}),this.whenShowAnswer=this.obj?.homeworkObj?.whenShowAnswer??0,1==this.obj?.homeworkObj?.mustVerified&&this.userService.isNotLoginOrIsAnonymous()?(this.currentViewType="requiredLogin",this.sAztDialogService.open(ut,{data:{type:"redirect_register"},restoreFocus:!1,backdropClass:"azt-backdrop",disableClose:!0}),this.successStatusObj()):this.obj?.studentObj?1==this.obj?.homeworkObj?.mustVerified&&1!=this.obj.studentObj.isVerified?(this.currentViewType="chooseStudent",this.successStatusObj()):(this.currentViewType="viewHomework",this.fillData(),void this.successStatusObj()):(this.currentViewType="chooseStudent",this.successStatusObj())}))}ngOnInit(){this.initStatusObj(),(0,b.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([i,o])=>{const r=this.commonService.getMyQueryParam("scrollId");this.backToLink=(this.commonService.getMyQueryParam("backto")??"/student/dashboard")+(r?`?scrollId=${r}`:""),this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.userObj=this.userService.getUserObj(),this.getData()}),this.mobileWebviewService.getHomeworkAllowedToSubmitSubscriber().subscribe(i=>{this.handleFileFormFlutter(i.data)}),super.ngOnInit()}constructor(i,o,r,m,y,O,H,w,v,j){var k;super(),k=this,this.activeRoute=i,this.localStorageObject=o,this.frontHomeworkService=r,this.frontAnswerService=m,this.zipDataService=y,this.userService=O,this.homeworkExamService=H,this.sAztDialogService=w,this.userInfoService=v,this.mobileWebviewService=j,this.homeworkHashId="",this.backToLink="/student/dashboard",this.statusObjData={loading:!1,errorMessage:"",mustShowErrorBox:!1},this.currentViewType="requiredLogin",this.files=[],this.answerHistory=[],this.isSubmit=!1,this.isHideMark=!1,this.isNotChangeData=!1,this.whenShowAnswer=0,this.handleFileFormFlutter=function(){var M=(0,A.A)(function*(S){try{for(let x in S)k.statusObjData={loading:!0,errorMessage:"",mustShowErrorBox:!1},k.statusObjData={loading:!0,errorMessage:"",mustShowErrorBox:!1},k.uploadFile(S[x])}catch(x){alert("errors:"+x)}});return function(S){return M.apply(this,arguments)}}(),this.uploadFile=function(){var M=(0,A.A)(function*(S){k.isSubmit=!1,Array.isArray(k.answerFileList)||(k.answerFileList=[]),k.addFileWithProcess({...S}),k.statusObjData={loading:!1,errorMessage:"",mustShowErrorBox:!1}});return function(S){return M.apply(this,arguments)}}(),this.form=new a.gE({file_data:new a.MJ("",{nonNullable:!0,validators:[a.k0.required]}),file_capture:new a.MJ("",{nonNullable:!0,validators:[a.k0.required]}),file:new a.MJ("",{nonNullable:!0,validators:[a.k0.required]})})}}return(e=s).\u0275fac=function(i){return new(i||e)(t.rXU(C.nX),t.rXU(ht.G),t.rXU(F.RC),t.rXU(F.L5),t.rXU(E.j),t.rXU(_t.R),t.rXU(pt.Z),t.rXU(gt.i),t.rXU(bt.fv),t.rXU(ft.f))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-submit-homework"]],features:[t.Vt3],decls:17,vars:4,consts:[["errorBox",""],["chooseStudent",""],["homeworkDetail",""],["viewHomework",""],["AddNewAnswerOrEditOldAnswer",""],["HomeworkResultTpl",""],["ViewHomeworkResult",""],["notOverTime",""],["notFileVideo",""],["myInput",""],["notMarked",""],["notFileVideoOverTime",""],["notFileVideoResult",""],["fontText",""],[3,"headerBackToLink"],[1,"intro-x","mt-5"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"w-full"],[1,"text-center","p-3",2,"display","block"],["type","book",3,"size"],[1,"font-medium","mt-2"],[4,"ngIf"],[1,"box","mx-auto"],[1,"azt-select-child"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"mt-5","p-3"],[3,"selectStudentEvent","joinClassroomByType"],[1,"flex","items-center"],[1,"text-lg","font-medium","mr-auto"],[1,"w-auto","flex"],[3,"fileName","linkUrl"],[1,"mt-2"],["name","binary","size","16",3,"ngClass"],[1,"ml-1","font-bold","text-pirmary"],[1,"azt-info-homework","p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],["name","layout-grid","size","16",3,"ngClass"],[1,"ml-1","font-medium"],["class","mt-2",4,"ngIf"],[1,"flex","flex-col","sm:flex-row"],["class","time-create mr-10 mt-2",4,"ngIf"],[1,"time-deadline","mt-2"],["name","calendar-off","size","16",3,"ngClass"],["class","ml-1 font-medium",4,"ngIf"],[1,"azt-content-homework"],[3,"content"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 lg:col-span-3",4,"ngFor","ngForOf"],[1,"p-3"],[4,"ngIf","ngIfElse"],[3,"previewFileEmit","dataAnswerHistory","dataHomeworkObj"],["name","user","size","16",3,"ngClass"],[1,"time-create","mr-10","mt-2"],["name","calendar","size","16",3,"ngClass"],[1,"col-span-12","lg:col-span-3"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","zoom-in"],["azt-track-service","submit-homework-JKHK228AaC",1,"flex","w-full","items-center",3,"click"],[1,"w-12","h-12","image-fit","lg:mr-1"],["class","rounded-md",3,"src",4,"ngIf"],[1,"ml-2","mt-0",2,"max-width","80%"],[1,"font-medium","truncate",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"rounded-md",3,"src"],[1,"w-full","mt-3","xl:mt-0","flex-1"],[1,"text-center","mt-5"],["azt-track-service","submit-homework-SVOZH1hPhT","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],["azt-track-service","submit-homework-srzM6zkJC9X","class","btn w-24 btn-danger",3,"disabled","click",4,"ngIf"],["class","row ml-0 mr-0",4,"ngIf"],["class","text-center mt-4 mb-4",4,"ngIf"],["class","grid grid-cols-10 gap-5",4,"ngIf"],[1,"row","ml-0","mr-0"],[1,"col-12"],[1,"alert","alert-danger","text-center",2,"margin-bottom","1.25rem"],[1,"text-center","mt-4","mb-4"],[1,"text-md","font-medium","text-success"],[1,"grid","grid-cols-10","gap-5"],["class","col-span-5 md:col-span-2 relative cursor-pointer",4,"ngFor","ngForOf"],[1,"col-span-5","md:col-span-2","relative","cursor-pointer"],["azt-track-service","submit-homework-U3JvmWJWyL","_target","blank",1,"image-fit","h-32",3,"click"],["class","preview-video rounded-md relative overflow-hidden",4,"ngIf","ngIfElse"],[1,"flex","items-center","rounded-md","border","border-slate-200","dark:border-darkmode-400","overflow-hidden",2,"border-top-left-radius","0","border-top-right-radius","0"],["azt-track-service","submit-homework-oCv304vr_j",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["name","chevron-left","size","20"],["type","text","type","number","min","1",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"keyup.enter","change","id","max","value","placeholder"],["azt-track-service","submit-homework-sWozCmSRRn",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["name","chevron-right","size","20"],["azt-track-service","submit-homework-OKXWiY1X2a","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],[1,"preview-video","rounded-md","relative","overflow-hidden"],["preload","metadata",1,"rounded-md","border","border-slate-200","dark:border-darkmode-400",2,"height","8rem","width","100%","object-fit","cover","border-bottom-left-radius","0","border-bottom-right-radius","0"],["type","video/mp4",3,"src"],[1,"azt-fill"],[1,"azt-fill-icon"],["name","video","size","24"],["alt","Azota-Image-Loading",1,"border","border-slate-200","dark:border-darkmode-400","rounded-md",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","object-fit","contain",3,"src"],["azt-track-service","submit-homework-OKXWiY1X2a",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["name","x","size","16"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative",2,"margin-top","80px"],[1,"btn","btn-sm","btn-transparent",3,"click"],["name","upload","size","16",3,"ngClass"],[1,"text-primary","mr-1"],[1,"px-4","pb-4","mt-1","flex","items-center","justify-center","relative"],[1,"block","text-center","text-slate-600","dark:text-slate-500"],["class","row ml-0 mr-0",4,"ngIf","ngIfElse"],["class","grid grid-cols-10 gap-5 pl-4 pr-5",4,"ngIf"],[1,"grid","grid-cols-10","gap-5","pl-4","pr-5"],["azt-track-service","submit-homework-MxLAiMtc7R","_target","blank",1,"image-fit","h-32",3,"click"],["disabled","",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none"],["type","text","type","number","min","1","disabled","",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"id","max","value","readonly","placeholder"],["name","chevron-right","size","16"],[1,"rounded-md","border-bottom-0",3,"src"],["alt","Azota-Image-Loading",1,"rounded-md","w-fit",2,"border-bottom-left-radius","0","border-bottom-right-radius","0",3,"src"],[1,"alert","alert-danger","text-center","mt-2","ml-5","mr-5",2,"margin-bottom","1.25rem"],["azt-track-service","submit-homework-SVOZH1hPhT",1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["azt-track-service","submit-homework-srzM6zkJC9X",1,"btn","w-24","btn-danger",3,"click","disabled"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","dark:border-darkmode-400","rounded-md","pt-4"],[1,"flex"],[1,"text-md","ml-3","font-medium","text-dark"],["class","grid grid-cols-10 gap-5 pl-4 pr-5 mt-3",4,"ngIf"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf"],[3,"ngIf"],[1,"grid","grid-cols-10","gap-5","pl-4","pr-5","mt-3"],["azt-track-service","submit-homework-r1g0ks59mJK","_target","blank",1,"image-fit","h-32","border","border-slate-200","dark:border-darkmode-400","rounded-md",2,"border-bottom","0","border-bottom-left-radius","0","border-bottom-right-radius","0",3,"click"],["type","text","type","number","min","1","disabled","",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"id","max","value","placeholder"],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[1,"flex","mt-3"],["azt-track-service","submit-homework-wmQuG3uTIJb",2,"color","rgba(0, 167, 208, 1)","cursor","pointer",3,"click"],[1,"grid","grid-cols-4","gap-3","mt-3","auto-cols-auto",2,"margin","16px !important"],[1,"col-span-4","sm:col-span-1","md:col-span-1","relative","text-center","border-2","border-dashed","dark:border-darkmode-400","p-8","content-homework"],["class","mb-0",4,"ngIf"],[1,"col-span-4","sm:col-span-3","md:col-start-2","md:col-end-4","relative","border-2","border-dashed","dark:border-darkmode-400","p-3"],[1,"text-md","ml-3","font-medium","text-dark","title"],[1,"mb-0"],[3,"mark"],["class","content-homework pt-3 text-writing",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-bold",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-beautiful",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-italy",3,"innerHTML",4,"ngIf"],[1,"content-homework","pt-3","text-writing",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-bold",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-beautiful",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-italy",3,"innerHTML"],["id","azt-view-comment",1,"pt-3",3,"innerHTML"]],template:function(i,o){1&i&&(t.j41(0,"student-layout",14)(1,"div",15),t.DNE(2,Pt,1,1,"ng-container",16)(3,Lt,1,1,"ng-container",16)(4,zt,1,1,"ng-container",16),t.k0s()(),t.DNE(5,Et,7,5,"ng-template",null,0,t.C5r)(7,Nt,6,4,"ng-template",null,1,t.C5r)(9,Vt,12,9,"ng-template",null,2,t.C5r)(11,qt,31,22,"ng-template",null,3,t.C5r)(13,ke,7,4,"ng-template",null,4,t.C5r)(15,De,12,12,"ng-template",null,5,t.C5r)),2&i&&(t.Y8G("headerBackToLink",o.backToLink),t.R7$(2),t.Y8G("ngIf",o.statusObj.errorMessage),t.R7$(),t.Y8G("ngIf","chooseStudent"==o.currentViewType&&(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.hashId)),t.R7$(),t.Y8G("ngIf","viewHomework"==o.currentViewType&&(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.hashId)))},dependencies:[p.YU,p.Sq,p.bT,p.T3,Z.oV,W.D,wt.d,kt.R,vt.x,jt.l,Ct.m,yt.j,I.WGl,Dt,f.wp,f.nf,f._y,f.JI,f.Vs,f.bH,f.Qu,f.hx],styles:['@font-face{font-family:font_chu_dep;src:url(https://239114911.e.cdneverest.net/cdnazota/azt-assets/core-mod-assets/fonts/HP0015HB.ttf)}@font-face{font-family:font_chu_in;src:url(https://239114911.e.cdneverest.net/cdnazota/azt-assets/core-mod-assets/fonts/Roboto-Thin.ttf)}@font-face{font-family:font_chu_in_nghieng;src:url(https://239114911.e.cdneverest.net/cdnazota/azt-assets/core-mod-assets/fonts/MyriadPro-It.otf)}@font-face{font-family:font_chu_in_dam;src:url(https://239114911.e.cdneverest.net/cdnazota/azt-assets/core-mod-assets/fonts/MyriadPro-BoldIt.otf)}.text-writing[_ngcontent-%COMP%]{font-family:font_chu_in!important;font-weight:700}.text-writing-beautiful[_ngcontent-%COMP%]{font-family:font_chu_dep!important}.text-writing-italy[_ngcontent-%COMP%]{font-family:font_chu_in_nghieng!important}.text-writing-bold[_ngcontent-%COMP%]{font-family:font_chu_in_dam!important}.content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px}.title[_ngcontent-%COMP%]{position:absolute;top:-11px;background:#fff}.progress-container[_ngcontent-%COMP%]{position:relative;display:block;background:#eee;height:20px;border-radius:6px;overflow:hidden}.progress-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;height:100%;background:#1e40af}progress[_ngcontent-%COMP%]{accent-color:#1e40af}[_ngcontent-%COMP%]::-webkit-progress-value{background-color:#1e40af}[_ngcontent-%COMP%]::-moz-progress-bar{background-color:#1e40af}']}),s})();var tt=l(55465);let et=(()=>{var e;class s extends h.H{getData(i,o){this.initStatusObj(),o?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,o).subscribe(r=>{1==r.success?(this.switchViewHomework(r),this.successStatusObj()):this.errorStatusObj(r.message??"",!0)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,i).subscribe(r=>{1==r.success?(this.switchViewHomework(r),this.successStatusObj()):this.errorStatusObj(r.message??"",!0)})}switchViewHomework(i){if(i){this.zipDataService.convertSubmittedAnswersHistoryObj(i.data?.answerObj);let o=i.data,r=this.castObj(o?.answerObj);if(null!=r){let m=this.commonService.myParseJson(r?.result??"");this.commonService.myNavigationWithQueryString(this.historyId?m&&m?.urlDataMark?`/homework/view-homework-new/${r.id}/${this.homeworkHashId}/${this.historyId}`:`/homework/view-homework/${r.id}/${this.homeworkHashId}/${this.historyId}`:m&&m?.urlDataMark?`/homework/view-homework-new/${r.id}/${this.homeworkHashId}`:`/homework/view-homework/${r.id}/${this.homeworkHashId}`,`?backto=${encodeURIComponent(this.backToLink)}`)}}}ngOnInit(){this.classliveUrl=this.envService.getEnvValue("classliveUrl")??"";let i=this.commonService.getMyParam(this.activeRoute,"id")??"";const o=parseInt(i,10);if(this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.commonService.getMyParam(this.activeRoute,"history_id")){let r=this.commonService.getMyParam(this.activeRoute,"history_id")??"";this.historyId=parseInt(r,10),this.getData(o,this.historyId)}else this.getData(o);this.commonService.translateMetaData({title:"lang_cms_student_view_exercise_title",description:"lang_cms_student_view_exercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(i,o,r,m,y){super(),this.activeRoute=i,this.frontAnswerService=o,this.frontAnswerHistoryService=r,this.zipDataService=m,this.envService=y,this.backToLink="",this.homeworkHashId="",this.historyId=0,this.classliveUrl=""}}return(e=s).\u0275fac=function(i){return new(i||e)(t.rXU(C.nX),t.rXU(F.L5),t.rXU(F.Ze),t.rXU(E.j),t.rXU(tt.t))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-switch-view-homework"]],features:[t.Vt3],decls:0,vars:0,template:function(i,o){},encapsulation:2}),s})();var nt=l(58112),Pe=l(68323),Le=l(58588);const ze=e=>({height:e});function Ae(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"div",22)(2,"azt-mark-note",23,0),t.bIt("handleBackLink",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.goBack())}),t.k0s()(),t.bVm()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(5,ze,n.sizeMarkEditor.height+"px")),t.R7$(),t.Y8G("dataMarkNote",n.jsonData)("modeView","student")("showBackLink",!0)("showCopyLinkTeacher",!0)}}function Ee(e,s){if(1&e&&(t.j41(0,"div",24)(1,"div",25),t.nrm(2,"azt-check-mark",26),t.k0s()()),2&e){const n=t.XpG();t.R7$(2),t.Y8G("mark",null==n.result||null==n.result.answerObj?null:n.result.answerObj.point)}}let ot=(()=>{var e;class s extends h.H{getSizeMarkEditor(i){this.sizeMarkEditor=i}goBack(){""!=this.backToLink&&null!=this.backToLink?this.commonService.myNavigationBySpecialQueryString(this.backToLink):this.commonService.myNavigation("/bai-tap/"+this.homeworkHashId)}fillData(i){if(i){if(this.zipDataService.convertSubmittedAnswersHistoryObj(i.data?.answerObj),this.result=i.data,this.files=this.commonService.myParseJson(i.data?.answerObj?.files??"")??[],null!==this.files)for(let w=0;w<this.files.length;w++)this.files&&(this.files[w].url=this.sAztCommonCdnService.getMyCdn(this.files[w].url??""),this.files[w].thumb=this.sAztCommonCdnService.getMyCdn(this.files[w].thumb??""));let o=this.castObj(this.result?.answerObj),r=this.result?.studentObj,m=this.result?.classroomObj,y=this.result?.homeworkObj?{...this.result.homeworkObj,permissionObj:{}}:void 0,O=this.commonService.myParseJson(o?.result??""),H=this.castJsonToObj(this.result?.answerObj?.resultNote??"");this.commentExercise=H?.Note??"",this.jsonData.cmd="initMNote",this.jsonData.mode="edit",this.jsonData.answer_obj=o,this.jsonData.student_obj=r,this.jsonData.classroom_obj=m,this.jsonData.homework_obj=y,O&&O.hasOwnProperty("hideMark")&&(this.jsonData.hideMark=O.hideMark),this.dataMarkNote=this.jsonData}}getData(i,o){this.initStatusObj(),this.errorMessage="",o?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,o).subscribe(r=>{1==r.success?(this.fillData(r),this.successStatusObj()):(this.errorStatusObj(r.message??"",!0),this.errorMessage=r?.message)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,i).subscribe(r=>{1==r.success?(this.fillData(r),this.successStatusObj()):(this.errorStatusObj(r.message??"",!0),this.errorMessage=r.message)})}copyLinkToClipboard(){const i=this.getMyParam(this.activeRoute,"id"),o=this.getMyParam(this.activeRoute,"studentId");return`${this.commonService.getCurrentDomainWithLanguage()}/admin/homework/switch-mark-exercise/${i}/${this.homeworkHashId}/${o??0}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnInit(){super.ngOnInit(),this.commonService.compareDeviceScreen(768)&&(document.body.style.overflowY="hidden");let o=this.commonService.getMyParam(this.activeRoute,"id")??"";const r=parseInt(o,10);if(this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.commonService.getMyParam(this.activeRoute,"history_id")){let m=this.commonService.getMyParam(this.activeRoute,"history_id")??"";const y=parseInt(m,10);this.getData(r,y)}else this.getData(r);this.commonService.translateMetaData({title:"lang_cms_student_view_exercise_title",description:"lang_cms_student_view_exercise_description",image:"lang_cms_test_image"})}ngOnDestroy(){document.body.style.overflowY="auto"}constructor(i,o,r,m,y){super(),this.activeRoute=i,this.frontAnswerService=o,this.frontAnswerHistoryService=r,this.sAztCommonCdnService=m,this.zipDataService=y,this.homeworkHashId="",this.isMarked=!1,this.jsonData={},this.backToLink="",this.dataMarkNote={},this.files=[],this.sizeMarkEditor={width:200,height:800},this.commentExercise="",this.handleIframe=O=>{if("MNoteLoadComplete"==O.data){const H=document.getElementById("mNote"),w=H?H.contentWindow:null;if(null!==w){let v=this.castObj(this.result?.answerObj);if(null!=v){let u=this.commonService.willDeleteParseJson(v?.result??"");if(null!=u){for(let d=0;d<u.pages.length;d++)u.pages[d].backgroundImage&&(u.pages[d].backgroundImage=this.sAztCommonCdnService.getMyCdn(u.pages[d].backgroundImage)),u.pages[d].draw&&(u.pages[d].draw=this.sAztCommonCdnService.getMyCdn(u.pages[d].draw));u=JSON.stringify(u),v.result=u}let c=this.commonService.willDeleteParseJson(v?.files??"");if(null!=c){for(let d=0;d<c.length;d++)c[d].url&&(c[d].url=this.sAztCommonCdnService.getMyCdn(c[d].url)),c[d].thumb&&(c[d].thumb=this.sAztCommonCdnService.getMyCdn(c[d].thumb));c=JSON.stringify(c),v.files=c}}let j=this.result?.studentObj,k=this.result?.classroomObj,M=this.result?.homeworkObj,S=this.commonService.willDeleteParseJson(v?.result??""),x=!(!S||!S.hasOwnProperty("hideMark"))&&S.hideMark;if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let u=0;u<(this.jsonData.pages?.length??0);u++)this.jsonData.pages?.[u].hasOwnProperty("backgroundImage")&&(this.jsonData.pages[u].backgroundImage=this.sAztCommonCdnService.getMyCdn(this.jsonData.pages[u].backgroundImage??"")),this.jsonData.pages?.[u].hasOwnProperty("draw")&&(this.jsonData.pages[u].draw=this.sAztCommonCdnService.getMyCdn(this.jsonData.pages[u].draw??""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=v,this.jsonData.student_obj=j,this.jsonData.classroom_obj=k,this.jsonData.homework_obj=M,this.jsonData.hideMark=x,w.postMessage(this.jsonData,"*");else{let u=[];this.files.forEach(c=>{u.push({backgroundImage:c.url})}),w.postMessage({cmd:"initMNote",pages:u,answer_obj:v,student_obj:j,classroom_obj:k,homework_obj:M,mode:"view",hideMark:x},"*")}}}}}}return(e=s).\u0275fac=function(i){return new(i||e)(t.rXU(C.nX),t.rXU(F.L5),t.rXU(F.Ze),t.rXU(nt.c),t.rXU(E.j))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-view-homework-new"]],features:[t.Vt3],decls:30,vars:21,consts:[["aztMarkNote",""],[1,"content",2,"padding","0 12px"],[1,"grid","grid-cols-12","gap-3","mt-3"],[4,"ngIf"],[1,"col-span-12","md:col-span-4","mark-general"],[1,"box"],[1,"p-2"],[1,"box-head"],[1,"font-medium"],[1,"flex","items-center","mt-2"],[1,"info-student","flex","items-center"],[3,"nameCreateAvatar","size"],[1,"info","ml-2"],[1,"text-md"],[1,"text-xs"],["class","score ml-auto flex items-center",4,"ngIf"],[1,"comment","mt-3"],[1,"font-medium","text-md"],[1,"comment-editor","mt-2"],[3,"ngModelChange","apiKey","ngModel","disabled","init"],[1,"mt-3","block","md:hidden"],["azt-track-service","view-homework-new-Ak95y0gQ__",1,"btn","btn-secondary","w-full",3,"click"],[1,"col-span-12","md:col-span-8","mark-editor",3,"ngStyle"],[3,"handleBackLink","dataMarkNote","modeView","showBackLink","showCopyLinkTeacher"],[1,"score","ml-auto","flex","items-center"],[1,"border","border-slate-200","dark:border-darkmode-400","rounded-md","p-2","text-danger","text-center","font-medium",2,"width","60px"],[3,"mark"]],template:function(i,o){1&i&&(t.j41(0,"div",1)(1,"div",2),t.DNE(2,Ae,4,7,"ng-container",3),t.j41(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"h3",8),t.EFF(8),t.k0s(),t.j41(9,"div",9)(10,"div",10),t.nrm(11,"azt-create-avatar",11),t.j41(12,"div",12)(13,"p",13),t.EFF(14),t.k0s(),t.j41(15,"p",14),t.EFF(16),t.k0s()()(),t.DNE(17,Ee,3,1,"div",15),t.k0s()(),t.j41(18,"div",16)(19,"p",17),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s(),t.j41(22,"div",18)(23,"editor",19),t.nI1(24,"getTinyMceKey"),t.nI1(25,"getTinyMceConfig"),t.mxI("ngModelChange",function(m){return t.DH7(o.commentExercise,m)||(o.commentExercise=m),m}),t.k0s()()(),t.j41(26,"div",20)(27,"button",21),t.bIt("click",function(){return o.goBack()}),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()()()()()()()),2&i&&(t.R7$(2),t.Y8G("ngIf",o.jsonData.answer_obj),t.R7$(6),t.SpI(" ",null==o.result||null==o.result.homeworkObj?null:o.result.homeworkObj.name," "),t.R7$(3),t.Y8G("nameCreateAvatar",null==o.result||null==o.result.studentObj?null:o.result.studentObj.fullName)("size",35),t.R7$(3),t.SpI(" ",null==o.result||null==o.result.studentObj?null:o.result.studentObj.fullName," "),t.R7$(2),t.SpI(" ",null==o.result||null==o.result.classroomObj?null:o.result.classroomObj.name," "),t.R7$(),t.Y8G("ngIf",!o.dataMarkNote.hideMark),t.R7$(3),t.SpI(" ",t.bMT(21,13,"lang_auto_nhan_xet")," "),t.R7$(3),t.FS9("apiKey",t.bMT(24,15,"")),t.R50("ngModel",o.commentExercise),t.Y8G("disabled",!0)("init",t.bMT(25,17,"student_homework")),t.R7$(5),t.SpI(" ",t.bMT(29,19,"lang_auto_quay_lai")," "))},dependencies:[p.bT,p.B3,$.xn,a.BC,a.vS,Pe.p,W.D,Le.i,f.wp,f.Hw,f.yc],styles:[".btn-score[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.choose-score[_ngcontent-%COMP%]{max-width:80%;margin-left:auto;margin-right:auto}.toolbar-list[_ngcontent-%COMP%]{width:100%;padding:5px;position:absolute;top:0;left:0;display:flex;align-items:center;border-bottom-left-radius:0;border-bottom-right-radius:0}.btn-icon[_ngcontent-%COMP%]{padding:10px;min-width:auto;line-height:initial}.toolbar-item[_ngcontent-%COMP%]{margin:0 3px}.toolbar-item[_ngcontent-%COMP%]:first-child{margin-left:0}.btn-icon-child[_ngcontent-%COMP%]{padding:5px}.azt-toolbar-active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--color-slate-200)/var(--tw-bg-opacity))}  .dark .azt-toolbar-active{--tw-bg-opacity: 1;background-color:rgb(var(--color-darkmode-200)/var(--tw-bg-opacity))}@media screen and (max-width: 768px){.choose-score[_ngcontent-%COMP%]{max-width:80%}}"]}),s})();var Ne=l(64160),Ve=l(39471),Q=l(17818),Ye=l(18718);const Xe=()=>({"mr-1":!0});function Be(e,s){if(1&e&&(t.j41(0,"h4",14),t.EFF(1),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Lme("",null==n.result||null==n.result.studentObj?null:n.result.studentObj.fullName,", ",null==n.result||null==n.result.classroomObj?null:n.result.classroomObj.name,"")}}function Ue(e,s){if(1&e&&t.nrm(0,"azt-loading-effect",15),2&e){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Je(e,s){if(1&e&&(t.j41(0,"div",19)(1,"div",20),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e){const n=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,1,n.errorMessage))}}function We(e,s){if(1&e&&(t.j41(0,"div",21),t.nrm(1,"iframe",22),t.nI1(2,"safe"),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("src",t.bMT(2,1,n.whiteListMNoteIframeSrc),t.f$h)}}function Qe(e,s){if(1&e&&(t.j41(0,"div")(1,"div",16),t.DNE(2,Je,4,3,"div",17),t.k0s()(),t.DNE(3,We,3,3,"div",18)),2&e){const n=t.XpG();t.R7$(2),t.Y8G("ngIf",""!=n.errorMessage),t.R7$(),t.Y8G("ngIf",""==n.errorMessage)}}let it=(()=>{var e;class s extends h.H{goBack(){this.commonService.myNavigation(""!=this.backToLink&&null!=this.backToLink?this.backToLink:"/bai-tap/"+this.homeworkHashId)}fillData(i){if(i){if(this.zipDataService.convertSubmittedAnswersHistoryObj(i.data?.answerObj),this.result=i.data,this.files=this.commonService.myParseJson(i.data?.answerObj?.files??"")??[],null!==this.files)for(let r=0;r<this.files?.length;r++)this.files&&(this.files[r].url=this.sAztCommonCdnService.getMyCdn(this.files[r].url??""),this.files[r].thumb=this.sAztCommonCdnService.getMyCdn(this.files[r].thumb??""));if(i.data?.answerObj?.confirmedAt){this.isMarked=!0;var o=this.commonService.myParseJson(this.sAztCommonCdnService.getMyCdn(i?.data?.answerObj?.result??""));o&&(this.jsonData=o,null===this.jsonData&&(this.isMarked=!1))}}}getData(i,o){this.initStatusObj(),this.errorMessage="",o?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,o).subscribe(r=>{1==r.success?(this.fillData(r),this.successStatusObj()):(this.errorStatusObj(r.message??"",!0),this.errorMessage=r?.message)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,i).subscribe(r=>{1==r.success?(this.fillData(r),this.successStatusObj()):(this.errorStatusObj(r.message??"",!0),this.errorMessage=r.message)})}copyLinkToClipboard(){const i=this.getMyParam(this.activeRoute,"id"),o=this.getMyParam(this.activeRoute,"studentId");return`${this.commonService.getCurrentDomainWithLanguage()}/admin/homework/switch-mark-exercise/${i}/${this.homeworkHashId}/${o??0}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnInit(){super.ngOnInit(),this.whiteListMNoteIframeSrc=this.envService.getEnvValue("classliveUrl")??"";let i=this.commonService.getMyParam(this.activeRoute,"id")??"";const o=parseInt(i,10);if(this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.commonService.getMyParam(this.activeRoute,"history_id")){let r=this.commonService.getMyParam(this.activeRoute,"history_id")??"";const m=parseInt(r,10);this.getData(o,m)}else this.getData(o);this.commonService.translateMetaData({title:"lang_cms_student_view_exercise_title",description:"lang_cms_student_view_exercise_description",image:"lang_cms_test_image"})}constructor(i,o,r,m,y,O){super(),this.activeRoute=i,this.frontAnswerService=o,this.frontAnswerHistoryService=r,this.sAztCommonCdnService=m,this.zipDataService=y,this.envService=O,this.homeworkHashId="",this.isMarked=!1,this.whiteListMNoteIframeSrc="",this.backToLink="",this.files=[],this.handleIframe=H=>{if("MNoteLoadComplete"==H.data){const w=document.getElementById("mNote"),v=w?w.contentWindow:null;if(null!==v){let j=this.result?.hasOwnProperty("answerObj")?this.castObj(this.result.answerObj)??void 0:void 0;if(this.result?.hasOwnProperty("answerObj")){let c=this.commonService.willDeleteParseJson(j?.result??"");if(null!=c){for(let g=0;g<c.pages?.length;g++)c.pages[g].backgroundImage&&(c.pages[g].backgroundImage=this.sAztCommonCdnService.getMyCdn(c.pages[g].backgroundImage)),c.pages[g].draw&&(c.pages[g].draw=this.sAztCommonCdnService.getMyCdn(c.pages[g].draw));c=JSON.stringify(c),null!=j&&(j.result=c)}let d=this.commonService.willDeleteParseJson(j?.files??"");if(null!=d){for(let g=0;g<d?.length;g++)d[g].url&&(d[g].url=this.sAztCommonCdnService.getMyCdn(d[g].url)),d[g].thumb&&(d[g].thumb=this.sAztCommonCdnService.getMyCdn(d[g].thumb));d=JSON.stringify(d),null!=j&&(j.files=d)}}let k=this.result?.hasOwnProperty("studentObj")?this.result.studentObj:void 0,M=this.result?.hasOwnProperty("classroomObj")?this.result.classroomObj:void 0,S=this.result?.hasOwnProperty("homeworkObj")?this.result.homeworkObj:void 0,x=this.commonService.willDeleteParseJson(j?.result??""),u=!(!x||!x.hasOwnProperty("hideMark"))&&x.hideMark;if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let c=0;c<(this.jsonData.pages?.length??0);c++)this.jsonData.pages?.[c].hasOwnProperty("backgroundImage")&&(this.jsonData.pages[c].backgroundImage=this.sAztCommonCdnService.getMyCdn(this.jsonData.pages[c].backgroundImage??"")),this.jsonData.pages?.[c].hasOwnProperty("draw")&&(this.jsonData.pages[c].draw=this.sAztCommonCdnService.getMyCdn(this.jsonData.pages[c].draw??""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=j,this.jsonData.student_obj=k,this.jsonData.classroom_obj=M,this.jsonData.homework_obj=S,this.jsonData.hideMark=u,v.postMessage(this.jsonData,"*");else{let c=[];this.files.forEach(d=>{c.push({backgroundImage:d.url})}),v.postMessage({cmd:"initMNote",pages:c,answer_obj:j,student_obj:k,classroom_obj:M,homework_obj:S,mode:"view",hideMark:u},"*")}}}}}ngOnDestroy(){window.removeEventListener("message",this.handleIframe),super.ngOnDestroy()}}return(e=s).\u0275fac=function(i){return new(i||e)(t.rXU(C.nX),t.rXU(F.L5),t.rXU(F.Ze),t.rXU(nt.c),t.rXU(E.j),t.rXU(tt.t))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-view-exercise"]],features:[t.Vt3],decls:19,vars:13,consts:[["menu","matMenu"],["doneLoading",""],["id","markContainer",1,"maxW1000","pt-3"],[1,"flex","justify-between","titleRow"],[1,"col","center-row"],[1,"btn","btn-sm","btn-outline-secondary","border-none","border-0",3,"click","matTooltip"],["name","chevron-left","size","24",3,"ngClass"],[1,"col","center-row",2,"justify-content","center"],["class","studentInfo","style","padding-right: 10px",4,"ngIf"],[1,"col","center-row",2,"justify-content","flex-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["name","ellipsis-vertical","size","24"],["azt-track-service","view-homework-Q8Fmec__8U","mat-menu-item","",3,"click","cdkCopyToClipboard"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"studentInfo",2,"padding-right","10px"],[3,"currentStatusObj"],[1,"flex","justify-center","py-5"],["class","w-full text-center",4,"ngIf"],["class","card-box listPhotos","style","overflow: hidden",4,"ngIf"],[1,"w-full","text-center"],[1,"alert","text-danger"],[1,"card-box","listPhotos",2,"overflow","hidden"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"]],template:function(i,o){if(1&i){const r=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5),t.nI1(4,"mytranslate"),t.bIt("click",function(){return t.eBV(r),t.Njj(o.goBack())}),t.nrm(5,"lucide-icon",6),t.k0s()(),t.j41(6,"div",7),t.DNE(7,Be,2,2,"h4",8),t.k0s(),t.j41(8,"div",9)(9,"button",10),t.nrm(10,"lucide-icon",11),t.k0s(),t.j41(11,"mat-menu",null,0)(13,"button",12),t.bIt("click",function(){return t.eBV(r),t.Njj(o.showCopySuccess())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()(),t.DNE(16,Ue,1,1,"azt-loading-effect",13)(17,Qe,4,2,"ng-template",null,1,t.C5r),t.k0s()}if(2&i){const r=t.sdS(12),m=t.sdS(18);t.R7$(3),t.FS9("matTooltip",t.bMT(4,8,"lang_auto_quay_lai")),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Xe)),t.R7$(2),t.Y8G("ngIf",null==o.result?null:o.result.answerObj),t.R7$(2),t.Y8G("matMenuTriggerFor",r),t.R7$(4),t.Y8G("cdkCopyToClipboard",o.copyLinkToClipboard()),t.R7$(),t.JRh(t.bMT(15,10,"lang_homework_homework_frontend_utils_copy_send_teacher")),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",m)}},dependencies:[p.YU,p.bT,Ne.dF,Ve.iY,Q.kk,Q.fb,Q.Cp,Z.oV,Ye.K,I.WGl,f.wp,f.JI],styles:["#markContainer[_ngcontent-%COMP%]{position:relative}.center-row[_ngcontent-%COMP%]{display:flex;align-items:center}.titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;margin:0;color:#fff}.titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{border-width:0px;background:inherit;background-color:#f2f2f2;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e5e5e5;border-left:0px;border-right:0px;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width: 1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}"]}),s})();const Ke=[{path:"",component:G,canActivate:[T.L],children:[{path:":hash_id",component:$e},{path:"view-homework/:id/:hash_id",component:it},{path:"view-homework/:id/:hash_id/:history_id",component:it},{path:"switch-view-homework/:id/:hash_id",component:et},{path:"switch-view-homework/:id/:hash_id/:history_id",component:et},{path:"view-homework-new/:id/:hash_id",component:ot},{path:"view-homework-new/:id/:hash_id/:history_id",component:ot}]}];let Ze=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[C.iI.forChild(Ke),C.iI,_.XE]}),s})(),qe=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({providers:[{provide:$.vn,useValue:J.c.azt_tiny_mce_script_src}],imports:[Y.Id,C.iI,p.MD,L.s,$.sv,a.YN,a.X1,R.hM,z.L,N.Lk,Ze,V.xv,U.Q,X.b,I.flO.pick(I.Ptg),B.n]}),s})()},78745:(rt,P,l)=>{l.d(P,{d:()=>J});var p=l(59640),a=l(48891),R=l(54460),C=l(17818),$=l(47712),I=l(15343),N=l(52509),V=l(64160),Y=l(15437),L=l(76975);const z=()=>({"mr-2":!0});function X(_,T){if(1&_){const b=a.RV6();a.qex(0),a.j41(1,"div",6)(2,"p",7),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s(),a.j41(5,"p",7),a.EFF(6),a.nI1(7,"mytranslate"),a.k0s(),a.j41(8,"div",8),a.nrm(9,"input",9),a.j41(10,"button",10),a.bIt("click",function(){a.eBV(b);const t=a.XpG();return a.Njj(t.showCopySuccess())}),a.nrm(11,"lucide-icon",11),a.EFF(12),a.nI1(13,"mytranslate"),a.k0s()()(),a.bVm()}if(2&_){const b=a.XpG();a.R7$(3),a.JRh(a.bMT(4,6,"lang_auto_hoac")),a.R7$(3),a.JRh(a.bMT(7,8,"lang_classroom_QR_join_link_copy")),a.R7$(3),a.Y8G("value",b.linkUrl),a.R7$(),a.Y8G("cdkCopyToClipboard",b.copyLinkToClipboard(b.linkUrl)),a.R7$(),a.Y8G("ngClass",a.lJ4(12,z)),a.R7$(),a.SpI(" ",a.bMT(13,10,"lang_auto_sao_chep")," ")}}let B=(()=>{var _;class T extends p.H{showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}copyLinkToClipboard(h){return h}onChangeURL(h){this.qrCodeDownloadLink=h}downloadQrCode(){try{let h=""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg";this.commonService.blobToBytes(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity).then(t=>{var G=btoa(String.fromCharCode(...t));console.log(t),this.mobileWebviewService.sendDataToApp("DOWNLOAD_QR_CODE",{base64:G,fileName:h})}).catch(t=>console.error("L?i:",t))}catch{console.log("Download QrCode error")}}constructor(h){super(),this.mobileWebviewService=h,this.linkUrl="",this.fileName="",this.showLink=!1,this.qrCodeDownloadLink=""}}return(_=T).\u0275fac=function(h){return new(h||_)(a.rXU(N.f))},_.\u0275cmp=a.VBU({type:_,selectors:[["azt-show-link"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},features:[a.Vt3],decls:8,vars:11,consts:[["azt-track-service","download-qr-code-9t-9Wiu2xv",1,"box","p-3","text-center"],[2,"background","#fff","padding","5px"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | coreModConvertCdnLinkOfGitHub",3,"qrCodeURL","allowEmptyString","qrdata","elementType","width","errorCorrectionLevel"],["azt-track-service","download-qr-code-RqVBz6g1z7",1,"btn","btn-outline-primary","btn-transparent","btn-sm","mx-auto","mt-2",3,"click"],["name","download","size","16",3,"ngClass"],[4,"ngIf"],[1,"text-center"],[1,"h5","mt-2","font-medium"],[1,"azt-copy","relative","mt-2"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","download-qr-code-yW-aFu0tO",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click","cdkCopyToClipboard"],["name","copy","size","16",3,"ngClass"]],template:function(h,t){1&h&&(a.j41(0,"div",0)(1,"div",1)(2,"qrcode",2),a.bIt("qrCodeURL",function(A){return t.onChangeURL(A)}),a.k0s()(),a.j41(3,"a",3),a.bIt("click",function(){return t.downloadQrCode()}),a.nrm(4,"lucide-icon",4),a.EFF(5),a.nI1(6,"mytranslate"),a.k0s(),a.DNE(7,X,14,13,"ng-container",5),a.k0s()),2&h&&(a.R7$(2),a.Y8G("allowEmptyString",!0)("qrdata",t.linkUrl)("elementType","url")("width",128)("errorCorrectionLevel","M"),a.R7$(2),a.Y8G("ngClass",a.lJ4(10,z)),a.R7$(),a.SpI(" ",a.bMT(6,8,"lang_auto_tai_ve_may")," "),a.R7$(2),a.Y8G("ngIf",t.showLink))},dependencies:[R.YU,R.bT,V.dF,I.WGl,Y.c,L.wp],encapsulation:2}),T})();const U=_=>({"w-80":_});let J=(()=>{var _;class T extends p.H{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1}}return(_=T).\u0275fac=(()=>{let b;return function(t){return(b||(b=a.xGo(_)))(t||_)}})(),_.\u0275cmp=a.VBU({type:_,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},features:[a.Vt3],decls:7,vars:10,consts:[["showQrCode","matMenu"],["azt-track-service","download-qr-code-hiQXy_iTc",1,"btn","btn-outline-primary","btn-transparent","p-1",3,"matMenuTriggerFor","matTooltip"],["name","qr-code","size","24"],["xPosition","before"],[3,"ngClass"],[3,"linkUrl","fileName","showLink"]],template:function(h,t){if(1&h&&(a.j41(0,"button",1),a.nI1(1,"mytranslate"),a.nrm(2,"lucide-icon",2),a.k0s(),a.j41(3,"mat-menu",3,0)(5,"div",4),a.nrm(6,"azt-show-link",5),a.k0s()()),2&h){const G=a.sdS(4);a.FS9("matTooltip",a.bMT(1,6,"lang_auto_quet_hoac_tai_ma_qr_code")),a.Y8G("matMenuTriggerFor",G),a.R7$(5),a.Y8G("ngClass",a.eq3(8,U,t.showLink)),a.R7$(),a.Y8G("linkUrl",t.linkUrl)("fileName",t.fileName)("showLink",t.showLink)}},dependencies:[R.YU,C.kk,C.Cp,$.oV,I.WGl,B,L.wp],encapsulation:2}),T})()}}]);