"use strict";(self.webpackChunkSmobileMod=self.webpackChunkSmobileMod||[]).push([[8646],{74871:(Vt,St,_)=>{_.d(St,{$:()=>_t});var a=_(81519),s=_(34514),e=_(47426),b=_(89163),o=_(99503),i=_(79347),h=_(33887),v=_(9691),n=_(48891),xt=_(46289),gt=_(54460),it=_(64160),nt=_(52811),C=_(15343),z=_(76975);const It=()=>({"mr-2":!0});function et(H,Et){1&H&&(n.j41(0,"h3",4),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&H&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"lang_core_dat_lai_mat_khau")," "))}function dt(H,Et){1&H&&n.nrm(0,"azt-loading-ui",11)}function ut(H,Et){if(1&H){const q=n.RV6();n.j41(0,"div")(1,"div",5),n.EFF(2),n.nI1(3,"mytranslate"),n.j41(4,"span",6),n.EFF(5),n.k0s()(),n.j41(6,"div",5),n.EFF(7),n.nI1(8,"mytranslate"),n.k0s(),n.j41(9,"div",7)(10,"button",8),n.bIt("click",function(){n.eBV(q);const Ct=n.XpG();return n.Njj(Ct.dialogRef.close())}),n.EFF(11),n.nI1(12,"mytranslate"),n.k0s(),n.j41(13,"button",9),n.bIt("click",function(){n.eBV(q);const Ct=n.XpG();return n.Njj(Ct.confirmResetPass())}),n.DNE(14,dt,1,0,"azt-loading-ui",10),n.EFF(15),n.nI1(16,"mytranslate"),n.k0s()()()}if(2&H){const q=n.XpG();n.R7$(2),n.SpI(" ",n.bMT(3,7,"lang_core_ban_co_chac_chan_dat_lai_mat_khau")," "),n.R7$(3),n.JRh(q.data.name),n.R7$(2),n.SpI(" ",n.bMT(8,9,"lang_core_neu_chac_chan_hay_chon_tiep_tuc_de_dat_lai")," "),n.R7$(4),n.JRh(n.bMT(12,11,"lang_cms_common_close_btn")),n.R7$(2),n.Y8G("disabled",q.statusObj.loading),n.R7$(),n.Y8G("ngIf",q.statusObj.loading),n.R7$(),n.SpI(" ",n.bMT(16,13,"lang_powerpoint_frontend_detail_continue")," ")}}function st(H,Et){if(1&H){const q=n.RV6();n.j41(0,"div")(1,"div",12),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.j41(4,"div",13),n.EFF(5),n.nI1(6,"mytranslate"),n.j41(7,"span",6),n.EFF(8),n.k0s()(),n.j41(9,"div",7),n.nrm(10,"input",14),n.j41(11,"button",15),n.bIt("click",function(){n.eBV(q);const Ct=n.XpG();return n.Njj(Ct.showCopySuccess())}),n.nrm(12,"lucide-icon",16),n.EFF(13),n.nI1(14,"mytranslate"),n.k0s()(),n.j41(15,"button",17),n.bIt("click",function(){n.eBV(q);const Ct=n.XpG();return n.Njj(Ct.dialogRef.close())}),n.EFF(16),n.nI1(17,"mytranslate"),n.k0s()()}if(2&H){const q=n.XpG();n.R7$(2),n.SpI(" ",n.bMT(3,9,"lang_auto_dat_lai_mat_khau_thanh_cong")," "),n.R7$(3),n.SpI(" ",n.bMT(6,11,"lang_core_dat_lai_mat_khau_note")," "),n.R7$(3),n.JRh(q.data.name),n.R7$(2),n.Y8G("disabled",!0)("value",q.passwordNew),n.R7$(),n.Y8G("cdkCopyToClipboard",q.copyPassword()),n.R7$(),n.Y8G("ngClass",n.lJ4(17,It)),n.R7$(),n.SpI(" ",n.bMT(14,13,"lang_auto_copy")," "),n.R7$(3),n.JRh(n.bMT(17,15,"lang_homework_export_homework_complete"))}}function ot(H,Et){if(1&H){const q=n.RV6();n.j41(0,"div")(1,"div",18),n.nrm(2,"lucide-icon",19),n.j41(3,"span",20),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()(),n.j41(6,"div",21)(7,"button",22),n.bIt("click",function(){n.eBV(q);const Ct=n.XpG();return n.Njj(Ct.dialogRef.close())}),n.EFF(8),n.nI1(9,"mytranslate"),n.k0s()()()}if(2&H){const q=n.XpG();n.R7$(4),n.SpI(" ",n.bMT(5,2,q.errorMessage)," "),n.R7$(4),n.JRh(n.bMT(9,4,"lang_button_close"))}}let _t=(()=>{var H;class Et extends h._{confirmResetPass(){this.getApiResetPass()}copyPassword(){return this.passwordNew}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}getApiResetPass(){this.errorMessage="",this.initStatusObj(),this.domainUsersManagementService.apiDomainUsersManagementResetDomainUsersPasswordPost({userId:this.data.id}).subscribe(Ct=>{Ct.success||(this.errorMessage=Ct.message),this.passwordNew=Ct.data??"",this.isAccept=!0,this.successStatusObj()})}ngOnInit(){super.ngOnInit()}constructor(at,Ct,Ft){super(Ft,Ct),this.domainUsersManagementService=at,this.dialogRef=Ct,this.data=Ft,this.isAccept=!1,this.passwordNew="",this.errorMessage=""}ngOnDestroy(){super.ngOnDestroy()}}return(H=Et).\u0275fac=function(at){return new(at||H)(n.rXU(xt.Z),n.rXU(b.CP,8),n.rXU(b.Vh,8))},H.\u0275cmp=n.VBU({type:H,selectors:[["azt-reset-password"]],features:[n.Jv_([{provide:a.$O,useClass:o.fb,deps:[e.Ju,s.ij]},{provide:a.vq,useFactory:i.fJ,deps:[v.F]}]),n.Vt3],decls:6,vars:4,consts:[[1,"box","p-4"],[1,"container-fluid","mb-1","overflow-hidden","document-market-list","w-full"],["class","text-md font-medium truncate mr-auto mb-2",4,"ngIf"],[4,"ngIf"],[1,"text-md","font-medium","truncate","mr-auto","mb-2"],[1,"text-slate-500"],[1,"font-medium"],[1,"flex","justify-center","mt-5"],["azt-track-service","reset-password-diaglog-Jkn-zarZu",1,"mr-2","btn","btn-secondary",3,"click"],["azt-track-service","reset-password-diaglog-d5x6c9spAk",1,"btn","btn-primary",3,"click","disabled"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-2"],[1,"text-slate-500","text-success"],[1,"text-slate-500","mt-2"],["type","text",1,"form-control",3,"disabled","value"],["azt-track-service","reset-password-diaglog-1T3L9ZyoV",1,"ml-2","btn","btn-secondary","btn-copy",3,"click","cdkCopyToClipboard"],["name","copy","size","16",3,"ngClass"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","mt-3","w-full",3,"click"],[1,"flex","items-center"],["name","octagon-alert",1,"text-danger"],[1,"font-medium","ml-2"],[1,"text-right","mt-3"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","min-width-100",3,"click"]],template:function(at,Ct){1&at&&(n.j41(0,"div",0)(1,"div",1),n.DNE(2,et,3,3,"h3",2)(3,ut,17,15,"div",3)(4,st,18,18,"div",3)(5,ot,10,6,"div",3),n.k0s()()),2&at&&(n.R7$(2),n.Y8G("ngIf",!Ct.isAccept),n.R7$(),n.Y8G("ngIf",!Ct.isAccept),n.R7$(),n.Y8G("ngIf",Ct.isAccept&&Ct.passwordNew),n.R7$(),n.Y8G("ngIf",Ct.isAccept&&!Ct.passwordNew))},dependencies:[gt.YU,gt.bT,it.dF,nt.R,C.WGl,z.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),Et})()},74128:(Vt,St,_)=>{_.d(St,{J:()=>oe});var a=_(48891),s=_(59640),e=_(73202),b=_(10936),o=_(89163),i=_(51698),h=_(33887),v=_(64198),n=_(93518),xt=_(39712),gt=_(40111),it=_(27691);let nt=(()=>{var E;class pt{constructor(M){this.http=M,this.apiKey="AIzaSyCnVr7hAO9K6J2uIHVnAA3U2bD1gir2_Eo"}getVideoDetails(M){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?id=${M}&key=${this.apiKey}&part=snippet`)}}return(E=pt).\u0275fac=function(M){return new(M||E)(a.KVO(it.Qq))},E.\u0275prov=a.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),pt})();var C=_(54460),z=_(60303),It=_(2915),et=_(13763),dt=_(52811),ut=_(21792),st=_(78705),ot=_(76975);function _t(E,pt){1&E&&(a.j41(0,"div",4)(1,"div",5),a.nrm(2,"azt-loading-ui"),a.k0s()())}function H(E,pt){if(1&E){const S=a.RV6();a.j41(0,"azt-office-embed",8),a.bIt("loadedEvent",function(){a.eBV(S);const w=a.XpG(3);return a.Njj(w.onLoad())}),a.k0s()}if(2&E){const S=a.XpG(3);a.Y8G("cdnLink",S.fileUrl)("classNames","w-full h-full")}}function Et(E,pt){if(1&E){const S=a.RV6();a.j41(0,"pdf-viewer",9),a.bIt("load",function(){a.eBV(S);const w=a.XpG(3);return a.Njj(w.onLoad())}),a.k0s()}if(2&E){const S=a.XpG(3);a.Y8G("src",S.fileUrl)("show-all",!0)}}function q(E,pt){if(1&E){const S=a.RV6();a.j41(0,"azt-video-embed",8),a.bIt("loadedEvent",function(){a.eBV(S);const w=a.XpG(3);return a.Njj(w.onLoad())}),a.k0s()}if(2&E){const S=a.XpG(3);a.Y8G("cdnLink",S.fileUrl)("classNames","w-full h-full mx-auto")}}function at(E,pt){if(1&E&&(a.j41(0,"div"),a.nrm(1,"iframe",10),a.nI1(2,"safe"),a.k0s()),2&E){const S=a.XpG(3);a.R7$(),a.HbH("mx-auto"),a.FS9("height",S.customHeight),a.Y8G("src",a.bMT(2,4,S.fileUrl),a.f$h)}}function Ct(E,pt){if(1&E&&(a.qex(0),a.DNE(1,H,1,2,"azt-office-embed",6)(2,Et,1,2,"pdf-viewer",7)(3,q,1,2,"azt-video-embed",6)(4,at,3,6,"div",3),a.bVm()),2&E){const S=a.XpG(2);a.R7$(),a.Y8G("ngIf",S.fileType===S.shareTypeFile.docx||S.fileType===S.shareTypeFile.powerpoint),a.R7$(),a.Y8G("ngIf",S.fileType===S.shareTypeFile.pdf),a.R7$(),a.Y8G("ngIf",S.fileType===S.shareTypeFile.video),a.R7$(),a.Y8G("ngIf",S.fileType===S.shareTypeFile.google_docs)}}function Ft(E,pt){if(1&E&&(a.j41(0,"div",1),a.DNE(1,_t,3,0,"div",2)(2,Ct,5,4,"ng-container",3),a.k0s()),2&E){const S=a.XpG();a.R7$(),a.Y8G("ngIf",S.statusObj.loading),a.R7$(),a.Y8G("ngIf",!S.statusObj.loading)}}let J=(()=>{var E;class pt extends s.H{onLoad(){this.stopStatusObj()}ngOnInit(){super.ngOnInit(),this.initStatusObj(),setTimeout(()=>{this.stopStatusObj()},this.fileType==e.d.video?0:500)}constructor(){super(),this.customHeight=700,this.shareTypeFile=e.d}}return(E=pt).\u0275fac=function(M){return new(M||E)},E.\u0275cmp=a.VBU({type:E,selectors:[["azt-preview-file"]],inputs:{fileUrl:"fileUrl",fileType:"fileType",customHeight:"customHeight"},features:[a.Vt3],decls:1,vars:1,consts:[["class","preivew-file h-full",4,"ngIf"],[1,"preivew-file","h-full"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center"],[1,"w-16","h-16","text-primary","flex-none","image-fit","text-primary","overflow-hidden","mx-auto","upload-box"],[3,"cdnLink","classNames","loadedEvent",4,"ngIf"],["class","w-full h-full",3,"src","show-all","load",4,"ngIf"],[3,"loadedEvent","cdnLink","classNames"],[1,"w-full","h-full",3,"load","src","show-all"],["width","850","frameborder","0","allowfullscreen","",3,"height","src"]],template:function(M,w){1&M&&a.DNE(0,Ft,3,2,"div",0),2&M&&a.Y8G("ngIf",w.fileUrl)},dependencies:[C.bT,et.c6,dt.R,ut.y,st.L,ot.JI],encapsulation:2}),pt})();var jt=_(63349),Ot=_(15343);const L=(E,pt)=>[E,pt],yt=()=>({"text-success mr-2":!0});function Mt(E,pt){if(1&E){const S=a.RV6();a.j41(0,"div",10)(1,"div",11)(2,"azt-upload-multiple-box",12),a.bIt("uploadComplete",function(w){a.eBV(S);const ht=a.XpG();return a.Njj(ht.handleUploadComplete(w))}),a.j41(3,"div",13)(4,"div",14)(5,"div",15),a.nrm(6,"lucide-icon",16),a.j41(7,"span",17),a.EFF(8),a.nI1(9,"mytranslate"),a.k0s()(),a.j41(10,"div",18),a.EFF(11),a.nI1(12,"mytranslate"),a.j41(13,"a",19),a.bIt("click",function(w){return a.eBV(S),a.Njj(w.stopPropagation())}),a.EFF(14),a.nI1(15,"mytranslate"),a.k0s()()()()()()()}if(2&E){const S=a.XpG();a.R7$(2),a.Y8G("uploadToCdnMenu",S.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",a.l_i(12,L,S.allUploadFileTypes.SYNTHETIC,S.allUploadFileTypes.AZT)),a.R7$(4),a.Y8G("ngClass",a.lJ4(15,yt)),a.R7$(2),a.SpI(" ",a.bMT(9,6,"lang_wsuper_admin_upload_file_choose_file_upload")," "),a.R7$(3),a.SpI(" ",a.bMT(12,8,"lang_auto_azota_support_file_type")," .docx, .azt, .pdf, .pptx, .ppt "),a.R7$(3),a.SpI(" ",a.bMT(15,10,"lang_auto_tim_hieu_them")," ")}}function bt(E,pt){1&E&&(a.j41(0,"div",28)(1,"div",29),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s()()),2&E&&(a.R7$(2),a.JRh(a.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function Z(E,pt){if(1&E&&a.nrm(0,"azt-preview-file",33),2&E){const S=a.XpG(3);a.Y8G("fileUrl",S.docsLinkControl.value)("customHeight",S.boxContentHeight)("fileType",S.shareTypeDocument)}}function t(E,pt){if(1&E&&(a.j41(0,"div",30)(1,"div",31),a.DNE(2,Z,1,3,"azt-preview-file",32),a.k0s()()),2&E){const S=a.XpG(2);a.R7$(2),a.Y8G("ngIf",S.docsLinkControl.value)}}function vt(E,pt){if(1&E){const S=a.RV6();a.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"input",23),a.nI1(4,"mytranslate"),a.bIt("input",function(){a.eBV(S);const w=a.XpG();return a.Njj(w.getVideoNameFromUrl())}),a.k0s()(),a.j41(5,"div",24),a.nrm(6,"input",25),a.nI1(7,"mytranslate"),a.k0s(),a.DNE(8,bt,4,3,"div",26),a.k0s(),a.DNE(9,t,3,1,"div",27),a.k0s()}if(2&E){const S=a.XpG();a.R7$(3),a.FS9("placeholder",a.bMT(4,6,"homework_view"==S.data.type?"lang_document_insert_lecture_video_Google_docs_dropbox_link":"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),a.Y8G("formControl",S.docsLinkControl),a.R7$(3),a.FS9("placeholder",a.bMT(7,8,"lang_document_insert_lecture_file_name")+"..."),a.Y8G("formControl",S.fileNameControl),a.R7$(2),a.Y8G("ngIf",S.fileNameControl.invalid),a.R7$(),a.Y8G("ngIf",S.checkShowPreviewLink())}}let Q=(()=>{var E;class pt extends h._{onTabChanged(M){this.selectedIndex=M.index,this.shareTypeDocument=0==this.selectedIndex?e.d.exam:e.d.google_docs}btnCloseDialog(){this.dialogRef.close()}handleUploadComplete(M){M.forEach(w=>{let ht=this.sAztFileTypeService.getTypeFileByMime(w);ht?this.dialogRef.close({name:w.name??"",refId:0,groupType:this.groupTypeFile,type:ht,link:w.url??""}):this.showErrorSnack("lang_document_the_file_format_is_not_supported_in_reference")})}checkShowPreviewLink(){return!(!this.docsLinkControl.valid||!((0,v.y1)(this.docsLinkControl.value)||(0,v.Kb)(this.docsLinkControl.value)||(0,v.VJ)(this.docsLinkControl.value)))}getNameVideo(M){return new i.c(w=>{this.youtubeService.getVideoDetails(M).subscribe(ht=>{w.next(ht.items&&ht.items.length?ht.items[0].snippet.title:"undefined"),w.complete()},ht=>{w.next(void 0),w.complete()})})}getVideoNameFromUrl(){this.data.type==n.k.homework_view&&(0,v.VJ)(this.docsLinkControl.value)&&(this.shareTypeDocument=e.d.video,this.getNameVideo((0,v.b3)(this.docsLinkControl.value)??"").subscribe(M=>{M&&this.fileNameControl.setValue(M)}))}confirmUpload(){if(this.docsLinkControl.valid&&(0,v.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:this.docsLinkControl.value?this.docsLinkControl.value:""}),this.docsLinkControl.valid&&(0,v.VJ)(this.docsLinkControl.value)&&this.fileNameControl.valid){let M={name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:(0,v.Hf)(this.docsLinkControl.value)?this.docsLinkControl.value:""};this.dialogRef.close(M)}}ngOnInit(){super.ngOnInit(),this.shareTypeDocument=this.commonService.getEnumTypeWithDefault(e.d,this.data.type,e.d.unknown),this.groupTypeFile=this.commonService.getEnumTypeWithDefault(n.k,this.data.type,n.k.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}ngAfterViewInit(){this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}constructor(M,w,ht,At){super(At,ht),this.sAztFileTypeService=M,this.youtubeService=w,this.dialogRef=ht,this.data=At,this.docsLinkControl=new b.MJ("",{nonNullable:!0,validators:[b.k0.required]}),this.fileNameControl=new b.MJ("",{nonNullable:!0,validators:[b.k0.required]}),this.shareTypeDocument=e.d.exam,this.groupTypeFile=n.k.document,this.allDocumentGroupTypes=n.k,this.boxContentHeight=0,this.selectedIndex=0,this.allUploadToCdnMenuTypes=xt.b8,this.allUploadFileTypes=xt.PO}}return(E=pt).\u0275fac=function(M){return new(M||E)(a.rXU(gt.k),a.rXU(nt),a.rXU(o.CP,8),a.rXU(o.Vh,8))},E.\u0275cmp=a.VBU({type:E,selectors:[["add-document-session-dialog"]],features:[a.Vt3],decls:19,vars:16,consts:[["id","box-add-link-content",1,"box","scroll-menu-test",2,"height","80vh"],[1,"p-3"],[3,"selectedTabChange","selectedIndex"],[3,"label"],[2,"height","auto"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],[1,"form-group"],[1,"intro","mt-4"],[3,"uploadComplete","uploadToCdnMenu","fileType"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[1,"px-4","pb-8","mt-8","text-center","cursor-pointer","relative"],[1,"flex","items-center",2,"justify-content","center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","upload-document-GHbxbRMZOV","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"px-2"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],["class","h-full px-3",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[3,"fileUrl","customHeight","fileType"]],template:function(M,w){1&M&&(a.j41(0,"div",0)(1,"div")(2,"azt-mat-dialog-content")(3,"div",1)(4,"mat-tab-group",2),a.bIt("selectedTabChange",function(At){return w.onTabChanged(At)}),a.nrm(5,"mat-tab",3),a.nI1(6,"mytranslate"),a.nrm(7,"mat-tab",3),a.nI1(8,"mytranslate"),a.k0s(),a.j41(9,"div",4),a.DNE(10,Mt,16,16,"div",5)(11,vt,10,10,"div",6),a.k0s()()()(),a.j41(12,"div",7)(13,"button",8),a.bIt("click",function(){return w.btnCloseDialog()}),a.EFF(14),a.nI1(15,"mytranslate"),a.k0s(),a.j41(16,"button",9),a.bIt("click",function(){return w.confirmUpload()}),a.EFF(17),a.nI1(18,"mytranslate"),a.k0s()()()),2&M&&(a.R7$(4),a.Y8G("selectedIndex",w.selectedIndex),a.R7$(),a.FS9("label",a.bMT(6,8,"lang_auto_upload_file")),a.R7$(2),a.FS9("label",a.bMT(8,10,"lang_config_educational_program_use_link")),a.R7$(3),a.Y8G("ngIf",0==w.selectedIndex),a.R7$(),a.Y8G("ngIf",1==w.selectedIndex),a.R7$(3),a.SpI(" ",a.bMT(15,12,"lang_auto_dong")," "),a.R7$(2),a.Y8G("disabled",w.fileNameControl.invalid),a.R7$(),a.SpI(" ",a.bMT(18,14,"lang_auto_luu")," "))},dependencies:[C.YU,C.bT,z.mq,z.T8,b.me,b.BC,b.l_,It.U,J,jt.V,Ot.WGl,ot.wp],encapsulation:2}),pt})();var Pt=_(66772);function zt(E,pt){1&E&&(a.j41(0,"div",16)(1,"div",17),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s()()),2&E&&(a.R7$(2),a.JRh(a.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function Y(E,pt){if(1&E&&a.nrm(0,"azt-preview-file",18),2&E){const S=a.XpG(2);a.Y8G("fileUrl",S.embedLinkControl.value)("fileType",S.shareTypeFile)}}function X(E,pt){1&E&&a.nrm(0,"azt-loading-ui",19)}function W(E,pt){if(1&E){const S=a.RV6();a.qex(0),a.j41(1,"div",3)(2,"div",4)(3,"input",5),a.nI1(4,"mytranslate"),a.bIt("input",function(){a.eBV(S);const w=a.XpG();return a.Njj(w.getVideoNameFromUrl())}),a.k0s()(),a.j41(5,"div",6),a.nrm(6,"input",7),a.nI1(7,"mytranslate"),a.k0s(),a.DNE(8,zt,4,3,"div",8),a.k0s(),a.j41(9,"div",9)(10,"div",10),a.DNE(11,Y,1,2,"azt-preview-file",11),a.k0s()(),a.j41(12,"div",12)(13,"button",13),a.bIt("click",function(){a.eBV(S);const w=a.XpG();return a.Njj(w.btnCloseDialog())}),a.EFF(14),a.nI1(15,"mytranslate"),a.k0s(),a.j41(16,"button",14),a.bIt("click",function(){a.eBV(S);const w=a.XpG();return a.Njj(w.confirmUpload())}),a.DNE(17,X,1,0,"azt-loading-ui",15),a.EFF(18),a.nI1(19,"mytranslate"),a.k0s()(),a.bVm()}if(2&E){const S=a.XpG();a.R7$(3),a.FS9("placeholder",a.bMT(4,10,"lang_document_insert_lecture_video_link")+"..."),a.Y8G("formControl",S.embedLinkControl),a.R7$(3),a.FS9("placeholder",a.bMT(7,12,"lang_document_insert_lecture_video_name")+"..."),a.Y8G("formControl",S.fileNameControl),a.R7$(2),a.Y8G("ngIf",S.fileNameControl.invalid),a.R7$(3),a.Y8G("ngIf",S.embedLinkControl.value),a.R7$(3),a.SpI(" ",a.bMT(15,14,"lang_auto_dong")," "),a.R7$(2),a.Y8G("disabled",!S.isValidEmbedUrl()||S.fileNameControl.invalid||S.statusObj.loading),a.R7$(),a.Y8G("ngIf",S.statusObj.loading),a.R7$(),a.SpI(" ",a.bMT(19,16,"lang_auto_luu")," ")}}function x(E,pt){1&E&&(a.j41(0,"div",16)(1,"div",17),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s()()),2&E&&(a.R7$(2),a.JRh(a.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function V(E,pt){if(1&E&&a.nrm(0,"azt-preview-file",23),2&E){const S=a.XpG(2);a.Y8G("fileUrl",S.docsLinkControl.value)("customHeight",S.boxContentHeight)("fileType",S.shareTypeFile)}}function ft(E,pt){1&E&&a.nrm(0,"azt-loading-ui",19)}function Nt(E,pt){if(1&E){const S=a.RV6();a.qex(0),a.j41(1,"div",3)(2,"div",4),a.nrm(3,"input",7),a.nI1(4,"mytranslate"),a.k0s(),a.j41(5,"div",6),a.nrm(6,"input",7),a.nI1(7,"mytranslate"),a.k0s(),a.DNE(8,x,4,3,"div",8),a.k0s(),a.j41(9,"div",9)(10,"div",20),a.DNE(11,V,1,3,"azt-preview-file",21),a.k0s()(),a.j41(12,"div",22)(13,"button",13),a.bIt("click",function(){a.eBV(S);const w=a.XpG();return a.Njj(w.btnCloseDialog())}),a.EFF(14),a.nI1(15,"mytranslate"),a.k0s(),a.j41(16,"button",14),a.bIt("click",function(){a.eBV(S);const w=a.XpG();return a.Njj(w.confirmUpload())}),a.DNE(17,ft,1,0,"azt-loading-ui",15),a.EFF(18),a.nI1(19,"mytranslate"),a.k0s()(),a.bVm()}if(2&E){const S=a.XpG();a.R7$(3),a.FS9("placeholder",a.bMT(4,10,"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),a.Y8G("formControl",S.docsLinkControl),a.R7$(3),a.FS9("placeholder",a.bMT(7,12,"lang_document_insert_lecture_file_name")+"..."),a.Y8G("formControl",S.fileNameControl),a.R7$(2),a.Y8G("ngIf",S.fileNameControl.invalid),a.R7$(3),a.Y8G("ngIf",S.docsLinkControl.value),a.R7$(3),a.SpI(" ",a.bMT(15,14,"lang_auto_dong")," "),a.R7$(2),a.Y8G("disabled",!S.isValidDocsUrl()||S.fileNameControl.invalid||S.statusObj.loading),a.R7$(),a.Y8G("ngIf",S.statusObj.loading),a.R7$(),a.SpI(" ",a.bMT(19,16,"lang_auto_luu")," ")}}let Xt=(()=>{var E;class pt extends h._{btnCloseDialog(){this.dialogRef.close()}isValidEmbedUrl(){return(0,v.VJ)(this.embedLinkControl.value)}isValidDocsUrl(){return(0,v.si)(this.docsLinkControl.value)}getNameVideo(M){return new i.c(w=>{this.youtubeService.getVideoDetails(M).subscribe(ht=>{w.next(ht.items&&ht.items.length?ht.items[0].snippet.title:"undefined"),w.complete()},ht=>{w.next(void 0),w.complete()})})}getVideoNameFromUrl(){this.getNameVideo((0,v.b3)(this.embedLinkControl.value)??"").subscribe(M=>{M&&this.fileNameControl.setValue(M)})}confirmUpload(){if(this.data.type==e.d.video&&this.embedLinkControl.valid&&(0,v.VJ)(this.embedLinkControl.value)&&this.fileNameControl.valid){this.initStatusObj();let M={name:this.fileNameControl.value,type:this.shareTypeFile,groupType:n.k.video,link:(0,v.Hf)(this.embedLinkControl.value)?this.embedLinkControl.value:""};this.dialogRef.close(M)}this.data.type==e.d.google_docs&&this.docsLinkControl.valid&&(0,v.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&(this.initStatusObj(),this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeFile,groupType:n.k.video,link:this.docsLinkControl.value?this.docsLinkControl.value:""}))}ngOnInit(){super.ngOnInit(),this.shareTypeFile=this.commonService.getEnumTypeWithDefault(e.d,this.data.type,e.d.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??700}constructor(M,w,ht,At,te){super(te,At),this.sAZTranslateService=M,this.http=w,this.youtubeService=ht,this.dialogRef=At,this.data=te,this.embedLinkControl=new b.MJ("",{nonNullable:!0,validators:[b.k0.required]}),this.docsLinkControl=new b.MJ("",{nonNullable:!0,validators:[b.k0.required]}),this.fileNameControl=new b.MJ("",{nonNullable:!0,validators:[b.k0.required]}),this.shareTypeFile=e.d.video,this.boxContentHeight=0}}return(E=pt).\u0275fac=function(M){return new(M||E)(a.rXU(Pt.o),a.rXU(it.Qq),a.rXU(nt),a.rXU(o.CP,8),a.rXU(o.Vh,8))},E.\u0275cmp=a.VBU({type:E,selectors:[["add-video-session"]],features:[a.Vt3],decls:4,vars:2,consts:[[1,"box","mt-3","relative",2,"height","80vh"],["id","box-add-link-content",1,"h-full","flex","flex-col","mx-auto"],[4,"ngIf"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"input","formControl","placeholder"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-3","mx-auto",2,"max-width","720px"],[3,"fileUrl","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[3,"fileUrl","fileType"],[1,"mr-1"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[3,"fileUrl","customHeight","fileType"]],template:function(M,w){1&M&&(a.j41(0,"div",0)(1,"div",1),a.DNE(2,W,20,18,"ng-container",2)(3,Nt,20,18,"ng-container",2),a.k0s()()),2&M&&(a.R7$(2),a.Y8G("ngIf","video"==w.data.type),a.R7$(),a.Y8G("ngIf","google_docs"==w.data.type))},dependencies:[C.bT,b.me,b.BC,b.l_,dt.R,J,ot.wp],encapsulation:2}),pt})();var ee=_(46899),Bt=_(17818);const ue=[[["span"]]],pe=["span"];function ge(E,pt){1&E&&a.nrm(0,"azt-loading-ui",11)}function me(E,pt){1&E&&(a.j41(0,"span"),a.EFF(1," + "),a.k0s())}function Kt(E,pt){if(1&E){const S=a.RV6();a.qex(0),a.j41(1,"button",8),a.bIt("click",function(w){return a.eBV(S),a.Njj(w.stopPropagation())}),a.DNE(2,ge,1,0,"azt-loading-ui",9)(3,me,2,0,"span",10),a.SdG(4),a.k0s(),a.bVm()}if(2&E){const S=a.XpG(),M=a.sdS(4);a.R7$(),a.HbH("btn btn-transparent w-48 block "+S.customClass),a.Y8G("disabled",S.loadingUpload)("matMenuTriggerFor",M),a.R7$(),a.Y8G("ngIf",S.loadingUpload),a.R7$(),a.Y8G("ngIf",!S.loadingUpload)}}function fe(E,pt){1&E&&a.nrm(0,"azt-loading-ui",11)}function de(E,pt){1&E&&(a.j41(0,"span"),a.EFF(1," + "),a.k0s())}function Ht(E,pt){if(1&E){const S=a.RV6();a.j41(0,"span",12),a.bIt("click",function(w){return a.eBV(S),a.Njj(w.stopPropagation())}),a.DNE(1,fe,1,0,"azt-loading-ui",9)(2,de,2,0,"span",10),a.j41(3,"span"),a.EFF(4),a.nI1(5,"mytranslate"),a.nI1(6,"mytranslate"),a.k0s()()}if(2&E){const S=a.XpG(),M=a.sdS(4);a.Y8G("matMenuTriggerFor",M),a.R7$(),a.Y8G("ngIf",S.loadingUpload),a.R7$(),a.Y8G("ngIf",!S.loadingUpload),a.R7$(2),a.Lme("",a.bMT(5,5,"lang_button_add")," ",a.bMT(6,7,"lang_auto_tai_lieu"),"")}}let oe=(()=>{var E;class pt extends s.H{showAddLinkDialog(M){this.loadingUpload=!0,this.sAztDialogService.open(Xt,{width:M==e.d.video?"750px":"950px",data:{showUp:!0,type:M},restoreFocus:!1}).afterClosed().subscribe(ht=>{ht?(this.emitFileDocument.emit({name:ht.name,refId:0,groupType:ht.groupType,type:ht.type,link:ht.link}),this.loadingUpload=!1):this.loadingUpload=!1})}showAddDocumentDialog(M){this.loadingUpload=!0,this.sAztDialogService.open(Q,{width:"950px",data:{showUp:!0,type:M},restoreFocus:!1}).afterClosed().subscribe(ht=>{ht?(this.emitFileDocument.emit({name:ht.name,refId:0,groupType:ht.groupType,type:ht.type,link:ht.link}),this.loadingUpload=!1):this.loadingUpload=!1})}ngOnInit(){super.ngOnInit()}constructor(M){super(),this.sAztDialogService=M,this.isBtn=!0,this.customClass="",this.emitFileDocument=new a.bkB,this.loadingUpload=!1}}return(E=pt).\u0275fac=function(M){return new(M||E)(a.rXU(ee.i))},E.\u0275cmp=a.VBU({type:E,selectors:[["app-upload-document-for-session"]],inputs:{isBtn:"isBtn",customClass:"customClass"},outputs:{emitFileDocument:"emitFileDocument"},features:[a.Vt3],ngContentSelectors:pe,decls:27,vars:14,consts:[["otherBtnTemplate",""],["addDocumentMenu","matMenu"],[4,"ngIf","ngIfElse"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],["azt-track-service","list-educational-program-sessions-alTxPjwR-Y",1,"dropdown-item",2,"align-items","center",3,"click"],[1,"dropdown-item",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-rZNJK7p4k4",2,"text-align","left",3,"click","disabled","matMenuTriggerFor"],["type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],["type","bootstrap-spinner"],["azt-track-service","add-or-edit-educational-program-wqT22r4zB",1,"clickable",2,"text-align","left",3,"click","matMenuTriggerFor"]],template:function(M,w){if(1&M){const ht=a.RV6();a.NAR(ue),a.DNE(0,Kt,5,6,"ng-container",2)(1,Ht,7,9,"ng-template",null,0,a.C5r),a.j41(3,"mat-menu",3,1)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),a.bIt("click",function(){return a.eBV(ht),a.Njj(w.showAddLinkDialog("video"))}),a.j41(9,"span"),a.EFF(10),a.nI1(11,"mytranslate"),a.k0s()()(),a.j41(12,"li")(13,"a",7),a.bIt("click",function(){return a.eBV(ht),a.Njj(w.showAddDocumentDialog("document"))}),a.j41(14,"span"),a.EFF(15),a.nI1(16,"mytranslate"),a.k0s()()(),a.j41(17,"li")(18,"a",7),a.bIt("click",function(){return a.eBV(ht),a.Njj(w.showAddDocumentDialog("homework"))}),a.j41(19,"span"),a.EFF(20),a.nI1(21,"mytranslate"),a.k0s()()(),a.j41(22,"li")(23,"a",7),a.bIt("click",function(){return a.eBV(ht),a.Njj(w.showAddDocumentDialog("homework_view"))}),a.j41(24,"span"),a.EFF(25),a.nI1(26,"mytranslate"),a.k0s()()()()()()}if(2&M){const ht=a.sdS(2);a.Y8G("ngIf",w.isBtn)("ngIfElse",ht),a.R7$(10),a.SpI(" ",a.bMT(11,6,"lang_config_educational_program_add_ytb_link")," "),a.R7$(5),a.SpI(" ",a.bMT(16,8,"lang_config_educational_program_add_document")," "),a.R7$(5),a.SpI(" ",a.bMT(21,10,"lang_config_educational_program_add_homework")," "),a.R7$(5),a.SpI(" ",a.bMT(26,12,"lang_config_educational_program_add_homework_view")," ")}},dependencies:[C.bT,Bt.kk,Bt.Cp,dt.R,ot.wp],encapsulation:2}),pt})()},10127:(Vt,St,_)=>{_.d(St,{B:()=>zt});var a=_(81519),s=_(10936),e=_(34514),b=_(47426),o=_(89163),i=_(99503),h=_(79347),v=_(33887),n=_(9691);class xt{static formGroupClassrooms(X){return void 0!==X.controls.find(V=>V.controls.classroomId.errors)?{identityRevealed:!0,invalidData:!0}:null}}var gt=_(93493),it=_(74742),nt=_(60902),C=_(48891),z=_(49842),It=_(46899),et=_(17187),dt=_(54460),ut=_(12992),st=_(95670),ot=_(4375),_t=_(47712),H=_(18718),Et=_(81587),q=_(2915),at=_(43165),Ct=_(45344),Ft=_(43166),J=_(15343),jt=_(44233),Ot=_(76975);const L=()=>({"text-danger":!0});function yt(Y,X){if(1&Y&&C.nrm(0,"azt-loading-effect",7),2&Y){const W=C.XpG();C.Y8G("currentStatusObj",W.statusObj)}}function Mt(Y,X){1&Y&&(C.j41(0,"div",21),C.EFF(1),C.nI1(2,"mytranslate"),C.k0s()),2&Y&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"lang_core_them_lop_hoc_neu_ban_muon_cap_nhat_so_tien")," "))}function bt(Y,X){if(1&Y&&(C.j41(0,"mat-option",34),C.EFF(1),C.k0s()),2&Y){const W=X.$implicit,x=C.XpG(3);C.Y8G("value",W.id)("disabled",x.isSelectClassroom(W.id)),C.R7$(),C.SpI(" ",W.name," ")}}function Z(Y,X){if(1&Y){const W=C.RV6();C.j41(0,"button",35),C.nI1(1,"mytranslate"),C.bIt("click",function(){C.eBV(W);const V=C.XpG().$implicit,ft=C.XpG(2);return C.Njj(ft.removeClassroom(V))}),C.nrm(2,"lucide-icon",36),C.k0s()}2&Y&&(C.FS9("matTooltip",C.bMT(1,2,"lang_student_classroom_list_delete")),C.R7$(2),C.Y8G("ngClass",C.lJ4(4,L)))}function t(Y,X){1&Y&&(C.j41(0,"div",37),C.EFF(1),C.nI1(2,"mytranslate"),C.k0s()),2&Y&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"lang_testbank_test_config_you_not_yet_class")," "))}function vt(Y,X){if(1&Y){const W=C.RV6();C.j41(0,"div",38)(1,"mat-checkbox",39),C.EFF(2),C.nI1(3,"mytranslate"),C.k0s(),C.j41(4,"button",40),C.nI1(5,"mytranslate"),C.bIt("click",function(){C.eBV(W);const V=C.XpG().$implicit,ft=C.XpG(2);return C.Njj(ft.removeClassroom(V))}),C.nrm(6,"lucide-icon",36),C.k0s()()}if(2&Y){const W=C.XpG().$implicit;C.R7$(),C.Y8G("checked",W.controls.isTryLearning.value),C.R7$(),C.SpI(" ",C.bMT(3,4,"lang_core_hoc_thu")," "),C.R7$(2),C.FS9("matTooltip",C.bMT(5,6,"lang_student_classroom_list_delete")),C.R7$(2),C.Y8G("ngClass",C.lJ4(8,L))}}function Q(Y,X){if(1&Y&&(C.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"div",14)(4,"div",25)(5,"mat-form-field",26)(6,"mat-select",27,1)(8,"mat-option"),C.nrm(9,"ngx-mat-select-search",28),C.nI1(10,"mytranslate"),C.nI1(11,"mytranslate"),C.k0s(),C.j41(12,"mat-option",29),C.EFF(13),C.nI1(14,"mytranslate"),C.k0s(),C.DNE(15,bt,2,3,"mat-option",30),C.k0s()(),C.DNE(16,Z,3,5,"button",31),C.k0s(),C.DNE(17,t,3,3,"div",32),C.k0s()(),C.DNE(18,vt,7,9,"div",33),C.k0s()()),2&Y){const W=X.$implicit,x=C.sdS(7),V=C.XpG(2);C.R7$(),C.Y8G("formGroup",W),C.R7$(5),C.Y8G("formControl",W.controls.classroomId),C.R7$(3),C.FS9("placeholderLabel",C.bMT(10,11,"lang_search_by_name")),C.FS9("noEntriesFoundLabel",C.bMT(11,13,"lang_search_not_found")),C.Y8G("formControl",x.searchControl),C.R7$(3),C.Y8G("value",0),C.R7$(),C.SpI("---",C.bMT(14,15,"lang_student_classroom_list_utils_create_class_new_course_choose_class"),""),C.R7$(2),C.Y8G("ngForOf",x.filter(V.classroomOwner,"name")),C.R7$(),C.Y8G("ngIf",V.isSelectedMonth()),C.R7$(),C.Y8G("ngIf",W.controls.classroomId.errors),C.R7$(),C.Y8G("ngIf",!V.isSelectedMonth())}}function Pt(Y,X){if(1&Y){const W=C.RV6();C.j41(0,"azt-mat-dialog-content")(1,"div",8)(2,"div",9)(3,"div",10)(4,"h3",11),C.EFF(5),C.nI1(6,"mytranslate"),C.k0s(),C.j41(7,"azt-form-enter-info-student",12),C.bIt("closeDialog",function(){C.eBV(W);const V=C.XpG();return C.Njj(V.dialogRef.close())}),C.k0s()(),C.j41(8,"div",13)(9,"div",14),C.nrm(10,"azt-checkbox-month",15),C.j41(11,"h3",16),C.EFF(12),C.nI1(13,"mytranslate"),C.k0s(),C.DNE(14,Mt,3,3,"div",17)(15,Q,19,17,"div",18),C.j41(16,"div",19)(17,"div",20),C.bIt("click",function(){C.eBV(W);const V=C.XpG();return C.Njj(V.addClassroom())}),C.EFF(18),C.nI1(19,"mytranslate"),C.k0s()()()()()()()}if(2&Y){const W=C.XpG();C.R7$(5),C.SpI(" ",C.bMT(6,9,"lang_auto_thong_tin_chung")," "),C.R7$(2),C.Y8G("studentForm",W.studentForm)("hasUser",!!W.data&&W.data.hasUser),C.R7$(3),C.Y8G("checkboxMonth",W.checkboxMonth)("histories",W.histories),C.R7$(2),C.SpI(" ",C.bMT(13,11,"lang_auto_lop_hoc")," "),C.R7$(2),C.Y8G("ngIf",0==W.formClassrooms.controls.length),C.R7$(),C.Y8G("ngForOf",W.formClassrooms.controls),C.R7$(3),C.SpI("+ ",C.bMT(19,13,"lang_student_classroom_list_utils_create_class_add_class"),"")}}let zt=(()=>{var Y;class X extends v._{removeClassroom(x){let V=this.formClassrooms.controls.filter(ft=>ft!=x);this.formClassrooms=new s.Yp(V)}addClassroom(){let x=this.formClassrooms.controls;x.push(new s.gE({classroomId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1)]}),isTryLearning:new s.MJ(!1,{nonNullable:!0})})),this.formClassrooms=new s.Yp(x,{validators:[xt.formGroupClassrooms]}),this.formClassrooms.updateValueAndValidity()}isSelectClassroom(x){return null!=this.formClassrooms.controls.find(V=>V.controls.classroomId.value==x)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(x=>1==x.selected)}saveData(){var x=this.studentForm.form.getRawValue(),V=[],ft=[];this.checkboxMonth.checkboxMonth.filter(Xt=>1==Xt.selected).forEach(Xt=>{ft.push({month:Xt.month,year:Xt.year})}),this.formClassrooms.controls.forEach(Xt=>{V.push({classroomId:Xt.controls.classroomId.value,trialLearning:!(ft.length>0)&&Xt.controls.isTryLearning.value})}),this.isSaving=!0;var Nt={id:this.data?this.data.id:void 0,fullName:x.fullName,gender:x.gender,phone:x.phoneNumber,email:x.email,userName:x.userName,birthday:x.birthday?this.timeService.formatDateTimeToPostToServer(new Date(x.birthday).toDateString()):void 0,password:x.password,classrooms:V,attachPayments:ft,schoolName:x.school,facebookLink:x.facebookLink,identificationNumber:x.identificationNumber?Number(x.identificationNumber):void 0};this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentPost(Nt)).subscribe(Xt=>{if(this.isSaving=!1,!Xt.success)return this.errorStatusObj(Xt.message,!0);this.dialogRef.close(!0),this.successStatusObj(this.data?"lang_core_cap_nhat_thanh_cong_hoc_sinh_nop_tien":"lang_core_them_thanh_cong_hoc_sinh_nop_tien",!0)}))}getClassroomName(x){var V=this.classroomOwner.filter(ft=>x==ft.id)??[];return V.length>0?V[0].name:""}getHistories(){if(!this.data)return this.stopStatusObj();this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.data.id)).subscribe(x=>{if(this.isSaving=!1,!x.success)return this.errorStatusObj(x.message,!0);this.histories=x.data?.histories??[],this.checkboxMonth.checkboxMonth.map(ft=>ft.selected=null!=this.histories.find(Nt=>Nt.month==ft.month&&ft.year==Nt.year));var V=[];x.data?.classrooms.forEach(ft=>{V.push(new s.gE({classroomId:new s.MJ(ft.classroomId,{nonNullable:!0,validators:[s.k0.min(1)]}),isTryLearning:new s.MJ(ft.trialLearning,{nonNullable:!0})}))}),this.formClassrooms=new s.Yp(V,{validators:[xt.formGroupClassrooms]}),this.stopStatusObj()}))}getOwnerClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(x=>{if(!x.success)return this.errorStatusObj(x.message,!0),void this.stopStatusObj();this.classroomOwner=x.data?.objs??[],this.getHistories()}))}ngOnInit(){super.ngOnInit(),this.getOwnerClassroom()}constructor(x,V,ft,Nt,Xt,ee,Bt){super(Bt,ee),this.classroomGroupService=x,this.sAztDialogService=V,this.sAztTimeService=ft,this.timeService=Nt,this.paymentService=Xt,this.dialogRef=ee,this.data=Bt,this.histories=[],this.checkboxMonth=new nt.L,this.studentForm=new it.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,Bt&&(this.checkboxMonth.studentId=this.data.id,Bt.hasUser?this.studentForm.form=new s.gE({fullName:new s.MJ(Bt.fullName??"",{nonNullable:!0,validators:[s.k0.required]}),gender:new s.MJ(Bt.gender??0,{nonNullable:!0}),birthday:new s.MJ(Bt.birthday,{nonNullable:!0}),email:new s.MJ(Bt.email??"",{nonNullable:!0,validators:[s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ(Bt.phone??"",{nonNullable:!0,validators:[s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),identificationNumber:new s.MJ(Bt.identificationNumber?Bt.identificationNumber.toString():"",{nonNullable:!0,validators:[s.k0.min(1),s.k0.maxLength(6),s.k0.pattern("^[0-9]*$")]}),facebookLink:new s.MJ(Bt.facebookLink,{nonNullable:!0}),school:new s.MJ(Bt.schoolName,{nonNullable:!0}),userName:new s.MJ(Bt.parentUserName??"",{nonNullable:!0,validators:[gt.i.validateUserName]})}):this.studentForm.form.setValue({fullName:Bt.fullName??"",gender:Bt.gender??0,birthday:Bt.birthday,email:Bt.email??"",phoneNumber:Bt.phone??"",identificationNumber:Bt.identificationNumber?Bt.identificationNumber.toString():"",facebookLink:Bt.facebookLink,school:Bt.schoolName,password:"",userName:Bt.parentUserName??""})),this.formClassrooms=new s.Yp([new s.gE({classroomId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1)]}),isTryLearning:new s.MJ(!1,{nonNullable:!0})})],{validators:[xt.formGroupClassrooms]})}ngOnDestroy(){super.ngOnDestroy()}}return(Y=X).\u0275fac=function(x){return new(x||Y)(C.rXU(z.kG),C.rXU(It.i),C.rXU(n.F),C.rXU(n.F),C.rXU(et.W),C.rXU(o.CP,8),C.rXU(o.Vh,8))},Y.\u0275cmp=C.VBU({type:Y,selectors:[["azt-send-feedback"]],features:[C.Jv_([{provide:a.$O,useClass:i.fb,deps:[b.Ju,e.ij]},{provide:a.vq,useFactory:h.fJ,deps:[n.F]}]),C.Vt3],decls:11,vars:10,consts:[["doneLoading",""],["searchInListClassroomName","searchInList"],[1,"box"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"p-3","text-right","border-t","border-slate-200/60","dark:border-darkmode-400"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-2","btn","btn-secondary",3,"click","disabled"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",3,"click","disabled"],[3,"currentStatusObj"],[1,"container-fluid","mt-2","mb-2","overflow-hidden","document-market-list","w-full"],[1,"grid","grid-cols-12","px-2"],[1,"col-span-12","md:col-span-6","px-3","py-2"],[1,"text-md","font-medium","flex","items-center"],[3,"closeDialog","studentForm","hasUser"],[1,"col-span-12","md:col-span-6","px-3","py-2","md:border-l","md:border-slate-200/60","dark:border-darkmode-400"],[1,"w-full"],[3,"checkboxMonth","histories"],[1,"text-md","font-medium","flex","items-center","mt-2"],["class","mt-2 text-xs text-danger ml-1",4,"ngIf"],["class","form-single-class p-2 mt-1",4,"ngFor","ngForOf"],[1,"flex","justify-start"],["azt-track-service","add-or-edit-tuition-fee-mnjxAfd3U",1,"btn-add-class","clickable","mt-2",3,"click"],[1,"mt-2","text-xs","text-danger","ml-1"],[1,"form-single-class","p-2","mt-1"],[3,"formGroup"],[1,"flex"],[1,"flex","items-center"],["id","classroomId","appearance","fill",1,"mt-1",2,"width","100%","background","#fff"],["searchInList","","name","classroomId",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","btn-delete-room ml-2",3,"matTooltip","click",4,"ngIf"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-2 flex justify-between",4,"ngIf"],[3,"value","disabled"],[1,"btn-delete-room","ml-2",3,"click","matTooltip"],["name","trash-2","size","20",3,"ngClass"],[1,"text-xs","text-danger","mt-1"],[1,"mt-2","flex","justify-between"],["formControlName","isTryLearning",1,"example-margin",3,"checked"],[1,"btn-delete-room",3,"click","matTooltip"]],template:function(x,V){if(1&x){const ft=C.RV6();C.j41(0,"div",2),C.DNE(1,yt,1,1,"azt-loading-effect",3)(2,Pt,20,15,"ng-template",null,0,C.C5r),C.j41(4,"div",4)(5,"button",5),C.bIt("click",function(){return C.eBV(ft),C.Njj(V.dialogRef.close())}),C.EFF(6),C.nI1(7,"mytranslate"),C.k0s(),C.j41(8,"button",6),C.bIt("click",function(){return C.eBV(ft),C.Njj(V.saveData())}),C.EFF(9),C.nI1(10,"mytranslate"),C.k0s()()()}if(2&x){const ft=C.sdS(3);C.R7$(),C.Y8G("ngIf",V.statusObj.loading)("ngIfElse",ft),C.R7$(4),C.Y8G("disabled",V.isSaving),C.R7$(),C.JRh(C.bMT(7,6,"lang_cms_common_close_btn")),C.R7$(2),C.Y8G("disabled",!V.isSaving&&(V.formClassrooms.invalid||V.studentForm.form.invalid)||0==V.formClassrooms.controls.length),C.R7$(),C.SpI(" ",C.bMT(10,8,"lang_button_save")," ")}},dependencies:[dt.YU,dt.Sq,dt.bT,b.wT,ut.So,st.rl,ot.VO,_t.oV,s.qT,s.BC,s.cb,s.l_,s.j4,s.JD,H.K,Et.t,q.U,at.s,Ct.u,Ft.x,J.WGl,jt.U9,Ot.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),X})()},60902:(Vt,St,_)=>{_.d(St,{L:()=>a});class a{constructor(){this.currentDate=new Date,this.studentId=-1,this.checkboxMonth=[{selected:!1,month:1,year:this.currentDate.getFullYear()-1},{selected:!1,month:2,year:this.currentDate.getFullYear()-1},{selected:!1,month:3,year:this.currentDate.getFullYear()-1},{selected:!1,month:4,year:this.currentDate.getFullYear()-1},{selected:!1,month:5,year:this.currentDate.getFullYear()-1},{selected:!1,month:6,year:this.currentDate.getFullYear()-1},{selected:!1,month:7,year:this.currentDate.getFullYear()-1},{selected:!1,month:8,year:this.currentDate.getFullYear()-1},{selected:!1,month:9,year:this.currentDate.getFullYear()-1},{selected:!1,month:10,year:this.currentDate.getFullYear()-1},{selected:!1,month:11,year:this.currentDate.getFullYear()-1},{selected:!1,month:12,year:this.currentDate.getFullYear()-1},{selected:!1,month:1,year:this.currentDate.getFullYear()},{selected:!1,month:2,year:this.currentDate.getFullYear()},{selected:!1,month:3,year:this.currentDate.getFullYear()},{selected:!1,month:4,year:this.currentDate.getFullYear()},{selected:!1,month:5,year:this.currentDate.getFullYear()},{selected:!1,month:6,year:this.currentDate.getFullYear()},{selected:!1,month:7,year:this.currentDate.getFullYear()},{selected:!1,month:8,year:this.currentDate.getFullYear()},{selected:!1,month:9,year:this.currentDate.getFullYear()},{selected:!1,month:10,year:this.currentDate.getFullYear()},{selected:!1,month:11,year:this.currentDate.getFullYear()},{selected:!1,month:12,year:this.currentDate.getFullYear()},{selected:!1,month:1,year:this.currentDate.getFullYear()+1},{selected:!1,month:2,year:this.currentDate.getFullYear()+1},{selected:!1,month:3,year:this.currentDate.getFullYear()+1},{selected:!1,month:4,year:this.currentDate.getFullYear()+1},{selected:!1,month:5,year:this.currentDate.getFullYear()+1},{selected:!1,month:6,year:this.currentDate.getFullYear()+1},{selected:!1,month:7,year:this.currentDate.getFullYear()+1},{selected:!1,month:8,year:this.currentDate.getFullYear()+1},{selected:!1,month:9,year:this.currentDate.getFullYear()+1},{selected:!1,month:10,year:this.currentDate.getFullYear()+1},{selected:!1,month:11,year:this.currentDate.getFullYear()+1},{selected:!1,month:12,year:this.currentDate.getFullYear()+1}]}}},39900:(Vt,St,_)=>{_.d(St,{Q:()=>Vs});var a=_(54460),s=_(10936),e=_(89163),b=_(65162),o=_(81275),i=_(69223),h=_(23047),v=_(15437),n=_(15343),xt=_(13763),gt=_(10123),it=_(25571),nt=_(44233),C=_(5502),z=_(70050),It=_(7050),et=_(35143),dt=_(43234),ut=_(21656),st=_(1133),ot=_(50866),_t=_(46723),H=_(59640),Et=_(37497),q=_(75421),at=_(27208),Ct=_(81519),Ft=_(34514),J=_(47426),jt=_(17818),Ot=_(14999),L=_(99503),yt=_(79347),Mt=_(33887),bt=_(9691),Z=_(74742),t=_(48891),vt=_(6440),Q=_(46899),Pt=_(60260),zt=_(2915),Y=_(52811),X=_(5800),W=_(43165),x=_(76975);function V(r,f){1&r&&(t.qex(0),t.j41(1,"li",24)(2,"span",25),t.nrm(3,"azt-loading-ui"),t.k0s()(),t.bVm())}function ft(r,f){if(1&r&&(t.qex(0),t.j41(1,"li",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&r){const c=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,c.firstInit?"lang_auto_nhap_ten_hoac_sdt_hoc_sinh":"lang_student_classroom_list_detail_not_student")," ")}}function Nt(r,f){if(1&r){const c=t.RV6();t.j41(0,"li",28),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.selectStudent(m))}),t.nrm(1,"azt-student-info-box",29),t.k0s()}if(2&r){const c=f.$implicit;t.R7$(),t.Y8G("name",c.fullName)("avatar",c.avatar)("gender",c.gender)("phone",c.phone)("email",c.email)("showPhone",!0)("showTooltip",!1)}}function Xt(r,f){if(1&r&&(t.qex(0),t.DNE(1,Nt,2,7,"li",27),t.bVm()),2&r){const c=t.XpG(2);t.R7$(),t.Y8G("ngForOf",c.listStudentSearched)}}function ee(r,f){if(1&r&&t.DNE(0,ft,4,3,"ng-container",19)(1,Xt,2,1,"ng-container",19),2&r){const c=t.XpG();t.Y8G("ngIf",!c.listStudentSearched.length),t.R7$(),t.Y8G("ngIf",c.listStudentSearched.length)}}function Bt(r,f){1&r&&(t.qex(0),t.j41(1,"div",30)(2,"span",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.bVm()),2&r&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_business_no_student_selected_yet")))}function ue(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",32)(1,"button",33),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG();return t.Njj(g.removeStudent(m))}),t.nrm(2,"lucide-icon",34),t.k0s(),t.nrm(3,"azt-student-info-box",35),t.k0s()}if(2&r){const c=f.$implicit;t.R7$(3),t.Y8G("name",c.fullName)("avatar",c.avatar)("gender",c.gender)("phone",c.phone)("email",c.email)}}let pe=(()=>{var r;class f extends Mt._{saveData(){var l=this.studentForm.form.getRawValue();this.isSaving=!0;var m={id:this.data?.id,studentParentIds:this.listStudentChoose.map(g=>g.id),fullName:l.fullName,gender:Number(l.gender)??1,phone:l.phoneNumber,email:l.email,birthday:l.birthday?this.timeService.formatDateTimeToPostToServer(new Date(l.birthday).toDateString()):void 0,password:l.password??""};this.waitDestroy(this.studentService.apiStudentUpsertParentUsersPost(m).subscribe(g=>{g&&g.success?(this.isSaving=!1,this.successStatusObj("lang_student_utils_add_parent_successfully",!0),this.dialogRef.close(!0)):(this.isSaving=!1,this.errorStatusObj(g.message,!0))}))}selectStudent(l){this.commonService.isExistInArray(this.listStudentChoose,l)||(this.listStudentChoose.push(l),this.listStudentSearched=this.listStudentSearched.filter(m=>m.id!=l.id))}removeStudent(l){this.data?this.sAztDialogService.open(Ot.d,{data:{deleteOnParent:!0,studentObj:Object.assign({classroomId:0,parentId:this.data.id},l),classroomObj:{id:0,name:"",teacherId:0,countStudents:0,showAddStudent:0,grade:0,isShareClassroom:!1,isWaitingConfirm:0,permissionObj:{},teamPermissions:[]}},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(g=>{g&&this.data&&(this.isSaving=!0,this.waitDestroy(this.studentService.apiStudentRemoveParentUsersPost({id:this.data.id,studentParentIds:[l.id]}).subscribe(Dt=>{if(this.isSaving=!1,!Dt.success)return this.errorStatusObj(Dt.message,!0);this.listStudentChoose=this.listStudentChoose.filter(Wt=>Wt.id!=l.id),this.isEdited=!0,this.successStatusObj("lang_auto_xoa_hoc_sinh_thanh_cong",!0)})))}):this.listStudentChoose=this.listStudentChoose.filter(g=>g.id!=l.id)}searchStudent(){if(!this.searchStudentControl.value)return this.firstInit=!0,void(this.listStudentSearched=[]);this.isSearching=!0,this.firstInit=!1,this.listStudentSearched=[],this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementGetUsersInDomainPost({page:1,pageSize:100,textSearch:this.searchStudentControl.value,role:"STUDENT"}).subscribe(m=>{if(this.isSearching=!1,!m.success)return this.errorStatusObj(m.message,!0);this.menuTrigger.openMenu(),this.listStudentSearched=m.data?.objs.filter(this.commonService.notEmpty).filter(g=>!this.listStudentChoose.find($=>g.id==$.id))??[],this.isSearching=!1}))}closeDialog(){this.dialogRef.close(this.isEdited)}ngOnInit(){super.ngOnInit()}constructor(l,m,g,$,Dt,Wt,qt){super(qt,Wt),this.studentService=l,this.sAztDialogService=m,this.sAztTimeService=g,this.domainUsersManagementService=$,this.timeService=Dt,this.dialogRef=Wt,this.data=qt,this.histories=[],this.searchStudentControl=new s.MJ("",{nonNullable:!0}),this.studentForm=new Z.d,this.isSaving=!1,this.firstInit=!0,this.isSearching=!1,this.isEdited=!1,this.currentDate=new Date,this.listStudentSearched=[],this.listStudentChoose=[],this.studentForm.form=new s.gE(this.data?{fullName:new s.MJ(this.data?.fullName??"",{nonNullable:!0,validators:[s.k0.required]}),gender:new s.MJ(this.data?.gender??0,{nonNullable:!0}),birthday:new s.MJ(new Date(this.data?.birthday??""),{nonNullable:!0,validators:[s.k0.required]}),email:new s.MJ(this.data?.email??"",{nonNullable:!0,validators:[s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ(this.data?.phone??"",{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]})}:{fullName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required]}),gender:new s.MJ(0,{nonNullable:!0}),birthday:new s.MJ(new Date(""),{nonNullable:!0,validators:[s.k0.required]}),email:new s.MJ("",{nonNullable:!0,validators:[s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),password:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.minLength(6)]})}),this.listStudentChoose=this.data?.childUsers?.map(Tt=>Object.assign({isParent:!1,isAdmin:!1},Tt))??[]}ngOnDestroy(){super.ngOnDestroy()}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(vt.b0),t.rXU(Q.i),t.rXU(bt.F),t.rXU(Pt.ZF),t.rXU(bt.F),t.rXU(e.CP,8),t.rXU(e.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-add-parent"]],viewQuery:function(l,m){if(1&l&&t.GBs(jt.Cp,5),2&l){let g;t.mGM(g=t.lsd())&&(m.menuTrigger=g.first)}},features:[t.Jv_([{provide:Ct.$O,useClass:L.fb,deps:[J.Ju,Ft.ij]},{provide:Ct.vq,useFactory:yt.fJ,deps:[bt.F]}]),t.Vt3],decls:36,vars:26,consts:[["listStudentMenu","matMenu"],["doneSearch",""],[1,"box"],[1,"p-3","border-b","border-slate-200","dark:border-darkmode-400"],[1,"text-base","font-medium","flex","items-center"],[1,"document-market-list",2,"margin-left","5px"],[1,"grid","grid-cols-12","gap-4","p-3"],[1,"col-span-12","md:col-span-6",2,"margin-top","-0.75rem"],[3,"closeDialog","studentForm","hasUser","isAddParent"],[1,"col-span-12","md:col-span-6"],[1,"relative","flex"],[1,"search","w-full"],["type","text",1,"form-control","py-1","px-4","w-full","box","pr-10","h-10",2,"border-radius","0.375rem",3,"keyup.enter","formControl","matMenuTriggerFor","placeholder"],[1,"absolute","my-auto","inset-y-0","mr-3","right-0","text-slate-500","cursor-pointer",3,"click"],["name","search","size","16"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content",2,"max-height","200px","overflow-y","auto","width","250px"],[4,"ngIf","ngIfElse"],[1,"text-md","font-medium","flex","items-center","mt-3"],[4,"ngIf"],["class","flex mt-2",4,"ngFor","ngForOf"],[1,"p-3","text-right","border-t","border-slate-200","dark:border-darkmode-400"],["azt-track-service","add-parent-dialog-Yv0rmUIbhV",1,"mr-3","btn","btn-secondary","min-width-100",3,"click","disabled"],["azt-track-service","add-parent-dialog-RJ4JwiS_xG",1,"btn","btn-primary","min-width-100",3,"click","disabled"],[1,"text-center","mt-2"],[1,"w-6","h-6","inline-block"],[1,"p-2","text-center","text-xs"],["azt-track-service","add-parent-dialog-O3q5vOzZp","class","p-2",3,"click",4,"ngFor","ngForOf"],["azt-track-service","add-parent-dialog-O3q5vOzZp",1,"p-2",3,"click"],[3,"name","avatar","gender","phone","email","showPhone","showTooltip"],["role","alert",1,"bg-red-100","mt-2","border","border-red-400","text-red-700","px-4","py-1","rounded","relative"],[1,"block","sm:inline"],[1,"flex","mt-2"],["azt-track-service","add-parent-dialog-CxnSrTyDC_",1,"btn","btn-outline-danger","btn-sm","border-0","shadow-0","mr-2",3,"click"],["name","trash-2","size","18"],[3,"name","avatar","gender","phone","email"]],template:function(l,m){if(1&l){const g=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h3",4),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"azt-mat-dialog-content")(6,"div",5)(7,"div",6)(8,"div",7)(9,"azt-form-enter-info-student",8),t.bIt("closeDialog",function(){return t.eBV(g),t.Njj(m.closeDialog())}),t.k0s()(),t.j41(10,"div",9)(11,"div",10)(12,"div",11)(13,"input",12),t.nI1(14,"mytranslate"),t.bIt("keyup.enter",function(){return t.eBV(g),t.Njj(m.searchStudent())}),t.k0s(),t.j41(15,"button",13),t.bIt("click",function(){return t.eBV(g),t.Njj(m.searchStudent())}),t.nrm(16,"lucide-icon",14),t.k0s()(),t.j41(17,"mat-menu",null,0)(19,"div",15)(20,"ul",16),t.DNE(21,V,4,0,"ng-container",17)(22,ee,2,2,"ng-template",null,1,t.C5r),t.k0s()()()(),t.j41(24,"h3",18),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.DNE(27,Bt,5,3,"ng-container",19)(28,ue,4,5,"div",20),t.k0s()()()(),t.j41(29,"div",21)(30,"button",22),t.bIt("click",function(){return t.eBV(g),t.Njj(m.closeDialog())}),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"button",23),t.bIt("click",function(){return t.eBV(g),t.Njj(m.saveData())}),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s()()()}if(2&l){const g=t.sdS(18),$=t.sdS(23);t.R7$(3),t.SpI(" ",t.bMT(4,16,"lang_student_utils_add_parent")," "),t.R7$(6),t.Y8G("studentForm",m.studentForm)("hasUser",!1)("isAddParent",!0),t.R7$(4),t.FS9("placeholder",t.bMT(14,18,"lang_auto_nhap_ten_hoac_sdt_hoc_sinh")),t.Y8G("formControl",m.searchStudentControl)("matMenuTriggerFor",g),t.R7$(8),t.Y8G("ngIf",m.isSearching)("ngIfElse",$),t.R7$(4),t.SpI(" ",t.bMT(26,20,"lang_student_utils_parent_childs")," "),t.R7$(2),t.Y8G("ngIf",!m.listStudentChoose.length),t.R7$(),t.Y8G("ngForOf",m.listStudentChoose),t.R7$(2),t.Y8G("disabled",m.isSaving),t.R7$(),t.JRh(t.bMT(32,22,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",m.isSaving||m.studentForm.form.invalid||!m.listStudentChoose.length),t.R7$(),t.JRh(t.bMT(35,24,"lang_button_save"))}},dependencies:[a.Sq,a.bT,jt.kk,jt.Cp,s.me,s.BC,s.l_,zt.U,Y.R,X.B,W.s,n.WGl,x.wp]}),f})();var ge=_(74871),me=_(46289),Kt=_(18718),fe=_(22613),de=_(32099),Ht=_(61224);const oe=()=>({"mr-2":!0}),E=r=>[r],pt=r=>({backTo:r}),S=()=>({"ml-1":!0});function M(r,f){1&r&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function w(r,f){1&r&&(t.j41(0,"span",36),t.EFF(1,"*"),t.k0s())}function ht(r,f){if(1&r&&(t.j41(0,"div",37),t.nrm(1,"azt-loading-effect",38),t.k0s()),2&r){const c=t.XpG();t.R7$(),t.Y8G("currentStatusObj",c.statusObj)}}function At(r,f){1&r&&(t.j41(0,"div",43),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_khong_co_tai_khoan")," "))}function te(r,f){if(1&r&&(t.qex(0),t.j41(1,"td",53)(2,"a",54),t.nI1(3,"navigationLocalize"),t.nrm(4,"azt-student-info-box",55),t.k0s()(),t.bVm()),2&r){const c=t.XpG().$implicit,l=t.XpG(3);t.R7$(2),t.Y8G("routerLink",t.eq3(14,E,t.bMT(3,12,"/admin/student/profile-student/"+c.classrooms[0].id+"/"+c.classrooms[0].studentId)))("queryParams",t.eq3(16,pt,"/business/account-management?page="+l.pageObj.page)),t.R7$(2),t.Y8G("name",c.fullName)("parentUserName",c.userName)("phone",c.phone)("showPhone",!0)("email",c.email)("gender",c.gender)("birthday",c.birthday)("classrooms",c.classrooms)("phone",c.phone)("identificationNumber",null==c.student?null:c.student.identificationNumber)}}function ie(r,f){if(1&r&&(t.j41(0,"td",53),t.nrm(1,"azt-student-info-box",56),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(),t.Y8G("name",c.fullName)("phone",c.phone)("parentUserName",c.userName)("showPhone",!0)("email",c.email)("gender",c.gender)("birthday",c.birthday)("classrooms",c.classrooms)("phone",c.phone)("identificationNumber",null==c.student?null:c.student.identificationNumber)}}function he(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_azt_admin")))}function be(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_giao_vien")))}function Se(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_hoc_sinh")))}function Ee(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_phu_huynh")))}function Fe(r,f){if(1&r&&(t.j41(0,"div"),t.DNE(1,he,3,3,"span",41)(2,be,3,3,"span",41)(3,Se,3,3,"span",41)(4,Ee,3,3,"span",41),t.k0s()),2&r){const c=f.$implicit;t.R7$(),t.Y8G("ngIf","ADMIN"===c),t.R7$(),t.Y8G("ngIf","TEACHER"===c),t.R7$(),t.Y8G("ngIf","STUDENT"===c),t.R7$(),t.Y8G("ngIf","PARENT"===c)}}function Re(r,f){1&r&&t.nrm(0,"azt-loading-ui",60)}function Me(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",57)(1,"button",58),t.bIt("click",function(){t.eBV(c);const m=t.XpG().$implicit,g=t.XpG(3);return t.Njj(g.revertStudent(m))}),t.DNE(2,Re,1,0,"azt-loading-ui",59),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&r){const c=t.XpG().$implicit,l=t.XpG(3);t.R7$(),t.Y8G("disabled",l.userIdRevert==c.id),t.R7$(),t.Y8G("ngIf",l.userIdRevert==c.id),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_azt_khoi_phuc_tai_khoan")," ")}}function Ce(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",63),t.bIt("click",function(){t.eBV(c);const m=t.XpG(2).$implicit,g=t.XpG(3);return t.Njj(g.editStudentDialog(m))}),t.nrm(1,"lucide-icon",64),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function Te(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",57),t.DNE(1,Ce,4,5,"button",61),t.j41(2,"button",62),t.bIt("click",function(){t.eBV(c);const m=t.XpG().$implicit,g=t.XpG(3);return t.Njj(g.openDialogResetPass(m))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&r){const c=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",c.student&&!(null!=c.roles&&c.roles.includes("TEACHER"))&&(null==c.classrooms?null:c.classrooms.length)||c.isParent),t.R7$(),t.Y8G("disabled",c.isAdmin),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_core_dat_lai_mat_khau")," ")}}function N(r,f){if(1&r&&(t.j41(0,"tr"),t.DNE(1,te,5,18,"ng-container",49)(2,ie,2,10,"ng-template",null,2,t.C5r),t.j41(4,"td",50),t.DNE(5,Fe,5,4,"div",48),t.k0s(),t.j41(6,"td",51),t.DNE(7,Me,5,5,"div",52)(8,Te,5,5,"div",52),t.k0s()()),2&r){const c=f.$implicit,l=t.sdS(3);t.R7$(),t.Y8G("ngIf",c.classrooms&&c.classrooms.length)("ngIfElse",l),t.R7$(4),t.Y8G("ngForOf",c.listRoles),t.R7$(2),t.Y8G("ngIf",c.deletedAt),t.R7$(),t.Y8G("ngIf",!c.deletedAt)}}function wt(r,f){if(1&r&&(t.j41(0,"div")(1,"div",44)(2,"table",45)(3,"thead")(4,"tr")(5,"th",46),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",46),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",47),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()(),t.j41(14,"tbody"),t.DNE(15,N,9,5,"tr",48),t.k0s()()()()),2&r){const c=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,4,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,6,"lang_azt_role")),t.R7$(3),t.JRh(t.bMT(13,8,"lang_auto_hanh_dong")),t.R7$(3),t.Y8G("ngForOf",c.listUser)}}function A(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-paging",67),t.bIt("goToPaginationPage",function(m){t.eBV(c);const g=t.XpG(3);return t.Njj(g.setPageStudent(m))}),t.k0s()}if(2&r){const c=t.XpG(3);t.Y8G("pageObj",c.pageObj)}}function U(r,f){if(1&r&&(t.j41(0,"div",65),t.nrm(1,"div"),t.DNE(2,A,1,1,"azt-paging",66),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&r){const c=t.XpG(2);t.R7$(2),t.Y8G("ngIf",c.totalUser>c.pageObj.pageSize),t.R7$(),t.Lme(" ",c.totalUser," ",t.bMT(4,3,"lang_student_frontend_fooder_account")," ")}}function K(r,f){if(1&r&&(t.j41(0,"div",39),t.DNE(1,At,3,3,"div",40)(2,wt,16,10,"div",41)(3,U,5,5,"div",42),t.k0s()),2&r){const c=t.XpG();t.R7$(),t.Y8G("ngIf",0==c.listUser.length&&0==c.totalUser),t.R7$(),t.Y8G("ngIf",c.totalUser>0),t.R7$(),t.Y8G("ngIf",c.totalUser>0)}}function tt(r,f){1&r&&t.nrm(0,"lucide-icon",68),2&r&&t.Y8G("ngClass",t.lJ4(1,S))}function Gt(r,f){1&r&&t.nrm(0,"lucide-icon",68),2&r&&t.Y8G("ngClass",t.lJ4(1,S))}function Qt(r,f){1&r&&t.nrm(0,"lucide-icon",68),2&r&&t.Y8G("ngClass",t.lJ4(1,S))}function ae(r,f){1&r&&t.nrm(0,"lucide-icon",68),2&r&&t.Y8G("ngClass",t.lJ4(1,S))}let se=(()=>{var r;class f extends H.H{search(l){this.searchContentObj.setLoading(!0),this.searchContentObj=l,this.setPageStudent(1)}changeRoleFilter(l){this.roleFilter=l,this.initStatusObj(),this.getData()}setPageStudent(l){this.myNavigationWithQueryString("/business/account-management","?page="+l),this.pageObj.setPageNumber(l),this.initStatusObj(),this.getData()}openDialogResetPass(l){this.sAztDialogService.open(ge.$,{width:"500px",restoreFocus:!1,data:{id:l.id,name:l.fullName}}).afterClosed().subscribe(m=>{m&&(this.initStatusObj(),this.getData())})}editStudentDialog(l){let m=Object.assign({},l.student),g=Object.assign({teacherId:0,countStudents:0,showAddStudent:0,grade:0,isShareClassroom:!1,isWaitingConfirm:0,permissionObj:{},teamPermissions:[]},l.classrooms?.[0]);(l.isParent?this.sAztDialogService.open(pe,{data:l,restoreFocus:!1,width:"900px"}):this.sAztDialogService.open(_t.B,{data:{studentObj:m,classroomObj:g},restoreFocus:!1,width:"550px"})).afterClosed().subscribe(Dt=>{Dt&&(this.initStatusObj(),this.getData())})}revertStudent(l){this.userIdRevert=l.id;const m={isShow:!0,content:this.commonService.myTranslateInstant("lang_azt_ban_co_chac_chan_muon_khoi_phuc_tai_khoan")+"<b>"+l.fullName+"</b>?"};this.sAztDialogService.open(q.u,{data:m,restoreFocus:!1,width:"550px"}).afterClosed().subscribe($=>{$?this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementRevertUserPost({userId:l.id}).subscribe(Wt=>{if(this.userIdRevert=0,!Wt.success)return this.errorStatusObj(Wt.message,!0);this.getData(),this.successStatusObj("lang_azt_khoi_phuc_tai_khoan_thanh_cong",!0)})):this.userIdRevert=0})}redirectToAddAdmin(){this.myNavigationWithQueryString("/business/admin-management","?backto=/business/account-management&showDialogAddUser=1")}redirectToAddTeacher(){this.myNavigationWithQueryString("/admin/teacher-group/0/0","?backto=/business/account-management&showDialogAddUser=1")}redirectToAddStudent(){this.myNavigationWithQueryString("/business/student-management/1","?backto=/business/account-management&showDialogAddUser=1")}getData(){this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementGetUsersInDomainPost({page:this.pageObj.page,pageSize:this.pageObj.pageSize,textSearch:this.searchContentObj.searchContent,role:this.roleFilter}).subscribe(m=>{if(this.searchContentObj.setLoading(!1),!m.success)return this.errorStatusObj(m.message,!0);this.listUser=m.data?.objs??[],this.totalUser=m.data?.total??0,this.pageObj.setTotalPages(this.totalUser),this.stopStatusObj()}))}ngOnInit(){this.initStatusObj(),this.commonService.translateMetaData({title:"lang_core_quan_ly_tai_khoan",image:"lang_cms_test_image"}),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),super.ngOnInit(),this.getData()}constructor(l,m){super(),this.sAztDialogService=l,this.domainUsersManagementService=m,this.backLink="/business/dashboard",this.listUser=[],this.totalUser=0,this.searchContentObj=new at.Z,this.pageObj=new Et.d(20),this.userIdRevert=0,this.roleFilter=""}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(Q.i),t.rXU(me.Z))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-azota-business-account-management"]],features:[t.Vt3],decls:69,vars:52,consts:[["doneLoading",""],["menuRoleFilter","matMenu"],["noClick",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],[1,"w-full","sm:w-auto","grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-1"],[1,"col-span-12","md:col-span-3"],[1,"btn","btn-primary","text-white","shadow-md","w-full",3,"click"],["name","user-cog","size","16"],[1,"ml-2"],[1,"btn","px-2","box","shadow-md","mr-2","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400","w-full",3,"click"],["name","user-plus","size","16"],["name","plus","size","16"],[1,"col-span-12","md:col-span-2"],[1,"w-full","shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],["class","flex w-full justify-center",4,"ngIf","ngIfElse"],["xPosition","before"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[1,"dropdown-item","w-full",3,"click"],["name","rows-4","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","shield-check","size","16",3,"ngClass"],["name","notebook","size","16",3,"ngClass"],["name","baby","size","16",3,"ngClass"],[1,"mt-1"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"flex","w-full","justify-center"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-2 pb-3",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-right",2,"padding-right","50px"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[2,"min-width","120px"],[1,"text-center",2,"min-width","170px"],["class","flex","style","align-items: center; justify-content: flex-end",4,"ngIf"],[1,"!py-3.5","clickable","w-full"],["azt-track-service","business-account-management-5jFBgY7hz",3,"routerLink","queryParams"],[3,"name","parentUserName","phone","showPhone","email","gender","birthday","classrooms","identificationNumber"],[3,"name","phone","parentUserName","showPhone","email","gender","birthday","classrooms","identificationNumber"],[1,"flex",2,"align-items","center","justify-content","flex-end"],[1,"btn","btn-warning","btn-sm","shadow-md","w-full","w-32","whitespace-nowrap",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["azt-track-service","business-account-management-i6OyzMorBB","class","btn btn-sm btn-outline-primary mr-3 w-20",3,"click",4,"ngIf"],["azt-track-service","business-account-management-Vo_M4nrVzj",1,"btn","btn-primary","btn-sm","shadow-md","w-full","w-32","whitespace-nowrap",3,"click","disabled"],["azt-track-service","business-account-management-i6OyzMorBB",1,"btn","btn-sm","btn-outline-primary","mr-3","w-20",3,"click"],["name","square-pen","size","16",3,"ngClass"],[1,"flex","justify-between","items-center","mt-2","pb-3"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[3,"goToPaginationPage","pageObj"],["name","check","size","16",3,"ngClass"]],template:function(l,m){if(1&l){const g=t.RV6();t.j41(0,"teacher-layout",3)(1,"div",4)(2,"div",5)(3,"h3",6),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,M,3,3,"div",7),t.k0s(),t.j41(7,"div",8)(8,"div",9)(9,"div",10)(10,"azt-search-box",11),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(Dt){return t.eBV(g),t.Njj(m.search(Dt.searchObj))}),t.k0s()(),t.j41(12,"div",12),t.nrm(13,"div",13),t.j41(14,"div",14)(15,"button",15),t.bIt("click",function(){return t.eBV(g),t.Njj(m.redirectToAddAdmin())}),t.nrm(16,"lucide-icon",16),t.j41(17,"span",17),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()(),t.j41(20,"div",14)(21,"button",18),t.bIt("click",function(){return t.eBV(g),t.Njj(m.redirectToAddTeacher())}),t.nrm(22,"lucide-icon",19),t.j41(23,"span",17),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()(),t.j41(26,"div",14)(27,"button",18),t.bIt("click",function(){return t.eBV(g),t.Njj(m.redirectToAddStudent())}),t.nrm(28,"lucide-icon",20),t.j41(29,"span",17),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"div",21)(33,"button",22),t.nrm(34,"lucide-icon",23),t.EFF(35),t.nI1(36,"mytranslate"),t.DNE(37,w,2,0,"span",24),t.k0s()()()()(),t.DNE(38,ht,2,1,"div",25)(39,K,4,3,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(41,"mat-menu",26,1)(43,"div",27)(44,"ul",28)(45,"li")(46,"button",29),t.bIt("click",function(){return t.eBV(g),t.Njj(m.changeRoleFilter(""))}),t.nrm(47,"lucide-icon",30),t.EFF(48),t.nI1(49,"mytranslate"),t.DNE(50,tt,1,2,"lucide-icon",31),t.k0s()(),t.j41(51,"li")(52,"button",29),t.bIt("click",function(){return t.eBV(g),t.Njj(m.changeRoleFilter("ADMIN"))}),t.nrm(53,"lucide-icon",32),t.EFF(54),t.nI1(55,"mytranslate"),t.DNE(56,Gt,1,2,"lucide-icon",31),t.k0s()(),t.j41(57,"li")(58,"button",29),t.bIt("click",function(){return t.eBV(g),t.Njj(m.changeRoleFilter("TEACHER"))}),t.nrm(59,"lucide-icon",33),t.EFF(60),t.nI1(61,"mytranslate"),t.DNE(62,Qt,1,2,"lucide-icon",31),t.k0s()(),t.j41(63,"li")(64,"button",29),t.bIt("click",function(){return t.eBV(g),t.Njj(m.changeRoleFilter("STUDENT"))}),t.nrm(65,"lucide-icon",34),t.EFF(66),t.nI1(67,"mytranslate"),t.DNE(68,ae,1,2,"lucide-icon",31),t.k0s()()()()()}if(2&l){const g=t.sdS(40),$=t.sdS(42);t.Y8G("headerBackToLink",m.backLink),t.R7$(4),t.SpI(" ",t.bMT(5,27,"lang_core_quan_ly_tai_khoan")," "),t.R7$(2),t.Y8G("ngIf",m.isMobileDevice&&m.listUser.length>0),t.R7$(4),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(11,29,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",m.searchContentObj),t.R7$(8),t.JRh(t.bMT(19,31,"lang_azt_add_an_admin_account")),t.R7$(6),t.JRh(t.bMT(25,33,"lang_teacher_group_group_add_student")),t.R7$(6),t.JRh(t.bMT(31,35,"lang_auto_them_hoc_sinh")),t.R7$(3),t.Y8G("matMenuTriggerFor",$),t.R7$(),t.Y8G("ngClass",t.lJ4(47,oe)),t.R7$(),t.SpI(" ",t.bMT(36,37,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf",""!=m.roleFilter),t.R7$(),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g),t.R7$(9),t.Y8G("ngClass",t.lJ4(48,oe)),t.R7$(),t.SpI(" ",t.bMT(49,39,"lang_homework_content_store_all")," "),t.R7$(2),t.Y8G("ngIf",""==m.roleFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(49,oe)),t.R7$(),t.SpI(" ",t.bMT(55,41,"lang_azt_admin")," "),t.R7$(2),t.Y8G("ngIf","ADMIN"==m.roleFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(50,oe)),t.R7$(),t.SpI(" ",t.bMT(61,43,"lang_auto_giao_vien")," "),t.R7$(2),t.Y8G("ngIf","TEACHER"==m.roleFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(51,oe)),t.R7$(),t.SpI(" ",t.bMT(67,45,"lang_auto_hoc_sinh")," "),t.R7$(2),t.Y8G("ngIf","STUDENT"==m.roleFilter)}},dependencies:[b.Wk,a.YU,a.Sq,a.bT,jt.kk,jt.Cp,Kt.K,fe.q,Y.R,de.W,X.B,Ht.Q,n.WGl,x.F2,x.wp],encapsulation:2}),f})();var re=_(44477),le=_(15766),ce=_(81587);const Ae=()=>({"dark:text-slate-500":!0});function Pe(r,f){1&r&&(t.j41(0,"div",31)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.SpI("",t.bMT(3,1,"lang_cms_utils_folder_name_validate_space"),"!"))}function ye(r,f){if(1&r&&(t.j41(0,"div",31),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,1,c.msgError)," ")}}function ke(r,f){if(1&r&&(t.j41(0,"div",11)(1,"label",32),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",8),t.nrm(5,"input",33),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,ye,3,3,"div",10),t.k0s()),2&r){const c=t.XpG();t.R7$(2),t.JRh(t.bMT(3,3,"lang_auto_nhap_sdt_hoac_email")),t.R7$(3),t.FS9("placeholder",t.bMT(6,5,"lang_auto_nhap_sdt_hoac_email")),t.R7$(2),t.Y8G("ngIf",c.form.controls.phoneOrEmail.touched&&c.isInvalidUserPhoneOrEmail())}}function Oe(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function Ge(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function $e(r,f){if(1&r&&(t.j41(0,"div",31),t.DNE(1,Oe,3,3,"span",34)(2,Ge,3,3,"span",34),t.k0s()),2&r){const c=t.XpG();t.R7$(),t.Y8G("ngIf",c.form.controls.password.errors.required),t.R7$(),t.Y8G("ngIf",c.form.controls.password.errors.minlength)}}function Ne(r,f){1&r&&t.nrm(0,"azt-loading-ui",35),2&r&&t.Y8G("size",15)}let T=(()=>{var r;class f extends Mt._{handleCloseDialog(){this.dialogRef.close()}handleSubmit(){if(this.form.invalid||this.isInvalidUserPhoneOrEmail())return this.form.markAllAsTouched();this.initStatusObj();const l=this.form.getRawValue(),m={fullName:l.fullName,phoneOrEmail:l.phoneOrEmail,password:l.password,gender:l.gender},$=this.data?this.domainAdminManagementService.apiDomainAdminManagementUpdateObjPost({userId:this.data?.id,fullName:l.fullName,password:l.password?l.password:void 0,gender:l.gender}):this.domainAdminManagementService.apiDomainAdminManagementAddObjPost(m);this.waitDestroy($.subscribe(Dt=>{if(!Dt.success)return this.errorStatusObj(Dt.message,!0);this.dialogRef.close(Dt.data),this.successStatusObj(this.data?"lang_auto_cap_nhat_thanh_cong":"lang_auto_them_thanh_cong",!0)}))}isInvalidUserPhoneOrEmail(){return!this.data&&(this.msgError=re.U.validPhoneOrEmail(this.form.getRawValue().phoneOrEmail),""!=this.msgError)}togglePassword(){this.showPassword=!this.showPassword}initData(){this.data&&this.form.patchValue({fullName:this.data.fullName,phoneOrEmail:this.data.phone?this.data.phone:this.data.email?this.data.email:"",gender:this.data.gender??0})}constructor(l,m,g){super(g,m),this.domainAdminManagementService=l,this.dialogRef=m,this.data=g,this.msgError="",this.showPassword=!1,this.form=new s.gE(g?{fullName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,le.M.noWhiteSpace]}),phoneOrEmail:new s.MJ("",{nonNullable:!0}),gender:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),password:new s.MJ("",{nonNullable:!0,validators:[s.k0.minLength(6)]})}:{fullName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,le.M.noWhiteSpace]}),phoneOrEmail:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,le.M.noWhiteSpace]}),gender:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),password:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.minLength(6),le.M.noWhiteSpace]})})}ngOnInit(){super.ngOnInit(),this.initData()}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(Pt.ax),t.rXU(e.CP,8),t.rXU(e.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["selector-name"]],features:[t.Vt3],decls:53,vars:41,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-base","font-bold","flex","items-center"],[1,"p-3"],[1,"azt-form-group"],["for","full-name",1,"form-label","font-medium"],[1,"input-group"],["type","text","id","full-name","autocomplete","new-full-name","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs font-medium mt-2",4,"ngIf"],[1,"azt-form-group","mt-3"],[1,"flex","justify-between","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],["for","gender",1,"text-sm"],[1,"flex","justify-end"],[1,"form-check","w-20","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio",1,"form-check-input",3,"value"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender",1,"form-check-input",3,"value"],["for","azt-acs-gender-female",1,"form-check-label"],["class","azt-form-group mt-3",4,"ngIf"],["for","password",1,"form-label","font-medium"],[1,"relative"],["id","password","formControlName","password","autocapitalize","none","autocomplete","new-password",1,"form-control","px-4","block",3,"type","placeholder"],["type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","20",3,"name","ngClass"],[1,"p-3","flex"],[1,"ml-auto"],["type","button",1,"btn","btn-secondary","min-width-100","mr-2",3,"click"],[1,"btn","btn-primary","min-width-100",3,"click"],["class","mr-1",3,"size",4,"ngIf"],[1,"text-danger","text-xs","font-medium","mt-2"],["for","phoneOrEmail",1,"form-label","font-medium"],["type","text","autocapitalize","none","formControlName","phoneOrEmail","id","phoneOrEmail",1,"form-control",3,"placeholder"],[4,"ngIf"],[1,"mr-1",3,"size"]],template:function(l,m){1&l&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"div",5)(8,"div",6)(9,"label",7),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"div",8),t.nrm(13,"input",9),t.nI1(14,"mytranslate"),t.k0s(),t.DNE(15,Pe,4,3,"div",10),t.k0s(),t.j41(16,"div",11)(17,"div",12)(18,"label",13),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",14)(22,"div",15),t.nrm(23,"input",16),t.j41(24,"label",17),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()(),t.j41(27,"div",15),t.nrm(28,"input",18),t.j41(29,"label",19),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()()()(),t.DNE(32,ke,8,7,"div",20),t.j41(33,"div",11)(34,"label",21),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s(),t.j41(37,"div",22),t.nrm(38,"input",23),t.nI1(39,"mytranslate"),t.j41(40,"button",24),t.bIt("click",function(){return m.togglePassword()}),t.nrm(41,"lucide-icon",25),t.k0s()(),t.DNE(42,$e,3,2,"div",10),t.k0s()()(),t.j41(43,"div",26)(44,"div",27)(45,"button",28),t.bIt("click",function(){return m.handleCloseDialog()}),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s(),t.j41(48,"button",29),t.bIt("click",function(){return m.handleSubmit()}),t.DNE(49,Ne,1,1,"azt-loading-ui",30),t.j41(50,"span"),t.EFF(51),t.nI1(52,"mytranslate"),t.k0s()()()()()()),2&l&&(t.R7$(),t.Y8G("formGroup",m.form),t.R7$(4),t.SpI(" ",t.bMT(6,20,m.data?"lang_azt_update_admin":"lang_azt_create_admin")," "),t.R7$(5),t.JRh(t.bMT(11,22,"lang_auto_ho_va_ten")),t.R7$(3),t.FS9("placeholder",t.bMT(14,24,"lang_auto_ho_va_ten")),t.R7$(2),t.Y8G("ngIf",m.form.controls.fullName.errors&&m.form.controls.fullName.touched),t.R7$(4),t.SpI(" ",t.bMT(20,26,"lang_auto_gioi_tinh")," "),t.R7$(4),t.Y8G("value",1),t.R7$(2),t.SpI(" ",t.bMT(26,28,"lang_auto_nam")," "),t.R7$(3),t.Y8G("value",0),t.R7$(2),t.SpI(" ",t.bMT(31,30,"lang_auto_nu")," "),t.R7$(2),t.Y8G("ngIf",!m.data),t.R7$(3),t.JRh(t.bMT(36,32,"lang_auto_mat_khau")),t.R7$(3),t.FS9("placeholder",t.bMT(39,34,"lang_auto_mat_khau")),t.Y8G("type",m.showPassword?"text":"password"),t.R7$(3),t.FS9("name",m.showPassword?"eye":"eye-off"),t.Y8G("ngClass",t.lJ4(40,Ae)),t.R7$(),t.Y8G("ngIf",m.form.controls.password.errors&&m.form.controls.password.touched),t.R7$(4),t.SpI(" ",t.bMT(47,36,"lang_button_cancel")," "),t.R7$(3),t.Y8G("ngIf",m.statusObj.loading),t.R7$(2),t.JRh(t.bMT(52,38,m.data?"lang_button_update":"lang_button_save")))},dependencies:[a.YU,a.bT,s.qT,s.me,s.Fm,s.BC,s.cb,s.j4,s.JD,ce.t,Y.R,n.WGl,x.wp],encapsulation:2}),f})();const rt=()=>["fullName","phone","email"],P=()=>({"mr-2":!0});function j(r,f){1&r&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function I(r,f){if(1&r&&(t.j41(0,"div",17),t.nrm(1,"azt-loading-effect",18),t.k0s()),2&r){const c=t.XpG();t.R7$(),t.Y8G("currentStatusObj",c.statusObj)}}function lt(r,f){if(1&r){const c=t.RV6();t.j41(0,"tr")(1,"td",26),t.nrm(2,"azt-student-info-box",27),t.k0s(),t.j41(3,"td",28),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"td",29)(7,"div",30)(8,"button",31),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.createOrUpdateAdmin(m))}),t.nrm(9,"lucide-icon",32),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"button",33),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.removeAdminRole(m))}),t.nrm(13,"lucide-icon",34),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()}if(2&r){const c=f.$implicit;t.R7$(2),t.Y8G("name",c.fullName)("phone",c.phone)("parentUserName",c.userName)("showPhone",!0)("email",c.email)("gender",c.gender)("birthday",c.birthday)("phone",c.phone),t.R7$(2),t.SpI(" ",t.bMT(5,13,"")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(19,P)),t.R7$(),t.SpI(" ",t.bMT(11,15,"lang_auto_sua")," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(20,P)),t.R7$(),t.SpI(" ",t.bMT(15,17,"X\xf3a quy\u1ec1n")," ")}}function ne(r,f){if(1&r&&(t.j41(0,"div")(1,"div",21)(2,"table",22)(3,"thead")(4,"tr")(5,"th",23),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.nrm(8,"th",24)(9,"th",24),t.k0s()(),t.j41(10,"tbody"),t.DNE(11,lt,16,21,"tr",25),t.nI1(12,"appFilter"),t.k0s()()()()),2&r){const c=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,2,"lang_auto_ho_va_ten")),t.R7$(5),t.Y8G("ngForOf",t.brH(12,4,c.userList,c.searchContentObj.searchContent,t.lJ4(8,rt)))}}function y(r,f){1&r&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_khong_co_tai_khoan")," "))}function ct(r,f){if(1&r&&(t.j41(0,"div",19),t.DNE(1,ne,13,9,"div",20),t.nI1(2,"appFilter"),t.DNE(3,y,3,3,"ng-template",null,1,t.C5r),t.k0s()),2&r){const c=t.sdS(4),l=t.XpG();t.R7$(),t.Y8G("ngIf",t.brH(2,2,l.userList,l.searchContentObj.searchContent,t.lJ4(6,rt)).length>0)("ngIfElse",c)}}let F=(()=>{var r;class f extends H.H{search(l){this.searchContentObj=l}createOrUpdateAdmin(l){this.sAztDialogService.open(T,{width:"600px",restoreFocus:!1,data:l}).afterClosed().subscribe(g=>{g&&(l?(l.fullName=g.fullName,l.phone=g.phone,l.email=g.email):this.userList.unshift(g))})}removeAdminRole(l){const m=`${this.commonService.myTranslateInstant("lang_azt_title_confirm_remove_admin_role")?.replace("________",l.fullName)}`;this.sAztDialogService.open(q.u,{data:{content:m,iconName:"trash-2"},restoreFocus:!1,width:"500px"}).afterClosed().subscribe($=>{$&&this.callApiRemoveAdminRole(l)})}callApiRemoveAdminRole(l){this.initStatusObj(),this.waitDestroy(this.domainAdminManagementService.apiDomainAdminManagementRemoveAdminRoleGet(l.id).subscribe(m=>{if(!m.success)return this.errorStatusObj(m.message,!0);const g=this.userList.findIndex($=>$.id===l.id);this.userList.splice(g,1),this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0)}))}getData(){this.waitDestroy(this.domainAdminManagementService.apiDomainAdminManagementGetObjsGet().subscribe(l=>{if(this.searchContentObj.setLoading(!1),!l.success)return this.errorStatusObj(l.message,!0);this.userList=l.data?.objs??[],this.totalUser=l.data?.objs?.length??0,this.pageObj.setTotalPages(this.totalUser),this.stopStatusObj()}))}ngOnInit(){super.ngOnInit(),this.commonService.translateMetaData({title:"lang_azt_admin",image:"lang_cms_test_image"}),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard";const l=Number(this.commonService.getMyQueryParam("showDialogAddUser")??0);this.getData(),l&&this.createOrUpdateAdmin()}constructor(l,m){super(),this.sAztDialogService=l,this.domainAdminManagementService=m,this.backLink="",this.userList=[],this.totalUser=0,this.searchContentObj=new at.Z,this.pageObj=new Et.d(20),this.userIdRevert=0}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(Q.i),t.rXU(Pt.ax))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-azota-business-admin-management"]],features:[t.Vt3],decls:21,vars:15,consts:[["doneLoading",""],["emptyUser",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],[1,"ml-auto"],[1,"btn","btn-primary",3,"click"],["name","plus","size","16"],[1,"ml-2"],["class","flex w-full justify-center",4,"ngIf","ngIfElse"],[1,"mt-1"],[1,"flex","w-full","justify-center"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],[4,"ngIf","ngIfElse"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap",2,"padding-left","0"],[4,"ngFor","ngForOf"],[1,"!py-3.5","clickable","w-full"],[3,"name","phone","parentUserName","showPhone","email","gender","birthday"],[2,"min-width","120px"],[2,"min-width","170px"],[1,"flex","items-center"],[1,"btn","btn-sm","btn-primary-soft","mr-3","w-20",3,"click"],["name","square-pen","size","16",3,"ngClass"],[1,"btn","btn-danger-soft","btn-sm","shadow-md","w-full","w-32","whitespace-nowrap",3,"click"],["name","trash-2","size","16",3,"ngClass"],[1,"mt-10","text-center"]],template:function(l,m){if(1&l){const g=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,j,3,3,"div",6),t.k0s(),t.j41(7,"div",7)(8,"div",8)(9,"div",9)(10,"azt-search-box",10),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(Dt){return t.eBV(g),t.Njj(m.search(Dt.searchObj))}),t.k0s()(),t.j41(12,"div",11)(13,"button",12),t.bIt("click",function(){return t.eBV(g),t.Njj(m.createOrUpdateAdmin())}),t.nrm(14,"lucide-icon",13),t.j41(15,"span",14),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()()(),t.DNE(18,I,2,1,"div",15)(19,ct,5,7,"ng-template",null,0,t.C5r),t.k0s()()}if(2&l){const g=t.sdS(20);t.Y8G("headerBackToLink",m.backLink),t.R7$(4),t.SpI(" ",t.bMT(5,9,"lang_azt_admin")," "),t.R7$(2),t.Y8G("ngIf",m.isMobileDevice&&m.userList.length>0),t.R7$(4),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(11,11,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",m.searchContentObj),t.R7$(6),t.JRh(t.bMT(17,13,"lang_azt_create_admin")),t.R7$(2),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g)}},dependencies:[a.YU,a.Sq,a.bT,Kt.K,de.W,X.B,Ht.Q,n.WGl,x.wp,x.WL],encapsulation:2}),f})();const O=r=>({"text-danger":r});function D(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function kt(r,f){1&r&&(t.j41(0,"span",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_billing_is_active_subscription")))}function Jt(r,f){1&r&&(t.j41(0,"span",18),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_billing_is_inactive_subscription")))}function Zt(r,f){if(1&r&&(t.qex(0),t.j41(1,"tr")(2,"td"),t.EFF(3),t.nI1(4,"formatFullDateTimeByUserUnitPipe"),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"formatFullDateTimeByUserUnitPipe"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"td"),t.EFF(12),t.nI1(13,"formatMoney"),t.nI1(14,"mytranslate"),t.k0s()(),t.bVm()),2&r){const c=f.$implicit;t.R7$(3),t.JRh(t.bMT(4,4,c.createdAt)),t.R7$(3),t.JRh(t.bMT(7,6,c.endDate)),t.R7$(3),t.JRh(t.bMT(10,8,c.packageName)),t.R7$(3),t.JRh(t.bMT(13,10,c.packageMoney)+" "+t.bMT(14,12,"lang_auto_vnd_upper"))}}function we(r,f){if(1&r){const c=t.RV6();t.qex(0),t.j41(1,"div")(2,"b"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.EFF(5),t.nI1(6,"mytranslate"),t.DNE(7,kt,3,3,"span",7)(8,Jt,3,3,"span",8),t.EFF(9," ) "),t.j41(10,"button",9),t.bIt("click",function(){t.eBV(c);const m=t.XpG(2);return t.Njj(m.extendPackage())}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",10),t.bIt("click",function(){t.eBV(c);const m=t.XpG(2);return t.Njj(m.upgradePackage())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",11)(17,"b"),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.EFF(20),t.nI1(21,"formatFullDateTimeByUserUnitPipe"),t.j41(22,"b"),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.EFF(25),t.nI1(26,"formatFullDateTimeByUserUnitPipe"),t.j41(27,"span",12),t.EFF(28),t.nI1(29,"mytranslate"),t.nI1(30,"mytranslate"),t.k0s()(),t.nrm(31,"hr",13),t.j41(32,"div")(33,"b"),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s(),t.j41(36,"table",14)(37,"thead")(38,"tr",15)(39,"td"),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s(),t.j41(42,"td"),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s(),t.j41(45,"td"),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s(),t.j41(48,"td"),t.EFF(49),t.nI1(50,"mytranslate"),t.k0s()()(),t.j41(51,"tbody"),t.DNE(52,Zt,15,14,"ng-container",16),t.k0s()()(),t.bVm()}if(2&r){const c=t.XpG(2);t.R7$(3),t.SpI("",t.bMT(4,21,"lang_business_config_billing_current_subscription_package"),":"),t.R7$(2),t.SpI(" ",t.bMT(6,23,null==c.subscriptionObj.businessPackage?null:c.subscriptionObj.businessPackage.name)," ( "),t.R7$(2),t.Y8G("ngIf",c.isActiveSubscription),t.R7$(),t.Y8G("ngIf",!c.isActiveSubscription),t.R7$(3),t.JRh(t.bMT(12,25,"lang_business_config_billing_extend_package")),t.R7$(3),t.JRh(t.bMT(15,27,"lang_business_config_billing_upgrade_package")),t.R7$(4),t.SpI("",t.bMT(19,29,"lang_business_config_billing_start_time"),":"),t.R7$(2),t.SpI(" ",t.bMT(21,31,c.subscriptionObj.startTime),"\xa0\xa0 "),t.R7$(3),t.SpI("",t.bMT(24,33,"lang_business_config_billing_end_time_subscription"),":"),t.R7$(2),t.SpI(" ",t.bMT(26,35,c.subscriptionObj.endTime)," ( "),t.R7$(2),t.Y8G("ngClass",t.eq3(51,O,c.subscriptionTimeDtoObj.days<10)),t.R7$(),t.LHq("",c.subscriptionTimeDtoObj.days," ",t.bMT(29,37,"lang_auto_day"),", ",c.subscriptionTimeDtoObj.hours," ",t.bMT(30,39,"lang_auto_clock"),")"),t.R7$(6),t.JRh(t.bMT(35,41,"lang_business_config_billing_history_list")),t.R7$(6),t.JRh(t.bMT(41,43,"lang_business_config_billing_history_start_date")),t.R7$(3),t.JRh(t.bMT(44,45,"lang_business_config_billing_history_end_date")),t.R7$(3),t.JRh(t.bMT(47,47,"lang_business_config_billing_history_package_name")),t.R7$(3),t.JRh(t.bMT(50,49,"lang_business_config_billing_history_package_price")),t.R7$(3),t.Y8G("ngForOf",c.subscriptionObj.subscriptionHistories)}}function pn(r,f){1&r&&(t.EFF(0),t.nI1(1,"mytranslate")),2&r&&t.SpI(" ",t.bMT(1,1,"lang_business_config_billing_there_is_no_subscription")," ")}function gn(r,f){if(1&r&&(t.j41(0,"div",4)(1,"div",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div"),t.DNE(5,we,53,53,"ng-container",6)(6,pn,2,3,"ng-template",null,1,t.C5r),t.k0s()()),2&r){const c=t.sdS(7),l=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_business_config_billing_title")," "),t.R7$(3),t.Y8G("ngIf",l.subscriptionObj)("ngIfElse",c)}}let fn=(()=>{var r;class f extends H.H{extendPackage(){this.myNavigation("/auth/business-packages/extend_package/0/0")}upgradePackage(){this.myNavigation("/auth/business-packages/upgrade_package/0/0")}initData(){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesMeGet().subscribe(l=>{l.success?(this.subscriptionObj=l.data?.obj,this.subscriptionTimeDtoObj=this.sAztTimeService.getDayHourMinuteOfSubtract(this.subscriptionObj?.endTime),(this.subscriptionTimeDtoObj.days<0||this.subscriptionTimeDtoObj.hours<0||this.subscriptionTimeDtoObj.minutes<0)&&(this.subscriptionTimeDtoObj={days:0,hours:0,minutes:0},this.isActiveSubscription=!1),this.stopStatusObj()):this.errorStatusObj(l.message,!0)}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(l,m){super(),this.businessPackageService=l,this.sAztTimeService=m,this.subscriptionObj=void 0,this.subscriptionHistories=[],this.subscriptionTimeDtoObj={days:0,hours:0,minutes:0},this.isActiveSubscription=!0}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(Pt.WC),t.rXU(bt.F))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-business-billing-configs"]],features:[t.Vt3],decls:3,vars:2,consts:[["doneLoading",""],["notFoundSubscription",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"config-business-billing"],[1,"flex","items-center","border-b","border-slate-200/60","pb-5","mb-5","text-base","font-medium","dark:border-darkmode-400"],[4,"ngIf","ngIfElse"],["class","text-success",4,"ngIf"],["class","text-dagner",4,"ngIf"],[1,"btn","btn-pending","mr-2",3,"click"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"pt-3"],[3,"ngClass"],[1,"mt-6","mb-6"],[1,"table","table-bordered","mt-3"],[1,"table-header"],[4,"ngFor","ngForOf"],[1,"text-success"],[1,"text-dagner"]],template:function(l,m){if(1&l&&t.DNE(0,D,1,1,"azt-loading-effect",2)(1,gn,8,5,"ng-template",null,0,t.C5r),2&l){const g=t.sdS(2);t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g)}},dependencies:[a.YU,a.Sq,a.bT,Kt.K,x.wp,x.Rr,x.t0],encapsulation:2}),f})();var Xe=_(39712),hn=_(96670);const bn=r=>({src:r,type:"bigLogo"}),vn=r=>({src:r,type:"smallLogo"}),Cn=r=>({src:r,type:"favicon"}),kn=()=>({standalone:!0}),xn=r=>({width:r}),In=r=>[r],Tn=()=>({"mr-2":!0});function yn(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function On(r,f){1&r&&t.eu8(0)}function jn(r,f){1&r&&t.eu8(0)}function Sn(r,f){1&r&&t.eu8(0)}function En(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",4)(1,"div",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",6),t.DNE(5,On,1,0,"ng-container",7),t.k0s(),t.j41(6,"div",8),t.DNE(7,jn,1,0,"ng-container",7),t.k0s(),t.j41(8,"div",8),t.DNE(9,Sn,1,0,"ng-container",7),t.k0s(),t.j41(10,"div",9)(11,"label",10),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"div",11)(15,"input",12),t.nI1(16,"mytranslate"),t.mxI("ngModelChange",function(m){t.eBV(c);const g=t.XpG();return t.DH7(g.domainConfigObj.defaultPageTitle,m)||(g.domainConfigObj.defaultPageTitle=m),t.Njj(m)}),t.k0s(),t.j41(17,"div",13),t.nrm(18,"lucide-icon",14),t.j41(19,"span",15),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()(),t.j41(22,"div",9)(23,"div",16),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"div",11)(27,"editor",17),t.nI1(28,"getTinyMceKey"),t.nI1(29,"getTinyMceConfig"),t.mxI("ngModelChange",function(m){t.eBV(c);const g=t.XpG();return t.DH7(g.domainConfigObj.welcomeTextAtLogin,m)||(g.domainConfigObj.welcomeTextAtLogin=m),t.Njj(m)}),t.k0s()()(),t.j41(30,"div",18)(31,"button",19),t.bIt("click",function(){t.eBV(c);const m=t.XpG();return t.Njj(m.saveConfigObj())}),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s()()()}if(2&r){const c=t.XpG(),l=t.sdS(4);t.R7$(2),t.SpI(" ",t.bMT(3,17,"lang_business_config_logo_title")," "),t.R7$(3),t.Y8G("ngTemplateOutlet",l)("ngTemplateOutletContext",t.eq3(33,bn,c.domainConfigObj.bigLogo)),t.R7$(2),t.Y8G("ngTemplateOutlet",l)("ngTemplateOutletContext",t.eq3(35,vn,c.domainConfigObj.smallLogo)),t.R7$(2),t.Y8G("ngTemplateOutlet",l)("ngTemplateOutletContext",t.eq3(37,Cn,c.domainConfigObj.favicon)),t.R7$(3),t.SpI(" ",t.bMT(13,19,"lang_azt_page_title")," "),t.R7$(3),t.FS9("placeholder",t.bMT(16,21,"lang_azt_enter_page_title")),t.R50("ngModel",c.domainConfigObj.defaultPageTitle),t.R7$(5),t.JRh(t.bMT(21,23,"lang_azt_note_config_title_in_business")),t.R7$(4),t.SpI(" ",t.bMT(25,25,"lang_business_config_welcome_text_at_login_page")," "),t.R7$(3),t.FS9("apiKey",t.bMT(28,27,"")),t.R50("ngModel",c.domainConfigObj.welcomeTextAtLogin),t.Y8G("ngModelOptions",t.lJ4(39,kn))("init",t.bMT(29,29,"upload_for_business_config")),t.R7$(5),t.SpI(" ",t.bMT(33,31,"lang_auto_luu")," ")}}function Fn(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_big_logo_title")))}function Rn(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_small_logo_title")))}function Mn(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_favicon_title")))}function wn(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_azt_note_big_logo")))}function Dn(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_azt_note_small_logo")))}function Pn(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_azt_note_favicon")))}function zn(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_big_logo_title")))}function An(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_small_logo_title")))}function Gn(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_business_config_favicon_title")))}function $n(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",6)(1,"div",16),t.DNE(2,Fn,3,3,"span",20)(3,Rn,3,3,"span",20)(4,Mn,3,3,"span",20),t.k0s(),t.j41(5,"div",21)(6,"div",22),t.nrm(7,"img",23),t.nI1(8,"getSystemDefaultLogo"),t.k0s(),t.j41(9,"azt-upload-image-cropper",24),t.bIt("uploadComplete",function(m){const g=t.eBV(c).type,$=t.XpG();return t.Njj($.uploadNewLogo(g,m))}),t.j41(10,"div",25)(11,"button",26),t.nrm(12,"lucide-icon",27),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()(),t.j41(15,"div",28)(16,"button",29),t.bIt("click",function(){const m=t.eBV(c).type,g=t.XpG();return t.Njj(g.deleteLogo(m))}),t.nrm(17,"lucide-icon",30),t.j41(18,"span",15),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()(),t.j41(21,"div",31)(22,"div",32),t.DNE(23,wn,3,3,"span",20)(24,Dn,3,3,"span",20)(25,Pn,3,3,"span",20),t.k0s()(),t.j41(26,"div",33),t.DNE(27,zn,3,3,"span",20)(28,An,3,3,"span",20)(29,Gn,3,3,"span",20),t.k0s()()()()}if(2&r){const c=f.src,l=f.type,m=t.XpG();t.R7$(2),t.Y8G("ngIf","bigLogo"===l),t.R7$(),t.Y8G("ngIf","smallLogo"===l),t.R7$(),t.Y8G("ngIf","favicon"===l),t.R7$(2),t.Y8G("ngStyle",t.eq3(24,xn,"bigLogo"===l?"190px":"75px")),t.R7$(),t.Y8G("src",c||t.bMT(8,18,"bigLogo"),t.B4B),t.R7$(2),t.Y8G("uploadToCdnMenu",m.allUploadToCdnMenuTypes.AVATAR)("fileType",t.eq3(26,In,m.allUploadFileTypes.IMAGE))("limitSize",5)("aspectRatio","bigLogo"===l?10/3:1),t.R7$(3),t.Y8G("ngClass",t.lJ4(28,Tn)),t.R7$(),t.SpI(" ",t.bMT(14,20,"lang_auto_tai_len")," "),t.R7$(6),t.JRh(t.bMT(20,22,"lang_auto_xoa")),t.R7$(4),t.Y8G("ngIf","bigLogo"===l),t.R7$(),t.Y8G("ngIf","smallLogo"===l),t.R7$(),t.Y8G("ngIf","favicon"===l),t.R7$(2),t.Y8G("ngIf","bigLogo"===l),t.R7$(),t.Y8G("ngIf","smallLogo"===l),t.R7$(),t.Y8G("ngIf","favicon"===l)}}let Nn=(()=>{var r;class f extends H.H{deleteLogo(l){const m=this.commonService.myTranslateInstant("lang_business_config_are_your_sure_to_delete_this_logo");this.sAztDialogService.open(q.u,{data:{content:m,iconName:"trash-2"},restoreFocus:!1,width:"500px"}).afterClosed().subscribe($=>{$&&("smallLogo"==l&&this.domainConfigObj&&(this.domainConfigObj.smallLogo=void 0),"bigLogo"==l&&this.domainConfigObj&&(this.domainConfigObj.bigLogo=void 0),"favicon"==l&&this.domainConfigObj&&(this.domainConfigObj.favicon=void 0),this.saveConfigObj())})}uploadNewLogo(l,m){"smallLogo"==l&&this.domainConfigObj&&(this.domainConfigObj.smallLogo=m.url),"bigLogo"==l&&this.domainConfigObj&&(this.domainConfigObj.bigLogo=m.url),"favicon"==l&&this.domainConfigObj&&(this.domainConfigObj.favicon=m.url),this.saveConfigObj()}saveConfigObj(){this.initStatusObj(),this.waitDestroy(this.domainConfigService.apiDomainConfigsPost(this.domainConfigObj).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);this.successStatusObj("lang_auto_luu_thanh_cong",!0)}))}initData(){this.initStatusObj(),this.waitDestroy(this.domainConfigService.apiDomainConfigsGet().subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);l.data?.obj&&(this.domainConfigObj=l.data.obj),this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(l,m){super(),this.domainConfigService=l,this.sAztDialogService=m,this.allUploadToCdnMenuTypes=Xe.b8,this.allUploadFileTypes=Xe.PO}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(Pt.K1),t.rXU(Q.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-business-info-configs"]],features:[t.Vt3],decls:5,vars:2,consts:[["doneLoading",""],["uploadSection",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"config-business-logo"],[1,"flex","items-center","border-b","border-slate-200/60","pb-5","mb-5","text-base","font-medium","dark:border-darkmode-400"],[1,"mt-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mt-6"],[1,"mt-4"],["for","title",1,"font-medium"],[1,"mt-2"],["type","text","id","title",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"mt-1","text-pending","text-xs","font-medium","flex","items-center"],["name","circle-alert","size","16"],[1,"ml-1"],[1,"font-medium"],[3,"ngModelChange","ngModel","ngModelOptions","apiKey","init"],[1,"mt-4","pt-4","flex","items-center","border-t","border-slate-200","dark:border-darkmode-400"],[1,"btn","btn-primary","min-width-100","ml-auto",3,"click"],[4,"ngIf"],[1,"flex","flex-col","sm:flex-row","md:items-center","mt-1"],[1,"box","p-2","overflow-hidden","border","border-slate-200","dark:border-darkmode-400",3,"ngStyle"],["width","100%","height","100%",3,"src"],[3,"uploadComplete","uploadToCdnMenu","fileType","limitSize","aspectRatio"],["btnUpload",""],[1,"btn","btn-sm","btn-outline-primary"],["name","upload","size","16",3,"ngClass"],["btnRemove","",1,"ml-2"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],["name","trash-2","size","16"],["body","",1,"ml-0","sm:ml-3","mt-2","sm:mt-0","mr-auto"],[1,"text-slate-500","mt-1","text-xs"],["header","",1,"font-medium","text-base","mr-auto"]],template:function(l,m){if(1&l&&t.DNE(0,yn,1,1,"azt-loading-effect",2)(1,En,34,40,"ng-template",null,0,t.C5r)(3,$n,30,29,"ng-template",null,1,t.C5r),2&l){const g=t.sdS(2);t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g)}},dependencies:[a.YU,a.bT,a.T3,a.B3,i.xn,s.me,s.BC,s.vS,Kt.K,hn.y,n.WGl,x.wp,x.Vo,x.Hw,x.yc],encapsulation:2}),f})(),Bn=(()=>{var r;class f extends H.H{ngOnInit(){this.commonService.translateMetaData({title:"lang_business_config_title",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(){super()}}return(r=f).\u0275fac=function(l){return new(l||r)},r.\u0275cmp=t.VBU({type:r,selectors:[["app-business-configs"]],features:[t.Vt3],decls:12,vars:1,consts:[[3,"headerBackToLink"],[1,"azt-config-business-domain","mx-auto","mt-5",2,"max-width","1150px"],[1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12"],[1,"setting-advanced","mt-5"],[1,"box","p-5","mt-3"],[1,"p-0"]],template:function(l,m){1&l&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.nrm(7,"app-business-billing-configs"),t.k0s()()(),t.j41(8,"div",4)(9,"div",5)(10,"div",6),t.nrm(11,"app-business-info-configs"),t.k0s()()()()()()()),2&l&&t.Y8G("headerBackToLink","/business/dashboard")},dependencies:[Ht.Q,fn,Nn],encapsulation:2}),f})();var xe=_(76627),We=_(47947),Je=_(17178);class Ke{static tuitionFeeValidator(f){const c=f;return c?!c.value||Ke.validateTuitionFee(c.value)?(c.setErrors(null),null):(c.setErrors({wrongFormatTuitionFee:!0}),{wrongFormatTuitionFee:!0,identityRevealed:!0}):null}static validateTuitionFee(f){return f.match(/^\d{1,3}(\.\d{3})*$/)}}var _e=_(73202),ze=_(93518),qe=_(87157),tn=_(3826),sn=_(93422),rn=_(59518),Be=_(65728),Ln=_(11002),He=_(95670),ln=_(4375),cn=_(43166);const Yn=()=>[];function Vn(r,f){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_core_vui_long_nhap_ten_chuong_trinh"),""))}function Un(r,f){if(1&r&&(t.j41(0,"mat-option",12),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=f.$implicit;t.Y8G("value",c.id),t.R7$(),t.SpI(" ",t.bMT(2,2,c.key)," ")}}function Xn(r,f){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_auto_vui_long_chon_khoi_hoc"),""))}function Wn(r,f){if(1&r&&(t.j41(0,"mat-option",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=f.$implicit;t.Y8G("value",c.id)("hidden",43==c.id),t.R7$(),t.SpI(" ",t.bMT(2,3,c.key)," ")}}function Jn(r,f){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_auto_vui_long_chon_mon_hoc"),""))}let _n=(()=>{var r;class f extends H.H{setListSubject(){let l=this.schoolAndLevelObjs.schoolLevelSubjectObjs.find(m=>this.form.controls.schoolLevelId.value==m.schoolLevel?.id);this.listSchoolSubjectObjs=l?.schoolSubjectObjs??[],this.form.controls.schoolSubjectId.setValue(this.listSchoolSubjectObjs.find(m=>m.id==this.form.controls.schoolSubjectId.value)?.id??0)}setValueAmount(){var l=this.commonService.formatMoney(this.form.controls.tuition.value??""),m=this.getPositionCaret()+(l.length-this.form.controls.tuition.value.length);this.form.controls.tuition.setValue(l),this.goToPositionCaret(m)}getPositionCaret(){try{return document.getElementById("tuition").selectionEnd??0}catch{return 0}}goToPositionCaret(l){try{document.getElementById("tuition").setSelectionRange(l,l)}catch{}}initData(){this.form.patchValue({educationalProgramName:this.educationalProgramObj?.name??"",schoolLevelId:this.educationalProgramObj?.schoolLevelId??0,schoolSubjectId:this.educationalProgramObj?.schoolSubjectId??0,tuition:(this.educationalProgramObj?.fee??0)>0?this.educationalProgramObj?.fee?.toString():"0",description:this.educationalProgramObj?.description??""}),this.setListSubject(),(this.educationalProgramObj?.fee?.toString().length??0)>3&&this.setValueAmount()}ngOnInit(){super.ngOnInit(),this.form=this.programForm.controls.generalFormGroup,this.avoidWarningError(()=>{this.initData()})}constructor(){super(),this.listSchoolSubjectObjs=[]}}return(r=f).\u0275fac=function(l){return new(l||r)},r.\u0275cmp=t.VBU({type:r,selectors:[["app-educational-program-general-info-form"]],inputs:{programForm:"programForm",schoolAndLevelObjs:"schoolAndLevelObjs",educationalProgramObj:"educationalProgramObj"},features:[t.Vt3],decls:47,vars:48,consts:[["searchInListSchoolLevel","searchInList"],["searchInListSchoolSubject","searchInList"],[3,"formGroup"],[1,"mt-1"],["for","educationalProgramName",1,"form-label","font-medium","text-sm"],["id","educationalProgramName","formControlName","educationalProgramName","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-2"],["for","schoolLevelId",1,"form-label","font-medium","text-sm"],["appearance","outline"],["searchInList","","formControlName","schoolLevelId",3,"selectionChange"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","schoolSubjectId",1,"form-label","font-medium","text-sm"],["searchInList","","formControlName","schoolSubjectId"],[3,"value","hidden",4,"ngFor","ngForOf"],["for","description",1,"form-label","font-medium","text-sm"],["formControlName","description",1,"description",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],[3,"value","hidden"]],template:function(l,m){if(1&l){const g=t.RV6();t.j41(0,"form",2)(1,"div",2)(2,"div",3)(3,"label",4),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.nrm(6,"input",5),t.nI1(7,"mytranslate"),t.DNE(8,Vn,3,3,"div",6),t.k0s(),t.j41(9,"div",7)(10,"label",8),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"mat-form-field",9)(14,"mat-select",10,0),t.bIt("selectionChange",function(){return t.eBV(g),t.Njj(m.setListSubject())}),t.j41(16,"mat-option"),t.nrm(17,"ngx-mat-select-search",11),t.nI1(18,"mytranslate"),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"mat-option",12),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.DNE(23,Un,3,4,"mat-option",13),t.k0s()(),t.DNE(24,Xn,3,3,"div",6),t.k0s(),t.j41(25,"div",7)(26,"label",14),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"mat-form-field",9)(30,"mat-select",15,1)(32,"mat-option"),t.nrm(33,"ngx-mat-select-search",11),t.nI1(34,"mytranslate"),t.nI1(35,"mytranslate"),t.k0s(),t.j41(36,"mat-option",12),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.DNE(39,Wn,3,5,"mat-option",16),t.k0s()(),t.DNE(40,Jn,3,3,"div",6),t.k0s(),t.j41(41,"div",7)(42,"label",17),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s(),t.nrm(45,"textarea",18),t.nI1(46,"mytranslate"),t.k0s()()()}if(2&l){let g;const $=t.sdS(15),Dt=t.sdS(31);t.Y8G("formGroup",m.programForm),t.R7$(),t.Y8G("formGroup",m.form),t.R7$(3),t.SpI(" ",t.bMT(5,23,"lang_core_ten_chuong_trinh")," "),t.R7$(2),t.FS9("placeholder",t.bMT(7,25,"lang_core_nhap_ten_chuong_trinh")+" ..."),t.R7$(2),t.Y8G("ngIf",m.form.controls.educationalProgramName.errors),t.R7$(3),t.SpI(" ",t.bMT(12,27,"lang_auto_khoi_hoc")," "),t.R7$(6),t.FS9("placeholderLabel",t.bMT(18,29,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(19,31,"lang_search_not_found")),t.Y8G("formControl",$.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("---",t.bMT(22,33,"lang_auto_chon_khoi"),""),t.R7$(2),t.Y8G("ngForOf",$.filter($.mergeSchoolLevel(null!==(g=null==m.schoolAndLevelObjs?null:m.schoolAndLevelObjs.schoolLevelSubjectObjs)&&void 0!==g?g:t.lJ4(47,Yn)),"key")),t.R7$(),t.Y8G("ngIf",m.form.controls.schoolLevelId.errors),t.R7$(3),t.SpI(" ",t.bMT(28,35,"lang_auto_mon_hoc")," "),t.R7$(6),t.FS9("placeholderLabel",t.bMT(34,37,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(35,39,"lang_search_not_found")),t.Y8G("formControl",Dt.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI(" ",t.bMT(38,41,"lang_auto_---chon_mon")," "),t.R7$(2),t.Y8G("ngForOf",Dt.filter(m.listSchoolSubjectObjs,"key")),t.R7$(),t.Y8G("ngIf",m.form.controls.schoolSubjectId.errors),t.R7$(3),t.SpI(" ",t.bMT(44,43,"lang_auto_mo_ta")," "),t.R7$(2),t.FS9("placeholder",t.bMT(46,45,"lang_auto_nhap_noi_dung"))}},dependencies:[a.Sq,a.bT,J.wT,He.rl,ln.VO,s.qT,s.me,s.BC,s.cb,s.l_,s.j4,s.JD,ce.t,cn.x,nt.U9,x.wp],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),f})();var Qe=_(53043),en=_(40111),nn=_(91584),mn=_(74128);function Kn(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",6)(1,"azt-document-type-file",7),t.bIt("click",function(){t.eBV(c);const m=t.XpG().$implicit,g=t.XpG();return t.Njj(g.previewDocumentFileDialog(m))}),t.k0s(),t.j41(2,"div",8)(3,"button",9),t.bIt("click",function(){t.eBV(c);const m=t.XpG().$implicit,g=t.XpG();return t.Njj(g.removeObj(m))}),t.nrm(4,"lucide-icon",10),t.k0s()()()}if(2&r){const c=t.XpG().$implicit;t.R7$(),t.Y8G("type",c.documentType)("name",c.name)("url",c.link)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("customClass","w-4 h-4")("textWidth","90%")}}function Hn(r,f){if(1&r&&(t.j41(0,"div"),t.DNE(1,Kn,5,8,"div",5),t.k0s()),2&r){const c=f.$implicit;t.R7$(),t.Y8G("ngIf",!c.willRemove)}}let Qn=(()=>{var r;class f extends H.H{uploadFileEmitted(l){this.listDocumentObjs.push({id:this.commonService.getVirtualIdWithoutInList(!0,this.listDocumentObjs.map(m=>m.id)),name:l.name??"",link:l.link??"",type:l.type??"",documentType:this.commonService.getEnumTypeWithDefault(_e.d,l.type??"",_e.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(ze.k,l.groupType??"",ze.k.unknown),willRemove:!1}),this.listDocumentObjsChange.emit(this.listDocumentObjs)}removeObj(l){this.listDocumentObjs.map(m=>m.willRemove=m.id==l.id||m.willRemove),this.listDocumentObjsChange.emit(this.listDocumentObjs)}previewDocumentFileDialog(l){const m={name:l.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(l.type),type:l.type,url:l.link};this.sAztDialogService.open(Qe.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...m,index:0},showDownloadIcon:!1},restoreFocus:!1})}ngOnInit(){super.ngOnInit()}constructor(l,m){super(),this.sAztDialogService=l,this.sAztFileTypeService=m,this.listDocumentObjsChange=new t.bkB}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(Q.i),t.rXU(en.k))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-educational-program-document-form"]],inputs:{listDocumentObjs:"listDocumentObjs"},outputs:{listDocumentObjsChange:"listDocumentObjsChange"},features:[t.Vt3],decls:7,vars:5,consts:[[1,"mt-2","flex","justify-between"],["for","description",1,"text-sm","mb-1","items-center","font-medium"],[1,"flex","justify-end","btn-add-document"],[3,"emitFileDocument","isBtn"],[4,"ngFor","ngForOf"],["class","items-center mb-2 relative",4,"ngIf"],[1,"items-center","mb-2","relative"],[1,"clickable",3,"click","type","name","url","showBorder","onlyOneLine","iconVerticalStyle","customClass","textWidth"],[1,"flex","absolute","right-0",2,"width","13px","height","13px","top","3px"],[1,"btn","btn-sm","p-0","btn-danger-soft",3,"click"],["name","x","size","16"]],template:function(l,m){1&l&&(t.j41(0,"div",0)(1,"label",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",2)(5,"app-upload-document-for-session",3),t.bIt("emitFileDocument",function($){return m.uploadFileEmitted($)}),t.k0s()()(),t.DNE(6,Hn,2,1,"div",4)),2&l&&(t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_testbank_document_list_header_title")," "),t.R7$(3),t.Y8G("isBtn",!1),t.R7$(),t.Y8G("ngForOf",m.listDocumentObjs))},dependencies:[a.Sq,a.bT,nn.m,n.WGl,mn.J,x.wp],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),f})();var Zn=_(20013);const qn=r=>[r];function to(r,f){1&r&&(t.j41(0,"small",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI("*",t.bMT(2,1,"lang_core_vui_long_nhap_ten_sach"),""))}function eo(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"azt-upload-single-box",9),t.bIt("uploadComplete",function(m){const g=t.eBV(c).$implicit,$=t.XpG();return t.Njj($.handleUploadComplete(m,g))}),t.j41(4,"div")(5,"div",10),t.nrm(6,"img",11),t.nI1(7,"coreModConvertCdnLinkOfGitHub"),t.nI1(8,"mycdn"),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",12)(11,"div"),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()(),t.j41(14,"div",13),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG();return t.Njj(g.previewBookImageDialog(m))}),t.EFF(15),t.nI1(16,"mytranslate"),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"button",14),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG();return t.Njj(g.removeBookForm(m))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.j41(21,"div",15),t.nrm(22,"input",16),t.nI1(23,"mytranslate"),t.nrm(24,"textarea",17),t.nI1(25,"mytranslate"),t.DNE(26,to,3,3,"small",18),t.k0s()()}if(2&r){const c=f.$implicit,l=t.XpG();t.Y8G("formGroup",c)("hidden",c.controls.willRemove.value),t.R7$(3),t.Y8G("uploadToCdnMenu",l.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",t.eq3(36,qn,l.allUploadFileTypes.IMAGE))("limitSize",l.limitSize),t.R7$(3),t.FS9("src",""==c.controls.iconLink.value?t.bMT(7,18,"images/business-book.svg"):t.bMT(8,20,c.controls.iconLink.value),t.B4B),t.FS9("alt",t.bMT(9,22,"lang_core_anh_sach")),t.R7$(4),t.Y8G("ngClass",""==c.controls.iconLink.value?"":"btn-edit-image"),t.R7$(2),t.SpI(" ",t.bMT(13,24,""==c.controls.iconLink.value?"lang_core_them_anh":"lang_auto_tai_len")," "),t.R7$(2),t.Y8G("hidden",""==c.controls.iconLink.value),t.R7$(),t.Lme(" ",t.bMT(16,26,"lang_test_market_view_question")," ",t.bMT(17,28,"lang_testbank_update_exam_image")," "),t.R7$(4),t.SpI(" ",t.bMT(20,30,"lang_button_delete")," "),t.R7$(3),t.FS9("placeholder",t.bMT(23,32,"lang_core_ten_sach")),t.Y8G("value",c.controls.name.value),t.R7$(2),t.FS9("placeholder",t.bMT(25,34,"lang_auto_mo_ta")),t.Y8G("value",c.controls.description.value),t.R7$(2),t.Y8G("ngIf",c.controls.name.invalid)}}let no=(()=>{var r;class f extends H.H{previewBookImageDialog(l){this.sAztDialogService.open(Qe.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:l.controls.name.value,mimes:"image/jpeg",url:l.controls.iconLink.value,index:-1}},restoreFocus:!1})}handleUploadComplete(l,m){m.controls.iconLink.setValue(l.url??"")}removeBookForm(l){l.patchValue({willRemove:!0,name:"empty"}),this.bookFormArray.controls.map(m=>m.controls.id.value==l.controls.id.value?l:m),this.programForm.controls.bookFormArray=this.bookFormArray,this.programForm.updateValueAndValidity()}addMoreBookForm(){this.bookFormArray.push(new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,this.bookFormArray.getRawValue().map(l=>l.id)),{nonNullable:!0,validators:[s.k0.required]}),name:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,le.M.noWhiteSpace]}),description:new s.MJ("",{nonNullable:!0}),iconLink:new s.MJ("",{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),this.programForm.controls.bookFormArray=this.bookFormArray,this.programForm.updateValueAndValidity()}initFormArray(){this.bookFormArray.clear(),this.bookObjs.forEach(l=>{this.bookFormArray.push(new s.gE({id:new s.MJ(l.id,{nonNullable:!0,validators:[s.k0.required]}),name:new s.MJ(l.name,{nonNullable:!0,validators:[s.k0.required,le.M.noWhiteSpace]}),description:new s.MJ(l.description??"",{nonNullable:!0}),iconLink:new s.MJ(l.iconLink??"",{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})}))})}ngOnInit(){super.ngOnInit(),this.bookFormArray=this.programForm.controls.bookFormArray,this.avoidWarningError(()=>{this.initFormArray()})}constructor(l){super(),this.sAztDialogService=l,this.allUploadToCdnMenuTypes=Xe.b8,this.allUploadFileTypes=Xe.PO,this.limitSize=5}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(Q.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-educational-program-book-form"]],inputs:{programForm:"programForm",bookObjs:"bookObjs"},features:[t.Vt3],decls:11,vars:11,consts:[[1,"mt-3","flex","justify-between"],["for","description",1,"form-label","font-medium","text-sm"],["azt-track-service","add-or-edit-educational-program--eJ6MP8NK",1,"btn-add-document","text-sm","clickable",3,"click"],[3,"formGroup"],["formArrayName","bookFormArray"],["class","flex mt-2 box-book",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","mt-2","box-book",3,"formGroup","hidden"],[1,"pb-1"],[1,"box-image"],[3,"uploadComplete","uploadToCdnMenu","fileType","limitSize"],[1,"flex",2,"height","87px"],["id","blah",3,"src","alt"],["azt-track-service","add-or-edit-educational-program-ySondJc2qe",1,"add-image-label","clickable",2,"margin-bottom","10px",3,"ngClass"],["azt-track-service","add-or-edit-educational-program-4lu0PqnQg",1,"btn-edit-image","add-image-label","clickable",3,"click","hidden"],["azt-track-service","add-or-edit-educational-program-TGWpE3kwi6",1,"btn","btn-danger",3,"click"],[1,"ml-3",2,"width","100%"],["type","text","formControlName","name",1,"form-control","input-name-book","mb-1",3,"placeholder","value"],["formControlName","description",1,"form-control","textarea-description",3,"placeholder","value"],["class","text-danger text-left mt-1",4,"ngIf"],[1,"text-danger","text-left","mt-1"]],template:function(l,m){1&l&&(t.j41(0,"div",0)(1,"label",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",2),t.bIt("click",function(){return m.addMoreBookForm()}),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"form",3)(9,"div",4),t.DNE(10,eo,27,38,"div",5),t.k0s()()),2&l&&(t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_core_sach")," "),t.R7$(3),t.Lme("+ ",t.bMT(6,7,"lang_button_add")," ",t.bMT(7,9,"lang_core_sach"),""),t.R7$(3),t.Y8G("formGroup",m.programForm),t.R7$(2),t.Y8G("ngForOf",m.bookFormArray.controls))},dependencies:[a.YU,a.Sq,a.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,s.v8,ce.t,Zn.T,x.wp,x.nf,x.Vs],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),f})();var d=_(50589),G=_(51113),u=_(47712),p=_(69135);const k=r=>({flex:r}),R=r=>({"flex mt-3":r}),B=r=>[r],mt=r=>({backto:r}),Rt=()=>({"text-pending":!0}),$t=()=>({"text-primary":!0}),Ie=r=>({"p-3":r});function Ut(r,f){if(1&r){const c=t.RV6();t.j41(0,"lucide-icon",24),t.bIt("click",function(){t.eBV(c);const m=t.XpG().$implicit,g=t.XpG();return t.Njj(g.removeSessionForm(m))}),t.k0s()}2&r&&t.Y8G("size",16)}function ve(r,f){1&r&&(t.j41(0,"div",25)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function on(r,f){if(1&r){const c=t.RV6();t.j41(0,"lucide-icon",31),t.bIt("click",function(){t.eBV(c);const m=t.XpG().$implicit,g=t.XpG().$implicit,$=t.XpG();return t.Njj($.removeDescriptionForm(g,m))}),t.k0s()}2&r&&t.Y8G("size",16)}function an(r,f){1&r&&(t.j41(0,"div",32)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function oo(r,f){if(1&r&&(t.j41(0,"div",26)(1,"div",27),t.nrm(2,"input",28),t.nI1(3,"mytranslate"),t.DNE(4,on,1,1,"lucide-icon",29),t.k0s(),t.DNE(5,an,4,3,"div",30),t.k0s()),2&r){const c=f.$implicit,l=t.XpG().$implicit;t.Y8G("formGroup",c)("hidden",c.controls.willRemove.value),t.R7$(),t.Mz_("id","description-conten-session-",c.controls.id.value,""),t.R7$(),t.FS9("placeholder",t.bMT(3,7,"lang_core_nhap_noi_dung_buoi_hoc")),t.R7$(2),t.Y8G("ngIf",l.controls.totalDescriptionNotDeleted.value>1),t.R7$(),t.Y8G("ngIf",c.controls.content.errors)}}function ao(r,f){1&r&&(t.qex(0),t.j41(1,"div",42),t.nrm(2,"img",43),t.nI1(3,"coreModConvertCdnLinkOfGitHub"),t.k0s(),t.bVm()),2&r&&(t.R7$(2),t.Y8G("src",t.bMT(3,1,"images/type_file/unknown-file.svg"),t.B4B))}function ko(r,f){1&r&&(t.qex(0),t.nrm(1,"lucide-icon",44),t.bVm()),2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,Rt)))}function xo(r,f){1&r&&(t.qex(0),t.nrm(1,"lucide-icon",45),t.bVm()),2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,$t)))}function Io(r,f){if(1&r&&(t.j41(0,"div",34)(1,"a",35),t.nI1(2,"navigationLocalize"),t.j41(3,"div",36)(4,"div",37),t.DNE(5,ao,4,3,"ng-container",38)(6,ko,2,2,"ng-container",38)(7,xo,2,2,"ng-container",38),t.k0s(),t.j41(8,"div",39)(9,"div",40)(10,"span",41,0),t.EFF(12),t.k0s()()()()()()),2&r){const c=t.sdS(11),l=t.XpG().$implicit,m=t.XpG(2);t.R7$(),t.Y8G("routerLink",t.eq3(11,B,t.bMT(2,9,l.controls.type.value==m.allDocumentTypes.exam?"/admin/testbank/exam-results-list/0/"+(null==l.controls.refId?null:l.controls.refId.value)+"/0":"/admin/testbank/homework-results-list/0/"+l.controls.id.value+"/0")))("queryParams",t.eq3(13,mt,m.currentUrl)),t.R7$(4),t.Y8G("ngIf",!l.controls.type.value),t.R7$(),t.Y8G("ngIf",l.controls.type.value==m.allDocumentTypes.exam),t.R7$(),t.Y8G("ngIf",l.controls.type.value==m.allDocumentTypes.homework),t.R7$(3),t.FS9("matTooltip",l.controls.name.value),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",c.isDisabled),t.R7$(2),t.SpI(" ",l.controls.name.value," ")}}function To(r,f){if(1&r&&(t.j41(0,"div",26),t.DNE(1,Io,13,15,"div",33),t.k0s()),2&r){const c=f.$implicit,l=t.XpG(2);t.Y8G("formGroup",c)("hidden",c.controls.willRemove.value),t.R7$(),t.Y8G("ngIf",c.controls.type.value===l.allDocumentTypes.exam||c.controls.type.value===l.allDocumentTypes.homework)}}function yo(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",47)(1,"azt-document-type-file",48),t.bIt("click",function(){t.eBV(c);const m=t.XpG().$implicit,g=t.XpG(2);return t.Njj(g.previewDocumentFileDialog(m))}),t.k0s(),t.j41(2,"button",49),t.bIt("click",function(){t.eBV(c);const m=t.XpG().$implicit,g=t.XpG().$implicit,$=t.XpG();return t.Njj($.removeDocumentForm(g,m))}),t.nrm(3,"lucide-icon",50),t.k0s()()}if(2&r){const c=t.XpG().$implicit,l=t.XpG(2);t.Y8G("ngClass",t.eq3(9,Ie,l.isMobileWebView)),t.R7$(),t.Y8G("type",c.controls.documentType.value)("name",c.controls.name.value)("url",c.controls.link.value)("showBorder",!1)("iconVerticalStyle","baseline")("customClass","w-4 h-4 image-fit")("textWidth","100%"),t.R7$(2),t.Y8G("size",16)}}function Oo(r,f){if(1&r&&(t.j41(0,"div",26),t.DNE(1,yo,4,11,"div",46),t.k0s()),2&r){const c=f.$implicit,l=t.XpG(2);t.Y8G("formGroup",c)("hidden",c.controls.willRemove.value),t.R7$(),t.Y8G("ngIf",c.controls.type.value!==l.allDocumentTypes.exam&&c.controls.type.value!==l.allDocumentTypes.homework)}}function jo(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h3",8),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Ut,1,1,"lucide-icon",9),t.k0s(),t.DNE(6,ve,4,3,"div",10)(7,oo,6,9,"div",11),t.j41(8,"div",12)(9,"div",13)(10,"span",14),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG();return t.Njj(g.addMoreDescriptionForm(m))}),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s()()(),t.j41(14,"div",15)(15,"div",16)(16,"span",17),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"div",18),t.DNE(20,To,2,3,"div",11),t.j41(21,"div",19)(22,"a",20),t.bIt("click",function(){const m=t.eBV(c).index,g=t.XpG();return t.Njj(g.redirectToCreateNewDocument(m))}),t.j41(23,"span",21),t.EFF(24,"+"),t.k0s(),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()()(),t.j41(27,"div",15)(28,"div",16)(29,"span",17),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()(),t.j41(32,"div",22),t.DNE(33,Oo,2,3,"div",11),t.j41(34,"div",19)(35,"app-upload-document-for-session",23),t.bIt("emitFileDocument",function(m){const g=t.eBV(c).$implicit,$=t.XpG();return t.Njj($.uploadFileEmitted(m,g))}),t.j41(36,"span"),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s()()()()()()}if(2&r){const c=f.$implicit,l=t.XpG();t.Y8G("formGroup",c)("hidden",c.controls.willRemove.value),t.R7$(3),t.Lme("",t.bMT(4,21,"lang_core_buoi")," ",c.controls.session.value,""),t.R7$(2),t.Y8G("ngIf",l.programForm.controls.totalSessionNotDeleted.value>1),t.R7$(),t.Y8G("ngIf",c.controls.totalDescriptionNotDeleted.value<=0),t.R7$(),t.Y8G("ngForOf",c.controls.descriptionObjs.controls),t.R7$(4),t.Lme(" + ",t.bMT(12,23,"lang_button_add")," ",t.bMT(13,25,"lang_auto_noi_dung").toLowerCase()," "),t.R7$(6),t.JRh(t.bMT(18,27,"lang_cms_auto_gen_test_exam_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(35,k,!l.isMobileWebView)),t.R7$(),t.Y8G("ngForOf",c.controls.documentObjs.controls),t.R7$(2),t.HbH("btn btn-transparent w-48 block font-weight-400"),t.R7$(3),t.SpI(" ",t.bMT(26,29,"lang_business_assign_exams")," "),t.R7$(5),t.JRh(t.bMT(31,31,"lang_testbank_document_list_header_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(37,R,!l.isMobileWebView)),t.R7$(),t.Y8G("ngForOf",c.controls.documentObjs.controls),t.R7$(2),t.Y8G("isBtn",!0)("customClass"," font-weight-400"),t.R7$(2),t.JRh(t.bMT(38,33,"lang_core_dinh_kem_tai_lieu"))}}let So=(()=>{var r;class f extends H.H{previewDocumentFileDialog(l){const m={name:l.controls.name.value,mimes:this.sAztFileTypeService.getMineTypeByFileType(l.controls.type.value),type:l.controls.type.value,url:l.controls.link.value};this.sAztDialogService.open(Qe.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...m,index:0},showDownloadIcon:!1},restoreFocus:!1})}addNewSession(){let l=this.commonService.concatMultipleArray(this.sessionFormArray.controls.map($=>$.controls.descriptionObjs).map($=>$.controls.map(Dt=>Dt.controls.id.value))),m=this.sessionFormArray.controls.map($=>$.controls.sessionId.value),g=new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,l),{nonNullable:!0,validators:[s.k0.required]}),content:new s.MJ("",{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})});this.sessionFormArray.push(new s.gE({sessionId:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,m),{nonNullable:!0,validators:[s.k0.required]}),session:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),documentObjs:new s.Yp([]),totalDocumentNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),descriptionObjs:new s.Yp([g],{validators:[s.k0.required,s.k0.minLength(1)]}),totalDescriptionNotDeleted:new s.MJ(1,{nonNullable:!0,validators:[s.k0.required]}),isUploadingImage:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),this.updateFormData()}removeSessionForm(l){l.controls.sessionId.value<0?this.sessionFormArray.controls=this.sessionFormArray.controls.filter(m=>m.controls.sessionId.value!=l.controls.sessionId.value):(l.controls.willRemove.setValue(!0),l.controls.descriptionObjs.controls.map(m=>{m.controls.content.setValue(m.controls.content.defaultValue&&""!=m.controls.content.defaultValue?m.controls.content.defaultValue:"remove")})),this.sessionFormArray.controls.map(m=>m.controls.sessionId.value==l.controls.sessionId.value?l:m),this.updateFormData()}addMoreDescriptionForm(l){let m=this.commonService.concatMultipleArray(this.sessionFormArray.controls.map(g=>g.controls.descriptionObjs).map(g=>g.controls.map($=>$.controls.id.value)));l.controls.descriptionObjs.push(new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,m),{nonNullable:!0,validators:[s.k0.required]}),content:new s.MJ("",{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),this.sessionFormArray.controls.map(g=>g.controls.sessionId.value==l.controls.sessionId.value?l:g),this.updateFormData()}removeDescriptionForm(l,m){l.controls.descriptionObjs.controls.map(g=>{g.controls.willRemove.setValue(g.controls.id.value==m.controls.id.value||g.controls.willRemove.value),g.controls.content.setValue(g.controls.id.value==m.controls.id.value?g.controls.content.defaultValue&&""!=g.controls.content.defaultValue?g.controls.content.defaultValue:"remove":g.controls.content.value)}),this.sessionFormArray.controls.map(g=>g.controls.sessionId.value==l.controls.sessionId.value?l:g),this.updateFormData()}removeDocumentForm(l,m){l.controls.documentObjs.controls.map(g=>g.controls.willRemove.setValue(g.controls.id.value==m.controls.id.value||g.controls.willRemove.value)),this.sessionFormArray.controls.map(g=>g.controls.sessionId.value==l.controls.sessionId.value?l:g),this.updateFormData()}uploadFileEmitted(l,m){m&&this.addDataFormDocument({url:l.link,name:l.name,extension:l.type},l.groupType,m)}addDataFormDocument(l,m,g){g.controls.documentObjs.push(new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,[]),{nonNullable:!0,validators:[s.k0.required]}),name:new s.MJ(l.name??"",{nonNullable:!0,validators:[s.k0.required]}),link:new s.MJ(l.url??"",{nonNullable:!0,validators:[s.k0.required]}),type:new s.MJ(l.extension??"",{nonNullable:!0,validators:[s.k0.required]}),documentType:new s.MJ(this.commonService.getEnumTypeWithDefault(_e.d,l.extension??"",_e.d.unknown),{nonNullable:!0,validators:[s.k0.required]}),groupType:new s.MJ(m,{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),g.controls.isUploadingImage.setValue(!1),this.sessionFormArray.controls.map(Dt=>Dt.controls.sessionId.value==g.controls.sessionId.value?g:Dt),this.updateFormData()}redirectToCreateNewDocument(l){const m=this.programForm.getRawValue(),g=this.zipDataService.convertContentGzip(this.serializeJson(m));this.browserStorageService.saveSessionStorage(`${this.programFormService.key+this.educationalProgramObj?.id}`,g),this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backTo=${this.currentUrl}&programId=${this.educationalProgramObj?.id}&levelId=${this.educationalProgramObj?.schoolLevelId??0}&subjectId=${this.educationalProgramObj?.schoolSubjectId??0}&indexSession=${l}`)}initFormArray(){this.sessionFormArray.clear();const l=this.extractValueFromZipData();l?l.sessionFormArray.forEach(this.processItem.bind(this)):this.convertSessionDtoToSessionFormArray(this.sessionObjs).forEach(this.processItem.bind(this)),this.sessionObjs.length<=0&&!l?.sessionFormArray.length&&this.addNewSession(),this.updateFormData()}updateFormData(){let l=1;this.sessionFormArray.controls.forEach(m=>{m.controls.willRemove.value||(m.controls.session.setValue(l),l+=1),m.controls.totalDescriptionNotDeleted.setValue(m.controls.descriptionObjs.controls.filter(g=>!g.controls.willRemove.value).length),m.controls.totalDocumentNotDeleted.setValue(m.controls.documentObjs.controls.filter(g=>!g.controls.willRemove.value).length)}),this.programForm.controls.totalSessionNotDeleted.setValue(this.programForm.controls.sessionFormArray.controls.filter(m=>!m.controls.willRemove.value).length),this.programForm.controls.sessionFormArray=this.sessionFormArray,this.programForm.updateValueAndValidity()}extractValueFromZipData(){const l=this.browserStorageService.getSessionStorage(`${this.programFormService.key+this.educationalProgramObj?.id}`);if(!l)return;const m=this.zipDataService.decodeContentGzip(l);return this.castJsonToObj(m)}createDocumentFormGroup(l){return new s.gE({id:new s.MJ(l.id,{nonNullable:!0,validators:[s.k0.required]}),refId:new s.MJ(l.refId??0,{nonNullable:!0}),name:new s.MJ(l.name??"",{nonNullable:!0,validators:[s.k0.required]}),link:new s.MJ(l.link??"",{nonNullable:!0}),type:new s.MJ(l.type,{nonNullable:!0,validators:[s.k0.required]}),documentType:new s.MJ(this.commonService.getEnumTypeWithDefault(_e.d,l.type,_e.d.unknown),{nonNullable:!0,validators:[s.k0.required]}),groupType:new s.MJ(l.groupType??"",{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})}createDescriptionFormGroup(l){return new s.gE({id:new s.MJ(l.id,{nonNullable:!0,validators:[s.k0.required]}),content:new s.MJ(l.content,{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})}processItem(l){const m=l.documentObjs.filter($=>$&&!$.willRemove).map(this.createDocumentFormGroup.bind(this)),g=l.descriptionObjs.filter($=>document&&!$.willRemove).map(this.createDescriptionFormGroup.bind(this));this.sessionFormArray.push(new s.gE({sessionId:new s.MJ(l.sessionId,{nonNullable:!0,validators:[s.k0.required]}),session:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),documentObjs:new s.Yp(m),totalDocumentNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),descriptionObjs:new s.Yp(g,{validators:[s.k0.required,s.k0.minLength(1)]}),totalDescriptionNotDeleted:new s.MJ(g.length,{nonNullable:!0,validators:[s.k0.required]}),isUploadingImage:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})}))}convertSessionDtoToSessionFormArray(l){let m=[];return l.forEach(g=>{let $=[];g.documents.forEach(qt=>{$.push({id:qt.id,refId:qt.refId,name:qt.name??"",link:qt.link,type:qt.type,documentType:qt.type,willRemove:!1})});let Dt=[];g.contents.forEach(qt=>{Dt.push({id:qt.id,content:qt.content,willRemove:!1})}),m.push({sessionId:g.id,documentObjs:$,descriptionObjs:Dt,totalDescriptionNotDeleted:0,totalDocumentNotDeleted:0,session:g.sort,isUploadingImage:!1,willRemove:!1})}),m}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.sessionFormArray=this.programForm.controls.sessionFormArray,this.avoidWarningError(()=>{this.initFormArray()})}constructor(l,m,g,$,Dt,Wt){super(),this.cd=l,this.sAztDialogService=m,this.sAztFileTypeService=g,this.browserStorageService=$,this.zipDataService=Dt,this.programFormService=Wt,this.sessionObjs=[],this.currentUrl=this.commonService.getCurrentUrlWithoutLocale(),this.allDocumentTypes=_e.d}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(t.gRc),t.rXU(Q.i),t.rXU(en.k),t.rXU(d.z),t.rXU(G.j),t.rXU(rn.s))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-educational-program-session-form"]],inputs:{programForm:"programForm",sessionObjs:"sessionObjs",educationalProgramObj:"educationalProgramObj"},features:[t.Vt3],decls:7,vars:5,consts:[["c","isDisabled"],[3,"formGroup"],["formArrayName","sessionFormArray"],["class","box pt-3 pl-3 pr-3 mt-3",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","justify-center"],["azt-track-service","add-or-edit-educational-program-22QBASGLIe",1,"btn-add-session","mt-2","clickable",3,"click"],[1,"box","pt-3","pl-3","pr-3","mt-3",3,"formGroup","hidden"],[1,"flex"],[1,"text-md","font-medium","truncate","mr-auto"],["name","x","class","clickable ml-1",3,"size","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted mt-2",4,"ngIf"],[3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","justify-start","py-2"],[1,"btn-add-document","text-sm","px-3"],["azt-track-service","add-or-edit-educational-program-izd-G_-kRf",1,"clickable",3,"click"],[1,"azt-answer"],[1,"strike"],[1,"uppercase","text-slate-600","text-xs"],[1,"items-center","mt-3","pb-3","scroll",3,"ngClass"],[1,"btn-add-document","text-sm"],["azt-track-service","session-form-7wsWmtscNU",2,"text-align","left",3,"click"],[1,"inline-block"],[1,"items-center","pb-3","scroll",3,"ngClass"],[3,"emitFileDocument","isBtn","customClass"],["name","x",1,"clickable","ml-1",3,"click","size"],[1,"text-xs","font-medium","text-danger","ng-star-inserted","mt-2"],[3,"formGroup","hidden"],[1,"flex","items-center",3,"id"],["type","text","formControlName","content",1,"form-control","mt-2","mb-2","pr-5",3,"placeholder"],["name","x","class","clickable btn-clear-form-content ml-1",3,"size","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],["name","x",1,"clickable","btn-clear-form-content","ml-1",3,"click","size"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],["class","flex items-center mr-4",4,"ngIf"],[1,"flex","items-center","mr-4"],["azt-track-service","session-form-uEv4oFbN4",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[4,"ngIf"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"whitespace-nowrap",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"w-4","h-4","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],["name","file-check","size","16",3,"ngClass"],["name","file-text","size","16",3,"ngClass"],["class","flex items-center mr-4",3,"ngClass",4,"ngIf"],[1,"flex","items-center","mr-4",3,"ngClass"],[1,"clickable",3,"click","type","name","url","showBorder","iconVerticalStyle","customClass","textWidth"],[1,"btn","btn-sm","btn-danger-soft","p-0","ml-1",3,"click"],["name","x",3,"size"]],template:function(l,m){1&l&&(t.j41(0,"form",1)(1,"div",2),t.DNE(2,jo,39,39,"div",3),t.j41(3,"div",4)(4,"div",5),t.bIt("click",function(){return m.addNewSession()}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()()),2&l&&(t.Y8G("formGroup",m.programForm),t.R7$(2),t.Y8G("ngForOf",m.sessionFormArray.controls),t.R7$(3),t.SpI("+ ",t.bMT(6,3,"lang_core_them_bui_hoc"),""))},dependencies:[b.Wk,a.YU,a.Sq,a.bT,u.oV,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,s.v8,ce.t,p.f,nn.m,n.WGl,mn.J,x.F2,x.wp,x.Vs],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),f})();const Eo=r=>[r];function Fo(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Ro(r,f){if(1&r&&t.nrm(0,"app-educational-program-general-info-form",21),2&r){const c=t.XpG(2);t.Y8G("programForm",c.form)("educationalProgramObj",c.educationalProgramObj)("schoolAndLevelObjs",c.schoolAndLevelObjs)}}function Mo(r,f){if(1&r&&t.nrm(0,"app-educational-program-book-form",22),2&r){const c=t.XpG(2);t.Y8G("programForm",c.form)("bookObjs",c.bookObjs)}}function wo(r,f){1&r&&t.nrm(0,"azt-loading-ui",23)}function Do(r,f){if(1&r){const c=t.RV6();t.j41(0,"form",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),t.DNE(5,Ro,1,3,"app-educational-program-general-info-form",9),t.j41(6,"app-educational-program-document-form",10),t.mxI("listDocumentObjsChange",function(m){t.eBV(c);const g=t.XpG();return t.DH7(g.generalDocumentObjs,m)||(g.generalDocumentObjs=m),t.Njj(m)}),t.k0s(),t.DNE(7,Mo,1,2,"app-educational-program-book-form",11),t.nI1(8,"allowFeatureBusinessForUser"),t.nI1(9,"async"),t.k0s()(),t.j41(10,"div",12)(11,"div",13)(12,"h3",14),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"flexed-on-the-top",15)(16,"a",16),t.nI1(17,"navigationLocalize"),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"button",17),t.bIt("click",function(){t.eBV(c);const m=t.XpG();return t.Njj(m.saveEducationalProgram())}),t.DNE(21,wo,1,0,"azt-loading-ui",18),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()(),t.nrm(24,"app-educational-program-session-form",19),t.k0s()()()(),t.nrm(25,"azt-scroll-to-top-bottom",20)}if(2&r){const c=t.XpG();t.Y8G("formGroup",c.form),t.R7$(5),t.Y8G("ngIf",c.schoolAndLevelObjs),t.R7$(),t.R50("listDocumentObjs",c.generalDocumentObjs),t.R7$(),t.Y8G("ngIf",t.bMT(9,18,t.i5U(8,15,"training_center_student_book",!1))),t.R7$(6),t.SpI(" ",t.bMT(14,20,"lang_core_noi_dung_chuong_trinh")," "),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(),t.Y8G("routerLink",t.eq3(28,Eo,t.bMT(17,22,c.backLink))),t.R7$(2),t.JRh(t.bMT(19,24,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",c.form.invalid||c.isSaving),t.R7$(),t.Y8G("ngIf",c.isSaving),t.R7$(),t.SpI(" ",t.bMT(23,26,"lang_button_save")," "),t.R7$(2),t.Y8G("programForm",c.form)("sessionObjs",c.sessionObjs)("educationalProgramObj",c.educationalProgramObj),t.R7$(),t.Y8G("isScrollToTop",!0)}}let _o=(()=>{var r;class f extends H.H{saveEducationalProgram(){let l=this.form.getRawValue(),m=[];if(null!=this.educationalProgramId){let Tt=this.educationalProgramId,Lt=l.sessionFormArray.filter(Yt=>Yt.willRemove&&Yt.sessionId>0).map(Yt=>Yt.sessionId),Le=this.generalDocumentObjs.filter(Yt=>Yt.willRemove&&Yt.id>0).map(Yt=>Yt.id),Ye=this.commonService.concatMultipleArray(l.sessionFormArray.map(Yt=>Yt.documentObjs)).filter(Yt=>Yt.willRemove&&Yt.id>0).map(Yt=>Yt.id),Ve=l.sessionFormArray.map(Yt=>({sessionId:Yt.sessionId,contentIds:Yt.descriptionObjs.filter(Ue=>Ue.willRemove&&Ue.id>0).map(Ue=>Ue.id)})).filter(Yt=>Yt.contentIds.length>0),je=l.bookFormArray.filter(Yt=>Yt.willRemove&&Yt.id>0).map(Yt=>Yt.id),co=Lt.map(Yt=>this.programService.apiProgramsProgramIdSessionsSessionIdDelete(Tt,Yt)),Us=Le.map(Yt=>this.programService.apiProgramsProgramIdDocumentsDocumentIdDelete(Tt,Yt)),Xs=Ye.map(Yt=>this.programService.apiProgramsProgramIdDocumentsDocumentIdDelete(Tt,Yt)),Ws=this.commonService.concatMultipleArray(Ve.map(Yt=>{let Ue=[];return Yt.contentIds.forEach(Ks=>{Ue.push(this.programService.apiProgramsProgramIdSessionsSessionIdContentsContentIdDelete(Tt,Yt.sessionId,Ks))}),Ue})),Js=je.map(Yt=>this.bookService.apiBooksIdDelete(Yt));m=this.commonService.concatMultipleArray([co,Us,Xs,Ws,Js])}let g=[];l.sessionFormArray.filter(Tt=>!Tt.willRemove).forEach(Tt=>{g.push({id:Tt.sessionId>0?Tt.sessionId:void 0,contents:Tt.descriptionObjs.filter(Lt=>!Lt.willRemove).map(Lt=>({id:Lt.id>0?Lt.id:void 0,content:Lt.content})),documents:Tt.documentObjs.filter(Lt=>!Lt.willRemove&&Lt.id<=0).map(Lt=>({refId:Lt.refId,name:Lt.name,link:Lt.link,type:Lt.type,groupType:Lt.groupType}))})});let $=this.generalDocumentObjs.filter(Tt=>!Tt.willRemove&&Tt.id<=0).map(Tt=>({name:Tt.name,link:Tt.link,type:Tt.type,groupType:Tt.groupType})),Dt=l.bookFormArray.filter(Tt=>!Tt.willRemove).map(Tt=>({id:Tt.id>0?Tt.id:void 0,name:Tt.name,description:Tt.description,iconLink:Tt.iconLink}));var Wt={name:l.generalFormGroup.educationalProgramName,fee:Number(l.generalFormGroup.tuition.replace(/\./g,"")??"0"),schoolLevelId:l.generalFormGroup.schoolLevelId,schoolSubjectId:l.generalFormGroup.schoolSubjectId,description:l.generalFormGroup.description,sessions:g,documents:$,books:Dt};this.isSaving=!0;let qt=(0,xe.z)([...m,this.programService.apiProgramsIdPut(this.educationalProgramId??0,Wt)]);this.waitDestroy(this.wrapApiResponse(qt).subscribe(Tt=>{if(this.isSaving=!1,!Tt.success)return this.errorStatusObj(Tt.message,!0);this.successStatusObj("lang_core_sua_chuong_trinh_thanh_cong",!0),this.commonService.myNavigation(this.backLink),this.programFormService.removeProgramDataLocal(this.educationalProgramId??0)}))}callMultipleApi(){const m=this.bookService.apiBooksListPost({page:1,size:-1,programId:this.educationalProgramId}),g=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());if(this.educationalProgramId){const $=this.programService.apiProgramsIdDocumentsGet(this.educationalProgramId),Dt=this.programService.apiProgramsIdClassroomsListPost(this.educationalProgramId,{page:1,size:-1}),Wt=this.programService.apiProgramsIdGet(this.educationalProgramId),qt=this.programService.apiProgramsIdSessionsGet(this.educationalProgramId);return(0,xe.z)([m,$,Dt,Wt,qt,g]).pipe((0,We.T)(([Tt,Lt,Le,Ye,Ve,je])=>({bookResponse:Tt,documentResponse:Lt,classroomResponse:Le,programResponse:Ye,sessionResponse:Ve,subjectAndLevelResponse:je})),(0,Je.W)(Tt=>{throw Tt}))}return(0,xe.z)([g]).pipe((0,We.T)(([$])=>({bookResponse:void 0,documentResponse:void 0,classroomResponse:void 0,programResponse:void 0,sessionResponse:void 0,subjectAndLevelResponse:$})),(0,Je.W)($=>{throw $}))}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.callMultipleApi()).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);this.educationalProgramObj=l.data?.programResponse,this.schoolAndLevelObjs=l.data?.subjectAndLevelResponse.data,this.generalDocumentObjs=l.data?.documentResponse?.list.map(m=>({id:m.id,name:m.name??"",link:m.link??"",type:m.type,documentType:this.commonService.getEnumTypeWithDefault(_e.d,m.type,_e.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(ze.k,m.groupType??"",ze.k.unknown),willRemove:!1}))??[],this.bookObjs=l.data?.bookResponse?.list??[],this.sessionObjs=(l?.data?.sessionResponse?.list??[]).sort((m,g)=>m.sort-g.sort),this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chuong_trinh_hoc",image:"lang_cms_test_image"}),super.ngOnInit(),this.educationalProgramId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.backLink=this.commonService.getMyQueryParam("backto")??`/business/educational-program/${this.educationalProgramId}`,this.getData()}constructor(l,m,g,$,Dt){super(),this.activeRoute=l,this.programService=m,this.commonListService=g,this.bookService=$,this.programFormService=Dt,this.backLink="",this.bookObjs=[],this.generalDocumentObjs=[],this.sessionObjs=[],this.isSaving=!1,this.allDocumentTypes=_e.d,this.form=new s.gE({generalFormGroup:new s.gE({educationalProgramName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,le.M.noWhiteSpace]}),tuition:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Ke.tuitionFeeValidator]}),schoolLevelId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),schoolSubjectId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),description:new s.MJ("",{nonNullable:!0})}),bookFormArray:new s.Yp([]),sessionFormArray:new s.Yp([],{validators:[s.k0.required,s.k0.minLength(1)]}),totalSessionNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]})})}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(b.nX),t.rXU(qe.s),t.rXU(tn.N),t.rXU(sn.l),t.rXU(rn.s))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-add-or-edit-educational-program"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"formGroup"],[1,"container-fluid","mt-3","overflow-hidden","document-market-list"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-3"],[1,"box","p-3"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs",4,"ngIf"],[3,"listDocumentObjsChange","listDocumentObjs"],[3,"programForm","bookObjs",4,"ngIf"],[1,"col-span-12","md:col-span-9"],[1,"flex","justify-between"],[1,"text-md","font-medium","mr-auto","uppercase"],[3,"colorBackground"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-3","btn","btn-secondary",2,"width","100%",3,"routerLink"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",2,"width","100%",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"programForm","sessionObjs","educationalProgramObj"],[3,"isScrollToTop"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs"],[3,"programForm","bookObjs"],[1,"mr-1"]],template:function(l,m){if(1&l&&(t.j41(0,"teacher-layout",1),t.DNE(1,Fo,1,1,"azt-loading-effect",2)(2,Do,26,30,"ng-template",null,0,t.C5r),t.k0s()),2&l){const g=t.sdS(3);t.Y8G("headerBackToLink",m.backLink),t.R7$(),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g)}},dependencies:[b.Wk,a.bT,s.qT,s.cb,s.j4,Kt.K,Be.I,Y.R,Ln.$,Ht.Q,_n,Qn,no,So,a.Jj,x.F2,x.wp,x.bj],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),f})();var Ze=_(62221),mo=_(62548);const Po=r=>[r];function zo(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Ao(r,f){if(1&r&&t.nrm(0,"app-educational-program-general-info-form",15),2&r){const c=t.XpG(2);t.Y8G("programForm",c.form)("educationalProgramObj",c.educationalProgramObj)("schoolAndLevelObjs",c.schoolAndLevelObjs)}}function Go(r,f){1&r&&t.nrm(0,"azt-loading-ui",16)}function $o(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",4)(1,"form",5)(2,"div",6)(3,"h3",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",8),t.DNE(7,Ao,1,3,"app-educational-program-general-info-form",9),t.k0s(),t.j41(8,"div",10)(9,"div",11)(10,"button",12),t.nI1(11,"navigationLocalize"),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",13),t.bIt("click",function(){t.eBV(c);const m=t.XpG();return t.Njj(m.saveEducationalProgram())}),t.DNE(15,Go,1,0,"azt-loading-ui",14),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()()()()}if(2&r){const c=t.XpG();t.R7$(),t.Y8G("formGroup",c.form),t.R7$(3),t.SpI(" ",t.bMT(5,8,"lang_program_create_new_curriculum")," "),t.R7$(3),t.Y8G("ngIf",c.schoolAndLevelObjs),t.R7$(3),t.Y8G("routerLink",t.eq3(16,Po,t.bMT(11,10,c.backLink))),t.R7$(2),t.SpI(" ",t.bMT(13,12,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",c.form.invalid||c.isSaving),t.R7$(),t.Y8G("ngIf",c.isSaving),t.R7$(),t.SpI(" ",t.bMT(17,14,"lang_auto_luu")," ")}}let No=(()=>{var r;class f extends H.H{saveEducationalProgram(){let l=this.form.getRawValue(),g=[];l.sessionFormArray.filter(Tt=>!Tt.willRemove).forEach(Tt=>{g.push({id:Tt.sessionId>0?Tt.sessionId:void 0,contents:Tt.descriptionObjs.filter(Lt=>!Lt.willRemove).map(Lt=>({id:Lt.id>0?Lt.id:void 0,content:Lt.content})),documents:Tt.documentObjs.filter(Lt=>!Lt.willRemove&&Lt.id<=0).map(Lt=>({name:Lt.name,link:Lt.link,type:Lt.type,groupType:""}))})});let $=this.generalDocumentObjs.filter(Tt=>!Tt.willRemove&&Tt.id<=0).map(Tt=>({name:Tt.name,link:Tt.link,type:Tt.type,groupType:""})),Dt=l.bookFormArray.filter(Tt=>!Tt.willRemove).map(Tt=>({id:Tt.id>0?Tt.id:void 0,name:Tt.name,description:Tt.description,iconLink:Tt.iconLink}));const Wt={name:l.generalFormGroup.educationalProgramName,fee:Number(l.generalFormGroup.tuition.replace(/\./g,"")??"0"),schoolLevelId:l.generalFormGroup.schoolLevelId,schoolSubjectId:l.generalFormGroup.schoolSubjectId,description:l.generalFormGroup.description,sessions:g,documents:$,books:Dt};this.isSaving=!0;let qt=(0,xe.z)([this.programService.apiProgramsPost(Wt)]);this.waitDestroy(this.wrapApiResponse(qt).subscribe(Tt=>{if(this.isSaving=!1,!Tt.success)return this.errorStatusObj(Tt.message,!0);this.successStatusObj("lang_core_them_chuong_trinh_thanh_cong",!0);const Lt=Tt.data?.[0];Lt?.id&&this.commonService.myNavigation(`/business/edit-educational-program/${Lt?.id}`)}))}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.callMultipleApi()).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);this.educationalProgramObj=l.data?.programResponse,this.schoolAndLevelObjs=l.data?.subjectAndLevelResponse.data,this.generalDocumentObjs=l.data?.documentResponse?.list.map(m=>({id:m.id,name:m.name??"",link:m.link??"",type:m.type,documentType:this.commonService.getEnumTypeWithDefault(_e.d,m.type,_e.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(ze.k,m.groupType??"",ze.k.unknown),willRemove:!1}))??[],this.stopStatusObj()}))}callMultipleApi(){const l=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());return(0,xe.z)([l]).pipe((0,We.T)(([m])=>({bookResponse:void 0,documentResponse:void 0,classroomResponse:void 0,programResponse:void 0,sessionResponse:void 0,subjectAndLevelResponse:m})),(0,Je.W)(m=>{throw m}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/educational-program",this.getData()}constructor(l,m,g){super(),this.programService=l,this.commonListService=m,this.bookService=g,this.backLink="",this.generalDocumentObjs=[],this.isSaving=!1,this.bookObjs=[],this.form=new s.gE({generalFormGroup:new s.gE({educationalProgramName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,le.M.noWhiteSpace]}),tuition:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Ke.tuitionFeeValidator]}),schoolLevelId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),schoolSubjectId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),description:new s.MJ("",{nonNullable:!0})}),bookFormArray:new s.Yp([]),sessionFormArray:new s.Yp([]),totalSessionNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]})})}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(Ze.sC),t.rXU(mo.Nz),t.rXU(Ze.lb))},r.\u0275cmp=t.VBU({type:r,selectors:[["create-general-education-program"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y","mt-5"],[3,"formGroup"],[1,"mx-auto",2,"max-width","1000px"],[1,"font-medium","text-md","uppercase"],[1,"box","mt-5","p-3"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs",4,"ngIf"],[1,"mt-5"],[1,"text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"routerLink"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs"],[1,"mr-1"]],template:function(l,m){if(1&l&&(t.j41(0,"teacher-layout",1),t.DNE(1,zo,1,1,"azt-loading-effect",2)(2,$o,18,18,"ng-template",null,0,t.C5r),t.k0s()),2&l){const g=t.sdS(3);t.Y8G("headerBackToLink",m.backLink),t.R7$(),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g)}},dependencies:[b.Wk,a.bT,s.qT,s.cb,s.j4,Kt.K,Y.R,Ht.Q,_n,x.F2,x.wp],encapsulation:2}),f})();var Bo=_(47160);const io=r=>[r],Lo=r=>({programId:r}),uo=r=>({backTo:r});function Yo(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",4),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Vo(r,f){if(1&r&&(t.j41(0,"div",19)(1,"span",20),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.EFF(4," : "),t.j41(5,"span",21),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()),2&r){const c=t.XpG(3);t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_mon_hoc")),t.R7$(4),t.JRh(t.bMT(7,4,c.schoolSubjectKey))}}function Uo(r,f){if(1&r&&(t.j41(0,"div",19)(1,"span",20),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",21),t.nrm(5,"azt-see-more-content",28),t.k0s()()),2&r){const c=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_mo_ta")," "),t.R7$(3),t.Y8G("content",c.educationalProgramObj.description)("maxLength",200)}}function Xo(r,f){if(1&r){const c=t.RV6();t.j41(0,"div")(1,"azt-document-type-file",30),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG(4);return t.Njj(g.previewFile(m))}),t.k0s()()}if(2&r){let c;const l=f.$implicit;t.R7$(),t.Y8G("type",l.documentType)("name",null!==(c=l.name)&&void 0!==c?c:"")("url",l.link)("showBorder",!1)("customClass","w-4 h-4")("textWidth","100%")}}function Wo(r,f){if(1&r&&(t.qex(0),t.DNE(1,Xo,2,6,"div",29),t.bVm()),2&r){const c=t.XpG(3);t.R7$(),t.Y8G("ngForOf",c.listDocumentObjs)}}function Jo(r,f){1&r&&(t.j41(0,"div",31),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_document_market_no_data_found")," "))}function Ko(r,f){if(1&r&&(t.j41(0,"div",33)(1,"span",21),t.EFF(2),t.k0s()()),2&r){const c=f.$implicit;t.Y8G("hidden",f.index>1),t.R7$(2),t.SpI("- ",c.name,"")}}function Ho(r,f){1&r&&(t.j41(0,"div",34),t.EFF(1,"..."),t.k0s())}function Qo(r,f){if(1&r&&(t.j41(0,"div",19)(1,"span",20),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Ko,3,2,"div",32)(5,Ho,2,0,"div",26),t.k0s()),2&r){const c=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_core_sach")," "),t.R7$(2),t.Y8G("ngForOf",c.listBookObjs),t.R7$(),t.Y8G("ngIf",c.listBookObjs.length>1)}}function Zo(r,f){1&r&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_noi_dung")," "))}function qo(r,f){if(1&r&&(t.j41(0,"div",39)(1,"span",40),t.EFF(2),t.k0s()()),2&r){const c=f.$implicit;t.R7$(2),t.SpI("- ",c.content,"")}}function ta(r,f){if(1&r&&(t.j41(0,"div",36)(1,"h3",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,qo,3,1,"div",38),t.k0s()),2&r){const c=f.$implicit;t.Y8G("hidden",f.index>1),t.R7$(2),t.Lme("",t.bMT(3,4,"lang_core_buoi")," ",c.sort,""),t.R7$(2),t.Y8G("ngForOf",c.contents)}}function ea(r,f){1&r&&(t.j41(0,"div",34),t.EFF(1,"..."),t.k0s())}function na(r,f){if(1&r&&(t.j41(0,"div",17)(1,"h3",18),t.EFF(2),t.k0s(),t.j41(3,"div",19)(4,"span",20),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.EFF(7," : "),t.j41(8,"span",21),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.DNE(11,Vo,8,6,"div",22)(12,Uo,6,5,"div",22),t.j41(13,"div",19)(14,"span",20),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.DNE(17,Wo,2,1,"ng-container",23)(18,Jo,3,3,"ng-template",null,1,t.C5r),t.k0s(),t.DNE(20,Qo,6,5,"div",22),t.j41(21,"div",19)(22,"span",20),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.DNE(25,Zo,3,3,"div",24)(26,ta,5,6,"div",25)(27,ea,2,0,"div",26),t.k0s(),t.j41(28,"div",19)(29,"a",27),t.nI1(30,"navigationLocalize"),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()()()),2&r){const c=t.sdS(19),l=t.XpG(2);t.R7$(),t.FS9("matTooltip",l.educationalProgramObj.name),t.R7$(),t.SpI(" ",l.educationalProgramObj.name," "),t.R7$(3),t.JRh(t.bMT(6,18,"lang_homework_create_homework_success_class")),t.R7$(4),t.Lme("",t.bMT(10,20,"lang_homework_create_homework_success_class")," ",l.schoolLevelValue,""),t.R7$(2),t.Y8G("ngIf",l.schoolSubjectKey),t.R7$(),t.Y8G("ngIf",l.educationalProgramObj.description&&l.educationalProgramObj.description.length>0),t.R7$(3),t.SpI(" ",t.bMT(16,22,"lang_testbank_document_list_header_title")," "),t.R7$(2),t.Y8G("ngIf",l.listDocumentObjs.length>0)("ngIfElse",c),t.R7$(3),t.Y8G("ngIf",l.listBookObjs.length>0),t.R7$(3),t.SpI(" ",t.bMT(24,24,"lang_core_noi_dung_chuong_trinh")," "),t.R7$(2),t.Y8G("ngIf",0==l.listEducationProgramSessionObjs.length),t.R7$(),t.Y8G("ngForOf",l.listEducationProgramSessionObjs),t.R7$(),t.Y8G("ngIf",l.listEducationProgramSessionObjs.length>1),t.R7$(2),t.Y8G("routerLink",t.eq3(30,io,t.bMT(30,26,"/business/edit-educational-program/"+l.educationalProgramId)))("queryParams",t.eq3(32,uo,"/business/educational-program/"+l.educationalProgramId)),t.R7$(2),t.SpI(" ",t.bMT(32,28,"lang_testbank_folder_and_file_edit")," ")}}function oa(r,f){if(1&r&&(t.j41(0,"div",41)(1,"a",42),t.nI1(2,"navigationLocalize"),t.j41(3,"div",43)(4,"div",44)(5,"div",45)(6,"div",46)(7,"h3",18),t.EFF(8),t.k0s()(),t.j41(9,"div",47)(10,"span",21),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",39)(14,"span",21),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"div",48),t.EFF(18),t.k0s()()()()()),2&r){const c=f.$implicit,l=t.XpG(2);t.R7$(),t.Y8G("routerLink",t.eq3(16,io,t.bMT(2,10,"/admin/student/classroom-details/"+c.classroomId+"/3")))("queryParams",t.eq3(18,uo,"/business/educational-program/"+l.educationalProgramId)),t.R7$(6),t.FS9("matTooltip",c.classroomName),t.R7$(),t.SpI(" ",c.classroomName," "),t.R7$(3),t.Lme("",t.bMT(12,12,"lang_student_classroom_list_detail_quantity"),": ",c.totalStudent,""),t.R7$(4),t.E5c("",t.bMT(16,14,"lang_core_so_buoi_da_hoc"),": ",c.totalLearnedSession,"/",c.totalSession,""),t.R7$(3),t.SpI("",c.learnedPercent,"%")}}function aa(r,f){if(1&r&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.DNE(3,na,33,34,"div",8),t.k0s(),t.j41(4,"div",9)(5,"div",10)(6,"h3",11),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",12),t.DNE(10,oa,19,20,"div",13),t.k0s(),t.j41(11,"div",14)(12,"a",15),t.nI1(13,"navigationLocalize"),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()()(),t.nrm(16,"azt-scroll-to-top-bottom",16)),2&r){const c=t.XpG();t.R7$(3),t.Y8G("ngIf",c.educationalProgramObj),t.R7$(4),t.Lme("",t.bMT(8,8,"lang_core_cac_lop_hoc_chuong_trinh_nay")," (",c.listClassroomObjs.length,")"),t.R7$(3),t.Y8G("ngForOf",c.listClassroomObjs),t.R7$(2),t.Y8G("routerLink",t.eq3(14,io,t.bMT(13,10,"/admin/student/manage-classroom/0")))("queryParams",t.eq3(16,Lo,c.educationalProgramId)),t.R7$(2),t.SpI("+",t.bMT(15,12,"lang_auto_them_lop_cho_chuong_trinh_hoc"),""),t.R7$(2),t.Y8G("isScrollToTop",!0)}}let ia=(()=>{var r;class f extends H.H{previewFile(l){const m={name:l.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(l.type),type:l.type,url:l.link};this.sAztDialogService.open(Qe.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...m,index:0},showDownloadIcon:!1},restoreFocus:!1})}callMultipleApi(){const m=this.bookService.apiBooksListPost({page:1,size:-1,programId:this.educationalProgramId}),g=this.programService.apiProgramsIdDocumentsGet(this.educationalProgramId),$=this.programService.apiProgramsIdClassroomsListPost(this.educationalProgramId,{page:1,size:-1}),Dt=this.programService.apiProgramsIdGet(this.educationalProgramId),Wt=this.programService.apiProgramsIdSessionsGet(this.educationalProgramId),qt=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());return(0,xe.z)([m,g,$,Dt,Wt,qt]).pipe((0,We.T)(([Tt,Lt,Le,Ye,Ve,je])=>({bookResponse:Tt,documentResponse:Lt,classroomResponse:Le,programResponse:Ye,sessionResponse:Ve,subjectAndLevelResponse:je})),(0,Je.W)(Tt=>{throw Tt}))}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.callMultipleApi()).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);this.educationalProgramObj=l.data?.programResponse,this.listBookObjs=l.data?.bookResponse.list.sort((g,$)=>g.id-$.id)??[],this.listClassroomObjs=l.data?.classroomResponse.list??[],this.listDocumentObjs=l.data?.documentResponse.list.map(g=>({...g,documentType:this.commonService.getEnumTypeWithDefault(_e.d,g.type,_e.d.unknown)}))??[],this.listEducationProgramSessionObjs=l.data?.sessionResponse.list.sort((g,$)=>g.sort-$.sort)??[];let m=l.data?.subjectAndLevelResponse.data?.schoolLevelSubjectObjs.find(g=>g.schoolLevel?.id==this.educationalProgramObj?.schoolLevelId);this.schoolLevelValue=m?.schoolLevel?.value?.toString()??"",this.schoolSubjectKey=m?.schoolSubjectObjs.find(g=>g.id==this.educationalProgramObj?.schoolSubjectId)?.key??"",this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chi_tiet_chuong_trinh_hoc",image:"lang_cms_test_image"}),super.ngOnInit(),this.educationalProgramId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getData()}constructor(l,m,g,$,Dt,Wt){super(),this.activeRoute=l,this.commonListService=m,this.sAztDialogService=g,this.bookService=$,this.programService=Dt,this.sAztFileTypeService=Wt,this.backLink="/business/educational-program",this.educationalProgramId=0,this.schoolLevelValue="",this.schoolSubjectKey="",this.listDocumentObjs=[],this.listClassroomObjs=[],this.listEducationProgramSessionObjs=[],this.listBookObjs=[]}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(b.nX),t.rXU(tn.N),t.rXU(Q.i),t.rXU(sn.l),t.rXU(qe.s),t.rXU(en.k))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-educational-program-detail"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["emptyListDocument",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"container-fluid","mt-5","overflow-hidden","document-market-list"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-3"],["class","box-info p-3",4,"ngIf"],[1,"col-span-12","md:col-span-9"],[1,"box-content","p-3"],[1,"text-md","font-medium","truncate","mr-auto"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4 clickable",4,"ngFor","ngForOf"],[1,"flex","justify-start","mt-4"],[1,"btn-add-class",3,"routerLink","queryParams"],[3,"isScrollToTop"],[1,"box-info","p-3"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"mt-2"],[1,"text-sm","mb-1","items-center","font-medium"],[1,"text-sm"],["class","mt-2",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","text-sm flex justify-center m-2 mb-1","style","color: gray",4,"ngIf"],["class","items-center mb-2",3,"hidden",4,"ngFor","ngForOf"],["class","flex justify-start",4,"ngIf"],["azt-track-service","detail-educational-program-zQWRXarDBe",1,"btn","btn-primary",2,"width","100%","background","rgba(22, 155, 213, 1)","border-width","0px",3,"routerLink","queryParams"],[3,"content","maxLength"],[4,"ngFor","ngForOf"],[1,"clickable",3,"click","type","name","url","showBorder","customClass","textWidth"],[1,"text-sm","flex","justify-center","m-2",2,"color","gray"],["class","items-center",3,"hidden",4,"ngFor","ngForOf"],[1,"items-center",3,"hidden"],[1,"flex","justify-start"],[1,"text-sm","flex","justify-center","m-2","mb-1",2,"color","gray"],[1,"items-center","mb-2",3,"hidden"],[1,"text-sm","font-medium","mr-auto"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"text-sm",2,"white-space","pre-line"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4","clickable"],["azt-track-service","detail-educational-program-2h2h8T3CP",3,"routerLink","queryParams"],[1,"box-info-content","zoom-in"],[1,"flex","justify-between","items-center","py-2","px-4"],[1,"col-information"],[1,"grid","items-center"],[1,"flex","items-center","mt-1"],[1,"box-percent"]],template:function(l,m){if(1&l&&(t.j41(0,"teacher-layout",2),t.DNE(1,Yo,1,1,"azt-loading-effect",3)(2,aa,17,18,"ng-template",null,0,t.C5r),t.k0s()),2&l){const g=t.sdS(3);t.Y8G("headerBackToLink",m.backLink),t.R7$(),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g)}},dependencies:[b.Wk,a.Sq,a.bT,u.oV,Kt.K,Bo.l,Be.I,nn.m,Ht.Q,x.F2,x.wp],styles:[".box-info-content[_ngcontent-%COMP%]{background:#f2f2f2;border-radius:5px}.box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px}.description[_ngcontent-%COMP%]{min-height:150px;border-radius:5px;font-size:14px;width:100%}.btn-add-class[_ngcontent-%COMP%]{color:#2262ae}.btn-add-class[_ngcontent-%COMP%]:hover{color:#2a74cf}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.text-sm[_ngcontent-%COMP%]{font-size:13px!important}.box-content[_ngcontent-%COMP%]{background:#fff;border-radius:5px}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.box-percent[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:#a4e6f4;display:flex;align-items:center;justify-content:center;font-weight:500;border:1px solid #00a8cc}.btn-primary[_ngcontent-%COMP%]:hover{background:#5dc0ea!important}.col-information[_ngcontent-%COMP%]{width:75%}"]}),f})();const po=r=>[r],sa=()=>({"mr-2":!0}),ra=r=>({"py-1 px-3 rounded-full bg-success text-white font-medium":r}),la=()=>({"mr-2 text-danger":!0});function ca(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function _a(r,f){1&r&&t.nrm(0,"azt-loading-ui",26)}function ma(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",14)(1,"div",15)(2,"a",16),t.nI1(3,"navigationLocalize"),t.j41(4,"div",17)(5,"h3",18),t.EFF(6),t.k0s()(),t.j41(7,"div",19)(8,"span",20),t.EFF(9),t.nI1(10,"mytranslate"),t.j41(11,"span",21),t.EFF(12),t.k0s()()(),t.j41(13,"div",17)(14,"span",20),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",17)(18,"span",20),t.EFF(19),t.nI1(20,"mytranslate"),t.nI1(21,"formatMoney"),t.k0s()()(),t.j41(22,"div",22)(23,"button",23),t.nI1(24,"mytranslate"),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.showDeleteDialog(m))}),t.DNE(25,_a,1,0,"azt-loading-ui",24),t.nrm(26,"lucide-icon",25),t.k0s()()()()}if(2&r){const c=f.$implicit,l=t.XpG(3);t.R7$(2),t.Y8G("routerLink",t.eq3(25,po,t.bMT(3,13,"/business/educational-program/"+c.id))),t.R7$(3),t.FS9("matTooltip",c.name),t.R7$(),t.SpI(" ",c.name," "),t.R7$(3),t.SpI(" ",t.bMT(10,15,"lang_core_so_lop_hoc"),": "),t.R7$(2),t.Y8G("ngClass",t.eq3(27,ra,c.totalClassroom)),t.R7$(),t.JRh(c.totalClassroom),t.R7$(3),t.Lme("",t.bMT(16,17,"lang_core_buoi_tiet_hoc"),": ",c.totalSession,""),t.R7$(4),t.Lme("",t.bMT(20,19,"lang_core_hoc_phi"),": ",t.bMT(21,21,c.fee)," \u0111"),t.R7$(4),t.FS9("matTooltip",t.bMT(24,23,"lang_auto_xoa")),t.R7$(2),t.Y8G("ngIf",l.isDeletingId==c.id),t.R7$(),t.Y8G("ngClass",t.lJ4(29,la))}}function da(r,f){if(1&r&&(t.j41(0,"div",10)(1,"h3",11),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",12),t.DNE(5,ma,27,30,"div",13),t.k0s()()),2&r){const c=f.$implicit;t.Y8G("hidden",0==c.programObjs.length),t.R7$(2),t.Lme("",t.bMT(3,4,"lang_homework_create_homework_success_class")," ",c.schoolLevelObj.value,""),t.R7$(3),t.Y8G("ngForOf",c.programObjs)}}function ua(r,f){if(1&r&&(t.j41(0,"div",4)(1,"h3",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"a",6),t.nI1(5,"navigationLocalize"),t.nrm(6,"lucide-icon",7),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,da,6,6,"div",8),t.nrm(10,"azt-scroll-to-top-bottom",9)),2&r){const c=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,6,"lang_student_educational_program")," "),t.R7$(2),t.Y8G("routerLink",t.eq3(12,po,t.bMT(5,8,"/business/create-general-educational-program"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(14,sa)),t.R7$(),t.SpI(" ",t.bMT(8,10,"lang_testbank_create_new_matrix")," "),t.R7$(2),t.Y8G("ngForOf",c.groupEducationalProgramDtoObjs),t.R7$(),t.Y8G("isScrollToTop",!0)}}let pa=(()=>{var r;class f extends H.H{showDeleteDialog(l){var m=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+l.name+" </div> ?";this.sAztDialogService.open(q.u,{data:{content:m},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(g=>{g&&(this.isDeletingId=l.id,this.waitDestroy(this.wrapApiResponse(this.programService.apiProgramsIdDelete(l.id)).subscribe($=>{if(this.isDeletingId=0,!$.success)return this.errorStatusObj($.message,!0);this.groupEducationalProgramDtoObjs.forEach(Dt=>Dt.programObjs=Dt.programObjs.filter(Wt=>Wt.id!=l.id)),this.successStatusObj("lang_core_xoa_chuong_trinh_hoc_thanh_cong",!0)})))})}getSchoolLevel(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(l=>{l.success?(l.data?.schoolLevelSubjectObjs.filter(m=>m.schoolLevel).forEach(m=>{m.schoolLevel&&this.groupEducationalProgramDtoObjs.push({schoolLevelObj:m.schoolLevel,programObjs:[]})}),this.getListProgramObjs()):this.errorStatusObj(l.message,!0)}))}getListProgramObjs(){this.waitDestroy(this.wrapApiResponse(this.programService.apiProgramsListPost({page:1,size:-1})).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);this.groupEducationalProgramDtoObjs.forEach(m=>{m.programObjs=[...m.programObjs,...(l.data?.list??[]).filter(g=>m.schoolLevelObj.id==g.schoolLevelId)]}),this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_student_educational_program",description:"lang_student_educational_program",image:"lang_cms_test_image"}),this.waitDestroy((0,xe.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let l=this.commonService.getMyQueryParam("backto");this.backLink=l||"/business/dashboard"})),super.ngOnInit(),this.getSchoolLevel()}constructor(l,m,g,$){super(),this.activeRoute=l,this.programService=m,this.commonListService=g,this.sAztDialogService=$,this.backLink="",this.groupEducationalProgramDtoObjs=[],this.isDeletingId=0}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(b.nX),t.rXU(qe.s),t.rXU(tn.N),t.rXU(Q.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-azt-business-educational-program"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"flex","justify-between","mt-5",2,"flex-wrap","wrap"],[1,"text-md-title","font-medium","mr-auto","mt-1"],["azt-track-service","business-educational-program-H1qyTyPt5",1,"btn","btn-primary","px-5","py-2","mt-1",3,"routerLink"],["name","plus","size","16",3,"ngClass"],["class","mt-5",3,"hidden",4,"ngFor","ngForOf"],[3,"isScrollToTop"],[1,"mt-5",3,"hidden"],[1,"text-md-class","font-medium","truncate","mr-auto","mb-3"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-4 xl:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","xl:col-span-3"],[1,"flex","info-infrastructure"],["azt-track-service","business-educational-program-ETIELn-OoJ",1,"col-information","clickable",3,"routerLink"],[1,"flex","items-center"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[3,"ngClass"],[1,"flex","justify-end","items-center"],["azt-track-service","business-educational-program-Kk4G8pkpL",1,"flex","items-center","justify-center",3,"click","matTooltip"],["class","mr-1",4,"ngIf"],["name","trash-2","size","16",3,"ngClass"],[1,"mr-1"]],template:function(l,m){if(1&l&&(t.j41(0,"teacher-layout",1),t.DNE(1,ca,1,1,"azt-loading-effect",2)(2,ua,11,15,"ng-template",null,0,t.C5r),t.k0s()),2&l){const g=t.sdS(3);t.Y8G("headerBackToLink",m.backLink),t.R7$(),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g)}},dependencies:[b.Wk,a.YU,a.Sq,a.bT,u.oV,Kt.K,Be.I,Y.R,Ht.Q,n.WGl,x.F2,x.wp,x.t0],styles:[".btn-activity[_ngcontent-%COMP%]{padding:4px 20px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]{padding:4px 20px;background:#8b0000;color:#fff;border-radius:10px;font-weight:500}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{padding:2px 5px;width:calc(100% - 20px)}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#a9a9a9;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:6px;height:100%;box-shadow:0 0 9px #00000024}.btn-delete[_ngcontent-%COMP%]{padding:2px;border-radius:5px}.btn-delete[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:scale(1.1)}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.text-md-class[_ngcontent-%COMP%]{font-size:16px}.truncate[_ngcontent-%COMP%]{width:100%!important}"]}),f})();var go=_(74151),dn=_(63244);function ga(r,f){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_ten_phong_hoc")," "))}function fa(r,f){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_so_cho_ngoi")," "))}function ha(r,f){1&r&&(t.j41(0,"div",20),t.nrm(1,"azt-loading-ui",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&r&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dang_luu_doing")," "))}function ba(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){t.eBV(c);const m=t.XpG();return t.Njj(m.saveRoom(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&r){const c=t.XpG();t.Y8G("disabled",c.statusObj.loading||c.form.invalid),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_core_luu_va_dong")," ")}}let va=(()=>{var r;class f extends Mt._{closeDialog(){this.dialogRef.close(this.isLoadData)}saveRoom(l){var m={name:this.form.getRawValue().roomName,numberSeat:this.form.getRawValue().numberSeat};this.initStatusObj(),this.waitDestroy(this.data.room?this.wrapApiResponse(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsRoomIdPut(this.data.infrastructureId,this.data.room.id,m)).subscribe(g=>{if(!g.success)return this.errorStatusObj(g.message,!0);this.dialogRef.close(!0),this.successStatusObj("lang_core_sua_phong_hoc_thanh_cong",!0)}):this.wrapApiResponse(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsPost(this.data.infrastructureId,m)).subscribe(g=>{if(!g.success)return this.errorStatusObj(g.message,!0);l?this.dialogRef.close(!0):(this.isLoadData=!0,this.form.reset(),this.stopStatusObj()),this.successStatusObj("lang_core_them_phong_hoc_thanh_cong",!0)}))}ngOnInit(){}constructor(l,m,g){super(g,m),this.infrastructureService=l,this.dialogRef=m,this.data=g,this.isLoadData=!1,this.form=new s.gE({roomName:new s.MJ(g.room?.name??"",{nonNullable:!0,validators:[s.k0.required]}),numberSeat:new s.MJ(g.room?.numberSeat,{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9]+$|^[1-9][0-9]*$/)]})})}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(dn.B),t.rXU(e.CP,8),t.rXU(e.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-create-business-room-dialog"]],features:[t.Vt3],decls:33,vars:27,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[2,"padding","1px"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","roomName",1,"form-label"],["type","text","id","roomName","formControlName","roomName",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","numberSeat",1,"form-label"],["type","text","id","numberSeat","formControlName","numberSeat",1,"form-control",3,"placeholder"],["class","box-save-doing",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-primary",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8","class","btn btn-info ml-2",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"box-save-doing"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-info","ml-2",3,"click","disabled"]],template:function(l,m){1&l&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",9),t.nI1(15,"mytranslate"),t.DNE(16,ga,3,3,"div",10),t.k0s(),t.j41(17,"div",11)(18,"label",12),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.nrm(21,"input",13),t.nI1(22,"mytranslate"),t.DNE(23,fa,3,3,"div",10),t.k0s(),t.DNE(24,ha,4,3,"div",14),t.k0s()()()(),t.j41(25,"div",15)(26,"button",16),t.bIt("click",function(){return m.closeDialog()}),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"button",17),t.bIt("click",function(){return m.saveRoom(!1)}),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s(),t.DNE(32,ba,3,4,"button",18),t.k0s()()()),2&l&&(t.R7$(),t.Y8G("formGroup",m.form),t.R7$(4),t.SpI(" ",t.bMT(6,13,m.data.room?"lang_auth_sua_phong_hoc":"lang_core_tao_phong_hoc")," "),t.R7$(7),t.SpI(" ",t.bMT(13,15,"lang_core_ten_phong")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,17,"lang_core_nhap_ten_phong")),t.R7$(2),t.Y8G("ngIf",m.form.controls.roomName.dirty&&m.form.controls.roomName.errors),t.R7$(3),t.SpI(" ",t.bMT(20,19,"lang_core_so_cho_ngoi")," "),t.R7$(2),t.FS9("placeholder",t.bMT(22,21,"lang_auto_nhap_so_cho_ngoi")),t.R7$(2),t.Y8G("ngIf",m.form.controls.numberSeat.dirty&&m.form.controls.numberSeat.errors),t.R7$(),t.Y8G("ngIf",m.statusObj.loading),t.R7$(3),t.JRh(t.bMT(28,23,"lang_button_close")),t.R7$(2),t.Y8G("disabled",m.statusObj.loading||m.form.invalid),t.R7$(),t.SpI(" ",t.bMT(31,25,m.data.room?"lang_student_classroom_list_update":"lang_button_save")," "),t.R7$(2),t.Y8G("ngIf",!m.data.room))},dependencies:[a.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,ce.t,zt.U,Y.R,x.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box-save-doing[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;background:#ffffffad}"]}),f})();var so=_(45785),Ca=_(64198),ka=_(9241);function xa(r,f){if(1&r&&(t.nrm(0,"iframe",1),t.nI1(1,"safe")),2&r){const c=t.XpG();t.Y8G("src",t.bMT(1,2,c.embedGoogleMapUrl),t.f$h)("width",c.width)}}let fo=(()=>{var r;class f extends H.H{checkValidLink(){this.embedGoogleMapUrl=(0,Ca.lR)(this.htmlEmbedCode)??""}onLoad(){setTimeout(()=>{this.loadedEvent.emit(!0)},0)}ngOnChanges(){this.checkValidLink()}ngOnInit(){super.ngOnInit(),this.checkValidLink()}constructor(){super(),this.width="600px",this.height="400px",this.loadedEvent=new t.bkB,this.embedGoogleMapUrl=""}}return(r=f).\u0275fac=function(l){return new(l||r)},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-google-map-embed"]],inputs:{htmlEmbedCode:"htmlEmbedCode",width:"width",height:"height"},outputs:{loadedEvent:"loadedEvent"},features:[t.Vt3,t.OA$],decls:1,vars:1,consts:[["allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade","style","width: -webkit-fill-available; height: auto;min-height:300px",3,"src","width",4,"ngIf"],["allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"width","-webkit-fill-available","height","auto","min-height","300px",3,"src","width"]],template:function(l,m){1&l&&t.DNE(0,xa,2,4,"iframe",0),2&l&&t.Y8G("ngIf",m.embedGoogleMapUrl)},dependencies:[a.bT,ka.w,x.JI],encapsulation:2}),f})();const Ia=["drawer"],Ta=(r,f)=>({"w-85":r,"w-25":f}),ya=r=>({"azt-mobile-draw-left":r}),Oa=r=>({"ml-25":r}),ja=r=>({"ml-5":r}),Sa=()=>({height:"80%"}),Ea=()=>({"text-primary":!0}),Fa=()=>({"text-danger":!0});function Ra(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",6),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Ma(r,f){1&r&&t.nrm(0,"azt-loading-ui",37)}function wa(r,f){if(1&r&&(t.j41(0,"div",38),t.nrm(1,"azt-google-map-embed",39),t.k0s()),2&r){const c=t.XpG(2);t.R7$(),t.Y8G("htmlEmbedCode",c.obj.mapAddress)}}function Da(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",40),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(c);const m=t.XpG(2);return t.Njj(m.sAztMatDrawerService.openDrawer())}),t.nrm(2,"lucide-icon",41),t.k0s()}2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_mo_menu"))}function Pa(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",42),t.nI1(1,"mytranslate"),t.bIt("click",function(){t.eBV(c);const m=t.XpG(2);return t.Njj(m.sAztMatDrawerService.closeDrawer())}),t.nrm(2,"lucide-icon",43),t.k0s()}2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_dong_menu"))}function za(r,f){1&r&&(t.j41(0,"span",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_auto_them_phong_hoc")))}function Aa(r,f){1&r&&t.nrm(0,"azt-loading-ui",37)}function Ga(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",47)(1,"div",48)(2,"div",49)(3,"h3",50),t.EFF(4),t.k0s(),t.j41(5,"div"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",51)(9,"button",52),t.nI1(10,"mytranslate"),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.addOrUpdateRoom(m))}),t.nrm(11,"lucide-icon",53),t.k0s(),t.j41(12,"button",54),t.nI1(13,"mytranslate"),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.showDeleteRoomDialog(m))}),t.DNE(14,Aa,1,0,"azt-loading-ui",18),t.nrm(15,"lucide-icon",55),t.k0s()()()()}if(2&r){const c=f.$implicit,l=t.XpG(3);t.R7$(3),t.FS9("matTooltip",c.name),t.R7$(),t.SpI(" ",c.name," "),t.R7$(2),t.Lme("",t.bMT(7,9,"lang_core_so_cho_ngoi"),": ",c.numberSeat,""),t.R7$(3),t.FS9("matTooltip",t.bMT(10,11,"lang_button_edit")),t.R7$(2),t.Y8G("ngClass",t.lJ4(15,Ea)),t.R7$(),t.FS9("matTooltip",t.bMT(13,13,"lang_student_classroom_list_delete")),t.R7$(2),t.Y8G("ngIf",l.isDeletingId==c.id),t.R7$(),t.Y8G("ngClass",t.lJ4(16,Fa))}}function $a(r,f){if(1&r&&(t.j41(0,"div")(1,"div",45),t.DNE(2,Ga,16,17,"div",46),t.k0s()()),2&r){const c=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",c.roomObjs)}}function Na(r,f){1&r&&(t.j41(0,"div",56),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_danh_sach_phong_hoc_trong")," "))}function Ba(r,f){if(1&r){const c=t.RV6();t.j41(0,"mat-drawer-container",7)(1,"mat-drawer",8,1)(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12)(7,"h3",13),t.EFF(8),t.k0s()(),t.j41(9,"div",14)(10,"span",15),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",14)(14,"span",15),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",14)(18,"span",15),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.j41(21,"div")(22,"div",16)(23,"div",17),t.DNE(24,Ma,1,0,"azt-loading-ui",18),t.EFF(25),t.nI1(26,"mytranslate"),t.nrm(27,"lucide-icon",19),t.k0s()(),t.j41(28,"mat-menu",null,2)(30,"div",20)(31,"ul",21)(32,"li")(33,"button",22),t.bIt("click",function(){t.eBV(c);const m=t.XpG();return t.Njj(m.changeActivity())}),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s()()()()()(),t.DNE(36,wa,2,1,"div",23),t.k0s()()()(),t.j41(37,"mat-drawer-content",24)(38,"div",25)(39,"div",26),t.DNE(40,Da,3,3,"button",27)(41,Pa,3,3,"button",28),t.j41(42,"div",29)(43,"button",30),t.bIt("click",function(){t.eBV(c);const m=t.XpG();return t.Njj(m.addOrUpdateRoom())}),t.nrm(44,"lucide-icon",31),t.DNE(45,za,3,3,"span",32),t.k0s()()(),t.j41(46,"div",33)(47,"h2",34),t.EFF(48),t.nI1(49,"mytranslate"),t.k0s(),t.DNE(50,$a,3,1,"div",35)(51,Na,3,3,"ng-template",null,3,t.C5r),t.k0s()()()(),t.nrm(53,"azt-scroll-to-top-bottom",36)}if(2&r){const c=t.sdS(29),l=t.sdS(52),m=t.XpG();t.Y8G("hasBackdrop",m.sAztMatDrawerService.hasBackdrop),t.R7$(),t.FS9("opened",m.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Y8G("ngClass",t.l_i(41,Ta,m.isMobileDevice,!m.isMobileDevice))("mode",m.sAztMatDrawerService.mode),t.R7$(2),t.Y8G("ngClass",t.eq3(44,ya,m.isMobileDevice)),t.R7$(4),t.FS9("matTooltip",m.obj.name),t.R7$(),t.SpI(" ",m.obj.name," "),t.R7$(3),t.Lme("",t.bMT(12,29,"lang_test_market_address"),": ",m.obj.address,""),t.R7$(4),t.Lme("",t.bMT(16,31,"lang_auto_dien_thoai"),": ",m.obj.phone,""),t.R7$(4),t.Lme("",t.bMT(20,33,"lang_auto_tong_so_phong_hoc"),": ",m.obj.totalRoom,""),t.R7$(3),t.Y8G("matMenuTriggerFor",c),t.R7$(),t.Y8G("ngClass",1==m.obj.status?"btn-activity":"btn-not-activity"),t.R7$(),t.Y8G("ngIf",m.isChangingActivityId==m.obj.id),t.R7$(),t.SpI(" ",t.bMT(26,35,0==m.obj.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(9),t.SpI(" ",t.bMT(35,37,1==m.obj.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(2),t.Y8G("ngIf",m.obj.mapAddress),t.R7$(),t.Y8G("ngClass",t.eq3(46,Oa,!m.isMobileDevice&&m.sAztMatDrawerService.isOpenSideNav)),t.R7$(),t.Y8G("ngClass",t.eq3(48,ja,!m.isMobileDevice&&m.sAztMatDrawerService.isOpenSideNav)),t.R7$(2),t.Y8G("ngIf",!m.sAztMatDrawerService.isOpenSideNav||m.isMobileDevice),t.R7$(),t.Y8G("ngIf",m.sAztMatDrawerService.isOpenSideNav&&!m.isMobileDevice),t.R7$(4),t.Y8G("ngIf",!m.isMobileDevice||m.isMobileWebView),t.R7$(),t.Y8G("ngStyle",t.lJ4(50,Sa)),t.R7$(2),t.SpI(" ",t.bMT(49,39,"lang_core_danh_sach_phong_hoc")," "),t.R7$(2),t.Y8G("ngIf",m.roomObjs.length>0)("ngIfElse",l),t.R7$(3),t.Y8G("isScrollToTop",!0)}}let La=(()=>{var r;class f extends H.H{set drawer(l){this.sAztMatDrawerService.resizeDrawerHeight(!0,l)}addOrUpdateRoom(l){this.sAztDialogService.open(va,{data:{infrastructureId:this.infrastructureId,room:l},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(g=>{g&&this.getRooms()})}showDeleteRoomDialog(l){var m=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+l.name+" </div>";this.sAztDialogService.open(q.u,{data:{content:m},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(g=>{g&&(this.isDeletingId=l.id,this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsRoomIdDelete(this.obj.id,l.id)).subscribe($=>{if(this.isDeletingId=0,!$.success)return this.errorStatusObj($.message,!0);this.roomObjs=this.roomObjs.filter(Dt=>l.id!=Dt.id),this.successStatusObj("lang_core_xoa_phong_hoc_thanh_cong",!0)})))})}changeActivity(){if(!this.obj)return;this.isChangingActivityId=this.obj.id;let l=0==this.obj.status?this.infrastructureService.apiInfrastructuresIdActivatePut(this.obj.id):this.infrastructureService.apiInfrastructuresIdDeactivatePut(this.obj.id);this.waitDestroy(this.wrapApiResponse(l).subscribe(m=>(this.isChangingActivityId=0,m.success?m.data&&this.obj?void(this.obj.status=0==this.obj.status?1:0):this.errorStatusObj("lang_core_co_loi_khi_doi_trang_thai",!0):this.errorStatusObj(m.message,!0))))}initData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresIdGet(this.infrastructureId)).subscribe(l=>{if(!l.success||!l.data)return this.errorStatusObj(l.message,!0);this.obj=l.data,this.getRooms()}))}getRooms(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsGet(this.infrastructureId,-1,100)).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);this.roomObjs=l.data?.list??[],this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chi_tiet_co_so",image:"lang_cms_test_image"}),super.ngOnInit(),this.infrastructureId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.initData()}constructor(l,m,g,$){super(),this.activeRoute=l,this.infrastructureService=m,this.sAztDialogService=g,this.sAztMatDrawerService=$,this.backToLink="/business/infrastructure",this.infrastructureId=0,this.roomObjs=[],this.isChangingActivityId=0,this.isDeletingId=0}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(b.nX),t.rXU(dn.B),t.rXU(Q.i),t.rXU(go.n))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-list-classroom-in-infrastructure"]],viewQuery:function(l,m){if(1&l&&t.GBs(Ia,5),2&l){let g;t.mGM(g=t.lsd())&&(m.drawer=g.first)}},features:[t.Jv_([go.n]),t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["drawer",""],["menuSelectActivity","matMenu"],["emptyList",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"azt-drawer-container","mt-5",3,"hasBackdrop"],[3,"ngClass","mode","opened"],[1,"azt-draw-left",2,"overflow-x","hidden",3,"ngClass"],[1,"box"],[1,"p-3"],[1,"flex","items-center"],[1,"text-md","font-medium","truncate","mr-auto","mt-2",3,"matTooltip"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[1,"flex","items-center","mt-2",3,"matMenuTriggerFor"],[1,"text-sm","clickable","btn","btn-primary",3,"ngClass"],["class","mr-1",4,"ngIf"],["name","chevron-down","size","16"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full","clickable",3,"click"],["class","pt-3",4,"ngIf"],[3,"ngClass"],[1,"azt-drawer-content",3,"ngClass"],[1,"flex","box","sm:h-auto","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-2"],["azt-track-service","detail-infrastructure-dBQFBBora","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","detail-infrastructure-qa6EG4yZyv","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"relative","flex","ml-auto"],["azt-track-service","detail-infrastructure-LAD7A9vcci",1,"btn","btn-primary","pl-2","pr-2","py-1",3,"click"],["name","plus","size","16"],["class","text-sm ml-2",4,"ngIf"],[1,"box","relative","p-3",3,"ngStyle"],[1,"font-medium","truncate","mr-auto"],[4,"ngIf","ngIfElse"],[3,"isScrollToTop"],[1,"mr-1"],[1,"pt-3"],[3,"htmlEmbedCode"],["azt-track-service","detail-infrastructure-dBQFBBora",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-open","size","16"],["azt-track-service","detail-infrastructure-qa6EG4yZyv",1,"btn","btn-sm","mr-2",3,"click","matTooltip"],["name","panel-left-close","size","16"],[1,"text-sm","ml-2"],[1,"grid","grid-cols-12","gap-3"],["class","col-span-12 sm:col-span-6 md:col-span-4 2xl:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","2xl:col-span-3"],[1,"flex","justify-between","info-class-room"],[1,"col-information"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"flex"],["azt-track-service","list-classroom-in-infrastructure--l-N2YP70a",1,"btn-flex","items-center","justify-center","mr-2",3,"click","matTooltip"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","list-classroom-in-infrastructure-QSKDgXBGhe",1,"flex","items-center","justify-center",3,"click","matTooltip"],["name","trash-2","size","16",3,"ngClass"],[1,"flex","justify-center"]],template:function(l,m){if(1&l&&(t.j41(0,"teacher-layout",4),t.DNE(1,Ra,1,1,"azt-loading-effect",5)(2,Ba,54,51,"ng-template",null,0,t.C5r),t.k0s()),2&l){const g=t.sdS(3);t.Y8G("headerBackToLink",m.backToLink),t.R7$(),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g)}},dependencies:[a.YU,a.Sq,a.bT,a.B3,jt.kk,jt.Cp,so.qe,so.$C,so.$l,u.oV,Kt.K,Be.I,Y.R,fo,Ht.Q,n.WGl,x.wp],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:#37ca37!important}.btn-not-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#98110c;color:#fff;border-radius:10px;font-weight:500}.btn-not-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{padding:2px 5px;width:calc(100% - 50px)}.info-class-room[_ngcontent-%COMP%]{background:#f0f8ff;padding:10px;border-radius:6px}.setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.azt-draw-left-container[_ngcontent-%COMP%] > .mat-drawer-inner-container[_ngcontent-%COMP%]{overflow:auto!important}.hide[_ngcontent-%COMP%]{display:none!important}.hover[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{width:20px!important;height:20px!important;stroke-width:1.8px!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:#354567}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),f})();function Ya(r,f){1&r&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_ten_co_so")," "))}function Va(r,f){1&r&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_dia_chi")," "))}function Ua(r,f){1&r&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function Xa(r,f){1&r&&(t.j41(0,"div",25),t.nrm(1,"azt-loading-ui",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&r&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dang_luu_doing")," "))}function Wa(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",27),t.bIt("click",function(){t.eBV(c);const m=t.XpG();return t.Njj(m.saveData(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&r){const c=t.XpG();t.Y8G("disabled",c.statusObj.loading||c.form.controls.infrastructureName.errors||c.form.controls.phoneNumber.errors||c.form.controls.address.errors),t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_core_luu_va_dong")," ")}}let Ja=(()=>{var r;class f extends Mt._{closeDialog(){this.dialogRef.close(this.isLoadData)}saveData(l){var m={name:this.form.getRawValue().infrastructureName,address:this.form.getRawValue().address,mapAddress:this.form.getRawValue().mapAddress,phone:this.form.getRawValue().phoneNumber};this.initStatusObj(),this.waitDestroy(this.data?this.infrastructureService.apiInfrastructuresIdPut(this.data.id,m).subscribe(g=>{g.success?(this.successStatusObj("lang_core_tsua_co_so_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_core_sua_co_so_khong_thanh_cong",!0)}):this.wrapApiResponse(this.infrastructureService.apiInfrastructuresPost(m)).subscribe(g=>{if(!g.success)return this.errorStatusObj(g.message,!0);l?this.dialogRef.close(!0):(this.isLoadData=!0,this.form.reset(),this.stopStatusObj()),this.successStatusObj("lang_core_them_co_so_thanh_cong",!0)}))}ngOnInit(){}constructor(l,m,g){super(g,m),this.infrastructureService=l,this.dialogRef=m,this.data=g,this.isLoadData=!1,this.form=new s.gE({infrastructureName:new s.MJ(g?.name??"",{nonNullable:!0,validators:[s.k0.required]}),address:new s.MJ(g?.address??"",{nonNullable:!0,validators:[s.k0.required]}),phoneNumber:new s.MJ(g?.phone??"",{nonNullable:!0,validators:[s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),mapAddress:new s.MJ(g?.mapAddress??"",{nonNullable:!0})})}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(dn.B),t.rXU(e.CP,8),t.rXU(e.Vh))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-create-or-info-infrastructure"]],features:[t.Vt3],decls:56,vars:51,consts:[[1,"box","infrastructure-dialog"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","list-class"],["for","infrastructureName",1,"form-label"],["type","text","id","infrastructureName","formControlName","infrastructureName",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control",3,"placeholder"],["for","phoneNumber",1,"form-label"],["type","text","id","phoneNumber","formControlName","phoneNumber",1,"form-control",3,"placeholder"],["for","map",1,"form-label"],[1,"text-sm"],["azt-track-service","create-or-update-info-infrastructure-dialog-0UswBviDw","href","https://www.google.com/maps","target","_blank",2,"color","blue","text-decoration","underline"],["type","text","formControlName","mapAddress",1,"form-control",3,"placeholder"],[3,"htmlEmbedCode"],["class","box-save-doing",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-primary",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8","class","btn btn-info ml-2",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"box-save-doing"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-info","ml-2",3,"click","disabled"]],template:function(l,m){1&l&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div")(10,"label",6),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.nrm(13,"input",7),t.nI1(14,"mytranslate"),t.DNE(15,Ya,3,3,"div",8),t.k0s(),t.j41(16,"div",9)(17,"label",10),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.nrm(20,"input",11),t.nI1(21,"mytranslate"),t.DNE(22,Va,3,3,"div",8),t.k0s(),t.j41(23,"div",9)(24,"label",12),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.nrm(27,"input",13),t.nI1(28,"mytranslate"),t.DNE(29,Ua,3,3,"div",8),t.k0s(),t.j41(30,"div",9)(31,"label",14),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.j41(34,"div",15),t.EFF(35),t.nI1(36,"mytranslate"),t.j41(37,"a",16),t.EFF(38,"Google Maps"),t.k0s(),t.EFF(39),t.nI1(40,"mytranslate"),t.nrm(41,"br"),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s(),t.nrm(44,"input",17),t.nI1(45,"mytranslate"),t.k0s(),t.nrm(46,"azt-google-map-embed",18),t.DNE(47,Xa,4,3,"div",19),t.k0s()()(),t.j41(48,"div",20)(49,"button",21),t.bIt("click",function(){return m.closeDialog()}),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s(),t.j41(52,"button",22),t.bIt("click",function(){return m.saveData(!1)}),t.EFF(53),t.nI1(54,"mytranslate"),t.k0s(),t.DNE(55,Wa,3,4,"button",23),t.k0s()()()),2&l&&(t.R7$(),t.Y8G("formGroup",m.form),t.R7$(4),t.SpI(" ",t.bMT(6,23,m.data?"lang_core_sua_co_so":"lang_core_them_co_so")," "),t.R7$(6),t.SpI(" ",t.bMT(12,25,"lang_core_ten_co_so")," "),t.R7$(2),t.FS9("placeholder",t.bMT(14,27,"lang_core_nhap_ten_co_so")),t.BMQ("autofocus",!1),t.R7$(2),t.Y8G("ngIf",m.form.controls.infrastructureName.dirty&&m.form.controls.infrastructureName.errors),t.R7$(3),t.SpI(" ",t.bMT(19,29,"lang_test_market_address")," "),t.R7$(2),t.FS9("placeholder",t.bMT(21,31,"lang_core_vui_nhap_dia_chi")),t.R7$(2),t.Y8G("ngIf",m.form.controls.address.dirty&&m.form.controls.address.errors),t.R7$(3),t.SpI(" ",t.bMT(26,33,"lang_number_phone")," "),t.R7$(2),t.FS9("placeholder",t.bMT(28,35,"lang_auto_nhap_so_dien_thoai")),t.R7$(2),t.Y8G("ngIf",m.form.controls.phoneNumber.dirty&&m.form.controls.phoneNumber.errors),t.R7$(3),t.SpI(" ",t.bMT(33,37,"lang_auto_ban_do")," "),t.R7$(3),t.SpI(" ",t.bMT(36,39,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_1")," "),t.R7$(4),t.SpI(" ",t.bMT(40,41,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_2")," "),t.R7$(3),t.SpI(" ",t.bMT(43,43,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_3")," "),t.R7$(2),t.FS9("placeholder",t.bMT(45,45,"lang_core_dan_dia_chi_da_sao_chep")),t.R7$(2),t.Y8G("htmlEmbedCode",m.form.controls.mapAddress.value),t.R7$(),t.Y8G("ngIf",m.statusObj.loading),t.R7$(3),t.JRh(t.bMT(51,47,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",m.statusObj.loading||m.form.controls.infrastructureName.errors||m.form.controls.phoneNumber.errors||m.form.controls.address.errors),t.R7$(),t.SpI(" ",t.bMT(54,49,m.data?"lang_student_classroom_list_update":"lang_button_save")," "),t.R7$(2),t.Y8G("ngIf",!m.data))},dependencies:[a.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,ce.t,zt.U,Y.R,fo,x.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}.iframeViewMap[_ngcontent-%COMP%]{width:-webkit-fill-available;height:auto}iframe[_ngcontent-%COMP%]{width:-webkit-fill-available}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.text-sm[_ngcontent-%COMP%]{font-size:12px}.box-save-doing[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;background:#ffffffad}"]}),f})();const Ka=()=>({"mr-2":!0}),Ha=r=>[r],Qa=()=>({"mr-2 text-danger":!0});function Za(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",4),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function qa(r,f){1&r&&t.nrm(0,"azt-loading-ui",32)}function ti(r,f){1&r&&t.nrm(0,"azt-loading-ui",32)}function ei(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",14)(1,"a",15),t.nI1(2,"navigationLocalize"),t.j41(3,"h3",16),t.EFF(4),t.k0s(),t.j41(5,"div",17)(6,"span",18),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"div",17)(11,"span",18),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.EFF(14),t.k0s(),t.j41(15,"div",17)(16,"span",18),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.EFF(19),t.k0s()(),t.j41(20,"div",19)(21,"div")(22,"div",20),t.DNE(23,qa,1,0,"azt-loading-ui",21),t.EFF(24),t.nI1(25,"mytranslate"),t.nrm(26,"lucide-icon",22),t.k0s(),t.j41(27,"mat-menu",23,1)(29,"div",24)(30,"ul",25)(31,"li")(32,"button",26),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG(2);return t.Njj(g.changeActivity(m))}),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s()()()()()(),t.j41(35,"div",27)(36,"button",28),t.nI1(37,"mytranslate"),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG(2);return t.Njj(g.openAddOrEditInfrastructure(m))}),t.nrm(38,"lucide-icon",29),t.k0s(),t.j41(39,"button",30),t.nI1(40,"mytranslate"),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG(2);return t.Njj(g.showDeleteRoomDialog(m))}),t.DNE(41,ti,1,0,"azt-loading-ui",21),t.nrm(42,"lucide-icon",31),t.k0s()()()()}if(2&r){const c=f.$implicit,l=t.sdS(28),m=t.XpG(2);t.R7$(),t.Y8G("routerLink",t.eq3(34,Ha,t.bMT(2,18,"/business/infrastructure/"+c.id))),t.R7$(2),t.FS9("matTooltip",c.name),t.R7$(),t.SpI(" ",c.name," "),t.R7$(3),t.JRh(t.bMT(8,20,"lang_test_market_address")),t.R7$(2),t.SpI(" : ",c.address," "),t.R7$(3),t.JRh(t.bMT(13,22,"lang_auto_dien_thoai")),t.R7$(2),t.SpI(" : ",c.phone," "),t.R7$(3),t.JRh(t.bMT(18,24,"lang_auto_tong_so_phong_hoc")),t.R7$(2),t.SpI(" : ",c.totalRoom," "),t.R7$(3),t.Y8G("ngClass",1==c.status?"btn-activity":"btn-un-activity")("matMenuTriggerFor",l),t.R7$(),t.Y8G("ngIf",m.isChangingActivityId==c.id),t.R7$(),t.SpI(" ",t.bMT(25,26,0==c.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(9),t.SpI(" ",t.bMT(34,28,1==c.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(3),t.FS9("matTooltip",t.bMT(37,30,"lang_button_edit")),t.R7$(3),t.FS9("matTooltip",t.bMT(40,32,"lang_student_classroom_list_delete")),t.R7$(2),t.Y8G("ngIf",m.isDeletingId==c.id),t.R7$(),t.Y8G("ngClass",t.lJ4(36,Qa))}}function ni(r,f){if(1&r){const c=t.RV6();t.j41(0,"h3",5),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.j41(3,"div",6),t.DNE(4,ei,43,37,"div",7),t.j41(5,"div",8)(6,"div",9),t.bIt("click",function(){t.eBV(c);const m=t.XpG();return t.Njj(m.openAddOrEditInfrastructure())}),t.j41(7,"div",10),t.nrm(8,"lucide-icon",11),t.j41(9,"div",12),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()()()(),t.nrm(12,"azt-scroll-to-top-bottom",13)}if(2&r){const c=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,5,"lang_auto_quan_ly_co_so_vat_chat")," "),t.R7$(3),t.Y8G("ngForOf",c.objs),t.R7$(4),t.Y8G("ngClass",t.lJ4(9,Ka)),t.R7$(2),t.SpI(" ",t.bMT(11,7,"lang_auto_them_co_so")," "),t.R7$(2),t.Y8G("isScrollToTop",!0)}}let oi=(()=>{var r;class f extends H.H{openAddOrEditInfrastructure(l){this.sAztDialogService.open(Ja,{data:l,restoreFocus:!1,width:"800px"}).afterClosed().subscribe(m=>{m&&this.getData()})}showDeleteRoomDialog(l){var m=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+l.name+" </div> ?";this.sAztDialogService.open(q.u,{data:{content:m},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(g=>{g&&(this.isDeletingId=l.id,this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresIdDelete(l.id)).subscribe($=>(this.isDeletingId=0,$.success?$?(this.objs=this.objs.filter(Dt=>Dt.id!=l.id),void this.successStatusObj("lang_core_xoa_co_so_thanh_cong")):this.errorStatusObj("lang_core_xoa_co_so_khong_thanh_cong",!0):this.errorStatusObj($.message,!0)))))})}changeActivity(l){var m=this.objs.find($=>$.id==l.id);if(!m)return;this.isChangingActivityId=l.id;let g=0==m.status?this.infrastructureService.apiInfrastructuresIdActivatePut(l.id):this.infrastructureService.apiInfrastructuresIdDeactivatePut(l.id);this.waitDestroy(this.wrapApiResponse(g).subscribe($=>(this.isChangingActivityId=0,$.success?$.data&&m?void(m.status=0==m.status?1:0):this.errorStatusObj("lang_core_co_loi_khi_doi_trang_thai",!0):this.errorStatusObj($.message,!0))))}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresListPost({size:-1,page:1})).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);this.objs=l.data?.list??[],this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_co_so_vat_chat",image:"lang_cms_test_image"}),super.ngOnInit(),this.getData()}constructor(l,m){super(),this.infrastructureService=l,this.sAztDialogService=m,this.objs=[],this.isChangingActivityId=0,this.isDeletingId=0}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(dn.B),t.rXU(Q.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["list-infrastructure"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["menuSelectActivity","matMenu"],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"text-md-title","font-medium","truncate","mr-auto","mt-5"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["class","col-span-12 sm:col-span-6 xl:col-span-3 box",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","xl:col-span-3"],["azt-track-service","list-infrastructure-0HrlOWafsi",1,"grid","items-center","btn-add-infrastructure","clickable",3,"click"],[1,"flex","justify-center"],["name","plus","size","24",3,"ngClass"],[1,"text-add-cs"],[3,"isScrollToTop"],[1,"col-span-12","sm:col-span-6","xl:col-span-3","box"],["azt-track-service","list-infrastructure-tBcgbalH2n",1,"clickable","block","p-3","pb-0",3,"routerLink"],[1,"text-md","font-bold","truncate","mr-auto",3,"matTooltip"],[1,"text-sm"],[1,"font-medium"],[1,"flex","justify-between","items-center","p-3"],[1,"text-sm","medium","clickable","btn","btn-primary",3,"ngClass","matMenuTriggerFor"],["class","mr-1",4,"ngIf"],["name","chevron-down","size","16"],["xPosition","before"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],[1,"flex"],["azt-track-service","list-infrastructure-xLbmhq55M",1,"btn-flex","items-center","justify-center","mr-2",3,"click","matTooltip"],["name","square-pen","size","20",2,"color","dodgerblue"],["azt-track-service","list-infrastructure--kkgd3LUEQ",1,"flex","items-center","justify-center",3,"click","matTooltip"],["name","trash-2","size","16",3,"ngClass"],[1,"mr-1"]],template:function(l,m){if(1&l&&(t.j41(0,"teacher-layout",2),t.DNE(1,Za,1,1,"azt-loading-effect",3)(2,ni,13,10,"ng-template",null,0,t.C5r),t.k0s()),2&l){const g=t.sdS(3);t.Y8G("headerBackToLink","/business/dashboard"),t.R7$(),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g)}},dependencies:[b.Wk,a.YU,a.Sq,a.bT,jt.kk,jt.Cp,u.oV,Kt.K,Be.I,Y.R,Ht.Q,n.WGl,x.F2,x.wp],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:#37ca37!important}.btn-un-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#8b0000;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{width:100%}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#909090;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%], .btn-add-infrastructure[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:6px;height:100%}.btn-add-infrastructure[_ngcontent-%COMP%]:hover{background:#e1e0e0}.lucide-plus[_ngcontent-%COMP%]{stroke-width:4px!important;color:#a9a9a9}.col-information[_ngcontent-%COMP%]{padding:2px 5px}.col-information[_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px 5px}.btn-delete-room[_ngcontent-%COMP%]{z-index:999}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px}.text-md-title[_ngcontent-%COMP%]{font-size:20px}"]}),f})();var ho=_(26988),ai=_(78916),ii=_(68323);const si=r=>({"mt-5":r}),ri=r=>[r],li=r=>({backTo:r}),ci=r=>({"z-index":r});function _i(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",4),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function mi(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_config_educational_program_day_0"),","))}function di(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){let c;const l=t.XpG().$implicit;t.R7$(),t.SpI("",t.bMT(2,1,"lang_config_educational_program_day_"+(null!==(c=l.day)&&void 0!==c?c:0)),",")}}function ui(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_auto_hom_nay"),","))}function pi(r,f){if(1&r&&(t.j41(0,"div",27)(1,"div"),t.nrm(2,"azt-create-avatar",28),t.k0s()()),2&r){const c=f.$implicit,l=f.index,m=t.XpG(2).$implicit;t.Y8G("ngStyle",t.eq3(4,ci,m.users.length-l)),t.R7$(2),t.Y8G("linkAvatar",c.avatar)("nameCreateAvatar",c.fullName)("size",25)}}function gi(r,f){if(1&r&&(t.j41(0,"div",24)(1,"span",25),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,pi,3,6,"div",26),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(2),t.SpI("",t.bMT(3,2,"lang_auto_giang_vien"),":\xa0"),t.R7$(2),t.Y8G("ngForOf",c.users)}}function fi(r,f){if(1&r&&(t.j41(0,"div",13)(1,"div",14)(2,"h3",15),t.EFF(3),t.k0s()(),t.j41(4,"a",16),t.nI1(5,"navigationLocalize"),t.j41(6,"div",17)(7,"h3",18),t.EFF(8),t.k0s(),t.j41(9,"div",19),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"div",20)(13,"span",21),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",22)(17,"span",21),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()(),t.DNE(20,gi,5,4,"div",23),t.k0s()()),2&r){const c=f.$implicit,l=t.XpG(4);t.R7$(3),t.Lme("",c.fromTime," - ",c.toTime,""),t.R7$(),t.Y8G("routerLink",t.eq3(21,ri,t.bMT(5,13,"/admin/student/classroom-details/"+c.classroomId+"/3")))("queryParams",t.eq3(23,li,l.returnUrl)),t.R7$(4),t.SpI(" ",c.classroomName," "),t.R7$(2),t.Lme("",t.bMT(11,15,"lang_core_buoi")," ",null==c.currentSession?null:c.currentSession.sort,""),t.R7$(4),t.Lme("",t.bMT(15,17,"lang_student_educational_program"),": ",null==c.program?null:c.program.name,""),t.R7$(4),t.E5c("",t.bMT(19,19,"lang_core_phong_hoc"),": ",null==c.infrastructure?null:c.infrastructure.name," - ",null==c.room?null:c.room.name,""),t.R7$(2),t.Y8G("ngIf",c.users&&c.users.length>0)}}function hi(r,f){if(1&r&&(t.j41(0,"div",9)(1,"h2",10),t.DNE(2,mi,3,3,"span",11)(3,di,3,3,"span",11)(4,ui,3,3,"span",11),t.EFF(5),t.nI1(6,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.DNE(7,fi,21,25,"div",12),t.k0s()),2&r){let c;const l=f.$implicit,m=t.XpG(3);t.R7$(),t.Y8G("ngClass",m.isTodayDate(l.date)?"date-color":""),t.R7$(),t.Y8G("ngIf",0==l.day&&!m.isTodayDate(l.date)),t.R7$(),t.Y8G("ngIf",(null!==(c=l.day)&&void 0!==c?c:0)>0),t.R7$(),t.Y8G("ngIf",0==l.day&&m.isTodayDate(l.date)),t.R7$(),t.SpI(" ",t.bMT(6,6,l.date)," "),t.R7$(2),t.Y8G("ngForOf",l.sessions)}}function bi(r,f){1&r&&t.nrm(0,"azt-loading-ui",33)}function vi(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",29)(1,"span",30),t.bIt("click",function(){t.eBV(c);const m=t.XpG(3);return t.Njj(!m.sAztNextPaginationService.isLoadingNextPage&&m.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"lucide-icon",31),t.DNE(5,bi,1,0,"azt-loading-ui",32),t.k0s()()}if(2&r){const c=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_instructional_work_see_more")," "),t.R7$(3),t.Y8G("ngIf",c.sAztNextPaginationService.isLoadingNextPage)}}function Ci(r,f){if(1&r&&(t.qex(0),t.DNE(1,hi,8,8,"div",7)(2,vi,6,4,"div",8),t.bVm()),2&r){const c=t.XpG(2);t.R7$(),t.Y8G("ngForOf",c.listGroupScheduleObjs),t.R7$(),t.Y8G("ngIf",c.listGroupScheduleObjs.length&&c.sAztNextPaginationService.hasNextPage)}}function ki(r,f){1&r&&(t.j41(0,"div",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_list_null")," "))}function xi(r,f){if(1&r&&(t.j41(0,"h3",5),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.DNE(3,Ci,3,2,"ng-container",6)(4,ki,3,3,"ng-template",null,1,t.C5r)),2&r){const c=t.sdS(5),l=t.XpG();t.Y8G("ngClass",t.eq3(6,si,!l.isMobileWebView)),t.R7$(),t.SpI(" ",t.bMT(2,4,"lang_business_instructional_work_title")," "),t.R7$(2),t.Y8G("ngIf",l.listGroupScheduleObjs.length>0)("ngIfElse",c)}}let Ii=(()=>{var r;class f extends H.H{isTodayDate(l){if(!l)return!1;var m=new Date;return m.getDay()==l.getDay()&&l.getMonth()==m.getMonth()&&m.getFullYear()==l.getFullYear()}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}formatHour(l){let m=new Date(l??"");return`${m.getHours().toString().padStart(2,"0")}:${m.getMinutes().toString().padStart(2,"0")}`}getData(l){l?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.schedulerService.apiSchedulersListPost({page:this.sAztNextPaginationService.curPage,size:this.sAztNextPaginationService.itemPerPage})).subscribe(m=>{if(!m.success)return this.errorStatusObj(m.message,!0);this.scheduleObjs=this.scheduleObjs.concat(m.data?.list??[]);let g=this.commonService.arrayToDictionary(this.scheduleObjs,Dt=>Dt.currentSession?.date?.toString()??""),$=[];Object.entries(g).forEach(([Dt,Wt],qt)=>{if(Wt.length<=0)return;let Tt=Wt[0],Lt=this.formatHour(Tt.currentSession?.fromTime),Le=this.formatHour(Tt.currentSession?.toTime);var Ye=(Wt=Wt.sort((je,co)=>(je.currentSession?.sort??0)-(co.currentSession?.sort??1))).map(je=>({...je,fromTime:this.formatHour(je.currentSession?.fromTime),toTime:this.formatHour(je.currentSession?.toTime)}));const Ve={date:new Date(Tt.currentSession?.date??""),day:Tt.currentSession?.day,fromTime:Lt,toTime:Le,sessions:Ye};$.push(Ve)}),this.listGroupScheduleObjs=$,this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(m.data?.total??0),this.stopStatusObj()}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_business_instructional_work_title",image:"lang_cms_test_image"}),this.waitDestroy((0,xe.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let l=this.commonService.getMyQueryParam("backto");this.backLink=l||"/business/dashboard"})),super.ngOnInit(),this.getData(!1)}constructor(l,m,g){super(),this.activeRoute=l,this.schedulerService=m,this.sAztNextPaginationService=g,this.backLink="",this.returnUrl="/business/instructional-work",this.scheduleObjs=[],this.listGroupScheduleObjs=[]}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(b.nX),t.rXU(ai.P),t.rXU(ho.h))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-azota-business-instructional"]],features:[t.Jv_([ho.h]),t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["emptyList",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"text-md-title","font-medium","truncate","mr-auto",3,"ngClass"],[4,"ngIf","ngIfElse"],["class","pt-5",4,"ngFor","ngForOf"],["class","pt-3 font-medium",4,"ngIf"],[1,"pt-5"],[1,"text-md","font-medium","truncate","mr-auto","title-day",3,"ngClass"],[4,"ngIf"],["class","flex mt-3","style","flex-wrap: wrap",4,"ngFor","ngForOf"],[1,"flex","mt-3",2,"flex-wrap","wrap"],[1,"mr-5"],[1,"text-md","font-medium",2,"white-space","pre"],["azt-track-service","business-instructional-work-wb-lhbFmj",1,"box-teaching-hour","clickable",3,"routerLink","queryParams"],[1,"flex"],[1,"text-md","font-medium","truncate","mr-auto"],[1,"session"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[1,"flex","items-center","justify-between","mt-1"],["class","flex items-center mt-1","style","flex-wrap: wrap;",4,"ngIf"],[1,"flex","items-center","mt-1",2,"flex-wrap","wrap"],[2,"font-weight","500","white-space","nowrap"],["class","show-tickets clickable","style","margin: 3px 0 3px 0.25rem;",3,"ngStyle",4,"ngFor","ngForOf"],[1,"show-tickets","clickable",2,"margin","3px 0 3px 0.25rem",3,"ngStyle"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"pt-3","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["name","chevron-down","size","20"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"flex","justify-center","pt-3"]],template:function(l,m){if(1&l&&(t.j41(0,"teacher-layout",2),t.DNE(1,_i,1,1,"azt-loading-effect",3)(2,xi,6,8,"ng-template",null,0,t.C5r),t.k0s()),2&l){const g=t.sdS(3);t.Y8G("headerBackToLink",m.backLink),t.R7$(),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g)}},dependencies:[b.Wk,a.YU,a.Sq,a.bT,a.B3,Kt.K,ii.p,Y.R,Ht.Q,n.WGl,x.F2,x.wp,x.vv],styles:[".title-day[_ngcontent-%COMP%]{color:#708090;font-weight:800}.box-teaching-hour[_ngcontent-%COMP%]{background:#fff;padding:15px;border:1px solid steelblue;border-radius:8px;width:100%;max-width:500px}.date-color[_ngcontent-%COMP%]{color:#4682b4}.session[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:5px;font-size:12px;padding:0 5px;font-weight:500}.box-teaching-hour[_ngcontent-%COMP%]:hover{background:#f9f9f9}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}"]}),f})();var Ti=_(20381),yi=_(39471),Oi=_(97839),bo=_(94743);function ji(r,f){1&r&&(t.j41(0,"span"),t.EFF(1,"(1)"),t.k0s())}function Si(r,f){1&r&&(t.j41(0,"span"),t.EFF(1,"(2)"),t.k0s())}function Ei(r,f){1&r&&(t.j41(0,"span"),t.EFF(1,"(3)"),t.k0s())}function Fi(r,f){if(1&r&&(t.j41(0,"tr",15)(1,"td",16)(2,"span",17),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,ji,2,0,"span",18)(6,Si,2,0,"span",18)(7,Ei,2,0,"span",18),t.k0s()(),t.j41(8,"td",19)(9,"span",20),t.EFF(10),t.k0s()(),t.j41(11,"td",19)(12,"span",21),t.EFF(13),t.k0s()()()),2&r){let c,l,m;const g=f.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,6,g.subjectName)," "),t.R7$(2),t.Y8G("ngIf",(null!==(c=g.subjectTo)&&void 0!==c?c:0)<=5&&(null!==(c=g.subjectFrom)&&void 0!==c?c:0)>=1),t.R7$(),t.Y8G("ngIf",(null!==(l=g.subjectTo)&&void 0!==l?l:0)<=9&&(null!==(l=g.subjectFrom)&&void 0!==l?l:0)>=6),t.R7$(),t.Y8G("ngIf",(null!==(m=g.subjectTo)&&void 0!==m?m:0)<=13&&(null!==(m=g.subjectFrom)&&void 0!==m?m:0)>=10),t.R7$(3),t.JRh(g.totalExam),t.R7$(3),t.JRh(g.totalExamResult)}}function Ri(r,f){if(1&r&&(t.qex(0),t.DNE(1,Fi,14,8,"tr",14),t.bVm()),2&r){const c=t.XpG();t.R7$(),t.Y8G("ngForOf",c.countPreMonthBySubject)}}function Mi(r,f){1&r&&(t.j41(0,"tr",15)(1,"td",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_statistical_cant_data_statistics")," "))}function wi(r,f){if(1&r&&(t.j41(0,"tr",15)(1,"td",16)(2,"span",17),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"td",19)(6,"span",20),t.EFF(7),t.k0s()(),t.j41(8,"td",19)(9,"span",21),t.EFF(10),t.k0s()()()),2&r){const c=f.$implicit;t.R7$(3),t.JRh(t.bMT(4,3,c.classroomName)),t.R7$(4),t.JRh(c.totalExam),t.R7$(3),t.JRh(c.totalExamResult)}}function Di(r,f){if(1&r&&(t.qex(0),t.DNE(1,wi,11,5,"tr",14),t.bVm()),2&r){const c=t.XpG();t.R7$(),t.Y8G("ngForOf",c.countPreMonthByClassroom)}}function Pi(r,f){1&r&&(t.j41(0,"tr",15)(1,"td",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_statistical_cant_data_statistics")," "))}function zi(r,f){if(1&r&&(t.j41(0,"tr",15)(1,"td",16)(2,"span",17),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"td",19)(6,"span",20),t.EFF(7),t.k0s()(),t.j41(8,"td",19)(9,"span",21),t.EFF(10),t.k0s()()()),2&r){const c=f.$implicit;t.R7$(3),t.JRh(t.bMT(4,3,c.teacherFullName)),t.R7$(4),t.JRh(c.totalExam),t.R7$(3),t.JRh(c.totalExamResult)}}function Ai(r,f){if(1&r&&(t.qex(0),t.DNE(1,zi,11,5,"tr",14),t.bVm()),2&r){const c=t.XpG();t.R7$(),t.Y8G("ngForOf",c.countPreMonthByTeacher)}}function Gi(r,f){1&r&&(t.j41(0,"tr",15)(1,"td",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_statistical_cant_data_statistics")," "))}let $i=(()=>{var r;class f extends H.H{constructor(){super(...arguments),this.countPreMonthBySubject=[],this.countPreMonthByClassroom=[],this.countPreMonthByTeacher=[]}}return(r=f).\u0275fac=(()=>{let c;return function(m){return(c||(c=t.xGo(r)))(m||r)}})(),r.\u0275cmp=t.VBU({type:r,selectors:[["app-count-pre-month-table"]],inputs:{countPreMonthBySubject:"countPreMonthBySubject",countPreMonthByClassroom:"countPreMonthByClassroom",countPreMonthByTeacher:"countPreMonthByTeacher"},features:[t.Vt3],decls:55,vars:33,consts:[["emptyPreMonthBySubject",""],["emptyPreMonthByClassroom",""],["emptyPreMonthByTeacher",""],[1,"grid","grid-cols-12","gap-6","intro-y"],[1,"col-span-12","md:col-span-4"],[1,"box","overflow-auto","custom-scroll",2,"height","208px"],[1,"w-full","table-sticky-header","text-xs","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400","py-5","border-b","border-slate-200","dark:border-darkmode-400","box"],["scope","col",1,"px-6","py-4","position-sticky"],["scope","col",1,"px-6","py-4","text-center","position-sticky"],[4,"ngIf","ngIfElse"],["scope","col",1,"px-6","py-4"],["scope","col",1,"px-6","py-4","text-center"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400","py-5","border-slate-200","dark:border-darkmode-400","box"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700",4,"ngFor","ngForOf"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700"],["scope","row",1,"px-6","py-4"],[1,"font-medium"],[4,"ngIf"],["scope","row",1,"px-6","py-4","text-center"],[1,"text-primary","font-medium"],[1,"whitespace-nowrap","py-0.5","px-2","rounded-md","alert","alert-primary-soft","font-medium"],["colspan","3",1,"text-center","text-slate-500"]],template:function(l,m){if(1&l&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"table",6)(4,"thead",7)(5,"tr")(6,"th",8),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"th",9),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"th",9),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,Ri,2,1,"ng-container",10)(17,Mi,4,3,"ng-template",null,0,t.C5r),t.k0s()()()(),t.j41(19,"div",4)(20,"div",5)(21,"table",6)(22,"thead",7)(23,"tr")(24,"th",11),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"th",12),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s(),t.j41(30,"th",12),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()()(),t.j41(33,"tbody"),t.DNE(34,Di,2,1,"ng-container",10)(35,Pi,4,3,"ng-template",null,1,t.C5r),t.k0s()()()(),t.j41(37,"div",4)(38,"div",5)(39,"table",6)(40,"thead",13)(41,"tr")(42,"th",11),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s(),t.j41(45,"th",12),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s(),t.j41(48,"th",12),t.EFF(49),t.nI1(50,"mytranslate"),t.k0s()()(),t.j41(51,"tbody"),t.DNE(52,Ai,2,1,"ng-container",10)(53,Gi,4,3,"ng-template",null,2,t.C5r),t.k0s()()()()()),2&l){const g=t.sdS(18),$=t.sdS(36),Dt=t.sdS(54);t.R7$(7),t.SpI(" ",t.bMT(8,15,"lang_auto_mon_hoc")," "),t.R7$(3),t.JRh(t.bMT(11,17,"lang_azt_number_of_exam_papers")),t.R7$(3),t.JRh(t.bMT(14,19,"lang_testbank_tested_list_number_quizzes")),t.R7$(3),t.Y8G("ngIf",m.countPreMonthBySubject)("ngIfElse",g),t.R7$(9),t.SpI(" ",t.bMT(26,21,"lang_auto_lop_hoc")," "),t.R7$(3),t.JRh(t.bMT(29,23,"lang_azt_number_of_exam_papers")),t.R7$(3),t.JRh(t.bMT(32,25,"lang_testbank_tested_list_number_quizzes")),t.R7$(3),t.Y8G("ngIf",m.countPreMonthByClassroom)("ngIfElse",$),t.R7$(9),t.SpI(" ",t.bMT(44,27,"lang_auto_giao_vien")," "),t.R7$(3),t.JRh(t.bMT(47,29,"lang_azt_number_of_exam_papers")),t.R7$(3),t.JRh(t.bMT(50,31,"lang_testbank_tested_list_number_quizzes")),t.R7$(3),t.Y8G("ngIf",m.countPreMonthByTeacher)("ngIfElse",Dt)}},dependencies:[a.Sq,a.bT,x.wp],encapsulation:2}),f})(),Ni=(()=>{var r;class f extends H.H{constructor(){super(...arguments),this.chart=new h.t1}createChart(){let l=this.countExamByWeek.map(g=>g.total);l.length<7&&l.push(...Array(7-l.length).fill(0));let m=new h.t1({chart:{type:"column",style:{fontFamily:"Arial"},width:this.isMobileDevice?220:290,height:120},colors:["#1e40af"],title:{text:""},credits:{enabled:!1},xAxis:{categories:["M","T","W","T","F","S","S"],gridLineWidth:0},yAxis:{title:{text:""},gridLineWidth:0},plotOptions:{area:{}},series:[{name:"",type:"column",data:l}]});this.chart=m}ngOnInit(){super.ngOnInit(),this.createChart()}}return(r=f).\u0275fac=(()=>{let c;return function(m){return(c||(c=t.xGo(r)))(m||r)}})(),r.\u0275cmp=t.VBU({type:r,selectors:[["app-chart-pre-exam-by-day"]],inputs:{countExamByWeek:"countExamByWeek"},features:[t.Vt3],decls:2,vars:1,consts:[[1,"chart-pre-exam-by-day"],[3,"chart"]],template:function(l,m){1&l&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.k0s()),2&l&&(t.R7$(),t.Y8G("chart",m.chart))},dependencies:[h.S6],encapsulation:2}),f})(),Bi=(()=>{var r;class f extends H.H{constructor(){super(...arguments),this.chart=new h.t1}createChart(){let l=this.countExamResultByWeek.map(g=>g.total);l.length<7&&l.push(...Array(7-l.length).fill(0));const m=new h.t1({chart:{type:"area",style:{fontFamily:"Arial"},width:this.isMobileDevice?220:290,height:120},colors:["#68cc00"],title:{text:""},credits:{enabled:!1},xAxis:{categories:["Mo","Tu","We","Th","Fr","Sa","Su"],gridLineWidth:0},yAxis:{title:{text:""},gridLineWidth:0},plotOptions:{area:{}},series:[{name:"",type:"line",data:l}]});this.chart=m}ngOnInit(){super.ngOnInit(),this.createChart()}}return(r=f).\u0275fac=(()=>{let c;return function(m){return(c||(c=t.xGo(r)))(m||r)}})(),r.\u0275cmp=t.VBU({type:r,selectors:[["app-chart-pre-exam-result-by-day"]],inputs:{countExamResultByWeek:"countExamResultByWeek"},features:[t.Vt3],decls:2,vars:1,consts:[[1,"chart-pre-exam-result-by-day"],[3,"chart"]],template:function(l,m){1&l&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.k0s()),2&l&&(t.R7$(),t.Y8G("chart",m.chart))},dependencies:[h.S6],encapsulation:2}),f})(),Li=(()=>{var r;class f extends H.H{constructor(){super(...arguments),this.chart=new h.t1}createChart(){const l=this.commonService.myTranslateInstant("lang_testbank_folder_and_file_times"),m=new h.t1({chart:{type:"area",style:{fontFamily:"Arial"},zoomType:"xy"},colors:["#f97316"],title:{text:""},credits:{enabled:!1},xAxis:{scrollbar:{enabled:!0},categories:this.countExamResultByMonth.map(g=>this.formatDateToDayMonth(g.date))},yAxis:{title:{text:""}},plotOptions:{area:{}},series:[{name:l,type:"line",data:this.countExamResultByMonth.map(g=>g.total)}]});this.chart=m}formatDateToDayMonth(l){return l?`${(l=new Date(l)).getDate().toString().padStart(2,"0")}/${(l.getMonth()+1).toString().padStart(2,"0")}`:""}ngOnInit(){super.ngOnInit(),this.createChart()}}return(r=f).\u0275fac=(()=>{let c;return function(m){return(c||(c=t.xGo(r)))(m||r)}})(),r.\u0275cmp=t.VBU({type:r,selectors:[["app-chart-pre-exam-by-month"]],inputs:{countExamResultByMonth:"countExamResultByMonth"},features:[t.Vt3],decls:2,vars:1,consts:[[1,"chart-pre-exam-by-month"],[3,"chart"]],template:function(l,m){1&l&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.k0s()),2&l&&(t.R7$(),t.Y8G("chart",m.chart))},dependencies:[h.S6],encapsulation:2}),f})();const Yi=r=>[r],Vi=()=>({backto:"/business/business-statistics-overview-v2"}),ro=(r,f)=>({"text-danger":r,"text-success":f});function Ui(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",4),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Xi(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",13),t.EFF(10),t.k0s(),t.j41(11,"div",14),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"div",15)(15,"a",16),t.nI1(16,"navigationLocalize"),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()(),t.j41(19,"div",17),t.nrm(20,"azt-svg-icon",18),t.k0s()()()(),t.j41(21,"div",19)(22,"div",20)(23,"div",21)(24,"div",22)(25,"div",23)(26,"div",12),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"div",24)(30,"div",25),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()(),t.j41(33,"div",26)(34,"div",27)(35,"div",28),t.EFF(36),t.k0s(),t.j41(37,"div",29),t.nrm(38,"lucide-icon",30),t.j41(39,"span",31),t.EFF(40),t.k0s()()(),t.j41(41,"div",32),t.nrm(42,"app-chart-pre-exam-by-day",33),t.k0s()()()(),t.j41(43,"div",34)(44,"div",23)(45,"div",12),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s(),t.j41(48,"div",24)(49,"div",25),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s()(),t.j41(52,"div",26)(53,"div",27)(54,"div",28),t.EFF(55),t.k0s(),t.j41(56,"div",29),t.nrm(57,"lucide-icon",30),t.j41(58,"span",31),t.EFF(59),t.k0s()()(),t.j41(60,"div",32),t.nrm(61,"app-chart-pre-exam-result-by-day",35),t.k0s()()()()()()()(),t.j41(62,"div",36)(63,"div",37)(64,"span"),t.EFF(65),t.nI1(66,"mytranslate"),t.k0s(),t.j41(67,"div",38)(68,"input",39),t.nI1(69,"mytranslate"),t.bIt("click",function(){t.eBV(c);const m=t.sdS(73);return t.Njj(m.open())}),t.k0s(),t.j41(70,"button",40),t.bIt("click",function(m){return t.eBV(c),t.sdS(73).open(),t.Njj(m.stopPropagation())}),t.nrm(71,"lucide-icon",41),t.k0s(),t.j41(72,"ngx-mat-datetime-picker",42,1),t.bIt("monthSelected",function(m){t.eBV(c);const g=t.sdS(73),$=t.XpG(2);return t.Njj($.chosenMonthHandler(m,g))}),t.j41(74,"ngx-mat-datepicker-actions")(75,"button",43),t.EFF(76,"OK"),t.k0s()()()()(),t.j41(77,"div",15)(78,"div",44),t.nrm(79,"lucide-icon",45),t.j41(80,"span",46),t.EFF(81),t.nI1(82,"mytranslate"),t.k0s()()(),t.j41(83,"div",47),t.nrm(84,"app-count-pre-month-table",48),t.k0s()(),t.j41(85,"div",49)(86,"div",50)(87,"div",51)(88,"div",12),t.EFF(89),t.nI1(90,"mytranslate"),t.k0s()(),t.j41(91,"div",52)(92,"div",53),t.EFF(93),t.k0s(),t.j41(94,"div",54),t.nrm(95,"lucide-icon",55),t.j41(96,"span",31),t.EFF(97),t.k0s()()()(),t.j41(98,"div",56),t.nrm(99,"app-chart-pre-exam-by-month",57),t.k0s()()()}if(2&r){const c=t.sdS(73),l=t.XpG(2);t.R7$(7),t.SpI(" ",t.bMT(8,40,"lang_azt_number_of_tests_per_month")," "),t.R7$(3),t.SpI(" ",l.dashboardGeneral.totalExamResultInCurrentMonth," "),t.R7$(2),t.SpI(" ",l.dashboardGeneral.totalExamInCurrentMonth+" "+t.bMT(13,42,"lang_testbank_test_list_exam")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(64,Yi,t.bMT(16,44,"/admin/testbank/document-management/0/0/1")))("queryParams",t.lJ4(66,Vi)),t.R7$(2),t.SpI(" ",t.bMT(18,46,"lang_azt_view_exam_list")," "),t.R7$(3),t.Y8G("size",l.isMobileDevice?110:130),t.R7$(7),t.SpI(" ",t.bMT(28,48,"lang_azt_number_of_exam_questions_created_by_day")," "),t.R7$(4),t.SpI(" ",t.bMT(32,50,"lang_azt_compared_to_last_week")," "),t.R7$(5),t.SpI(" ",l.dashboardGeneral.totalExamInWeek," "),t.R7$(),t.Y8G("ngClass",t.l_i(67,ro,l.dashboardGeneral.percentCompareExamInWeek<0,l.dashboardGeneral.percentCompareExamInWeek>=0)),t.R7$(),t.FS9("name",l.dashboardGeneral.percentCompareExamInWeek<0?"move-down":"move-up"),t.R7$(2),t.JRh(l.dashboardGeneral.percentCompareExamInWeek+"%"),t.R7$(2),t.Y8G("countExamByWeek",l.dashboardGeneral.countExamByWeek),t.R7$(4),t.SpI(" ",t.bMT(47,52,"lang_azt_number_of_times_doing_the_test_per_day")," "),t.R7$(4),t.SpI(" ",t.bMT(51,54,"lang_azt_compared_to_last_week")," "),t.R7$(5),t.SpI(" ",l.dashboardGeneral.totalExamResultInWeek," "),t.R7$(),t.Y8G("ngClass",t.l_i(70,ro,l.dashboardGeneral.percentCompareExamResultInWeek<0,l.dashboardGeneral.percentCompareExamResultInWeek>=0)),t.R7$(),t.FS9("name",l.dashboardGeneral.percentCompareExamResultInWeek<0?"move-down":"move-up"),t.R7$(2),t.JRh(l.dashboardGeneral.percentCompareExamResultInWeek+"%"),t.R7$(2),t.Y8G("countExamResultByWeek",l.dashboardGeneral.countExamResultByWeek),t.R7$(4),t.JRh(t.bMT(66,56,"lang_azt_monthly_statistics")+" ("+(l.month>=10?"":"0")+l.month+"/"+l.year+")"),t.R7$(3),t.FS9("placeholder",t.bMT(69,58,"lang_auto_ngay_sinh")),t.Y8G("min",l.minDate)("max",l.maxDate)("ngxMatDatetimePicker",c)("formControl",l.monthYear),t.R7$(4),t.Y8G("startView","year")("touchUi",!0)("hideTime",!0),t.R7$(9),t.JRh(t.bMT(82,60,"lang_azt_statistics_business_note")),t.R7$(3),t.Y8G("countPreMonthBySubject",l.dashboardGeneral.countMonthBySubject)("countPreMonthByClassroom",l.dashboardGeneral.countMonthByClassroom)("countPreMonthByTeacher",l.dashboardGeneral.countMonthByTeacher),t.R7$(5),t.SpI(" ",t.bMT(90,62,"lang_azt_number_of_times_doing_the_test")," "),t.R7$(4),t.JRh(l.dashboardGeneral.totalExamResultInMonth),t.R7$(2),t.FS9("name",l.dashboardGeneral.percentCompareExamResultInMonth<=0?"move-down":"move-up"),t.Y8G("ngClass",t.l_i(73,ro,l.dashboardGeneral.percentCompareExamResultInMonth<0,l.dashboardGeneral.percentCompareExamResultInMonth>=0)),t.R7$(2),t.JRh(l.dashboardGeneral.percentCompareExamResultInMonth+"%"),t.R7$(2),t.Y8G("countExamResultByMonth",l.dashboardGeneral.countExamResultByMonth)}}function Wi(r,f){if(1&r&&t.DNE(0,Xi,100,76,"div",5),2&r){const c=t.XpG();t.Y8G("ngIf",c.dashboardGeneral)}}const un=Ti;let Ji=(()=>{var r;class f extends H.H{chosenMonthHandler(l,m){this.myNavigationWithQueryString("/business/business-statistics-overview-v2",`?month=${l.month()+1}&year=${l.year()}`),m.close()}getData(l,m){this.initStatusObj(),this.waitDestroy(this.dashboardService.apiDashboardGetGeneralDashboardGet(m,l).subscribe(g=>{if(!g.success)return this.errorStatusObj(g.message,!0);this.dashboardGeneral=g.data,this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,xe.z)([this.activatedRoute.params,this.activatedRoute.queryParams]).subscribe(([])=>{this.month=Number(this.commonService.getMyQueryParam("month")??un().month()+1),this.year=Number(this.commonService.getMyQueryParam("year")??un().year());const l=this.monthYear.value;l?.month(this.month-1),l?.year(this.year),this.monthYear.setValue(l),this.getData(this.month,this.year)}))}constructor(l,m){super(),this.dashboardService=l,this.activatedRoute=m,this.monthYear=new s.MJ(un()),this.minDate=new Date("2017"),this.maxDate=un().toDate(),this.month=1,this.year=2025}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(mo.I8),t.rXU(b.nX))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-business-statistics-overview-v2"]],features:[t.Jv_([a.vh,{provide:Ct.$O,useClass:L.fb,deps:[J.Ju,Ft.ij]},{provide:Ct.vq,useFactory:yt.My,deps:[bt.F]},{provide:He.U$,useValue:{floatLabel:"never"}}]),t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["date",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["class","mt-8 business-statistics",4,"ngIf"],[1,"mt-8","business-statistics"],[1,"grid","grid-cols-12","gap-6","mt-3"],[1,"col-span-12","md:col-span-4"],[1,"box","p-5","h-full"],[1,"flex"],[1,"mr-3"],[1,"font-medium","text-base"],[1,"mt-1","text-primary","font-bold","text-lg"],[1,"text-slate-500","text-md","-mt-0.5"],[1,"mt-3"],[1,"btn","btn-primary","px-4","w-full","whitespace-nowrap",3,"routerLink","queryParams"],[1,"box-icon","ml-auto"],["type","badge",3,"size"],[1,"col-span-12","md:col-span-8"],[1,"box","h-full"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-6","sm:border-r","border-slate-200","dark:border-darkmode-400"],[1,"p-5","relative"],[1,"absolute","top-0","right-0","p-4"],[1,"leading-relaxed","text-slate-500","text-xs","font-medium"],[1,"mt-5","flex"],[1,"mr-2","mt-2"],[1,"font-medium","text-4xl"],[1,"ml-2","mt-1","flex","items-center",3,"ngClass"],["size","16",3,"name"],[1,"ml-1","font-medium"],[1,"chart"],[3,"countExamByWeek"],[1,"col-span-12","md:col-span-6"],[3,"countExamResultByWeek"],[1,"mt-8"],[1,"text-base","font-medium","flex","items-center"],[1,"ml-3"],["azt-track-service","setting-general-w4tZZvRVV0","matInput","","id","azt-asc-time-picker","readonly","",1,"form-date","bg-white","azt-hidden",3,"click","placeholder","min","max","ngxMatDatetimePicker","formControl"],["matSuffix","",1,"btn","btn-sm","btn-primary-soft","p-1",3,"click"],["name","calendar-days","size","18"],[3,"monthSelected","startView","touchUi","hideTime"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],[1,"box","p-2","text-xs","font-medium","inline-flex","items-center"],["name","info","size","16"],[1,"ml-2","text-slate-500"],[1,"mt-2"],[3,"countPreMonthBySubject","countPreMonthByClassroom","countPreMonthByTeacher"],[1,"mt-6","p-5","box"],[1,"flex","items-center"],[1,"mr-auto"],[1,"ml-2","flex","items-center"],[1,"font-medium","text-lg","mr-3"],[1,"alert","alert-secondary-soft","alert-dismissible","show",2,"padding","4px"],["size","16",3,"name","ngClass"],[1,"mt-4"],[3,"countExamResultByMonth"]],template:function(l,m){if(1&l&&(t.j41(0,"teacher-layout",2),t.DNE(1,Ui,1,1,"azt-loading-effect",3)(2,Wi,1,1,"ng-template",null,0,t.C5r),t.k0s()),2&l){const g=t.sdS(3);t.Y8G("headerBackToLink","/business/dashboard"),t.R7$(),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",g)}},dependencies:[b.Wk,a.YU,a.bT,yi.$z,Oi.fg,He.yw,Ct.m7,Ct.yF,Ct.HF,Ct.Uq,s.me,s.BC,s.l_,Kt.K,bo.m,Ht.Q,n.WGl,$i,Ni,Bi,Li,x.F2,x.wp],encapsulation:2}),f})();function Ki(r,f){if(1&r&&(t.j41(0,"div",18)(1,"div",19)(2,"div",20),t.EFF(3),t.nI1(4,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(5,"div",21),t.EFF(6),t.k0s()()()),2&r){const c=f.$implicit;t.R7$(3),t.JRh(t.bMT(4,3,c.createdAt)),t.R7$(3),t.Lme("",c.month,"/",c.year,"")}}function Hi(r,f){if(1&r&&(t.j41(0,"div")(1,"div",14)(2,"div",15),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",16),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.DNE(8,Ki,7,5,"div",17),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(3),t.JRh(t.bMT(4,3,"lang_student_payment_time")),t.R7$(3),t.JRh(t.bMT(7,5,"lang_student_monthly_tuition_fee")),t.R7$(2),t.Y8G("ngForOf",c.payments)}}function Qi(r,f){if(1&r&&(t.j41(0,"tr")(1,"td",10),t.nrm(2,"azt-student-info-box",11),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td"),t.DNE(7,Hi,9,7,"div",13),t.k0s()()),2&r){const c=f.$implicit;t.R7$(2),t.Y8G("name",c.fullName)("avatar",c.avatar)("gender",c.gender)("schoolName",c.schoolName)("hasUser",c.hasUser)("classrooms",c.classrooms)("joinedAt",c.joinedAt)("phone",c.phone)("email",c.email)("showPhone",!0),t.R7$(2),t.JRh(c.identificationNumber?t.i5U(5,12,c.identificationNumber,6):""),t.R7$(3),t.Y8G("ngIf",c.payments&&c.payments.length>0)}}let Zi=(()=>{var r;class f extends Mt._{ngOnInit(){super.ngOnInit()}constructor(l,m,g){super(g,m),this.domainUsersManagementService=l,this.dialogRef=m,this.data=g}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(me.Z),t.rXU(e.CP,8),t.rXU(e.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-list-student-not-paid"]],features:[t.Vt3],decls:23,vars:13,consts:[[1,"box","pl-3","pr-3"],[1,"container-fluid","mb-1","overflow-hidden","document-market-list","w-full"],[1,"intro-y"],[2,"height","100%"],[1,"table","table-report",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[4,"ngFor","ngForOf"],[1,"p-3","text-right","border-t","border-slate-200","dark:border-darkmode-400"],[1,"btn","btn-secondary","min-width-100",3,"click"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","email","showPhone"],[1,"text-center","capitalize"],[4,"ngIf"],[1,"flex","mb-1"],[1,"w-full","bg-slate-100","mr-1","text-center","p-1"],[1,"w-full","bg-slate-100","text-center","p-1"],["class","w-full",4,"ngFor","ngForOf"],[1,"w-full"],[1,"flex"],[1,"w-full","mr-1","text-center","bg-light","pt-1","pb-1"],[1,"w-full","text-center","bg-light","pt-1","pb-1"]],template:function(l,m){1&l&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"div",3)(5,"table",4)(6,"thead")(7,"tr")(8,"th",5),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",6),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",6),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"tbody"),t.DNE(18,Qi,8,15,"tr",7),t.k0s()()()()()(),t.j41(19,"div",8)(20,"button",9),t.bIt("click",function(){return m.dialogRef.close()}),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()()),2&l&&(t.R7$(9),t.JRh(t.bMT(10,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(13,7,"lang_auto_so_bao_danh")),t.R7$(3),t.JRh(t.bMT(16,9,"lang_core_da_dong_hoc_phi")),t.R7$(3),t.Y8G("ngForOf",m.data.list),t.R7$(3),t.JRh(t.bMT(22,11,"lang_button_close")))},dependencies:[a.Sq,a.bT,zt.U,X.B,x.wp,x.Po,x.bH],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%;background:#f0f8ff!important}.btn-copy[_ngcontent-%COMP%]{width:140px}.bg-light[_ngcontent-%COMP%]{background:#f9f9f9}"]}),f})();var qi=_(34178);function ts(r,f){if(1&r&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",6),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7)(6,"span",8),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"div",9)(11,"div",10),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",10),t.EFF(17),t.j41(18,"span",8),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()(),t.j41(21,"div",9)(22,"div",10),t.EFF(23),t.j41(24,"span",8),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()(),t.j41(27,"div",10),t.EFF(28),t.j41(29,"span",8),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()()()),2&r){const c=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,11,"lang_core_nguoi_dung")," "),t.R7$(4),t.SpI("",t.bMT(8,13,"lang_azt_tong_so_nguoi_dung"),":"),t.R7$(2),t.SpI(" ",c.userCountByRole.totalAdmin+c.userCountByRole.totalTeacher+c.userCountByRole.totalStudent+c.userCountByRole.totalParent," "),t.R7$(3),t.SpI(" ",c.userCountByRole.totalAdmin," "),t.R7$(2),t.JRh(t.bMT(15,15,"lang_cms_business_dashboard_title").toLocaleLowerCase()),t.R7$(3),t.SpI(" ",c.userCountByRole.totalTeacher," "),t.R7$(2),t.JRh(t.bMT(20,17,"lang_auto_giao_vien").toLocaleLowerCase()),t.R7$(4),t.SpI(" ",c.userCountByRole.totalStudent," "),t.R7$(2),t.JRh(t.bMT(26,19,"lang_notify_list_students").toLocaleLowerCase()),t.R7$(3),t.SpI(" ",c.userCountByRole.totalParent," "),t.R7$(2),t.JRh(t.bMT(31,21,"lang_auto_phu_huynh").toLocaleLowerCase())}}function es(r,f){if(1&r&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",11),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",12)(6,"div",10),t.EFF(7),t.j41(8,"span",8),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",10),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()),2&r){const c=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,5,"lang_auto_co_so_vat_chat")," "),t.R7$(4),t.SpI(" ",c.infrastructuresCountStatistic.totalInfrastructure," "),t.R7$(2),t.JRh(t.bMT(10,7,"lang_core_co_so").toLocaleLowerCase()),t.R7$(3),t.SpI(" ",c.infrastructuresCountStatistic.totalRoom," "),t.R7$(2),t.JRh(t.bMT(15,9,"lang_core_phong_hoc").toLocaleLowerCase())}}function ns(r,f){if(1&r&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",13),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7),t.EFF(6),t.j41(7,"span",8),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",9)(11,"div",10),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",10),t.EFF(17),t.j41(18,"span",8),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()),2&r){const c=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,7,"lang_cms_classroom_program_title")," "),t.R7$(3),t.SpI(" ",c.programsCountStatistic.totalProgram," "),t.R7$(2),t.JRh(t.bMT(9,9,"lang_cms_classroom_program_title").toLocaleLowerCase()),t.R7$(4),t.SpI(" ",c.programsCountStatistic.totalLevel," "),t.R7$(2),t.JRh(t.bMT(15,11,"lang_auto_khoi_hoc").toLocaleLowerCase()),t.R7$(3),t.SpI(" ",c.programsCountStatistic.totalSubject," "),t.R7$(2),t.JRh(t.bMT(20,13,"lang_auto_mon_hoc").toLocaleLowerCase())}}function os(r,f){if(1&r&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",14),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7)(6,"span",8),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"div",15),t.EFF(11),t.j41(12,"span",8),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()(),t.j41(15,"div",15),t.EFF(16),t.j41(17,"span",8),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()),2&r){const c=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,7,"lang_auto_lop_hoc")," "),t.R7$(4),t.SpI("",t.bMT(8,9,"lang_azt_tong_so_lop_hoc"),":"),t.R7$(2),t.SpI(" ",c.classroomsCountStatistic.totalLearningClassroom+c.classroomsCountStatistic.totalFinishClassroom," "),t.R7$(2),t.SpI(" ",c.classroomsCountStatistic.totalLearningClassroom," "),t.R7$(2),t.JRh(t.bMT(14,11,"lang_core_lop_hoc_dang_dien_ra").toLocaleLowerCase()),t.R7$(3),t.SpI(" ",c.classroomsCountStatistic.totalFinishClassroom," "),t.R7$(2),t.JRh(t.bMT(19,13,"lang_core_lop_hoc_da_ket_thuc").toLocaleLowerCase())}}function as(r,f){1&r&&t.nrm(0,"azt-loading-ui",21),2&r&&t.Y8G("size",16)}function is(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",18)(1,"a",19),t.bIt("click",function(){t.eBV(c);const m=t.XpG(2);return t.Njj(m.getPaymentStudentsList())}),t.j41(2,"span",8),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,as,1,1,"azt-loading-ui",20),t.k0s()()}if(2&r){const c=t.XpG(2);t.R7$(3),t.Lme(" >> ",t.bMT(4,3,"lang_auto_xem_danh_sach")," ",t.bMT(5,5,"lang_core_chua_dong").toLocaleLowerCase()," "),t.R7$(3),t.Y8G("ngIf",c.statusObj.loading)}}function ss(r,f){if(1&r&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",16),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7),t.EFF(6),t.j41(7,"span",8),t.EFF(8),t.nI1(9,"mytranslate"),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",15),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.nI1(16,"mytranslate"),t.k0s()(),t.DNE(17,is,7,7,"div",17),t.k0s()),2&r){const c=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,8,"lang_core_hoc_phi")," "),t.R7$(3),t.SpI(" ",c.paymentCountPaymentStatus.totalPaid," "),t.R7$(2),t.Lme(" ",t.bMT(9,10,"lang_student_utils_reques_notice_list_student").toLocaleLowerCase()," ",t.bMT(10,12,"lang_student_tuition_fee_paid").toLocaleLowerCase()," "),t.R7$(4),t.SpI(" ",c.paymentCountPaymentStatus.totalNotPaid," "),t.R7$(2),t.Lme(" ",t.bMT(15,14,"lang_student_utils_reques_notice_list_student").toLocaleLowerCase()," ",t.bMT(16,16,"lang_core_chua_dong").toLocaleLowerCase()," "),t.R7$(3),t.Y8G("ngIf",c.paymentCountPaymentStatus.totalNotPaid>0)}}let rs=(()=>{var r;class f extends H.H{getData(){this.initStatusObj(),this.getUserCountByRole(),this.getInfrastructuresCountStatistic(),this.getProgramsCountStatistic(),this.getClassroomsCountStatistic(),this.isTqbDomain&&this.getPaymentCountPaymentStatus(),this.stopStatusObj()}getUserCountByRole(){this.waitDestroy(this.userInfoService.apiUserInfoCountUserByRolesGet().subscribe(l=>this.userCountByRole=l.data))}getInfrastructuresCountStatistic(){this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresCountStatisticGet()).subscribe(l=>{this.infrastructuresCountStatistic=l.data}))}getProgramsCountStatistic(){this.waitDestroy(this.wrapApiResponse(this.programService.apiProgramsCountStatisticGet()).subscribe(l=>{this.programsCountStatistic=l.data}))}getClassroomsCountStatistic(){this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsCountStatisticGet()).subscribe(l=>{this.classroomsCountStatistic=l.data}))}getPaymentStudentsList(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentsListPost({paidStatus:0})).subscribe(l=>{if(this.stopStatusObj(),!l.success)return this.errorStatusObj(l.message,!0);this.paymentStudentsList=l.data,this.showDialogListStudentNotPaid()}))}getPaymentCountPaymentStatus(){this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentCountPaymentStatusGet()).subscribe(l=>{this.paymentCountPaymentStatus=l.data}))}showDialogListStudentNotPaid(){this.sAztDialogService.open(Zi,{width:"95%",restoreFocus:!1,data:this.paymentStudentsList})}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_thong_ke_tong_quan",image:"lang_cms_test_image"}),super.ngOnInit(),this.getData()}constructor(l,m,g,$,Dt,Wt){super(),this.userInfoService=l,this.infrastructureService=m,this.programService=g,this.classroomService=$,this.paymentService=Dt,this.sAztDialogService=Wt}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(qi.fv),t.rXU(Ze.BU),t.rXU(Ze.sC),t.rXU(Ze.zS),t.rXU(Ze.WG),t.rXU(Q.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-statistics-overview"]],features:[t.Vt3],decls:10,vars:9,consts:[[3,"headerBackToLink"],[1,"text-md-title","font-medium","truncate","mr-auto","mt-5"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["class","col-span-12 sm:col-span-6 xl:col-span-3 box p-3 font-bold",4,"ngIf"],[1,"col-span-12","sm:col-span-6","xl:col-span-3","box","p-3","font-bold"],[1,"text-md","mr-auto","flex","items-center"],["name","users",1,"mr-2"],[1,"text-sm","mt-3"],[1,"font-medium"],[1,"flex","justify-between","mt-1"],[1,"text-sm"],["name","building",1,"mr-2"],[1,"flex","justify-between","mt-3"],["name","graduation-cap",1,"mr-2"],["name","school",1,"mr-2"],[1,"text-sm","mt-1"],["name","circle-dollar-sign",1,"mr-2"],["class","text-sm mt-2",4,"ngIf"],[1,"text-sm","mt-2"],[1,"hover",3,"click"],[3,"size",4,"ngIf"],[3,"size"]],template:function(l,m){1&l&&(t.j41(0,"teacher-layout",0)(1,"h3",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",2),t.DNE(5,ts,32,23,"div",3)(6,es,16,11,"div",3)(7,ns,21,15,"div",3)(8,os,20,15,"div",3)(9,ss,18,18,"div",3),t.k0s()()),2&l&&(t.Y8G("headerBackToLink","/business/dashboard"),t.R7$(2),t.SpI(" ",t.bMT(3,7,"lang_core_thong_ke_tong_quan")," "),t.R7$(3),t.Y8G("ngIf",m.userCountByRole),t.R7$(),t.Y8G("ngIf",m.infrastructuresCountStatistic),t.R7$(),t.Y8G("ngIf",m.programsCountStatistic),t.R7$(),t.Y8G("ngIf",m.classroomsCountStatistic),t.R7$(),t.Y8G("ngIf",m.paymentCountPaymentStatus))},dependencies:[a.bT,Y.R,Ht.Q,n.WGl,x.wp],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:#37ca37!important}.btn-un-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#8b0000;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{width:100%}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#909090;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%], .btn-add-infrastructure[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:6px;height:100%}.btn-add-infrastructure[_ngcontent-%COMP%]:hover{background:#e1e0e0}.lucide-plus[_ngcontent-%COMP%]{stroke-width:4px!important;color:#a9a9a9}.col-information[_ngcontent-%COMP%]{padding:2px 5px}.col-information[_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px 5px}.btn-delete-room[_ngcontent-%COMP%]{z-index:999}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.hover[_ngcontent-%COMP%]{color:#0000ffbd}.hover[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#00f}"]}),f})();var ls=_(10127),cs=_(10490),_s=_(38922);const ms=r=>({"mt-1":r}),ds=(r,f)=>({"ml-2":r,"mt-1":f}),vo=()=>[];function us(r,f){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function ps(r,f){if(1&r){const c=t.RV6();t.j41(0,"mat-option",14),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG();return t.Njj(g.filterByClassId(m.id))}),t.EFF(1),t.k0s()}if(2&r){const c=f.$implicit;t.Y8G("value",c.id),t.R7$(),t.SpI(" ",c.name," ")}}function gs(r,f){if(1&r&&(t.j41(0,"div",20),t.nrm(1,"azt-loading-effect",21),t.k0s()),2&r){const c=t.XpG();t.R7$(),t.Y8G("currentStatusObj",c.statusObj)}}function fs(r,f){1&r&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function hs(r,f){1&r&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function bs(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,hs,2,0,"span",24),t.EFF(3),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(),t.SpI(" ",c.lastMonthPaid," "),t.R7$(),t.Y8G("ngIf",c.lastMonthPaid),t.R7$(),t.SpI(" ",c.lastYearPaid," ")}}function vs(r,f){1&r&&(t.j41(0,"span",41),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function Cs(r,f){if(1&r&&(t.j41(0,"div",44),t.nrm(1,"azt-student-info-box",45),t.k0s()),2&r){const c=f.$implicit,l=t.XpG(2).$implicit;t.R7$(),t.Y8G("name",c.fullName)("phone",c.phone)("showPhone",!0)("avatar",c.avatar)("showTooltip",!1)("phone",l.phone)("identificationNumber",l.identificationNumber)}}function ks(r,f){if(1&r&&(t.j41(0,"div",42),t.DNE(1,Cs,2,7,"div",43),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",c.userParents)}}function xs(r,f){if(1&r){const c=t.RV6();t.j41(0,"tr")(1,"td",35),t.bIt("click",function(){const m=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.addOrEditTuitionFee(m))}),t.nrm(2,"azt-student-info-box",36),t.k0s(),t.j41(3,"td",37),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",38),t.DNE(7,bs,4,3,"span",24)(8,vs,3,3,"span",39),t.k0s(),t.j41(9,"td",38),t.DNE(10,ks,2,1,"div",40),t.k0s()()}if(2&r){const c=f.$implicit;t.R7$(2),t.Y8G("name",c.fullName)("avatar",c.avatar)("gender",c.gender)("schoolName",c.schoolName)("hasUser",c.hasUser)("classrooms",c.classrooms)("joinedAt",c.joinedAt)("phone",c.phone)("email",c.email)("showPhone",!0)("phone",c.phone)("identificationNumber",c.identificationNumber),t.R7$(2),t.JRh(c.identificationNumber?t.i5U(5,16,c.identificationNumber,6):""),t.R7$(3),t.Y8G("ngIf",!c.isTrial),t.R7$(),t.Y8G("ngIf",c.isTrial),t.R7$(2),t.Y8G("ngIf",c.userParents)}}function Is(r,f){if(1&r&&(t.j41(0,"div")(1,"div",29)(2,"table",30)(3,"thead")(4,"tr")(5,"th",31),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",32),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",33),t.EFF(12),t.nI1(13,"mytranslate"),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",33),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()(),t.j41(18,"tbody"),t.DNE(19,xs,11,19,"tr",34),t.k0s()()()()),2&r){let c;const l=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,6,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,8,"lang_auto_so_bao_danh")),t.R7$(3),t.Lme("",t.bMT(13,10,"lang_test_market_withdraw_time")," ",t.bMT(14,12,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.R7$(4),t.JRh(t.bMT(17,14,"lang_auto_phu_huynh")),t.R7$(3),t.Y8G("ngForOf",null!==(c=null==l.listPayment?null:l.listPayment.list)&&void 0!==c?c:t.lJ4(16,vo))}}function Ts(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",46),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",47),t.bIt("click",function(){t.eBV(c);const m=t.XpG(2);return t.Njj(m.goBack())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function ys(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-paging",48),t.bIt("goToPaginationPage",function(m){t.eBV(c);const g=t.XpG(2);return t.Njj(g.setPageStudent(m))}),t.k0s()}if(2&r){const c=t.XpG(2);t.Y8G("pageObj",c.pageObj)}}function Os(r,f){if(1&r&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){let c;const l=t.XpG(2);t.R7$(),t.Lme("",null!==(c=null==l.listPayment?null:l.listPayment.total)&&void 0!==c?c:0," ",t.bMT(2,2,"lang_auto_hoc_sinh"),"")}}function js(r,f){if(1&r&&(t.j41(0,"div",22),t.DNE(1,fs,3,3,"div",23)(2,Is,20,17,"div",24)(3,Ts,6,6,"div",25),t.j41(4,"div",26),t.nrm(5,"div"),t.DNE(6,ys,1,1,"azt-paging",27)(7,Os,3,4,"div",24),t.k0s()()),2&r){let c,l,m,g;const $=t.XpG();t.R7$(),t.Y8G("ngIf",!$.searchContentObj.isLoading&&0==(null==$.listPayment?null:$.listPayment.total)&&""==$.searchContentObj.searchContent),t.R7$(),t.Y8G("ngIf",(null!==(c=null==$.listPayment?null:$.listPayment.total)&&void 0!==c?c:0)>0),t.R7$(),t.Y8G("ngIf",!$.searchContentObj.isLoading&&0==(null!==(l=null==$.listPayment?null:$.listPayment.list)&&void 0!==l?l:t.lJ4(5,vo)).length&&""!=$.searchContentObj.searchContent),t.R7$(3),t.Y8G("ngIf",(null!==(m=null==$.listPayment?null:$.listPayment.total)&&void 0!==m?m:0)>20),t.R7$(),t.Y8G("ngIf",(null!==(g=null==$.listPayment?null:$.listPayment.total)&&void 0!==g?g:0)>0)}}let Ss=(()=>{var r;class f extends H.H{goBack(){this.searchContentObj.resetSearchContentEvent("EMIT_EVENT")}search(l){this.isLoading=!0,this.searchContentObj.setLoading(!0),this.searchContentObj=l,this.getData(0==(this.listPayment?.list??[]).length?this.pageStudent:1)}setPageStudent(l){this.myNavigation("/business/student-management/"+l),this.isLoading=!0,this.pageStudent=l,this.getData(this.pageStudent)}addOrEditTuitionFee(l){this.sAztDialogService.open(ls.B,{width:"900px",restoreFocus:!1,data:l}).afterClosed().subscribe(m=>{m&&this.getData(this.pageStudent)})}addParent(){this.sAztDialogService.open(pe,{width:"900px",restoreFocus:!1,data:void 0}).afterClosed().subscribe(l=>{l&&this.getData(this.pageStudent)})}filterByClassId(l){this.classroomId=l,this.getData(this.pageObj.page)}getData(l){this.pageObj.setPageNumber(l),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,classroomId:this.classroomId,name:this.searchContentObj.searchContent,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!0,me:!1,getAssessment:!1}).subscribe(g=>{g?(this.listPayment=g,this.pageObj.setTotalPages(this.listPayment?.total??0),this.isLoading=!1):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.isLoading=!1),this.searchContentObj.setLoading(!1)}))}getOwnerClassroom(){this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(l=>{l.success?(this.classroomOwner=l.data?.objs??[],this.getData(this.pageObj.page)):(this.errorStatusObj(l.message??"lang_core_co_loi_khi_lay_danh_danh_sach_lop",!0),this.isLoading=!1)}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_hoc_phi",image:"lang_cms_test_image"}),this.commonService.getTranslate("lang_core_hoc_thu").subscribe(l=>{this.langName=l}),this.showDialogAddUser=Number(this.getMyQueryParam("showDialogAddUser")??0),this.showDialogAddUser&&this.addOrEditTuitionFee(),this.waitDestroy((0,xe.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let l=this.commonService.getMyQueryParam("backto");this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))??1),this.backLink=l||"/business/dashboard"})),super.ngOnInit(),this.getOwnerClassroom()}constructor(l,m,g,$){super(),this.sAztDialogService=l,this.studentService=m,this.activeRoute=g,this.classroomGroupService=$,this.backLink="",this.isLoading=!0,this.langName="",this.pageStudent=1,this.searchContentObj=new at.Z,this.classroomOwner=[],this.pageObj=new Et.d(20),this.showDialogAddUser=0}}return(r=f).\u0275fac=function(l){return new(l||r)(t.rXU(Q.i),t.rXU(cs.b),t.rXU(b.nX),t.rXU(_s.k))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-azota-business-tuition"]],features:[t.Vt3],decls:33,vars:40,consts:[["searchInListClassroomName","searchInList"],["doneLoading",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],["id","classroomId","appearance","fill",1,"ml-0","sm:ml-2","mt-3","sm:mt-0",2,"border-radius","5px","background","white"],["searchInList","","name","classroomId",3,"placeholder"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"click","value"],[3,"value","click",4,"ngFor","ngForOf"],[1,"btn","btn-primary","shadow-md","w-full","sm:w-auto",3,"click","ngClass"],[1,"btn","btn-primary-soft","shadow-md","w-full","sm:w-auto",3,"click","ngClass"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],[1,"mt-1"],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","flex justify-center mt-5",4,"ngIf"],[4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"mt-2","pb-3","flex","justify-between","items-center"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-center","mt-5"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","email","showPhone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],["class","grid-cols-12 gap-2",4,"ngIf"],[1,"text-slate-500"],[1,"grid-cols-12","gap-2"],["class","col-span-12 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","mb-1"],[3,"name","phone","showPhone","avatar","showTooltip","identificationNumber"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[3,"goToPaginationPage","pageObj"]],template:function(l,m){if(1&l){const g=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,us,3,3,"div",6),t.k0s(),t.j41(7,"div",7)(8,"div",8)(9,"div",9)(10,"azt-search-box",10),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(Dt){return t.eBV(g),t.Njj(m.search(Dt.searchObj))}),t.k0s(),t.j41(12,"mat-form-field",11)(13,"mat-select",12,0),t.nI1(15,"mytranslate"),t.j41(16,"mat-option"),t.nrm(17,"ngx-mat-select-search",13),t.nI1(18,"mytranslate"),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"mat-option",14),t.bIt("click",function(){return t.eBV(g),t.Njj(m.filterByClassId())}),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.DNE(23,ps,2,2,"mat-option",15),t.k0s()()(),t.j41(24,"button",16),t.bIt("click",function(){return t.eBV(g),t.Njj(m.addOrEditTuitionFee())}),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"button",17),t.bIt("click",function(){return t.eBV(g),t.Njj(m.addParent())}),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()()(),t.DNE(30,gs,2,1,"div",18)(31,js,8,6,"ng-template",null,1,t.C5r),t.k0s()()}if(2&l){let g;const $=t.sdS(14),Dt=t.sdS(32);t.Y8G("headerBackToLink",m.backLink),t.R7$(4),t.SpI(" ",t.bMT(5,19,"lang_business_tuition_fee_title_top")," "),t.R7$(2),t.Y8G("ngIf",m.isMobileDevice&&(null!==(g=null==m.listPayment?null:m.listPayment.total)&&void 0!==g?g:0)>0),t.R7$(4),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(11,21,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",m.searchContentObj),t.R7$(3),t.FS9("placeholder",t.bMT(15,23,"lang_core_tim_theo_lop")),t.R7$(4),t.FS9("placeholderLabel",t.bMT(18,25,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(19,27,"lang_search_not_found")),t.Y8G("formControl",$.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI(" ",t.bMT(22,29,"lang_auto_tat_ca_cac_lop")," "),t.R7$(2),t.Y8G("ngForOf",$.filter(m.classroomOwner,"name")),t.R7$(),t.Y8G("ngClass",t.eq3(35,ms,m.isMobileDevice)),t.R7$(),t.SpI("+ ",t.bMT(26,31,"lang_student_utils_add_student"),""),t.R7$(2),t.Y8G("ngClass",t.l_i(37,ds,!m.isMobileDevice,m.isMobileDevice)),t.R7$(),t.SpI("+ ",t.bMT(29,33,"lang_student_utils_add_parent"),""),t.R7$(2),t.Y8G("ngIf",m.isLoading)("ngIfElse",Dt)}},dependencies:[a.YU,a.Sq,a.bT,J.wT,He.rl,ln.VO,s.BC,s.l_,Kt.K,fe.q,de.W,X.B,cn.x,Ht.Q,nt.U9,x.wp,x.Po],encapsulation:2}),f})();const De=r=>[r],Co=()=>({"text-primary mx-auto":!0}),lo=()=>({"text-primary":!0});function Es(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Fs(r,f){1&r&&(t.j41(0,"div",9)(1,"a",10),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",12),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&r&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,De,t.bMT(2,3,"/business/infrastructure"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,Co)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_infrastructure_title")," "))}function Rs(r,f){1&r&&(t.j41(0,"div",9)(1,"a",14),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"azt-svg-icon",15),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&r&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,De,t.bMT(2,3,"/business/educational-program"))),t.R7$(3),t.Y8G("size",48),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_educational_program_title")," "))}function Ms(r,f){1&r&&(t.j41(0,"div",9)(1,"a",16),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"azt-svg-icon",17),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&r&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,De,t.bMT(2,3,"/business/instructional-work"))),t.R7$(3),t.Y8G("size",48),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_instructional_work_title")," "))}function ws(r,f){1&r&&(t.j41(0,"div",9)(1,"a",18),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",19),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&r&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,De,t.bMT(2,3,"/business/student-management/1"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,Co)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_notify_list_students")," "))}function Ds(r,f){1&r&&(t.j41(0,"div",9)(1,"a",18),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",20),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&r&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,De,t.bMT(2,3,"/business/account-management"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,lo)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_core_quan_ly_tai_khoan")," "))}function Ps(r,f){1&r&&(t.j41(0,"div",9)(1,"a",18),t.nI1(2,"navigationLocalize"),t.j41(3,"div",21),t.nrm(4,"lucide-icon",22),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&r&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,De,t.bMT(2,3,"/business/business-configs/0"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,lo)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_dashboard_business_configs")," "))}function zs(r,f){1&r&&(t.j41(0,"a",24),t.nI1(1,"navigationLocalize"),t.j41(2,"div",21),t.nrm(3,"lucide-icon",25),t.j41(4,"div",13),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()),2&r&&(t.Y8G("routerLink",t.eq3(6,De,t.bMT(1,2,"/business/business-statistics-overview"))),t.R7$(5),t.SpI(" ",t.bMT(6,4,"lang_core_thong_ke_tong_quan")," "))}function As(r,f){1&r&&(t.j41(0,"a",24),t.nI1(1,"navigationLocalize"),t.j41(2,"div",21),t.nrm(3,"lucide-icon",25),t.j41(4,"div",13),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()),2&r&&(t.Y8G("routerLink",t.eq3(6,De,t.bMT(1,2,"/business/business-statistics-overview-v2"))),t.R7$(5),t.SpI(" ",t.bMT(6,4,"lang_core_thong_ke_tong_quan")," "))}function Gs(r,f){if(1&r&&(t.j41(0,"div",9),t.DNE(1,zs,7,8,"a",23)(2,As,7,8,"a",23),t.k0s()),2&r){const c=t.XpG(2);t.R7$(),t.Y8G("ngIf",c.isTqbDomain),t.R7$(),t.Y8G("ngIf",!c.isTqbDomain)}}function $s(r,f){1&r&&(t.j41(0,"div",9)(1,"a",18),t.nI1(2,"navigationLocalize"),t.j41(3,"div",21),t.nrm(4,"lucide-icon",26),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&r&&(t.R7$(),t.Y8G("routerLink",t.eq3(7,De,t.bMT(2,3,"/business/admin-management"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,lo)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_azt_admin")," "))}function Ns(r,f){if(1&r&&(t.j41(0,"div",4)(1,"div",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",6)(5,"div",7),t.DNE(6,Fs,8,10,"div",8),t.nI1(7,"allowFeatureBusinessForUser"),t.nI1(8,"async"),t.DNE(9,Rs,8,9,"div",8),t.nI1(10,"allowFeatureBusinessForUser"),t.nI1(11,"async"),t.DNE(12,Ms,8,9,"div",8),t.nI1(13,"allowFeatureBusinessForUser"),t.nI1(14,"async"),t.DNE(15,ws,8,10,"div",8),t.nI1(16,"allowFeatureBusinessForUser"),t.nI1(17,"async"),t.DNE(18,Ds,8,10,"div",8),t.nI1(19,"allowFeatureBusinessForUser"),t.nI1(20,"async"),t.DNE(21,Ps,8,10,"div",8),t.nI1(22,"allowFeatureBusinessForUser"),t.nI1(23,"async"),t.DNE(24,Gs,3,2,"div",8)(25,$s,8,10,"div",8),t.nI1(26,"allowFeatureBusinessForUser"),t.nI1(27,"async"),t.k0s()()()),2&r){const c=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,9,"lang_cms_business_dashboard_title")," "),t.R7$(4),t.Y8G("ngIf",t.bMT(8,14,t.i5U(7,11,"training_center_infrastructure",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(11,19,t.i5U(10,16,"training_center_curriculum",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(14,24,t.i5U(13,21,"training_center_instructional",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(17,29,t.i5U(16,26,"training_center_tuition",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(20,34,t.i5U(19,31,"training_center_manage_account",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(23,39,t.i5U(22,36,"business_configs_menu",!1))),t.R7$(3),t.Y8G("ngIf",c.isBusinessDomain),t.R7$(),t.Y8G("ngIf",t.bMT(27,44,t.i5U(26,41,"business_configs_menu",!1)))}}let Bs=(()=>{var r;class f extends H.H{constructor(){super()}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_business_dashboard_title",description:"lang_cms_business_dashboard_description",image:"lang_cms_test_image"}),super.ngOnInit()}}return(r=f).\u0275fac=function(l){return new(l||r)},r.\u0275cmp=t.VBU({type:r,selectors:[["app-azota-business-dashboard"]],features:[t.Vt3],decls:6,vars:7,consts:[["isReadyBusinessPermision",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"azt-dashboard","w-full","lg:w-80%","mx-auto","mt-5"],[1,"text-lg","font-medium","intro-y"],[1,"mb-3","grid","grid-cols-12","intro-y","sm:gap-10"],[1,"col-span-12","grid","grid-cols-12","gap-6","mt-4","flex","items-center"],["class","col-span-6 md:col-span-3 intro-y","tourAnchor","azt-tour-1",4,"ngIf"],["tourAnchor","azt-tour-1",1,"col-span-6","md:col-span-3","intro-y"],["azt-track-service","dashboard-MZWdTjtFv",3,"routerLink"],[1,"box","py-8","zoom-in","text-center"],["name","building","size","48",3,"ngClass"],[1,"font-medium","text-center","text-base","mt-3"],["azt-track-service","dashboard-dbDZTHWC53",3,"routerLink"],["type","book",1,"block","text-primary","mx-auto",3,"size"],["azt-track-service","dashboard-WiSckpXd7J",3,"routerLink"],["type","slide",1,"block","text-primary","mx-auto",3,"size"],["azt-track-service","dashboard-6wko4rwl-1",3,"routerLink"],["name","user","size","48",3,"ngClass"],["name","users","size","48",3,"ngClass"],[1,"box","py-8","text-center","zoom-in"],["name","settings","size","48",3,"ngClass"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["name","bar-chart-3","size","48",1,"text-primary"],["name","user-cog","size","48",3,"ngClass"]],template:function(l,m){if(1&l&&(t.j41(0,"teacher-layout",1),t.DNE(1,Es,1,1,"azt-loading-effect",2),t.nI1(2,"alreadyDataForBusinessPermission"),t.nI1(3,"async"),t.DNE(4,Ns,28,46,"ng-template",null,0,t.C5r),t.k0s()),2&l){const g=t.sdS(5);t.Y8G("headerBackToLink","/admin/dashboard"),t.R7$(),t.Y8G("ngIf",!t.bMT(3,5,t.bMT(2,3,"")))("ngIfElse",g)}},dependencies:[b.Wk,a.YU,a.bT,Kt.K,bo.m,Ht.Q,n.WGl,a.Jj,x.F2,x.wp,x.bj,x.aJ],encapsulation:2}),f})();const Ls=[{path:"",component:(()=>{var r;class f extends H.H{}return(r=f).\u0275fac=(()=>{let c;return function(m){return(c||(c=t.xGo(r)))(m||r)}})(),r.\u0275cmp=t.VBU({type:r,selectors:[["azota-for-business"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","azota-business"]],template:function(l,m){1&l&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[b.n3],encapsulation:2}),f})(),canActivate:[ot.t],children:[{path:"dashboard",component:Bs},{path:"educational-program",component:pa},{path:"create-educational-program",component:_o},{path:"create-general-educational-program",component:No},{path:"edit-educational-program/:id",component:_o},{path:"educational-program/:id",component:ia},{path:"infrastructure",component:oi},{path:"infrastructure/:id",component:La},{path:"instructional-work",component:Ii},{path:"student-management/:page",component:Ss},{path:"account-management",component:se},{path:"business-configs/:configType",component:Bn},{path:"business-statistics-overview",component:rs},{path:"business-statistics-overview-v2",component:Ji},{path:"admin-management",component:F}]}];let Ys=(()=>{var r;class f{}return(r=f).\u0275fac=function(l){return new(l||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[b.iI.forChild(Ls),b.iI,st.XE]}),f})(),Vs=(()=>{var r;class f{}return(r=f).\u0275fac=function(l){return new(l||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({providers:[{provide:i.vn,useValue:dt.c.azt_tiny_mce_script_src}],imports:[b.iI,a.MD,ut.s,i.sv,Ys,C.Id,s.YN,s.X1,e.hM,z.L,xt.Lk,it.xv,et.Q,It.b,n.flO.pick(n.Ptg),v.f,o.rc,nt.An,h.Fr,gt.AC]}),f})()},47635:(Vt,St,_)=>{_.d(St,{c:()=>Y});var a=_(10936),s=_(66257),e=_(48725),b=_(59640),o=_(37497),i=_(27208),h=_(18586),v=_(48891),n=_(65162),xt=_(62221),gt=_(46899),it=_(25898),nt=_(54460),C=_(47712),z=_(18718),It=_(22613),et=_(69135),dt=_(32099),ut=_(5800),st=_(10123),ot=_(15343),_t=_(76975);const H=X=>({"text-primary stroke-width-2.5":X}),Et=X=>({"text-primary stroke-width-2.5":X,"-mt-2":!0});function q(X,W){1&X&&(v.j41(0,"div",10),v.EFF(1),v.nI1(2,"mytranslate"),v.k0s()),2&X&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function at(X,W){if(1&X){const x=v.RV6();v.j41(0,"div",11)(1,"div",12)(2,"azt-search-box",13),v.nI1(3,"mytranslate"),v.bIt("onSearch",function(ft){v.eBV(x);const Nt=v.XpG();return v.Njj(Nt.onSearchBox(ft.searchObj))}),v.k0s()()()}2&X&&(v.R7$(2),v.Y8G("isServerSearch",!0)("placeholder",v.bMT(3,2,"lang_core_tim_theo_ten_phone_email")))}function Ct(X,W){if(1&X&&v.nrm(0,"azt-loading-effect",15),2&X){const x=v.XpG(2);v.Y8G("currentStatusObj",x.statusObj)}}function Ft(X,W){if(1&X&&(v.j41(0,"div",25),v.nrm(1,"lucide-icon",26)(2,"lucide-icon",27),v.k0s()),2&X){const x=v.XpG().$implicit,V=v.XpG(3);v.R7$(),v.Y8G("ngClass",v.eq3(2,H,x.typeFieldSort===V.typeFieldSort.asc)),v.R7$(),v.Y8G("ngClass",v.eq3(4,Et,x.typeFieldSort===V.typeFieldSort.desc))}}function J(X,W){if(1&X){const x=v.RV6();v.j41(0,"th",22)(1,"div",23),v.bIt("click",function(){const ft=v.eBV(x).$implicit,Nt=v.XpG(3);return v.Njj(Nt.sortTableByFieldName(ft))}),v.EFF(2),v.nI1(3,"mytranslate"),v.DNE(4,Ft,3,6,"div",24),v.k0s()()}if(2&X){const x=W.$implicit;v.R7$(),v.Aen(x.customStyle),v.HbH(x.customClassCss),v.R7$(),v.SpI(" ",v.bMT(3,6,x.key)," "),v.R7$(2),v.Y8G("ngIf",!x.ignore)}}function jt(X,W){if(1&X){const x=v.RV6();v.j41(0,"tr",28)(1,"td"),v.nrm(2,"azt-student-info-box",29),v.k0s(),v.j41(3,"td",30),v.EFF(4),v.nI1(5,"formatStudentCodeToNumber"),v.k0s(),v.j41(6,"td",30),v.EFF(7),v.nI1(8,"formatOnlyDateByUserUnitPipe"),v.k0s(),v.j41(9,"td",30)(10,"div",31),v.nrm(11,"textarea",32),v.nI1(12,"mytranslate"),v.j41(13,"span",33,1),v.nI1(15,"mytranslate"),v.bIt("click",function(){const ft=v.eBV(x).$implicit,Nt=v.XpG(3);return v.Njj(Nt.showAllComment(ft))}),v.nrm(16,"lucide-icon",34),v.k0s()()()()}if(2&X){const x=W.$implicit,V=v.sdS(14);v.Y8G("id","row_student_"+x.id),v.R7$(2),v.Y8G("name",x.fullName)("parentFullName",x.parentFullName)("parentId",x.parentId)("phone",x.phone)("parentPhone",x.parentPhone)("avatar",x.avatar)("gender",x.gender)("hasUser",x.hasUser)("schoolName",x.schoolName)("classrooms",x.classrooms)("joinedAt",x.joinedAt)("identificationNumber",x.identificationNumber),v.R7$(2),v.JRh(x.identificationNumber?v.i5U(5,22,x.identificationNumber,6):""),v.R7$(3),v.JRh(v.bMT(8,25,null!=x.assessments&&x.assessments[0]?null==x.assessments||null==x.assessments[0]?null:x.assessments[0].createdAt:"")),v.R7$(4),v.FS9("placeholder",v.bMT(12,27,"lang_azt_enter_comment")),v.Y8G("id","assessment_content_"+x.id)("disabled",!0)("value",x.lastAssessmentComment),v.R7$(2),v.FS9("matTooltip",v.bMT(15,29,"lang_student_show_all_comment")),v.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",V.isDisabled)}}function Ot(X,W){if(1&X){const x=v.RV6();v.j41(0,"azt-paging",38),v.bIt("goToPaginationPage",function(ft){v.eBV(x);const Nt=v.XpG(4);return v.Njj(Nt.setPageStudent(ft))}),v.k0s()}if(2&X){const x=v.XpG(4);v.Y8G("pageObj",x.pageObj)}}function L(X,W){if(1&X&&(v.j41(0,"div",39),v.EFF(1),v.nI1(2,"mytranslate"),v.k0s()),2&X){const x=v.XpG(4);v.R7$(),v.Lme("",x.totalStudent," ",v.bMT(2,2,"lang_notify_list_students"),"")}}function yt(X,W){if(1&X&&(v.j41(0,"div",35),v.nrm(1,"div"),v.DNE(2,Ot,1,1,"azt-paging",36)(3,L,3,4,"div",37),v.k0s()),2&X){const x=v.XpG(3);v.R7$(2),v.Y8G("ngIf",x.totalStudent>x.pageObj.pageSize),v.R7$(),v.Y8G("ngIf",!x.isStudent)}}function Mt(X,W){if(1&X&&(v.j41(0,"div",16)(1,"drag-scroll")(2,"table",17)(3,"thead")(4,"tr",18),v.DNE(5,J,5,8,"th",19),v.k0s()(),v.j41(6,"tbody"),v.DNE(7,jt,17,31,"tr",20),v.k0s()()()(),v.DNE(8,yt,4,2,"div",21)),2&X){const x=v.XpG(2);v.R7$(5),v.Y8G("ngForOf",x.sortTableByFieldNameService.fieldNameList),v.R7$(2),v.Y8G("ngForOf",x.listStudent),v.R7$(),v.Y8G("ngIf",x.listStudent&&x.totalStudent&&x.totalStudent>0)}}function bt(X,W){if(1&X&&(v.j41(0,"div",5),v.DNE(1,Ct,1,1,"azt-loading-effect",14)(2,Mt,9,3,"ng-template",null,0,v.C5r),v.k0s()),2&X){const x=v.sdS(3),V=v.XpG();v.R7$(),v.Y8G("ngIf",V.statusObj.loading)("ngIfElse",x)}}function Z(X,W){if(1&X&&v.nrm(0,"azt-loading-effect",15),2&X){const x=v.XpG(2);v.Y8G("currentStatusObj",x.statusObj)}}function t(X,W){1&X&&(v.j41(0,"div",41),v.EFF(1),v.nI1(2,"mytranslate"),v.k0s()),2&X&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"lang_azt_no_comments_yet")," "))}function vt(X,W){if(1&X&&(v.j41(0,"div",44)(1,"div",45)(2,"p",46),v.EFF(3),v.nI1(4,"mytranslate"),v.nI1(5,"formatOnlyDateByUserUnitPipe"),v.k0s()(),v.nrm(6,"div",47),v.nI1(7,"safeNormalHtmlContent"),v.k0s()),2&X){const x=W.$implicit;v.R7$(3),v.Lme("",v.bMT(4,3,"lang_student_add_comment_date"),": ",v.bMT(5,5,x.updatedAt),""),v.R7$(3),v.Y8G("innerHTML",v.bMT(7,7,x.comment),v.npT)}}function Q(X,W){if(1&X&&(v.j41(0,"div",42),v.DNE(1,vt,8,9,"div",43),v.k0s()),2&X){const x=v.XpG(3);v.R7$(),v.Y8G("ngForOf",null==x.firstStudent?null:x.firstStudent.assessments)}}function Pt(X,W){if(1&X&&v.DNE(0,t,3,3,"div",40)(1,Q,2,1,"ng-template",null,3,v.C5r),2&X){const x=v.sdS(2),V=v.XpG(2);v.Y8G("ngIf",!(null!=V.firstStudent&&V.firstStudent.assessments&&null!=V.firstStudent&&null!=V.firstStudent.assessments&&V.firstStudent.assessments.length))("ngIfElse",x)}}function zt(X,W){if(1&X&&(v.j41(0,"div",5),v.DNE(1,Z,1,1,"azt-loading-effect",14)(2,Pt,3,2,"ng-template",null,2,v.C5r),v.k0s()),2&X){const x=v.sdS(3),V=v.XpG();v.R7$(),v.Y8G("ngIf",V.statusObj.loading)("ngIfElse",x)}}let Y=(()=>{var X;class W extends b.H{onSearchBox(V){this.searchContentObj=V,this.getData()}showAllComment(V){this.sAztDialogService.open(h.U,{width:"700px",restoreFocus:!1,data:{student:V,isTeacher:!1}}).afterClosed().subscribe(ft=>{ft&&this.getData()})}setPageStudent(V){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/6","?page="+V),this.pageObj.setPageNumber(V),this.getData()}sortTableByFieldName(V){V.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(V),this.getData())}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!0,order:this.orderObj})).subscribe(ft=>{if(!ft.success)return this.errorStatusObj(ft.message,!0);ft.data?.list.length&&(this.listStudent=[]),ft.data?.list.forEach(Nt=>{let Xt=this.sAztAssessmentStudentService.getLastAssessmentStudent(Nt);this.listStudent.push({...Nt,commentControl:new a.gE({id:new a.MJ(0,{nonNullable:!0}),updatedAt:new a.MJ(Xt?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new a.MJ(Xt?.comment??"",{nonNullable:!0}),isEdited:new a.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(Nt.assessments),editComment:!1}),this.firstStudent=this.listStudent?.[0]?this.listStudent[0]:void 0,this.firstStudent=this.convertBreakLine(this.firstStudent)}),this.totalStudent=ft.data?.total??0,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()}))}convertBreakLine(V){if(!V)return;const ft=V.assessments?.map(Nt=>({...Nt,comment:Nt.comment?.replace(/\n/g,"<br/>")}));return{...V,assessments:ft}}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:s.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:s.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentDate",key:"lang_azt_comments_date",ignore:!1,typeFieldSort:s.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentComment",key:"lang_azt_comments_consciousness_and_academic_performance",ignore:!0,typeFieldSort:s.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(V,ft,Nt,Xt,ee){super(),this.activeRoute=V,this.studentService=ft,this.sAztDialogService=Nt,this.sAztAssessmentStudentService=Xt,this.sortTableByFieldNameService=ee,this.classroomId=0,this.searchContentObj=new i.Z,this.pageObj=new o.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=s.H}}return(X=W).\u0275fac=function(V){return new(V||X)(v.rXU(n.nX),v.rXU(xt.b0),v.rXU(gt.i),v.rXU(it.n),v.rXU(e.s))},X.\u0275cmp=v.VBU({type:X,selectors:[["app-assessment-board"]],inputs:{isStudent:"isStudent"},features:[v.Jv_([e.s]),v.Vt3],decls:9,vars:7,consts:[["doneLoading",""],["c","isDisabled"],["doneLoadingStudent",""],["hasData",""],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12 mt-4",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"onSearch","isServerSearch","placeholder"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","assesment-board-oI-Jn2-vQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],[3,"name","parentFullName","parentId","phone","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],[1,"flex","items-center"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value"],[1,"w-6","h-6","ml-4","inline-block","clickable",3,"click","matTooltip","isDisabledTooltip","matTooltipDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"],["class","mt-2 py-3 px-5 mb-3 text-center","style","height: 55px",4,"ngIf","ngIfElse"],[1,"mt-2","py-3","px-5","mb-3","text-center",2,"height","55px"],[1,"py-3","px-5","box","mt-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",3,"innerHTML"]],template:function(V,ft){1&V&&(v.j41(0,"div",4)(1,"div",5)(2,"h3",6),v.EFF(3),v.nI1(4,"mytranslate"),v.k0s(),v.DNE(5,q,3,3,"div",7),v.k0s(),v.DNE(6,at,4,4,"div",8)(7,bt,4,2,"div",9)(8,zt,4,2,"div",9),v.k0s()),2&V&&(v.R7$(3),v.JRh(v.bMT(4,5,"lang_azt_comments")),v.R7$(2),v.Y8G("ngIf",ft.isMobileDevice&&ft.listStudent.length>0&&!ft.isStudent),v.R7$(),v.Y8G("ngIf",!ft.isStudent),v.R7$(),v.Y8G("ngIf",!ft.isStudent),v.R7$(),v.Y8G("ngIf",ft.isStudent))},dependencies:[nt.YU,nt.Sq,nt.bT,C.oV,z.K,It.q,et.f,dt.W,ut.B,st.jd,st.Ew,ot.WGl,_t.wp,_t._y,_t.Po,_t.vv],encapsulation:2}),W})()},33791:(Vt,St,_)=>{_.d(St,{E:()=>zt});var a=_(10127),s=_(66257),e=_(48725),b=_(59640),o=_(37497),i=_(27208),h=_(48891),v=_(65162),n=_(46899),xt=_(62221),gt=_(54460),it=_(18718),nt=_(22613),C=_(32099),z=_(5800),It=_(10123),et=_(15343),dt=_(85127),ut=_(76975);const st=()=>[],ot=Y=>({"text-primary stroke-width-2.5":Y}),_t=Y=>({"text-primary stroke-width-2.5":Y,"-mt-2":!0});function H(Y,X){1&Y&&(h.j41(0,"div",7),h.EFF(1),h.nI1(2,"mytranslate"),h.k0s()),2&Y&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Et(Y,X){if(1&Y&&(h.j41(0,"div",13),h.nrm(1,"azt-loading-effect",14),h.k0s()),2&Y){const W=h.XpG(2);h.R7$(),h.Y8G("currentStatusObj",W.statusObj)}}function q(Y,X){1&Y&&(h.j41(0,"div",20),h.EFF(1),h.nI1(2,"mytranslate"),h.k0s()),2&Y&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function at(Y,X){if(1&Y&&(h.j41(0,"div",29),h.nrm(1,"lucide-icon",30)(2,"lucide-icon",31),h.k0s()),2&Y){const W=h.XpG().$implicit,x=h.XpG(5);h.R7$(),h.Y8G("ngClass",h.eq3(2,ot,W.typeFieldSort===x.typeFieldSort.asc)),h.R7$(),h.Y8G("ngClass",h.eq3(4,_t,W.typeFieldSort===x.typeFieldSort.desc))}}function Ct(Y,X){if(1&Y){const W=h.RV6();h.j41(0,"th",26)(1,"div",27),h.bIt("click",function(){const V=h.eBV(W).$implicit,ft=h.XpG(5);return h.Njj(ft.sortTableByFieldName(V))}),h.EFF(2),h.nI1(3,"mytranslate"),h.DNE(4,at,3,6,"div",28),h.k0s()()}if(2&Y){const W=X.$implicit;h.R7$(),h.Aen(W.customStyle),h.HbH(W.customClassCss),h.R7$(),h.SpI(" ",h.bMT(3,6,W.key)," "),h.R7$(2),h.Y8G("ngIf",!W.ignore)}}function Ft(Y,X){1&Y&&(h.j41(0,"span"),h.EFF(1,"/"),h.k0s())}function J(Y,X){if(1&Y&&(h.j41(0,"span"),h.EFF(1),h.DNE(2,Ft,2,0,"span",5),h.EFF(3),h.k0s()),2&Y){const W=h.XpG().$implicit;h.R7$(),h.SpI(" ",W.lastMonthPaid," "),h.R7$(),h.Y8G("ngIf",W.lastMonthPaid),h.R7$(),h.SpI(" ",W.lastYearPaid," ")}}function jt(Y,X){1&Y&&(h.j41(0,"span",38),h.EFF(1),h.nI1(2,"mytranslate"),h.k0s()),2&Y&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"lang_core_hoc_thu")," "))}function Ot(Y,X){if(1&Y){const W=h.RV6();h.j41(0,"tr")(1,"td",32),h.bIt("click",function(){const V=h.eBV(W).$implicit,ft=h.XpG(5);return h.Njj(ft.addOrEditTuitionFee(V))}),h.nrm(2,"azt-student-info-box",33),h.k0s(),h.j41(3,"td",34),h.EFF(4),h.nI1(5,"formatStudentCodeToNumber"),h.k0s(),h.j41(6,"td",35),h.EFF(7),h.k0s(),h.j41(8,"td",36),h.DNE(9,J,4,3,"span",5)(10,jt,3,3,"span",37),h.k0s()()}if(2&Y){let W;const x=X.$implicit;h.R7$(2),h.Y8G("name",x.fullName)("avatar",x.avatar)("gender",x.gender)("schoolName",x.schoolName)("hasUser",x.hasUser)("classrooms",x.classrooms)("joinedAt",x.joinedAt)("phone",x.phone)("identificationNumber",x.identificationNumber),h.R7$(2),h.JRh(x.identificationNumber?h.i5U(5,13,x.identificationNumber,6):""),h.R7$(3),h.SpI(" ",null!==(W=null==x.classroom?null:x.classroom.name)&&void 0!==W?W:""," "),h.R7$(2),h.Y8G("ngIf",!x.isTrial),h.R7$(),h.Y8G("ngIf",x.isTrial)}}function L(Y,X){if(1&Y&&(h.j41(0,"div")(1,"div",21)(2,"drag-scroll")(3,"table",22)(4,"thead")(5,"tr",23),h.DNE(6,Ct,5,8,"th",24),h.k0s()(),h.j41(7,"tbody"),h.DNE(8,Ot,11,16,"tr",25),h.k0s()()()()()),2&Y){let W;const x=h.XpG(4);h.R7$(6),h.Y8G("ngForOf",x.sortTableByFieldNameService.fieldNameList),h.R7$(2),h.Y8G("ngForOf",null!==(W=null==x.listPayment?null:x.listPayment.list)&&void 0!==W?W:h.lJ4(2,st))}}function yt(Y,X){if(1&Y){const W=h.RV6();h.j41(0,"div",39),h.EFF(1),h.nI1(2,"mytranslate"),h.j41(3,"span",40),h.bIt("click",function(){h.eBV(W);const V=h.XpG(4);return h.Njj(V.goBack())}),h.EFF(4),h.nI1(5,"mytranslate"),h.k0s()()}2&Y&&(h.R7$(),h.SpI(" ",h.bMT(2,2,"lang_core_not_found_student"),"... "),h.R7$(3),h.JRh(h.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function Mt(Y,X){if(1&Y&&(h.j41(0,"div",17),h.DNE(1,q,3,3,"div",18)(2,L,9,3,"div",5)(3,yt,6,6,"div",19),h.k0s()),2&Y){let W,x;const V=h.XpG(3);h.R7$(),h.Y8G("ngIf",!V.searchContentObj.isLoading&&0==(null==V.listPayment?null:V.listPayment.total)&&""==V.searchContentObj.searchContent),h.R7$(),h.Y8G("ngIf",(null!==(W=null==V.listPayment?null:V.listPayment.total)&&void 0!==W?W:0)>0),h.R7$(),h.Y8G("ngIf",!V.searchContentObj.isLoading&&0==(null!==(x=null==V.listPayment?null:V.listPayment.list)&&void 0!==x?x:h.lJ4(3,st)).length&&""!=V.searchContentObj.searchContent)}}function bt(Y,X){if(1&Y){const W=h.RV6();h.j41(0,"azt-paging",44),h.bIt("goToPaginationPage",function(V){h.eBV(W);const ft=h.XpG(4);return h.Njj(ft.setPageStudent(V))}),h.k0s()}if(2&Y){const W=h.XpG(4);h.Y8G("pageObj",W.pageObj)}}function Z(Y,X){if(1&Y&&(h.j41(0,"div",45),h.EFF(1),h.nI1(2,"mytranslate"),h.k0s()),2&Y){const W=h.XpG(4);h.R7$(),h.Lme("",W.listPayment.total," ",h.bMT(2,2,"lang_notify_list_students"),"")}}function t(Y,X){if(1&Y&&(h.j41(0,"div",41),h.nrm(1,"div"),h.DNE(2,bt,1,1,"azt-paging",42)(3,Z,3,4,"div",43),h.k0s()),2&Y){const W=h.XpG(3);h.R7$(2),h.Y8G("ngIf",W.listPayment.total>W.pageObj.pageSize),h.R7$(),h.Y8G("ngIf",!W.isStudent)}}function vt(Y,X){if(1&Y&&h.DNE(0,Mt,4,4,"div",15)(1,t,4,2,"div",16),2&Y){let W;const x=h.XpG(2);h.Y8G("ngIf",!x.isStudent),h.R7$(),h.Y8G("ngIf",x.listPayment&&x.listPayment.total&&(null!==(W=null==x.listPayment?null:x.listPayment.total)&&void 0!==W?W:0)>0)}}function Q(Y,X){if(1&Y){const W=h.RV6();h.qex(0),h.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"azt-search-box",11),h.nI1(5,"mytranslate"),h.bIt("onSearch",function(V){h.eBV(W);const ft=h.XpG();return h.Njj(ft.onSearchBox(V.searchObj))}),h.k0s()()()(),h.DNE(6,Et,2,1,"div",12)(7,vt,2,2,"ng-template",null,0,h.C5r),h.bVm()}if(2&Y){const W=h.sdS(8),x=h.XpG();h.R7$(4),h.Y8G("isServerSearch",!0)("placeholder",h.bMT(5,5,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",x.searchContentObj),h.R7$(2),h.Y8G("ngIf",x.statusObj.loading)("ngIfElse",W)}}function Pt(Y,X){1&Y&&(h.j41(0,"div",46),h.nrm(1,"detail-tuition-fee-student"),h.k0s())}let zt=(()=>{var Y;class X extends b.H{onSearchBox(x){this.searchContentObj=x,this.getData()}addOrEditTuitionFee(x){this.sAztDialogService.open(a.B,{width:"900px",restoreFocus:!1,data:x}).afterClosed().subscribe(V=>{V&&this.getData()})}goBack(){this.searchContentObj.resetSearchContentEvent("EMIT_EVENT")}sortTableByFieldName(x){x.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(x),this.getData())}setPageStudent(x){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/8","?page="+x),this.pageObj.setPageNumber(x),this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:this.orderObj})).subscribe(V=>{if(!V.success)return this.errorStatusObj(V.message,!0);this.listPayment=V.data,this.pageObj.setTotalPages(V.data?.total??0),this.successStatusObj()}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:s.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:s.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"classroom.name",key:"lang_auto_lop",ignore:!0,typeFieldSort:s.H.none,customClassCss:"text-center whitespace-nowrap"},{fieldName:"payment",key:"lang_azt_tuition_fee_submission_time",ignore:!1,typeFieldSort:s.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.isStudent||this.getData()}constructor(x,V,ft,Nt){super(),this.activeRoute=x,this.sAztDialogService=V,this.studentService=ft,this.sortTableByFieldNameService=Nt,this.pageStudent=1,this.searchContentObj=new i.Z,this.classroomId=0,this.pageObj=new o.d(50),this.typeFieldSort=s.H}}return(Y=X).\u0275fac=function(x){return new(x||Y)(h.rXU(v.nX),h.rXU(n.i),h.rXU(xt.b0),h.rXU(e.s))},Y.\u0275cmp=h.VBU({type:Y,selectors:[["app-tuition-fee-board"]],inputs:{isStudent:"isStudent"},features:[h.Jv_([e.s]),h.Vt3],decls:8,vars:6,consts:[["doneLoading",""],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[4,"ngIf"],["class","intro-y col-span-12 overflow-auto",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],["class","intro-y col-span-12",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"intro-y","col-span-12"],["class","flex justify-center mt-5",4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"flex","justify-center","mt-5"],[1,"intro-y",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"cursor-pointer"],["azt-track-service","tuition-fee-board-WXuxcVronQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"],[1,"intro-y","col-span-12","overflow-auto"]],template:function(x,V){1&x&&(h.j41(0,"div",1)(1,"div",2)(2,"h3",3),h.EFF(3),h.nI1(4,"mytranslate"),h.k0s(),h.DNE(5,H,3,3,"div",4),h.k0s(),h.DNE(6,Q,9,7,"ng-container",5)(7,Pt,2,0,"div",6),h.k0s()),2&x&&(h.R7$(3),h.SpI(" ",h.bMT(4,4,V.isStudent?"lang_student_tuition_fee_info":"lang_business_tuition_fee_title_top")," "),h.R7$(2),h.Y8G("ngIf",(V.isMobileDevice||V.isMobileWebView)&&!V.isStudent),h.R7$(),h.Y8G("ngIf",!V.isStudent),h.R7$(),h.Y8G("ngIf",V.isStudent))},dependencies:[gt.YU,gt.Sq,gt.bT,it.K,nt.q,C.W,z.B,It.jd,It.Ew,et.WGl,dt.k,ut.wp,ut.Po],encapsulation:2}),X})()},85127:(Vt,St,_)=>{_.d(St,{k:()=>C});var a=_(59640),s=_(48891),e=_(62221),b=_(54460),o=_(52811),i=_(10123),h=_(76975);function v(z,It){1&z&&(s.j41(0,"div"),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&z&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function n(z,It){1&z&&(s.j41(0,"tr",11)(1,"td",12)(2,"span",13),s.nrm(3,"azt-loading-ui"),s.k0s()()())}function xt(z,It){if(1&z&&(s.j41(0,"tr")(1,"td",11),s.EFF(2),s.k0s(),s.j41(3,"td"),s.EFF(4),s.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),s.k0s(),s.j41(6,"td"),s.EFF(7),s.k0s(),s.j41(8,"td",11)(9,"span",16),s.EFF(10),s.nI1(11,"mytranslate"),s.k0s()()()),2&z){const et=It.$implicit,dt=It.index;s.R7$(2),s.JRh(dt+1),s.R7$(2),s.JRh(s.bMT(5,4,et.createdAt)),s.R7$(3),s.JRh(et.month+"/"+et.year),s.R7$(3),s.SpI(" ",s.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function gt(z,It){if(1&z&&(s.qex(0),s.DNE(1,xt,12,8,"tr",15),s.bVm()),2&z){const et=s.XpG(2);s.R7$(),s.Y8G("ngForOf",et.historyTuitionFeeList)}}function it(z,It){1&z&&(s.j41(0,"tr")(1,"td",17),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s()()),2&z&&(s.R7$(2),s.SpI(" ",s.bMT(3,1,"lang_student_profile_not_data_view")," "))}function nt(z,It){if(1&z&&s.DNE(0,gt,2,1,"ng-container",14)(1,it,4,3,"ng-template",null,1,s.C5r),2&z){const et=s.sdS(2),dt=s.XpG();s.Y8G("ngIf",dt.historyTuitionFeeList.length)("ngIfElse",et)}}let C=(()=>{var z;class It extends a.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentMeGet().subscribe(dt=>{dt?(this.historyTuitionFeeList=dt.histories,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(dt){super(),this.paymentService=dt,this.historyTuitionFeeList=[]}}return(z=It).\u0275fac=function(dt){return new(dt||z)(s.rXU(e.WG))},z.\u0275cmp=s.VBU({type:z,selectors:[["detail-tuition-fee-student"]],features:[s.Vt3],decls:23,vars:15,consts:[["doneLoading",""],["noTuitionFee",""],[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(dt,ut){if(1&dt&&(s.j41(0,"div",2),s.DNE(1,v,3,3,"div",3),s.j41(2,"div",4)(3,"drag-scroll")(4,"table",5)(5,"thead",6)(6,"tr")(7,"th",7),s.EFF(8),s.nI1(9,"mytranslate"),s.k0s(),s.j41(10,"th",8),s.EFF(11),s.nI1(12,"mytranslate"),s.k0s(),s.j41(13,"th",8),s.EFF(14),s.nI1(15,"mytranslate"),s.k0s(),s.j41(16,"th",9),s.EFF(17),s.nI1(18,"mytranslate"),s.k0s()()(),s.j41(19,"tbody"),s.DNE(20,n,4,0,"tr",10)(21,nt,3,2,"ng-template",null,0,s.C5r),s.k0s()()()()()),2&dt){const st=s.sdS(22);s.R7$(),s.Y8G("ngIf",ut.isMobileDevice||ut.isMobileWebView),s.R7$(7),s.SpI(" ",s.bMT(9,7,"lang_auto_stt")," "),s.R7$(3),s.SpI(" ",s.bMT(12,9,"lang_student_payment_time")," "),s.R7$(3),s.SpI(" ",s.bMT(15,11,"lang_student_monthly_tuition_fee")," "),s.R7$(3),s.SpI(" ",s.bMT(18,13,"lang_student_status")," "),s.R7$(3),s.Y8G("ngIf",ut.statusObj.loading)("ngIfElse",st)}},dependencies:[b.Sq,b.bT,o.R,i.jd,i.Ew,h.wp,h.bH],encapsulation:2}),It})()},14999:(Vt,St,_)=>{_.d(St,{d:()=>gt});var a=_(89163),s=_(33887),e=_(48891),b=_(6440),o=_(54460),i=_(2915),h=_(52811),v=_(76975);function n(it,nt){if(1&it&&(e.qex(0),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"b",10),e.EFF(4),e.k0s(),e.bVm()),2&it){const C=e.XpG();e.R7$(),e.SpI(" \xa0",e.bMT(2,2,"lang_student_utils_delete_student_last"),":\xa0 "),e.R7$(3),e.JRh(null==C.classroomObj?null:C.classroomObj.name)}}function xt(it,nt){1&it&&e.nrm(0,"azt-loading-ui",11)}let gt=(()=>{var it;class nt extends s._{btnCloseDialog(z){this.dialogRef.close(z)}confirmDelete(){this.data.deleteOnParent?this.dialogRef.close(!0):(this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj?.id??0).subscribe(z=>{1==z.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(z.message,!0),this.btnCloseDialog(!1))})))}constructor(z,It,et){super(et,It),this.studentService=z,this.dialogRef=It,this.data=et,this.studentObj=et.studentObj,this.classroomObj=et.classroomObj}}return(it=nt).\u0275fac=function(z){return new(z||it)(e.rXU(b.b0),e.rXU(a.CP,8),e.rXU(a.Vh,8))},it.\u0275cmp=e.VBU({type:it,selectors:[["app-delete-single-student"]],features:[e.Vt3],decls:19,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-danger"],[1,"mr-1"]],template:function(z,It){1&z&&(e.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"b",4),e.EFF(8),e.k0s(),e.DNE(9,n,5,4,"ng-container",5),e.EFF(10," ? "),e.k0s()()()(),e.j41(11,"div",6)(12,"button",7),e.bIt("click",function(){return It.btnCloseDialog(!1)}),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"button",8),e.bIt("click",function(){return It.confirmDelete()}),e.DNE(16,xt,1,0,"azt-loading-ui",9),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()()),2&z&&(e.R7$(5),e.SpI(" ",e.bMT(6,6,"lang_student_utils_delete_student_first"),"\xa0 "),e.R7$(3),e.JRh(null==It.studentObj?null:It.studentObj.fullName),e.R7$(),e.Y8G("ngIf",null==It.classroomObj?null:It.classroomObj.name),e.R7$(4),e.SpI(" ",e.bMT(14,8,"lang_cms_common_close_btn")," "),e.R7$(3),e.Y8G("ngIf",It.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(18,10,"lang_cms_common_confirm_btn")," "))},dependencies:[o.bT,i.U,h.R,v.wp],encapsulation:2}),nt})()},46723:(Vt,St,_)=>{_.d(St,{B:()=>Et});var a=_(81519),s=_(10936),e=_(47426),b=_(89163),o=_(95670),h=(_(47290),_(99503)),v=_(79347),n=_(33887),xt=_(9691),gt=_(44477),it=_(93493),nt=_(74742),C=_(43234),z=_(48891),It=_(6440),et=_(54460),dt=_(2915),ut=_(52811),st=_(43165),ot=_(76975);function _t(q,at){if(1&q&&(z.j41(0,"div",10)(1,"span"),z.EFF(2),z.nI1(3,"mytranslate"),z.k0s()()),2&q){const Ct=z.XpG();z.R7$(2),z.SpI("",z.bMT(3,1,Ct.msgError),"!")}}function H(q,at){1&q&&z.nrm(0,"azt-loading-ui",11)}let Et=(()=>{var q;class at extends n._{confirmAction(){let Ft=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.studentForm.form.valid){let J={id:this.studentObj?.id??0,fullName:Ft.fullName,phone:Ft.phoneNumber,email:Ft.email,identificationNumber:Ft.identificationNumber?Number(Ft.identificationNumber):void 0,gender:Number(Ft.gender),birthday:Ft.birthday?this.timeService.formatOnlyDateToPostToServer(Ft.birthday):void 0,classroomId:this.classroomObj?.id??0,facebookLink:Ft.facebookLink,schoolName:Ft.school,userName:Ft.userName};this.waitDestroy(this.studentService.apiStudentUpdateObjPost(J).subscribe(jt=>{1==jt.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=jt.message??"",this.stopStatusObj())}))}}btnCloseDialog(Ft){this.dialogRef.close(Ft)}ngOnInit(){super.ngOnInit()}constructor(Ft,J,jt,Ot){super(Ot,jt),this.studentService=Ft,this.timeService=J,this.dialogRef=jt,this.data=Ot,this.msgError="",this.maxDate=C.c.maxDateTimePicker,this.studentForm=new nt.d,this.studentObj=Ot.studentObj,this.classroomObj=Ot.classroomObj,this.studentForm.form=new s.gE({fullName:new s.MJ(this.studentObj?.fullName??"",{nonNullable:!0,validators:[s.k0.required]}),userName:new s.MJ(this.studentObj?.parentUserName??"",{nonNullable:!0,validators:[it.i.validateUserName]}),gender:new s.MJ(this.studentObj?.gender,{nonNullable:!0}),birthday:new s.MJ(this.studentObj?.birthday,{nonNullable:!0}),email:new s.MJ(this.studentObj?.email??"",{nonNullable:!0,validators:[gt.U.isInvalidEmail,s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ(this.studentObj?.phone??"",{nonNullable:!0,validators:[s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),identificationNumber:new s.MJ(this.commonService.padLeadingZeros(this.studentObj?.identificationNumber??void 0,6),{nonNullable:!0,validators:[s.k0.min(1),s.k0.maxLength(6),s.k0.pattern("^[0-9]*$")]}),facebookLink:new s.MJ(this.studentObj?.moreInfo?.facebookLink,{nonNullable:!0}),school:new s.MJ(this.studentObj?.moreInfo?.schoolName,{nonNullable:!0})})}}return(q=at).\u0275fac=function(Ft){return new(Ft||q)(z.rXU(It.b0),z.rXU(xt.F),z.rXU(b.CP,8),z.rXU(b.Vh,8))},q.\u0275cmp=z.VBU({type:q,selectors:[["app-edit-student"]],features:[z.Jv_([{provide:a.$O,useClass:h.fb,deps:[e.Ju,h.ij]},{provide:a.vq,useFactory:v.fJ,deps:[xt.F]},{provide:o.U$,useValue:{floatLabel:"never"}}]),z.Vt3],decls:17,vars:13,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"closeDialog","studentForm"],["class","text-xs font-medium text-danger mt-2 pl-3 mb-2 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit_student-jfiMakvRbsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","edit_student-Q_oCb2JwMVm",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","pl-3","mb-2","fade"],[1,"mr-1"]],template:function(Ft,J){1&Ft&&(z.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),z.EFF(5),z.nI1(6,"mytranslate"),z.k0s(),z.j41(7,"azt-form-enter-info-student",4),z.bIt("closeDialog",function(Ot){return J.btnCloseDialog(Ot)}),z.k0s()()(),z.DNE(8,_t,4,3,"div",5),z.k0s(),z.j41(9,"div",6)(10,"button",7),z.bIt("click",function(){return J.btnCloseDialog(!1)}),z.EFF(11),z.nI1(12,"mytranslate"),z.k0s(),z.j41(13,"button",8),z.bIt("click",function(){return J.confirmAction()}),z.DNE(14,H,1,0,"azt-loading-ui",9),z.EFF(15),z.nI1(16,"mytranslate"),z.k0s()()()),2&Ft&&(z.R7$(5),z.SpI(" ",z.bMT(6,7,"lang_student_utils_edit_student")," "),z.R7$(2),z.Y8G("studentForm",J.studentForm),z.R7$(),z.Y8G("ngIf",""!==J.msgError),z.R7$(3),z.SpI(" ",z.bMT(12,9,"lang_cms_common_close_btn")," "),z.R7$(2),z.Y8G("disabled",J.statusObj.loading||J.studentForm.form.invalid),z.R7$(),z.Y8G("ngIf",J.statusObj.loading),z.R7$(),z.SpI(" ",z.bMT(16,11,"lang_button_update")," "))},dependencies:[et.bT,dt.U,ut.R,st.s,ot.wp],encapsulation:2}),at})()},25898:(Vt,St,_)=>{_.d(St,{n:()=>e});var a=_(10936),s=_(48891);let e=(()=>{var b;class o{makeListFormArrayComment(h,v){let n=new a.Yp([]);return h&&h.forEach(xt=>{n.push(new a.gE({id:new a.MJ({value:xt.id,disabled:!v},{nonNullable:!0}),updatedAt:new a.MJ({value:xt.updatedAt?.toString()??"",disabled:!v},{nonNullable:!0}),comment:new a.MJ({value:xt.comment??"",disabled:!v},{nonNullable:!0}),isEdited:new a.MJ(!1,{nonNullable:!0})}))}),n}getLastAssessmentStudent(h){if(h.assessments&&h.assessments.length)return h.assessments[0]}}return(b=o).\u0275fac=function(h){return new(h||b)},b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),o})()},18586:(Vt,St,_)=>{_.d(St,{U:()=>Mt});var a=_(81519),s=_(48891),e=_(10936),b=_(34514),o=_(47426),i=_(89163),h=_(99503),v=_(79347),n=_(33887),xt=_(53793),gt=_(9691),it=_(25898),nt=_(10296),C=_(67638),z=_(10490),It=_(54460),et=_(47712),dt=_(81587),ut=_(2915),st=_(52811),ot=_(5800),_t=_(15343),H=_(76975);const Et=()=>({"ml-2 cursor-pointer":!0});function q(bt,Z){if(1&bt){const t=s.RV6();s.j41(0,"button",13),s.bIt("click",function(){s.eBV(t);const Q=s.XpG();return s.Njj(Q.changeEditStatus(!0))}),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()}2&bt&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_auto_sua")," "))}function at(bt,Z){if(1&bt){const t=s.RV6();s.j41(0,"button",14),s.bIt("click",function(){s.eBV(t);const Q=s.XpG();return s.Njj(Q.changeEditStatus(!1))}),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()}if(2&bt){const t=s.XpG();s.Y8G("disabled",t.isSave),s.R7$(),s.SpI(" ",s.bMT(2,2,"lang_auto_huy_sua")," ")}}function Ct(bt,Z){if(1&bt){const t=s.RV6();s.j41(0,"button",15),s.bIt("click",function(){s.eBV(t);const Q=s.XpG();return s.Njj(Q.saveEdit())}),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()}if(2&bt){const t=s.XpG();s.Y8G("disabled",t.isSave||t.countChangedComment()),s.R7$(),s.SpI(" ",s.bMT(2,2,"lang_auto_luu")," ")}}function Ft(bt,Z){1&bt&&(s.j41(0,"div",16)(1,"span",17),s.nrm(2,"azt-loading-ui"),s.k0s()())}function J(bt,Z){1&bt&&(s.j41(0,"div",19),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&bt&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"lang_azt_no_comments_yet")," "))}function jt(bt,Z){if(1&bt){const t=s.RV6();s.j41(0,"button",28),s.bIt("click",function(){s.eBV(t);const Q=s.XpG().$implicit,Pt=s.XpG(3);return s.Njj(Pt.deleteAssesment(Q.controls.id.value))}),s.nrm(1,"lucide-icon",29),s.nI1(2,"mytranslate"),s.k0s()}if(2&bt){const t=s.XpG(4);s.Y8G("disabled",t.isSave),s.R7$(),s.FS9("matTooltip",s.bMT(2,2,"lang_auto_xoa"))}}function Ot(bt,Z){if(1&bt){const t=s.RV6();s.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"p",25),s.EFF(4),s.nI1(5,"mytranslate"),s.nI1(6,"formatOnlyDateByUserUnitPipe"),s.k0s(),s.DNE(7,jt,3,4,"button",26),s.k0s(),s.j41(8,"textarea",27),s.bIt("change",function(){const Q=s.eBV(t).$implicit;return s.Njj(Q.controls.isEdited.setValue(!0))}),s.k0s()()()}if(2&bt){const t=Z.$implicit,vt=s.XpG(3);s.R7$(),s.Y8G("formGroup",t),s.R7$(3),s.Lme("",s.bMT(5,4,"lang_student_add_comment_date"),": ",s.bMT(6,6,t.controls.updatedAt.value),""),s.R7$(3),s.Y8G("ngIf",vt.isEdit)}}function L(bt,Z){if(1&bt&&(s.j41(0,"div",20),s.DNE(1,Ot,9,8,"div",21),s.k0s()),2&bt){const t=s.XpG(2);s.R7$(),s.Y8G("ngForOf",null==t.data.student.listCommentControl?null:t.data.student.listCommentControl.controls)}}function yt(bt,Z){if(1&bt&&s.DNE(0,J,3,3,"div",18)(1,L,2,1,"ng-template",null,1,s.C5r),2&bt){const t=s.sdS(2),vt=s.XpG();s.Y8G("ngIf",!vt.data.student.assessments||!vt.data.student.assessments.length)("ngIfElse",t)}}let Mt=(()=>{var bt;class Z extends n._{filterData(vt){this.dataFilter=vt,this.initStatusObj()}countChangedComment(){return!!this.data.student.listCommentControl?.controls.filter(Q=>Q.controls.isEdited.value&&!Q.controls.comment.value)?.length}saveEdit(){this.isSave=!0,this.changeEditStatus(!1),this.initStatusObj();let vt=this.data.student.listCommentControl?.controls.filter(Pt=>Pt.controls.isEdited.value).map(Pt=>({id:Pt.controls.id.value,studentId:this.data.student.id,comment:Pt.controls.comment.value}))??[];if(!vt.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost({classroomId:this.data.student.classroomId,studentAssessments:vt}).subscribe(Pt=>{Pt.success?(this.showSuccessSnack("lang_student_edit_comment_successfully"),this.isEdit=!1,this.hasChanged=!0,this.getStudent()):this.errorStatusObj("lang_student_edit_comment_unsuccessfully",!0),this.isSave=!1}))}deleteAssesment(vt){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsIdAssessmentsDelete(vt).subscribe(Q=>{Q.success?(this.getStudent(!0),this.showSuccessSnack("lang_student_delete_comment_successfully"),this.hasChanged=!0):this.errorStatusObj("lang_student_delete_comment_unsuccessfully",!0)}))}changeEditStatus(vt){this.isEdit=vt,this.data.student.listCommentControl?.controls.map(Q=>vt?Q.enable():Q.disable())}getStudent(vt){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.student.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.student.classroomId,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!1,me:!this.data.isTeacher,getAssessment:!0})).subscribe(Pt=>{if(!Pt.success)return this.errorStatusObj(Pt.message,!0);if(!Pt.data?.list.length)return this.stopStatusObj();var zt=Pt.data.list[0];let Y=this.sAztAssessmentStudentService.getLastAssessmentStudent(zt);this.data.student={...zt,commentControl:new e.gE({id:new e.MJ(0,{nonNullable:!0}),updatedAt:new e.MJ(Y?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new e.MJ(Y?.comment??"",{nonNullable:!0}),isEdited:new e.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(zt.assessments,vt)},this.stopStatusObj()}))}closeDialog(){this.dialogRef.close(this.hasChanged)}ngOnInit(){super.ngOnInit()}constructor(vt,Q,Pt,zt,Y,X,W){super(W,X),this.sAztAssessmentStudentService=vt,this.sAztTimeService=Q,this.shareFileFlutterService=Pt,this.exportExcelService=zt,this.studentService=Y,this.dialogRef=X,this.data=W,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.isSave=!1,this.isEdit=!1,this.hasChanged=!1,this.commonService=(0,s.WQX)(xt.R)}ngOnDestroy(){super.ngOnDestroy()}}return(bt=Z).\u0275fac=function(vt){return new(vt||bt)(s.rXU(it.n),s.rXU(gt.F),s.rXU(nt.R),s.rXU(C.x),s.rXU(z.b),s.rXU(i.CP,8),s.rXU(i.Vh,8))},bt.\u0275cmp=s.VBU({type:bt,selectors:[["azt-student-comments"]],features:[s.Jv_([{provide:a.$O,useClass:h.fb,deps:[o.Ju,b.ij]},{provide:a.vq,useFactory:v.fJ,deps:[gt.F]}]),s.Vt3],decls:15,vars:19,consts:[["doneLoading",""],["hasData",""],[1,"box"],[1,"px-5","py-3","border-b","border-slate-300"],[1,"flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[2,"align-self","center"],["name","x","size","16",3,"click","matTooltip","ngClass"],[1,"flex","justify-end"],["azt-track-service","show-all-comment-dialog-LbiztBEnN","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3","class","btn btn-sm btn-secondary-soft mr-2",3,"disabled","click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","p-5 text-center",4,"ngIf","ngIfElse"],["azt-track-service","show-all-comment-dialog-LbiztBEnN",1,"btn","btn-sm","btn-secondary",3,"click"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3",1,"btn","btn-sm","btn-secondary-soft","mr-2",3,"click","disabled"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r",1,"btn","btn-sm","btn-primary",3,"click","disabled"],[1,"p-5","text-center"],[1,"w-8","h-8","inline-block","mr-2"],["class","mt-2 py-3 px-5 mb-2 text-center","style","height: 55px",4,"ngIf","ngIfElse"],[1,"mt-2","py-3","px-5","mb-2","text-center",2,"height","55px"],[1,"py-3","px-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"formGroup"],[1,"flex","mb-2","items-center"],[1,"font-bold","mb-0"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP","class","btn btn-transparent btn-outline-secondary btn-sm",3,"disabled","click",4,"ngIf"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP",1,"btn","btn-transparent","btn-outline-secondary","btn-sm",3,"click","disabled"],["name","trash-2","size","16",3,"matTooltip"]],template:function(vt,Q){if(1&vt){const Pt=s.RV6();s.j41(0,"div",2)(1,"div",3)(2,"div",4),s.nrm(3,"azt-student-info-box",5),s.j41(4,"div",6)(5,"lucide-icon",7),s.nI1(6,"mytranslate"),s.bIt("click",function(){return s.eBV(Pt),s.Njj(Q.closeDialog())}),s.k0s()()(),s.j41(7,"div",8),s.DNE(8,q,3,3,"button",9)(9,at,3,4,"button",10)(10,Ct,3,4,"button",11),s.k0s()(),s.j41(11,"azt-mat-dialog-content"),s.DNE(12,Ft,3,0,"div",12)(13,yt,3,2,"ng-template",null,0,s.C5r),s.k0s()()}if(2&vt){const Pt=s.sdS(14);s.R7$(3),s.Y8G("name",Q.data.student.fullName)("parentFullName",Q.data.student.parentFullName)("parentId",Q.data.student.parentId)("parentPhone",Q.data.student.parentPhone)("phone",Q.data.student.phone)("email",Q.data.student.email)("avatar",Q.data.student.avatar)("gender",Q.data.student.gender)("hasUser",Q.data.student.hasUser),s.R7$(2),s.FS9("matTooltip",s.bMT(6,16,"lang_auto_dong")),s.Y8G("ngClass",s.lJ4(18,Et)),s.R7$(3),s.Y8G("ngIf",!Q.isEdit&&Q.data.isTeacher),s.R7$(),s.Y8G("ngIf",Q.isEdit),s.R7$(),s.Y8G("ngIf",Q.isEdit),s.R7$(2),s.Y8G("ngIf",Q.statusObj.loading)("ngIfElse",Pt)}},dependencies:[It.YU,It.Sq,It.bT,et.oV,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,dt.t,ut.U,st.R,ot.B,_t.WGl,H.wp,H.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),Z})()},66067:(Vt,St,_)=>{_.d(St,{E:()=>no});var a=_(76627),s=_(59640),e=_(48891),b=_(65162),o=_(73202),i=_(62221),h=_(9691),v=_(54460),n=_(18718),xt=_(64198),gt=_(75421),it=_(93518),nt=_(53043),C=_(69307),z=_(46899),It=_(40111),et=_(17818),dt=_(47426),ut=_(47712),st=_(69135),ot=_(52811),_t=_(91584),H=_(15343),Et=_(74128),q=_(81519),at=_(10936),Ct=_(34514),Ft=_(99503),J=_(79347);class jt{static addNewEducationalProgramFormValidator(G){let u=G,p=u.controls.weekdayConfig;if(!p.length)return u.setErrors(null),null;let k=0,R=0;return p.controls.forEach(B=>{let mt=!1,Rt={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};B.controls.selected.value?(B.controls.infrastructureId.value||(mt=!0,Rt.invalidInfrastructure=!0),B.controls.startTime.value&&B.controls.endTime.value?new Date("1970-01-01T"+B.controls.startTime.value).getTime()>=new Date("1970-01-01T"+B.controls.endTime.value).getTime()?(mt=!0,Rt.invalidTime=!0):Rt.invalidTime=!1:(mt=!0,Rt.requireTime=!0),B.setErrors(mt?Rt:null),R++):B.setErrors(null),B.invalid&&k++},p),k||!R?(u.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(u.setErrors(null),null)}}var Ot=_(43234),L=_(66772),yt=_(62548),Mt=_(39471),bt=_(97839),Z=_(95670),t=_(4375),vt=_(20378),Q=_(81587),Pt=_(43166),zt=_(5502),Y=_(44233),X=_(76975);const W=["startTime"],x=d=>({"mt-2":d}),V=()=>({"ml-2 clickable":!0}),ft=()=>({"width.px":"auto","height.%":100}),Nt=d=>[d],Xt=d=>({backTo:d}),ee=()=>({"mr-2":!0}),Bt=(d,G)=>({hiddenVisible:d,visibleIpt:G}),ue=d=>({"border border-primary":d}),pe=()=>({"text-primary":!0});function ge(d,G){if(1&d&&e.nrm(0,"azt-loading-effect",11),2&d){const u=e.XpG();e.Y8G("currentStatusObj",u.statusObj)}}function me(d,G){if(1&d){const u=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(u);const k=e.XpG(2);return e.Njj(k.saveEducationalProgramEmit.emit(!1))}),e.nrm(1,"lucide-icon",46),e.j41(2,"span",47),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}if(2&d){const u=e.XpG(2);e.Y8G("disabled",u.isSavingProgram),e.R7$(3),e.JRh(e.bMT(4,2,"lang_auto_huy"))}}function Kt(d,G){1&d&&e.nrm(0,"lucide-icon",52)}function fe(d,G){1&d&&e.nrm(0,"lucide-icon",53)}function de(d,G){1&d&&e.nrm(0,"lucide-icon",61),2&d&&e.Y8G("ngClass",e.lJ4(1,pe))}function Ht(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",57)(1,"div",58),e.bIt("click",function(){let k;const R=e.eBV(u).$implicit,B=e.XpG().$implicit,mt=e.XpG(2).$implicit,Rt=e.XpG(2);return e.Njj(Rt.selectSubject(null!==(k=mt.id)&&void 0!==k?k:0,null!==(k=B.id)&&void 0!==k?k:0,R))}),e.j41(2,"span",59),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,de,1,2,"lucide-icon",60),e.k0s()()}if(2&d){const u=G.$implicit;e.Y8G("ngClass",e.eq3(5,ue,u.selected)),e.R7$(3),e.JRh(e.bMT(4,3,u.name)),e.R7$(2),e.Y8G("ngIf",u.selected)}}function oe(d,G){if(1&d&&(e.qex(0),e.j41(1,"h3",54)(2,"span",55),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.DNE(5,Ht,6,7,"div",56),e.bVm()),2&d){const u=G.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,2,u.name)," "),e.R7$(2),e.Y8G("ngForOf",u.children)}}function E(d,G){if(1&d&&(e.qex(0),e.DNE(1,oe,6,4,"ng-container",25),e.bVm()),2&d){const u=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",u.subjects)}}function pt(d,G){if(1&d){const u=e.RV6();e.qex(0),e.j41(1,"h3",48),e.bIt("click",function(){let k;const R=e.eBV(u).$implicit,B=e.XpG(2);return e.Njj(B.showEducationalProgramSubject(null!==(k=R.id)&&void 0!==k?k:0))}),e.j41(2,"span",49),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,Kt,1,0,"lucide-icon",50)(6,fe,1,0,"lucide-icon",51),e.k0s(),e.DNE(7,E,2,1,"ng-container",26),e.bVm()}if(2&d){const u=G.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,4,u.name)," "),e.R7$(2),e.Y8G("ngIf",u.showChild),e.R7$(),e.Y8G("ngIf",!u.showChild),e.R7$(),e.Y8G("ngIf",u.showChild)}}function S(d,G){1&d&&(e.qex(0),e.j41(1,"small",62),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&d&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_validate"),""))}function M(d,G){1&d&&(e.qex(0),e.j41(1,"small",62),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&d&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function w(d,G){if(1&d){const u=e.RV6();e.qex(0),e.j41(1,"div",64),e.bIt("click",function(){e.eBV(u);const k=e.XpG().$implicit,R=e.XpG(2);return e.Njj(R.openWeekdayConfig(k.controls.id.value))}),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()}if(2&d){const u=e.XpG().$implicit;e.R7$(),e.Y8G("formGroup",u),e.R7$(2),e.JRh(e.bMT(4,2,u.controls.name.value))}}function ht(d,G){1&d&&(e.j41(0,"button",82),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_huy")))}function At(d,G){1&d&&(e.j41(0,"button",83),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_auto_xac_nhan")))}function te(d,G){1&d&&e.nrm(0,"p",84)}function ie(d,G){1&d&&(e.j41(0,"mat-label"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function he(d,G){if(1&d&&(e.j41(0,"mat-option",85),e.EFF(1),e.k0s()),2&d){const u=G.$implicit;e.FS9("value",u.id),e.R7$(),e.JRh(u.name)}}function be(d,G){1&d&&(e.qex(0),e.j41(1,"small",86),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&d&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_time_validate"),""))}function Se(d,G){1&d&&(e.qex(0),e.j41(1,"small",86),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&d&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function Ee(d,G){1&d&&(e.qex(0),e.nrm(1,"br"),e.j41(2,"small",87),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()),2&d&&(e.R7$(3),e.SpI("* ",e.bMT(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function Fe(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",65)(1,"div",66)(2,"span",67),e.bIt("click",function(){e.eBV(u);const k=e.XpG().$implicit,R=e.XpG(2);return e.Njj(R.openWeekdayConfig(k.controls.id.value))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"lucide-icon",68),e.bIt("click",function(){e.eBV(u);const k=e.XpG().$implicit,R=e.XpG(2);return e.Njj(R.openWeekdayConfig(k.controls.id.value))}),e.k0s(),e.j41(6,"div",69)(7,"div",70)(8,"div",71),e.nrm(9,"input",72),e.nI1(10,"mytranslate"),e.nrm(11,"ngx-mat-timepicker",73,2),e.k0s(),e.j41(13,"div",74)(14,"span",75),e.EFF(15,"\xa0-\xa0"),e.k0s()(),e.j41(16,"div",71),e.nrm(17,"input",76),e.nI1(18,"mytranslate"),e.nrm(19,"ngx-mat-timepicker",73,3),e.k0s(),e.DNE(21,ht,3,3,"ng-template",null,4,e.C5r)(23,At,3,3,"ng-template",null,5,e.C5r)(25,te,1,0,"ng-template",null,6,e.C5r),e.j41(27,"lucide-icon",77),e.bIt("click",function(){e.eBV(u);const k=e.XpG().$implicit,R=e.XpG(2);return e.Njj(R.openWeekdayConfig(k.controls.id.value))}),e.k0s()(),e.j41(28,"mat-form-field",78),e.DNE(29,ie,3,3,"mat-label",26),e.j41(30,"mat-select",79,7),e.bIt("openedChange",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(2);return e.Njj(B.touchedMatSelect(k,R))}),e.j41(32,"mat-option"),e.nrm(33,"ngx-mat-select-search",80),e.nI1(34,"mytranslate"),e.nI1(35,"mytranslate"),e.k0s(),e.DNE(36,he,2,2,"mat-option",81),e.k0s()(),e.DNE(37,be,4,3,"ng-container",26)(38,Se,4,3,"ng-container",26)(39,Ee,5,3,"ng-container",26),e.k0s()()()}if(2&d){const u=e.sdS(12),p=e.sdS(20),k=e.sdS(22),R=e.sdS(24),B=e.sdS(26),mt=e.sdS(31),Rt=e.XpG().$implicit,$t=e.XpG(2);e.Y8G("formGroup",Rt)("ngClass",e.eq3(36,ue,Rt.controls.selected.value)),e.R7$(3),e.JRh(e.bMT(4,26,Rt.controls.name.value)),e.R7$(6),e.FS9("placeholder",e.bMT(10,28,"lang_auto_tu")),e.Y8G("ngxMatTimepicker",u)("format",24),e.R7$(2),e.Y8G("editableHintTmpl",B)("enableKeyboardInput",!0)("cancelBtnTmpl",k)("confirmBtnTmpl",R),e.R7$(6),e.FS9("placeholder",e.bMT(18,30,"lang_auto_den")),e.Y8G("ngxMatTimepicker",p)("format",24),e.R7$(2),e.Y8G("editableHintTmpl",B)("enableKeyboardInput",!0)("cancelBtnTmpl",k)("confirmBtnTmpl",R),e.R7$(10),e.Y8G("ngIf",Rt.errors&&Rt.errors.invalidInfrastructure&&!Rt.controls.infrastructureId.touched),e.R7$(),e.Y8G("value",Rt.controls.infrastructureId.value),e.R7$(3),e.FS9("placeholderLabel",e.bMT(34,32,"lang_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(35,34,"lang_search_not_found")),e.Y8G("formControl",mt.searchControl),e.R7$(3),e.Y8G("ngForOf",mt.filter($t.listInfrastructureObjs,"name")),e.R7$(),e.Y8G("ngIf",Rt.errors&&Rt.errors.requireTime),e.R7$(),e.Y8G("ngIf",Rt.errors&&Rt.errors.invalidTime),e.R7$(),e.Y8G("ngIf",Rt.errors&&Rt.errors.invalidInfrastructure)}}function Re(d,G){if(1&d&&(e.qex(0),e.DNE(1,w,5,4,"ng-container",26)(2,Fe,40,38,"div",63),e.bVm()),2&d){const u=G.$implicit;e.R7$(),e.Y8G("ngIf",!u.controls.selected.value),e.R7$(),e.Y8G("ngIf",u.controls.selected.value)}}function Me(d,G){1&d&&(e.qex(0),e.j41(1,"small",62),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&d&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function Ce(d,G){1&d&&e.nrm(0,"azt-loading-ui",91)}function Te(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",88)(1,"button",89),e.bIt("click",function(){e.eBV(u);const k=e.XpG(2);return e.Njj(k.saveEducationalProgram())}),e.DNE(2,Ce,1,0,"azt-loading-ui",90),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}if(2&d){const u=e.XpG(2);e.R7$(),e.Y8G("disabled",u.form.invalid||u.isSavingProgram),e.R7$(),e.Y8G("ngIf",u.isSavingProgram),e.R7$(),e.SpI(" ",e.bMT(4,3,"lang_auto_luu")," ")}}function N(d,G){if(1&d){const u=e.RV6();e.DNE(0,me,5,4,"button",12),e.j41(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"h3",18),e.EFF(7,"1"),e.k0s()(),e.j41(8,"span",19),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"lucide-icon",20),e.bIt("click",function(){e.eBV(u);const k=e.XpG();return e.Njj(k.reloadAllEducationalProgram())}),e.k0s()(),e.j41(12,"div",21)(13,"div",22)(14,"ng-scrollbar",23)(15,"div",24),e.DNE(16,pt,8,6,"ng-container",25)(17,S,4,3,"ng-container",26)(18,M,4,3,"ng-container",26),e.k0s()()(),e.j41(19,"div",24)(20,"a",27),e.nI1(21,"navigationLocalize"),e.nrm(22,"lucide-icon",28),e.j41(23,"span",29),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s()()()()(),e.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"h3",18),e.EFF(30,"2"),e.k0s()(),e.j41(31,"span",30),e.EFF(32),e.nI1(33,"mytranslate"),e.k0s()(),e.j41(34,"div",31)(35,"div",32)(36,"ng-scrollbar",23)(37,"div",33),e.DNE(38,Re,3,2,"ng-container",25),e.k0s()()()()(),e.j41(39,"div",15)(40,"div",16)(41,"div",17)(42,"h3",18),e.EFF(43,"3"),e.k0s()(),e.j41(44,"span",30),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s()(),e.j41(47,"div",34)(48,"div",35)(49,"ng-scrollbar",23)(50,"div",36)(51,"mat-form-field",37)(52,"input",38),e.bIt("click",function(){e.eBV(u);const k=e.XpG();return e.Njj(k.openDateTimePicker(1))}),e.k0s(),e.j41(53,"button",39),e.bIt("click",function(k){return e.eBV(u),e.XpG().openDateTimePicker(1),e.Njj(k.stopPropagation())}),e.nrm(54,"lucide-icon",40),e.k0s(),e.j41(55,"ngx-mat-datetime-picker",41,1)(57,"ngx-mat-datepicker-actions")(58,"button",42),e.EFF(59),e.nI1(60,"mytranslate"),e.k0s(),e.j41(61,"button",43),e.EFF(62,"OK"),e.k0s()()()(),e.DNE(63,Me,4,3,"ng-container",26),e.k0s()()(),e.DNE(64,Te,5,5,"div",44),e.k0s()()()()}if(2&d){const u=e.sdS(56),p=e.XpG();e.Y8G("ngIf",p.programObj),e.R7$(2),e.Y8G("ngClass",e.eq3(41,x,p.programObj)),e.R7$(7),e.JRh(e.bMT(10,29,"lang_config_educational_program_select_new")),e.R7$(2),e.Y8G("ngClass",e.lJ4(43,V)),e.R7$(3),e.Y8G("visibility","hover")("ngStyle",e.lJ4(44,ft)),e.R7$(2),e.Y8G("ngForOf",p.listEducationalProgramObjs),e.R7$(),e.Y8G("ngIf",p.listEducationalProgramObjs.length>0&&!p.form.controls.chooseProgramId.value),e.R7$(),e.Y8G("ngIf",!p.listEducationalProgramObjs.length),e.R7$(2),e.Y8G("routerLink",e.eq3(45,Nt,e.bMT(21,31,"/business/create-general-educational-program")))("queryParams",e.eq3(47,Xt,p.currentURL)),e.R7$(2),e.Y8G("ngClass",e.lJ4(49,ee)),e.R7$(2),e.JRh(e.bMT(25,33,"lang_config_educational_program_add_new")),e.R7$(8),e.JRh(e.bMT(33,35,"lang_config_educational_program_add_time")),e.R7$(3),e.Y8G("ngClass",e.l_i(50,Bt,p.form.controls.stepChoose.value<2,p.form.controls.stepChoose.value>=2)),e.R7$(),e.Y8G("visibility","hover")("ngStyle",e.lJ4(53,ft)),e.R7$(2),e.Y8G("ngForOf",p.form.controls.weekdayConfig.controls),e.R7$(7),e.JRh(e.bMT(46,37,"lang_config_educational_program_add_start_time")),e.R7$(3),e.Y8G("ngClass",e.l_i(54,Bt,p.form.controls.stepChoose.value<3,p.form.controls.stepChoose.value>=3)),e.R7$(),e.Y8G("visibility","hover")("ngStyle",e.lJ4(57,ft)),e.R7$(3),e.Y8G("max",p.maxDate)("ngxMatDatetimePicker",u),e.R7$(3),e.Y8G("touchUi",!0)("hideTime",!0),e.R7$(4),e.JRh(e.bMT(60,39,"lang_auto_dong")),e.R7$(4),e.Y8G("ngIf",p.form.controls.startTimeEducationalProgram.invalid),e.R7$(),e.Y8G("ngIf",!p.statusObj.loading)}}let wt=(()=>{var d;class G extends s.H{openDateTimePicker(p){1==p&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(p){this.listEducationalProgramObjs.forEach(k=>{k.id==p&&(k.showChild=!k.showChild,k.showChild||k.subjects.forEach(R=>{R.children?.forEach(B=>{B.id==this.form.controls.chooseProgramId.value&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0),B.selected=!1,this.initFormWeekly())})}))})}selectSubject(p,k,R){this.listEducationalProgramObjs.forEach(B=>{B.id==p?B.subjects.forEach(mt=>{mt.id==k?mt.children?.forEach(Rt=>{Rt.id==R.id?(Rt.selected=!Rt.selected,this.form.controls.chooseProgramId.setValue(Rt.selected?R.id:0),this.form.controls.stepChoose.setValue(Rt.selected?2:1)):Rt.selected=!1}):mt.children?.map(Rt=>Rt.selected=!1)}):B.subjects.map(mt=>mt.children?.map(Rt=>Rt.selected=!1))})}reloadAllEducationalProgram(){this.form.controls.chooseProgramId.setValue(0),this.initFormWeekly(),this.initData()}openWeekdayConfig(p){this.form.controls.weekdayConfig.controls.forEach(k=>{k.controls.id.value==p&&k.controls.selected.setValue(!k.controls.selected.value)})}touchedMatSelect(p,k){p?k.controls.infrastructureId.markAsTouched():k.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let p={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,p)).subscribe(k=>{if(this.isSavingProgram=!1,!k.success)return this.errorStatusObj(k.message,!0);this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.saveEducationalProgramEmit.emit(!0)}))}convertStudyTimes(){let p=[];return this.form.controls.weekdayConfig.controls.forEach(k=>{if(k.controls.selected.value){let R={days:k.controls.id.value,fromHour:new Date("1970-01-01T"+k.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+k.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+k.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+k.controls.endTime.value).getMinutes(),roomId:k.controls.infrastructureId.value};p.push(R)}}),p}convertSubjectList(p,k){let R=[];return p.forEach(B=>{if(B.schoolLevelId==k)if(R.filter(Rt=>Rt.id==B.schoolSubjectId&&Rt.levelId==B.schoolLevelId).length)R.forEach(Rt=>{Rt.id==B.schoolSubjectId&&Rt.levelId==B.schoolLevelId&&(Rt.children?.find($t=>$t==B)||Rt.children?.push(B))});else{let Rt={id:B.schoolSubjectId,levelId:B.schoolLevelId,name:this.schoolSubjectObjs.find($t=>$t.id==B.schoolSubjectId)?.name,children:[B]};R.push(Rt)}}),R}convertProgramInfo(p){let k=[],R=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",B=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return p.forEach(mt=>{if(mt.name=`${mt.name} (${mt.totalSession} ${B})`,!k.filter($t=>$t.id==mt.schoolLevelId).length){let $t={id:mt.schoolLevelId,name:R+" "+mt.schoolLevelId,subjects:this.convertSubjectList(p,mt.schoolLevelId),showChild:!1};k.push($t)}}),k.sort((mt,Rt)=>(Rt.id??0)-(mt.id??0))}convertListInfrastructure(p){let k=[],R=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return p.forEach(B=>{B.name=`${B.infrastructure?.name??""} - ${B.name} (${B.numberSeat} ${R})`,k.push(B)}),k}getAllInfrastructure(){this.waitDestroy(this.wrapApiResponse(this.infrastructureService.apiInfrastructuresRoomsGet()).subscribe(p=>{if(!p.success)return this.errorStatusObj(p.message,!0);this.listInfrastructureObjs=this.convertListInfrastructure(p.data?.list??[]),this.stopStatusObj()}))}initFormWeekly(){this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let p=0;p<7;p++){let k=new at.gE({id:new at.MJ(p,{nonNullable:!0}),name:new at.MJ("lang_config_educational_program_day_"+p,{nonNullable:!0}),startTime:new at.MJ("",{nonNullable:!0}),endTime:new at.MJ("",{nonNullable:!0}),infrastructureId:new at.MJ(0,{nonNullable:!0}),selected:new at.MJ(!1,{nonNullable:!0}),invalidTime:new at.MJ(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(k)}}initData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.programService.apiProgramsListPost({page:0,size:-1})).subscribe(p=>{if(!p.success)return this.errorStatusObj(p.message,!0);this.listEducationalProgramObjs=this.convertProgramInfo(p.data?.list??[]),this.getAllInfrastructure()}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(p=>{1==p.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(p.data?.schoolLevelSubjectObjs.map(k=>k.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(p.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(k=>k.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(p,k,R,B,mt,Rt,$t){super(),this.cd=p,this.timeService=k,this.classroomService=R,this.programService=B,this.infrastructureService=mt,this.sAZTranslateService=Rt,this.commonListService=$t,this.saveEducationalProgramEmit=new e.bkB,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=Ot.c.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new at.gE({chooseProgramId:new at.MJ(0,{nonNullable:!0,validators:[at.k0.required,at.k0.min(1)]}),startTimeEducationalProgram:new at.MJ("",{nonNullable:!0,validators:[at.k0.required]}),weekdayConfig:new at.Yp([]),stepChoose:new at.MJ(1,{nonNullable:!0})},{validators:[jt.addNewEducationalProgramFormValidator]}),this.initFormWeekly()}}return(d=G).\u0275fac=function(p){return new(p||d)(e.rXU(e.gRc),e.rXU(h.F),e.rXU(i.zS),e.rXU(i.sC),e.rXU(i.BU),e.rXU(L.o),e.rXU(yt.Nz))},d.\u0275cmp=e.VBU({type:d,selectors:[["app-add-new-educational-program"]],viewQuery:function(p,k){if(1&p&&e.GBs(W,5),2&p){let R;e.mGM(R=e.lsd())&&(k.startTime=R.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[e.Jv_([{provide:q.$O,useClass:Ft.fb,deps:[dt.Ju,Ct.ij]},{provide:q.vq,useFactory:J.In,deps:[h.F]}]),e.Vt3],decls:5,vars:3,consts:[["doneLoading",""],["startTime",""],["timeStartPicker",""],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["searchInListInfrastructure","searchInList"],[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"block","pb-5",3,"currentStatusObj"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw","size","18",3,"click","ngClass"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["name","plus","size","16",3,"ngClass"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"click","max","ngxMatDatetimePicker"],["matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","16"],[3,"touchUi","hideTime"],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"click","disabled"],["name","chevron-left","size","20"],[1,"azt-hidden","sm:block","ml-1"],[1,"flex","items-center","mt-2","cursor-pointer",2,"font-weight","420","font-size","15px",3,"click"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"mr-2"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","items-center","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","square-check","size","18",3,"ngClass",4,"ngIf"],["name","square-check","size","18",3,"ngClass"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"click","formGroup"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","items-center","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","square-check","size","18",1,"text-primary","ml-2","clickable",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",2,"font-size","0.875rem",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],[1,"text-center","flex",2,"height","38px","width","10px","align-items","center"],[2,"vertical-align","middle","height","16px","width","10px","margin-left","-2px"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",2,"font-size","0.875rem",3,"placeholder","ngxMatTimepicker","format"],["name","square-check","size","18",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["searchInList","","formControlName","infrastructureId",3,"openedChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(p,k){if(1&p&&(e.j41(0,"div",8)(1,"form",9),e.DNE(2,ge,1,1,"azt-loading-effect",10)(3,N,65,58,"ng-template",null,0,e.C5r),e.k0s()()),2&p){const R=e.sdS(4);e.R7$(),e.Y8G("formGroup",k.form),e.R7$(),e.Y8G("ngIf",k.statusObj.loading)("ngIfElse",R)}},dependencies:[b.Wk,v.YU,v.Sq,v.bT,v.B3,dt.wT,Mt.$z,bt.fg,Z.rl,Z.nJ,Z.yw,t.VO,q.m7,q.yF,q.HF,q.gx,q.Uq,vt.gu,vt.wn,at.qT,at.me,at.BC,at.cb,at.l_,at.j4,at.JD,at.v8,n.K,Q.t,ot.R,Pt.x,H.WGl,zt.Yh,Y.U9,X.F2,X.wp],encapsulation:2}),G})();const A=()=>({"zoom-in":!0}),U=()=>[];function K(d,G){if(1&d&&(e.qex(0),e.j41(1,"p",5),e.EFF(2),e.k0s(),e.bVm()),2&d){const u=G.$implicit;e.R7$(2),e.SpI("",u.content," ")}}function tt(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",6),e.bIt("click",function(){e.eBV(u);const k=e.XpG(2);return e.Njj(k.editContent())}),e.nrm(1,"lucide-icon",7),e.k0s()}2&d&&(e.R7$(),e.Y8G("ngClass",e.lJ4(1,A)))}function Gt(d,G){if(1&d&&(e.j41(0,"div",2)(1,"div"),e.DNE(2,K,3,1,"ng-container",3),e.k0s(),e.DNE(3,tt,2,2,"div",4),e.k0s()),2&d){const u=e.XpG();e.R7$(2),e.Y8G("ngForOf",u.contents),e.R7$(),e.Y8G("ngIf",u.teacherRole)}}function Qt(d,G){if(1&d){const u=e.RV6();e.j41(0,"button",21),e.nI1(1,"mytranslate"),e.bIt("click",function(){e.eBV(u);const k=e.XpG().$implicit,R=e.XpG(2);return e.Njj(R.removeContent(k))}),e.nrm(2,"lucide-icon",22),e.k0s()}if(2&d){const u=e.XpG(3);e.FS9("matTooltip",e.bMT(1,2,"lang_button_delete")),e.Y8G("disabled",u.statusObj.loading)}}function ae(d,G){1&d&&(e.j41(0,"div",23)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&d&&(e.R7$(2),e.SpI("*",e.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function se(d,G){if(1&d&&(e.j41(0,"div")(1,"div",17),e.nrm(2,"input",18),e.nI1(3,"mytranslate"),e.DNE(4,Qt,3,4,"button",19),e.k0s(),e.DNE(5,ae,4,3,"div",20),e.k0s()),2&d){const u=G.$implicit,p=e.XpG(2);e.R7$(2),e.FS9("placeholder",e.bMT(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),e.Y8G("formControl",u.controls.content)("disabled",p.statusObj.loading),e.R7$(2),e.Y8G("ngIf",p.listFormContent.controls.length>1),e.R7$(),e.Y8G("ngIf",u.controls.content.errors)}}function re(d,G){1&d&&e.nrm(0,"azt-loading-ui",24),2&d&&e.Y8G("size",16)}function le(d,G){1&d&&e.nrm(0,"lucide-icon",25)}function ce(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",8),e.DNE(1,se,6,7,"div",3),e.j41(2,"div",9)(3,"button",10),e.bIt("click",function(){e.eBV(u);const k=e.XpG();return e.Njj(k.viewContent())}),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"button",11),e.bIt("click",function(){e.eBV(u);const k=e.XpG();return e.Njj(k.addContent())}),e.nrm(7,"lucide-icon",12),e.j41(8,"span",13),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.j41(11,"button",14),e.bIt("click",function(){e.eBV(u);const k=e.XpG();return e.Njj(k.saveContent())}),e.DNE(12,re,1,1,"azt-loading-ui",15)(13,le,1,0,"lucide-icon",16),e.j41(14,"span",13),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()()}if(2&d){let u;const p=e.XpG();e.R7$(),e.Y8G("ngForOf",null!==(u=null==p.listFormContent?null:p.listFormContent.controls)&&void 0!==u?u:e.lJ4(15,U)),e.R7$(2),e.Y8G("disabled",p.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(5,9,"lang_button_cancel")," "),e.R7$(2),e.Y8G("disabled",p.statusObj.loading||p.isEmptyContent()),e.R7$(3),e.SpI(" ",e.bMT(10,11,"lang_button_add")," "),e.R7$(2),e.Y8G("disabled",p.statusObj.loading||p.isEmptyContent()),e.R7$(),e.Y8G("ngIf",p.statusObj.loading),e.R7$(),e.Y8G("ngIf",!p.statusObj.loading),e.R7$(2),e.SpI(" ",e.bMT(16,13,"lang_button_save")," ")}}let Ae=(()=>{var d;class G extends s.H{isEmptyContent(){return!!this.listFormContent.controls.find(p=>p.controls.content.errors)}editContent(){this.listFormContent=new at.Yp(this.contents.map(p=>new at.gE({contentId:new at.MJ(p.id,{nonNullable:!0,validators:[at.k0.required]}),content:new at.MJ(p.content,{nonNullable:!0,validators:[at.k0.required]})})))}addContent(){var p=this.listFormContent.controls.map(k=>k.getRawValue().contentId);this.listFormContent.controls.push(new at.gE({contentId:new at.MJ(this.commonService.getVirtualIdWithoutInList(!0,p),{nonNullable:!0,validators:[at.k0.required]}),content:new at.MJ("",{nonNullable:!0,validators:[at.k0.required]})}))}removeContent(p){this.listFormContent.controls=this.listFormContent.controls.filter(k=>k!=p)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let p={contents:this.listFormContent?.controls.map(k=>({id:k.getRawValue().contentId<0?0:k.getRawValue().contentId,content:k.getRawValue().content}))??[]};this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,p)).subscribe(k=>{if(!k.success)return this.errorStatusObj(k.message,!0);this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)}))}ngOnInit(){super.ngOnInit()}constructor(p){super(),this.classroomService=p,this.contents=[],this.close=new e.bkB,this.listFormContent=new at.Yp([])}}return(d=G).\u0275fac=function(p){return new(p||d)(e.rXU(i.zS))},d.\u0275cmp=e.VBU({type:d,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},features:[e.Jv_([{provide:q.$O,useClass:Ft.fb,deps:[dt.Ju,Ct.ij]},{provide:q.vq,useFactory:J.In,deps:[h.F]}]),e.Vt3],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["name","pencil-line","size","16",3,"ngClass"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"click","disabled"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"click","disabled"],["name","plus","size","16"],[1,"ml-1"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"click","disabled"],[3,"size",4,"ngIf"],["name","save","size","16",4,"ngIf"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"click","matTooltip","disabled"],["name","trash-2","size","20"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[3,"size"],["name","save","size","16"]],template:function(p,k){1&p&&e.DNE(0,Gt,4,2,"div",0)(1,ce,17,16,"div",1),2&p&&(e.Y8G("ngIf",0==k.listFormContent.controls.length),e.R7$(),e.Y8G("ngIf",k.listFormContent.controls.length>0))},dependencies:[v.YU,v.Sq,v.bT,ut.oV,at.me,at.BC,at.l_,ot.R,H.WGl,X.wp],encapsulation:2}),G})();const Pe=d=>({"text-slate-700":d}),ye=(d,G)=>({"text-slate-600":d,"text-warning":G}),ke=d=>[d],Oe=d=>({backto:d}),Ge=()=>({"text-pending":!0}),$e=()=>({"text-primary":!0}),Ne=(d,G)=>({"text-success":d,"text-slate-700/50":G}),T=(d,G,u,p,k,R)=>({backto:d,classroomId:G,programId:u,sessionId:p,levelId:k,subjectId:R}),rt=(d,G)=>({"text-slate-600":d,"btn-text-primary":G}),P=d=>({width:d}),j=d=>({"dropdown-menu-scroll":d}),I=()=>({"mr-2":!0});function lt(d,G){if(1&d&&(e.j41(0,"div",12),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d){const u=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,1,u.errorApiMessage)," ")}}function ne(d,G){if(1&d){const u=e.RV6();e.j41(0,"app-add-new-educational-program",15),e.bIt("saveEducationalProgramEmit",function(k){e.eBV(u);const R=e.XpG(2);return e.Njj(R.emitDataReloadSession(k))}),e.k0s()}if(2&d){const u=e.XpG(2);e.Y8G("classroomId",u.classroomId)("programObj",u.programObj)}}function y(d,G){if(1&d){const u=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(u);const k=e.XpG(3);return e.Njj(k.addNewEducationalProgram())}),e.nrm(1,"lucide-icon",22),e.j41(2,"span",23),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&d&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_educational_program_select_another")))}function ct(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",26)(1,"a",27),e.bIt("auxclick",function(k){const R=e.eBV(u).$implicit,B=e.XpG(4);return e.Njj(B.previewFile(R,k))})("click",function(k){const R=e.eBV(u).$implicit,B=e.XpG(4);return e.Njj(B.previewFile(R,k))}),e.nrm(2,"azt-document-type-file",28),e.k0s()()}if(2&d){let u;const p=G.$implicit;e.R7$(2),e.Y8G("type",p.documentType)("name",null!==(u=p.name)&&void 0!==u?u:"")("url",p.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function F(d,G){if(1&d&&(e.qex(0),e.j41(1,"div",24),e.DNE(2,ct,3,5,"div",25),e.k0s(),e.bVm()),2&d){const u=e.XpG(3);e.R7$(2),e.Y8G("ngForOf",u.generalDocumentObjs)}}function O(d,G){1&d&&e.nrm(0,"lucide-icon",33)}function D(d,G){1&d&&e.nrm(0,"lucide-icon",34)}function kt(d,G){1&d&&(e.j41(0,"button",43),e.nrm(1,"lucide-icon",44),e.j41(2,"span",45),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&d&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_student_absence")))}function Jt(d,G){1&d&&(e.j41(0,"button",46),e.nrm(1,"lucide-icon",44),e.k0s())}function Zt(d,G){if(1&d&&(e.j41(0,"div",40),e.DNE(1,kt,5,3,"button",41),e.nI1(2,"allowFeatureBusinessForUser"),e.nI1(3,"async"),e.DNE(4,Jt,2,0,"button",42),e.nI1(5,"allowFeatureBusinessForUser"),e.nI1(6,"async"),e.k0s()),2&d){const u=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",(null==u.studentAttendance?null:u.studentAttendance.absent)&&e.bMT(3,5,e.i5U(2,2,"training_center_student_attendance",!0))),e.R7$(3),e.Y8G("ngIf",(null==u.studentAttendance?null:u.studentAttendance.absent)&&e.bMT(6,10,e.i5U(5,7,"training_center_student_attendance",!0)))}}function we(d,G){if(1&d&&(e.qex(0),e.j41(1,"span",52),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&d){const u=e.XpG(2).$implicit;e.R7$(2),e.JRh(e.bMT(3,1,"lang_test_market_address")+": "+(null==u.room.infrastructure?null:u.room.infrastructure.name)+" - "+u.room.name)}}function pn(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",47),e.bIt("click",function(){e.eBV(u);const k=e.XpG().$implicit,R=e.XpG(5);return e.Njj(R.expandSessionObj(k))}),e.j41(1,"div",48)(2,"h3",49)(3,"span",50),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",51),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,we,4,3,"ng-container",14),e.k0s()()}if(2&d){const u=e.XpG().$implicit;e.R7$(3),e.Y8G("ngClass",e.eq3(8,Pe,u.outOfDate)),e.R7$(),e.JRh(e.bMT(5,4,"lang_core_buoi")+" "+u.sort),e.R7$(3),e.JRh(e.bMT(8,6,"lang_config_educational_program_day_"+u.day)+", "+u.dateSession+" "+u.timeSession),e.R7$(2),e.Y8G("ngIf",u.room)}}function gn(d,G){if(1&d&&(e.qex(0),e.j41(1,"span",70),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&d){const u=e.XpG(2).$implicit;e.R7$(2),e.JRh(e.bMT(3,1,"lang_test_market_address")+": "+(null==u.room.infrastructure?null:u.room.infrastructure.name)+" - "+u.room.name)}}function fn(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",59)(1,"div",60)(2,"span",61),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"app-education-program-session-content-form",71),e.bIt("close",function(k){e.eBV(u);const R=e.XpG(2).$implicit,B=e.XpG(5);return e.Njj(B.reloadData(k,R))}),e.k0s()()}if(2&d){const u=e.XpG(2).$implicit,p=e.XpG(5);e.R7$(2),e.Y8G("ngClass",e.l_i(8,ye,u.outOfDate,!u.outOfDate)),e.R7$(),e.JRh(e.bMT(4,6,"lang_auto_noi_dung")),e.R7$(2),e.Y8G("contents",u.contents)("teacherRole",p.teacherRole)("classroomId",p.classroomId)("sessionId",u.id)}}function Xe(d,G){1&d&&(e.qex(0),e.j41(1,"div",82),e.nrm(2,"img",83),e.nI1(3,"coreModConvertCdnLinkOfGitHub"),e.k0s(),e.bVm()),2&d&&(e.R7$(2),e.Y8G("src",e.bMT(3,1,"images/type_file/unknown-file.svg"),e.B4B))}function hn(d,G){1&d&&(e.qex(0),e.nrm(1,"lucide-icon",84),e.bVm()),2&d&&(e.R7$(),e.Y8G("ngClass",e.lJ4(1,Ge)))}function bn(d,G){1&d&&(e.qex(0),e.nrm(1,"lucide-icon",85),e.bVm()),2&d&&(e.R7$(),e.Y8G("ngClass",e.lJ4(1,$e)))}function vn(d,G){if(1&d&&(e.j41(0,"small",86),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d){const u=e.XpG().$implicit;e.R7$(),e.E5c(" ",e.bMT(2,3,"lang_auto_da_nop"),":\xa0",u.totalFinish,"/",u.totalAttendee," ")}}function Cn(d,G){if(1&d&&(e.j41(0,"small",87),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d){const u=e.XpG().$implicit;e.Y8G("ngClass",e.l_i(4,Ne,u.totalFinish,!u.totalFinish)),e.R7$(),e.SpI(" ",e.bMT(2,2,u.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function kn(d,G){if(1&d){const u=e.RV6();e.j41(0,"small",88),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"button",89),e.nI1(4,"mytranslate"),e.bIt("click",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(2).$implicit;return e.XpG(5).editMarkCoefficient(R,B),k.stopPropagation(),e.Njj(k.preventDefault())}),e.nrm(5,"lucide-icon",90),e.k0s()()}if(2&d){const u=e.XpG().$implicit;e.R7$(),e.Lme(" ",e.bMT(2,3,"lang_student_score_factor"),":\xa0",u.markCoefficient," "),e.R7$(2),e.FS9("matTooltip",e.bMT(4,5,"lang_student_edit_mark_coefficient"))}}function xn(d,G){if(1&d&&(e.j41(0,"div",72)(1,"a",73),e.nI1(2,"navigationLocalize"),e.j41(3,"div",74)(4,"div",75),e.DNE(5,Xe,4,3,"ng-container",14)(6,hn,2,2,"ng-container",14)(7,bn,2,2,"ng-container",14),e.k0s(),e.j41(8,"div",76)(9,"div",77)(10,"span",78,2),e.EFF(12),e.k0s(),e.DNE(13,vn,3,5,"small",79)(14,Cn,3,7,"small",80)(15,kn,6,7,"small",81),e.k0s()()()()()),2&d){let u;const p=G.$implicit,k=e.sdS(11),R=e.XpG(7);e.R7$(),e.Y8G("routerLink",e.eq3(14,ke,e.bMT(2,12,p.documentType==R.allDocumentTypes.exam?R.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(u=p.categoryId)&&void 0!==u?u:0)+"/"+p.refId+"/0":"/de-thi/"+p.hashId:R.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(u=p.classroomId)&&void 0!==u?u:0)+"/"+p.refId+"/"+p.hashId:"/bai-tap/"+p.hashId)))("queryParams",e.eq3(16,Oe,R.currentUrl)),e.R7$(4),e.Y8G("ngIf",!p.type),e.R7$(),e.Y8G("ngIf","exam"==p.type),e.R7$(),e.Y8G("ngIf","homework"==p.type),e.R7$(3),e.FS9("matTooltip",p.name),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",k.isDisabled),e.R7$(2),e.SpI(" ",p.name," "),e.R7$(),e.Y8G("ngIf",R.teacherRole),e.R7$(),e.Y8G("ngIf",!R.teacherRole),e.R7$(),e.Y8G("ngIf",R.teacherRole)}}function In(d,G){if(1&d&&(e.j41(0,"a",91),e.nI1(1,"navigationLocalize"),e.j41(2,"span",92),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&d){let u;const p=e.XpG(2).$implicit,k=e.XpG(5);e.Y8G("routerLink",e.eq3(8,ke,e.bMT(1,4,"/admin/testbank/create-new-document/0")))("queryParams",e.l4e(10,T,k.currentUrl,k.classroomId,p.programId,p.id,null!==(u=null==k.programObj?null:k.programObj.schoolLevelId)&&void 0!==u?u:0,null!==(u=null==k.programObj?null:k.programObj.schoolSubjectId)&&void 0!==u?u:0))("ngClass",e.l_i(17,rt,p.outOfDate,!p.outOfDate)),e.R7$(3),e.SpI("+ ",e.bMT(4,6,"lang_business_assign_exams"),"")}}function Tn(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",106)(1,"a",107),e.bIt("click",function(k){let R;e.eBV(u);const B=e.XpG(2).$implicit,mt=e.XpG(3).$implicit,Rt=e.XpG(4).$implicit;return e.XpG(5).removeDocumentFromSession(Rt,null!==(R=B.sessionId)&&void 0!==R?R:0,B.id,mt),k.preventDefault(),e.Njj(k.stopPropagation())}),e.nrm(2,"lucide-icon",108),e.nI1(3,"mytranslate"),e.k0s()()}2&d&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function yn(d,G){if(1&d){const u=e.RV6();e.j41(0,"li")(1,"a",103),e.bIt("auxclick",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(12);return e.Njj(B.previewFile(R,k))})("click",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(12);return e.Njj(B.previewFile(R,k))}),e.nrm(2,"azt-document-type-file",104),e.DNE(3,Tn,4,3,"div",105),e.k0s()()}if(2&d){let u;const p=e.XpG().$implicit,k=e.XpG(12);e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(u=p.name)&&void 0!==u?u:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(),e.Y8G("ngIf",k.teacherRole)}}function On(d,G){if(1&d&&(e.qex(0),e.DNE(1,yn,4,10,"li",14),e.bVm()),2&d){const u=e.XpG(3).$implicit,p=e.XpG(9);e.R7$(),e.Y8G("ngIf",u.name==p.allDocumentGroupTypes.video)}}function jn(d,G){if(1&d&&(e.qex(0),e.j41(1,"h3",98),e.nrm(2,"lucide-icon",99),e.j41(3,"span",23),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",100,4)(8,"div",101)(9,"ul",102),e.DNE(10,On,2,1,"ng-container",20),e.k0s()()(),e.bVm()),2&d){const u=e.sdS(7),p=e.XpG(2).$implicit,k=e.XpG(4).last,R=e.XpG(2).last;e.XpG();const B=e.sdS(2),mt=e.XpG(2);e.R7$(),e.Y8G("matMenuTriggerFor",p.documentObjs.length?u:null),e.R7$(3),e.Lme("",e.bMT(5,6,"lang_config_educational_program_"+p.name),""," ("+p.documentObjs.length+")",""),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,P,mt.isMobileWebView?B.offsetWidth-40+"px":"27rem")),e.R7$(),e.Y8G("ngClass",e.eq3(10,j,R&&k||p.documentObjs.length>5)),e.R7$(),e.Y8G("ngForOf",p.documentObjs)}}function Sn(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",106)(1,"a",110),e.bIt("click",function(k){let R;e.eBV(u);const B=e.XpG(2).$implicit,mt=e.XpG(3).$implicit,Rt=e.XpG(4).$implicit;return e.XpG(5).removeDocumentFromSession(Rt,null!==(R=B.sessionId)&&void 0!==R?R:0,B.id,mt),k.preventDefault(),e.Njj(k.stopPropagation())}),e.nrm(2,"lucide-icon",108),e.nI1(3,"mytranslate"),e.k0s()()}2&d&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function En(d,G){if(1&d){const u=e.RV6();e.j41(0,"li")(1,"a",109),e.bIt("auxclick",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(12);return e.Njj(B.previewFile(R,k))})("click",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(12);return e.Njj(B.previewFile(R,k))}),e.nrm(2,"azt-document-type-file",104),e.DNE(3,Sn,4,3,"div",105),e.k0s()()}if(2&d){let u;const p=e.XpG().$implicit,k=e.XpG(12);e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(u=p.name)&&void 0!==u?u:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(),e.Y8G("ngIf",k.teacherRole)}}function Fn(d,G){if(1&d&&(e.qex(0),e.DNE(1,En,4,10,"li",14),e.bVm()),2&d){const u=e.XpG(3).$implicit,p=e.XpG(9);e.R7$(),e.Y8G("ngIf",u.name==p.allDocumentGroupTypes.document)}}function Rn(d,G){if(1&d&&(e.qex(0),e.j41(1,"h3",98),e.nrm(2,"lucide-icon",99),e.j41(3,"span",23),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",100,5)(8,"div",101)(9,"ul",102),e.DNE(10,Fn,2,1,"ng-container",20),e.k0s()()(),e.bVm()),2&d){const u=e.sdS(7),p=e.XpG(2).$implicit,k=e.XpG(4).last,R=e.XpG(2).last;e.XpG();const B=e.sdS(2),mt=e.XpG(2);e.R7$(),e.Y8G("matMenuTriggerFor",p.documentObjs.length?u:null),e.R7$(3),e.Lme("",e.bMT(5,6,"lang_config_educational_program_"+p.name),""," ("+p.documentObjs.length+")",""),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,P,mt.isMobileWebView?B.offsetWidth-40+"px":"27rem")),e.R7$(),e.Y8G("ngClass",e.eq3(10,j,R&&k||p.documentObjs.length>5)),e.R7$(),e.Y8G("ngForOf",p.documentObjs)}}function Mn(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",106)(1,"a",112),e.bIt("click",function(k){let R;e.eBV(u);const B=e.XpG(2).$implicit,mt=e.XpG(3).$implicit,Rt=e.XpG(4).$implicit;return e.XpG(5).removeDocumentFromSession(Rt,null!==(R=B.sessionId)&&void 0!==R?R:0,B.id,mt),k.preventDefault(),e.Njj(k.stopPropagation())}),e.nrm(2,"lucide-icon",108),e.nI1(3,"mytranslate"),e.k0s()()}2&d&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function wn(d,G){if(1&d){const u=e.RV6();e.j41(0,"li")(1,"a",111),e.bIt("auxclick",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(12);return e.Njj(B.previewFile(R,k))})("click",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(12);return e.Njj(B.previewFile(R,k))}),e.nrm(2,"azt-document-type-file",104),e.DNE(3,Mn,4,3,"div",105),e.k0s()()}if(2&d){let u;const p=e.XpG().$implicit,k=e.XpG(12);e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(u=p.name)&&void 0!==u?u:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(),e.Y8G("ngIf",k.teacherRole)}}function Dn(d,G){if(1&d&&(e.qex(0),e.DNE(1,wn,4,10,"li",14),e.bVm()),2&d){const u=e.XpG(3).$implicit,p=e.XpG(9);e.R7$(),e.Y8G("ngIf",u.name==p.allDocumentGroupTypes.homework)}}function Pn(d,G){if(1&d&&(e.qex(0),e.j41(1,"h3",98),e.nrm(2,"lucide-icon",99),e.j41(3,"span",23),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",100,6)(8,"div",101)(9,"ul",102),e.DNE(10,Dn,2,1,"ng-container",20),e.k0s()()(),e.bVm()),2&d){const u=e.sdS(7),p=e.XpG(2).$implicit,k=e.XpG(4).last,R=e.XpG(2).last;e.XpG();const B=e.sdS(2),mt=e.XpG(2);e.R7$(),e.Y8G("matMenuTriggerFor",p.documentObjs.length?u:null),e.R7$(3),e.Lme("",e.bMT(5,6,"lang_config_educational_program_"+p.name),""," ("+p.documentObjs.length+")",""),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,P,mt.isMobileWebView?B.offsetWidth-40+"px":"27rem")),e.R7$(),e.Y8G("ngClass",e.eq3(10,j,R&&k||p.documentObjs.length>5)),e.R7$(),e.Y8G("ngForOf",p.documentObjs)}}function zn(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",106)(1,"a",115),e.bIt("click",function(k){let R;e.eBV(u);const B=e.XpG(2).$implicit,mt=e.XpG(3).$implicit,Rt=e.XpG(4).$implicit;return e.XpG(5).removeDocumentFromSession(Rt,null!==(R=B.sessionId)&&void 0!==R?R:0,B.id,mt),k.preventDefault(),e.Njj(k.stopPropagation())}),e.nrm(2,"lucide-icon",108),e.nI1(3,"mytranslate"),e.k0s()()}2&d&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function An(d,G){if(1&d){const u=e.RV6();e.j41(0,"li")(1,"a",113),e.bIt("auxclick",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(12);return e.Njj(B.previewFile(R,k))})("click",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(12);return e.Njj(B.previewFile(R,k))}),e.nrm(2,"azt-document-type-file",114),e.DNE(3,zn,4,3,"div",105),e.k0s()()}if(2&d){let u;const p=e.XpG().$implicit,k=e.XpG(12);e.R7$(2),e.Y8G("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(u=p.name)&&void 0!==u?u:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(),e.Y8G("ngIf",k.teacherRole)}}function Gn(d,G){if(1&d&&(e.qex(0),e.DNE(1,An,4,10,"li",14),e.bVm()),2&d){const u=e.XpG(3).$implicit,p=e.XpG(9);e.R7$(),e.Y8G("ngIf",u.name==p.allDocumentGroupTypes.homework_view)}}function $n(d,G){if(1&d&&(e.qex(0),e.j41(1,"h3",98),e.nrm(2,"lucide-icon",99),e.j41(3,"span",23),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",100,7)(8,"div",101)(9,"ul",102),e.DNE(10,Gn,2,1,"ng-container",20),e.k0s()()(),e.bVm()),2&d){const u=e.sdS(7),p=e.XpG(2).$implicit,k=e.XpG(4).last,R=e.XpG(2).last;e.XpG();const B=e.sdS(2),mt=e.XpG(2);e.R7$(),e.Y8G("matMenuTriggerFor",p.documentObjs.length?u:null),e.R7$(3),e.Lme("",e.bMT(5,6,"lang_config_educational_program_"+p.name),""," ("+p.documentObjs.length+")",""),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,P,mt.isMobileWebView?B.offsetWidth-40+"px":"27rem")),e.R7$(),e.Y8G("ngClass",e.eq3(10,j,R&&k||p.documentObjs.length>5)),e.R7$(),e.Y8G("ngForOf",p.documentObjs)}}function Nn(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",106)(1,"a",117),e.bIt("click",function(k){let R;e.eBV(u);const B=e.XpG(2).$implicit,mt=e.XpG(3).$implicit,Rt=e.XpG(4).$implicit;return e.XpG(5).removeDocumentFromSession(Rt,null!==(R=B.sessionId)&&void 0!==R?R:0,B.id,mt),k.preventDefault(),e.Njj(k.stopPropagation())}),e.nrm(2,"lucide-icon",108),e.nI1(3,"mytranslate"),e.k0s()()}2&d&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Bn(d,G){if(1&d){const u=e.RV6();e.j41(0,"li")(1,"a",116),e.bIt("auxclick",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(12);return e.Njj(B.previewFile(R,k))})("click",function(k){e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(12);return e.Njj(B.previewFile(R,k))}),e.nrm(2,"azt-document-type-file",114),e.DNE(3,Nn,4,3,"div",105),e.k0s()()}if(2&d){let u;const p=e.XpG().$implicit,k=e.XpG(12);e.R7$(2),e.Y8G("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(u=p.name)&&void 0!==u?u:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(),e.Y8G("ngIf",k.teacherRole)}}function xe(d,G){if(1&d&&(e.qex(0),e.DNE(1,Bn,4,10,"li",14),e.bVm()),2&d){const u=e.XpG(3).$implicit,p=e.XpG(9);e.R7$(),e.Y8G("ngIf",u.name==p.allDocumentGroupTypes.unknown)}}function We(d,G){if(1&d&&(e.qex(0),e.j41(1,"h3",98),e.nrm(2,"lucide-icon",99),e.j41(3,"span",23),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",100,8)(8,"div",101)(9,"ul",102),e.DNE(10,xe,2,1,"ng-container",20),e.k0s()()(),e.bVm()),2&d){const u=e.sdS(7),p=e.XpG(2).$implicit,k=e.XpG(4).last,R=e.XpG(2).last;e.XpG();const B=e.sdS(2),mt=e.XpG(2);e.R7$(),e.Y8G("matMenuTriggerFor",u),e.R7$(3),e.Lme("",e.bMT(5,6,"lang_config_educational_program_"+p.name),""," ("+p.documentObjs.length+")",""),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,P,mt.isMobileWebView?B.offsetWidth-40+"px":"18rem")),e.R7$(),e.Y8G("ngClass",e.eq3(10,j,R&&k||p.documentObjs.length>5)),e.R7$(),e.Y8G("ngForOf",p.documentObjs)}}function Je(d,G){if(1&d&&(e.j41(0,"div",97),e.DNE(1,jn,11,12,"ng-container",14)(2,Rn,11,12,"ng-container",14)(3,Pn,11,12,"ng-container",14)(4,$n,11,12,"ng-container",14)(5,We,11,12,"ng-container",14),e.k0s()),2&d){const u=e.XpG().$implicit,p=e.XpG(9);e.R7$(),e.Y8G("ngIf",u.name==p.allDocumentGroupTypes.video),e.R7$(),e.Y8G("ngIf",u.name==p.allDocumentGroupTypes.document),e.R7$(),e.Y8G("ngIf",u.name==p.allDocumentGroupTypes.homework),e.R7$(),e.Y8G("ngIf",u.name==p.allDocumentGroupTypes.homework_view),e.R7$(),e.Y8G("ngIf",u.name==p.allDocumentGroupTypes.unknown&&u.documentObjs.length)}}function Ke(d,G){if(1&d&&(e.qex(0),e.DNE(1,Je,6,5,"div",96),e.bVm()),2&d){const u=G.$implicit,p=e.XpG(9);e.R7$(),e.Y8G("ngIf",u.name!=p.allDocumentGroupTypes.unknown||u.name==p.allDocumentGroupTypes.unknown&&u.documentObjs.length)}}function _e(d,G){if(1&d&&(e.qex(0),e.DNE(1,Ke,2,1,"ng-container",20),e.bVm()),2&d){const u=e.XpG(3).$implicit;e.R7$(),e.Y8G("ngForOf",u.groupDocumentObjs)}}function ze(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",106)(1,"a",122),e.bIt("click",function(){let k;e.eBV(u);const R=e.XpG().$implicit,B=e.XpG(4).$implicit,mt=e.XpG(5);return e.Njj(mt.removeDocumentFromSession(B,null!==(k=R.sessionId)&&void 0!==k?k:0,R.id))}),e.nrm(2,"lucide-icon",108),e.nI1(3,"mytranslate"),e.k0s()()}2&d&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function qe(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",119)(1,"a",120),e.bIt("auxclick",function(k){const R=e.eBV(u).$implicit,B=e.XpG(9);return e.Njj(B.previewFile(R,k))})("click",function(k){const R=e.eBV(u).$implicit,B=e.XpG(9);return e.Njj(B.previewFile(R,k))}),e.nrm(2,"azt-document-type-file",121),e.k0s(),e.DNE(3,ze,4,3,"div",105),e.k0s()}if(2&d){let u;const p=G.$implicit,k=e.XpG(9);e.R7$(2),e.Y8G("type",p.documentType)("name",null!==(u=p.name)&&void 0!==u?u:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(),e.Y8G("ngIf",k.teacherRole)}}function tn(d,G){if(1&d&&e.DNE(0,qe,4,5,"div",118),2&d){const u=e.XpG(3).$implicit;e.Y8G("ngForOf",u.normalDocumentObjs)}}function sn(d,G){if(1&d){const u=e.RV6();e.j41(0,"app-upload-document-for-session",123),e.bIt("emitFileDocument",function(k){e.eBV(u);const R=e.XpG(3).$implicit,B=e.XpG(5);return e.Njj(B.uploadFileEmitted(k,R))}),e.j41(1,"span",92),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}if(2&d){const u=e.XpG(3).$implicit;e.Y8G("isBtn",!0)("customClass",u.outOfDate?"text-slate-600":"text-primary"),e.R7$(2),e.JRh(e.bMT(3,3,"lang_educational_program_add_document"))}}function rn(d,G){if(1&d&&(e.j41(0,"div",63),e.DNE(1,_e,2,1,"ng-container",93)(2,tn,1,1,"ng-template",null,3,e.C5r),e.j41(4,"div",94),e.DNE(5,sn,4,5,"app-upload-document-for-session",95),e.k0s()()),2&d){const u=e.sdS(3),p=e.XpG(2).$implicit,k=e.XpG(5);e.R7$(),e.Y8G("ngIf",p.groupDocumentObjs.length)("ngIfElse",u),e.R7$(4),e.Y8G("ngIf",k.teacherRole)}}function Be(d,G){1&d&&(e.j41(0,"div",124)(1,"div",125)(2,"span",126),e.nrm(3,"azt-loading-ui",127),e.k0s()()()),2&d&&(e.R7$(3),e.Y8G("type","oval"))}function Ln(d,G){if(1&d&&(e.j41(0,"a",135),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",136),e.j41(3,"span",134),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&d){const u=e.XpG(3).$implicit,p=e.XpG(5);e.Y8G("routerLink",e.eq3(8,ke,e.bMT(1,4,"/admin/student/attendance-student/"+p.classroomId+"/"+u.programId+"/"+u.id)))("queryParams",e.eq3(10,Oe,"/admin/student/classroom-details/"+p.classroomId+"/3?sessionId="+u.id+"&backto="+p.backLink)),e.R7$(4),e.Lme("",e.bMT(5,6,"lang_student_attendance_student"),""," ("+u.totalJoinedStudent+"/"+u.totalStudent+")","")}}function He(d,G){if(1&d&&(e.j41(0,"a",137),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",138),e.j41(3,"span",134),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&d){const u=e.XpG(3).$implicit,p=e.XpG(5);e.Y8G("routerLink",e.eq3(7,ke,e.bMT(1,3,"/admin/student/distribute-document/"+p.classroomId+"/"+u.programId+"/"+u.id)))("queryParams",e.eq3(9,Oe,"/admin/student/classroom-details/"+p.classroomId+"/3?sessionId="+u.id+"&backto="+p.backLink)),e.R7$(4),e.JRh(e.bMT(5,5,"lang_student_distribute_books"))}}function ln(d,G){if(1&d&&(e.j41(0,"a",139),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",140),e.j41(3,"span",134),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&d){const u=e.XpG(3).$implicit,p=e.XpG(5);e.Y8G("routerLink",e.eq3(7,ke,e.bMT(1,3,"/admin/student/submit-score/"+p.classroomId+"/"+u.programId+"/"+u.id)))("queryParams",e.eq3(9,Oe,"/admin/student/classroom-details/"+p.classroomId+"/3?sessionId="+u.id+"&backto="+p.backLink)),e.R7$(4),e.JRh(e.bMT(5,5,"lang_student_enter_score"))}}function cn(d,G){if(1&d&&(e.j41(0,"div",66)(1,"div",60)(2,"span",61),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",128),e.DNE(6,Ln,6,12,"a",129),e.nI1(7,"allowFeatureBusinessForUser"),e.nI1(8,"async"),e.DNE(9,He,6,11,"a",130),e.nI1(10,"allowFeatureBusinessForUser"),e.nI1(11,"async"),e.DNE(12,ln,6,11,"a",131),e.nI1(13,"allowFeatureBusinessForUser"),e.nI1(14,"async"),e.j41(15,"a",132),e.nI1(16,"navigationLocalize"),e.nrm(17,"lucide-icon",133),e.j41(18,"span",134),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()()),2&d){const u=e.XpG(2).$implicit,p=e.XpG(5);e.R7$(2),e.Y8G("ngClass",e.l_i(29,ye,u.outOfDate,!u.outOfDate)),e.R7$(),e.SpI(" ",e.bMT(4,8,"lang_auto_hanh_dong")," "),e.R7$(3),e.Y8G("ngIf",e.bMT(8,13,e.i5U(7,10,"training_center_student_attendance",!1))),e.R7$(3),e.Y8G("ngIf",e.bMT(11,18,e.i5U(10,15,"training_center_student_book",!1))),e.R7$(3),e.Y8G("ngIf",e.bMT(14,23,e.i5U(13,20,"training_center_student_mark",!1))),e.R7$(3),e.Y8G("routerLink",e.eq3(32,ke,e.bMT(16,25,"/admin/student/add-comment/"+p.classroomId+"/"+u.programId+"/"+u.id)))("queryParams",e.eq3(34,Oe,"/admin/student/classroom-details/"+p.classroomId+"/3?sessionId="+u.id+"&backto="+p.backLink)),e.R7$(4),e.JRh(e.bMT(20,27,"lang_auto_nhap_nhan_xet"))}}function Yn(d,G){if(1&d&&(e.j41(0,"div",66)(1,"div",60)(2,"span",61),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",128)(6,"div",141)(7,"span"),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"span",142),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()()()()),2&d){const u=e.XpG(2).$implicit;e.R7$(2),e.Y8G("ngClass",e.l_i(10,ye,u.outOfDate,!u.outOfDate)),e.R7$(),e.SpI(" ",e.bMT(4,4,"lang_auto_hanh_dong")," "),e.R7$(5),e.JRh(e.bMT(9,6,"lang_business_requested_leave_with_a_reason")),e.R7$(3),e.JRh(null!=u.studentAttendance&&u.studentAttendance.reason?null==u.studentAttendance?null:u.studentAttendance.reason:e.bMT(12,8,"lang_student_absence_no_reason"))}}function Vn(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",53)(1,"div",54),e.bIt("click",function(){e.eBV(u);const k=e.XpG().$implicit,R=e.XpG(5);return e.Njj(R.expandSessionObj(k))}),e.j41(2,"h3",55)(3,"span",56),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",57),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,gn,4,3,"ng-container",14),e.k0s(),e.DNE(10,fn,6,11,"div",58),e.j41(11,"div",59)(12,"div",60)(13,"span",61),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()(),e.j41(16,"div",62)(17,"div",63),e.DNE(18,xn,16,18,"div",64)(19,In,5,20,"a",65),e.k0s()()(),e.j41(20,"div",66)(21,"div",60)(22,"span",61),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()(),e.j41(25,"div",62),e.DNE(26,rn,6,3,"div",67)(27,Be,4,1,"div",68),e.k0s()(),e.DNE(28,cn,21,36,"div",69),e.nI1(29,"allowFeatureBusinessForUser"),e.nI1(30,"async"),e.nI1(31,"allowFeatureBusinessForUser"),e.nI1(32,"async"),e.nI1(33,"allowFeatureBusinessForUser"),e.nI1(34,"async"),e.DNE(35,Yn,13,13,"div",69),e.nI1(36,"allowFeatureBusinessForUser"),e.nI1(37,"async"),e.k0s()}if(2&d){const u=e.XpG().$implicit,p=e.XpG(5);e.BMQ("id","session-"+u.id),e.R7$(3),e.Y8G("ngClass",e.eq3(44,Pe,u.outOfDate)),e.R7$(),e.JRh(e.bMT(5,16,"lang_core_buoi")+" "+u.sort),e.R7$(3),e.JRh(e.bMT(8,18,"lang_config_educational_program_day_"+u.day)+", "+u.dateSession+" "+u.timeSession),e.R7$(2),e.Y8G("ngIf",u.room),e.R7$(),e.Y8G("ngIf",u.contents&&u.contents.length),e.R7$(3),e.Y8G("ngClass",e.l_i(46,ye,u.outOfDate,!u.outOfDate)),e.R7$(),e.JRh(e.bMT(15,20,"lang_cms_auto_gen_test_exam_title")),e.R7$(4),e.Y8G("ngForOf",u.examHomeworkObjs),e.R7$(),e.Y8G("ngIf",p.teacherRole),e.R7$(3),e.Y8G("ngClass",e.l_i(49,ye,u.outOfDate,!u.outOfDate)),e.R7$(),e.JRh(e.bMT(24,22,"lang_testbank_document_list_header_title")),e.R7$(3),e.Y8G("ngIf",!u.isDeletingDocument&&!u.isUploadingDocument),e.R7$(),e.Y8G("ngIf",u.isDeletingDocument||u.isUploadingDocument),e.R7$(),e.Y8G("ngIf",(e.bMT(30,27,e.i5U(29,24,"training_center_student_attendance",!1))||e.bMT(32,32,e.i5U(31,29,"training_center_student_book",!1))||e.bMT(34,37,e.i5U(33,34,"training_center_student_mark",!1)))&&p.teacherRole),e.R7$(7),e.Y8G("ngIf",(null==u.studentAttendance?null:u.studentAttendance.absent)&&e.bMT(37,42,e.i5U(36,39,"training_center_student_attendance",!0))&&!p.teacherRole)}}function Un(d,G){if(1&d&&(e.j41(0,"div",36),e.DNE(1,Zt,7,12,"div",37)(2,pn,10,10,"div",38)(3,Vn,38,52,"div",39),e.k0s()),2&d){const u=G.$implicit,p=e.XpG(5);e.R7$(),e.Y8G("ngIf",!p.teacherRole),e.R7$(),e.Y8G("ngIf",!u.isExpanded),e.R7$(),e.Y8G("ngIf",u.isExpanded)}}function Xn(d,G){if(1&d&&(e.qex(0),e.DNE(1,Un,4,3,"div",35),e.bVm()),2&d){const u=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",u.programObjs)}}function Wn(d,G){if(1&d){const u=e.RV6();e.qex(0),e.j41(1,"h3",29)(2,"span",30),e.bIt("click",function(){const k=e.eBV(u).$implicit;return e.Njj(k.expand=!k.expand)}),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,O,1,0,"lucide-icon",31)(6,D,1,0,"lucide-icon",32),e.k0s()(),e.DNE(7,Xn,2,1,"ng-container",14),e.bVm()}if(2&d){const u=G.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,4,u.monthName)," "),e.R7$(2),e.Y8G("ngIf",u.expand),e.R7$(),e.Y8G("ngIf",!u.expand),e.R7$(),e.Y8G("ngIf",u.expand)}}function Jn(d,G){if(1&d&&(e.qex(0),e.j41(1,"div",16,1)(3,"div",17)(4,"h3",18),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.DNE(7,y,5,3,"button",19),e.k0s(),e.DNE(8,F,3,1,"ng-container",14),e.k0s(),e.qex(9),e.DNE(10,Wn,8,6,"ng-container",20),e.bVm()()),2&d){const u=e.XpG(2);e.R7$(5),e.SpI(" ",e.bMT(6,4,"lang_educational_program_general_documents")," "),e.R7$(2),e.Y8G("ngIf",u.teacherRole),e.R7$(),e.Y8G("ngIf",u.generalDocumentObjs.length),e.R7$(2),e.Y8G("ngForOf",u.groupProgramSessionObjs)}}function _n(d,G){1&d&&(e.j41(0,"h3",148),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_config_educational_program_add_new_description")," "))}function Qe(d,G){if(1&d){const u=e.RV6();e.j41(0,"button",149),e.bIt("click",function(){e.eBV(u);const k=e.XpG(4);return e.Njj(k.addNewEducationalProgram())}),e.nrm(1,"lucide-icon",150),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&d&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,I)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_config_educational_program_select_new")))}function en(d,G){if(1&d&&(e.j41(0,"div",144)(1,"h3",145),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,_n,3,3,"h3",146)(5,Qe,5,5,"button",147),e.k0s()),2&d){const u=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,3,"lang_config_educational_program_no_have_yet")," "),e.R7$(2),e.Y8G("ngIf",u.teacherRole),e.R7$(),e.Y8G("ngIf",u.teacherRole)}}function nn(d,G){1&d&&(e.j41(0,"h3",148),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function mn(d,G){if(1&d){const u=e.RV6();e.j41(0,"button",152),e.bIt("click",function(){e.eBV(u);const k=e.XpG(4);return e.Njj(k.editEducationalProgram())}),e.nrm(1,"lucide-icon",153),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&d&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,I)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_config_educational_program_edit_btn")))}function Kn(d,G){if(1&d&&(e.j41(0,"div",144)(1,"h3",145),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,nn,3,3,"h3",146)(5,mn,5,5,"button",151),e.k0s()),2&d){const u=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,3,"lang_config_educational_program_no_have_session_yet")," "),e.R7$(2),e.Y8G("ngIf",u.teacherRole),e.R7$(),e.Y8G("ngIf",u.teacherRole)}}function Hn(d,G){if(1&d&&(e.qex(0),e.DNE(1,en,6,5,"div",143)(2,Kn,6,5,"ng-template",null,9,e.C5r),e.bVm()),2&d){const u=e.sdS(3),p=e.XpG(2);e.R7$(),e.Y8G("ngIf",!p.programObj)("ngIfElse",u)}}function Qn(d,G){if(1&d&&e.DNE(0,ne,1,2,"app-add-new-educational-program",13)(1,Jn,11,6,"ng-container",14)(2,Hn,4,2,"ng-container",14),2&d){const u=e.XpG();e.Y8G("ngIf",u.showAddNewEducationalProgram),e.R7$(),e.Y8G("ngIf",!u.showAddNewEducationalProgram&&u.programSessionObjs.length),e.R7$(),e.Y8G("ngIf",!u.showAddNewEducationalProgram&&u.programSessionObjs.length<=0)}}let Zn=(()=>{var d;class G extends s.H{emitDataReloadSession(p){p?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(p,k){this.sAztDialogService.open(C._,{data:{id:p.markId??0,name:"",coefficient:p.markCoefficient,programId:k.programId,classroomId:this.classroomId,sessionId:k.id,isOnlyCoefficient:!0,documentName:p.name,documentType:p.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(B=>{B&&this.reloadSessionDataOfProgram(k)})}reloadData(p,k){p&&this.reloadSessionDataOfProgram(k)}reloadSessionDataOfProgram(p){p.isLoadingData=!0,this.reloadSessionDataEmitter.emit(p)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let p=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+(this.programObj?.id??0),"?backTo="+p)}removeDocumentFromSession(p,k,R,B){var mt=(p.normalDocumentObjs.filter($t=>$t.id==R)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+p.sort.toString(),Rt=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+mt+" </div> ?";this.sAztDialogService.open(gt.u,{data:{content:Rt},restoreFocus:!1,width:"500px"}).afterClosed().subscribe($t=>{$t&&(p.isDeletingDocument=!0,this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,k,R)).subscribe(Ie=>{if(p.isDeletingDocument=!1,!Ie.success)return this.errorStatusObj(Ie.message,!0);B&&(B.documentObjs=B.documentObjs.filter(Ut=>Ut.id!=R)),p.normalDocumentObjs=p.normalDocumentObjs.filter(Ut=>Ut.id!=R),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully")})))})}uploadFileEmitted(p,k){k.isUploadingDocument=!0,this.waitDestroy(this.wrapApiResponse(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,k.id,p)).subscribe(R=>{if(k.isUploadingDocument=!1,!R.success)return this.errorStatusObj(R.message,!0);this.reloadSessionDataOfProgram(k),this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")}))}expandSessionObj(p){p.isExpanded=!p.isExpanded,this.changeSessionDataEmitter.emit(p)}previewFile(p,k){if(this.isBusinessDomain&&p.type==o.d.video&&(0,xt.xy)(p.link??""))window.open(p.link,"_blank");else{const R={name:p.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(p.type),type:p.type,url:p.link};this.sAztDialogService.open(nt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...R,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let p=this.programSessionObjs.find(k=>k.isExpanded);if(p){let k=document.getElementById("session-"+p.id);window.scrollTo({top:k?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(p,k,R,B){super(),this.sAztDialogService=p,this.cd=k,this.classroomService=R,this.sAztFileTypeService=B,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new e.bkB,this.changeSessionDataEmitter=new e.bkB,this.allDocumentTypes=o.d,this.allDocumentGroupTypes=it.k,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return(d=G).\u0275fac=function(p){return new(p||d)(e.rXU(z.i),e.rXU(e.gRc),e.rXU(i.zS),e.rXU(It.k))},d.\u0275cmp=e.VBU({type:d,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[e.Vt3],decls:4,vars:2,consts:[["noApiError",""],["generalDocumentsWidget",""],["c","isDisabled"],["normalViewDocument",""],["matMenuVideo","matMenu"],["matMenuDocument","matMenu"],["matMenuHomework","matMenu"],["matMenuHomeworkView","matMenu"],["matMenuUnknown","matMenu"],["hasProgramObj",""],[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"saveEducationalProgramEmit","classroomId","programObj"],[1,"box","p-3","mb-3"],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary text-white",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","text-white",3,"click"],["name","refresh-cw","size","16"],[1,"ml-2"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"close","contents","teacherRole","classroomId","sessionId"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative flex items-center","style","font-size: 13px",4,"ngIf"],[1,"w-12","h-12","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],["name","file-check","size","48",3,"ngClass"],["name","file-text","size","48",3,"ngClass"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative","flex","items-center",2,"font-size","13px"],["matRipple","","azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"btn","btn-outline-primary","btn-sm","border-0","shadow-none","p-1",3,"click","matTooltip"],["name","square-pen","size","16"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3","items-center","cursor-pointer","text-primary",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],["name","circle-arrow-down","size","18"],["xPosition","after"],[1,"dropdown-menu","show",3,"ngStyle"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["name","x","size","16",3,"matTooltip"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"emitFileDocument","isBtn","customClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-dM0Vh7XPW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","message-circle","size","18"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users","size","18"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book","size","18"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-pen","size","18"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","plus","size","16",3,"ngClass"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","square-pen","size","16",3,"ngClass"]],template:function(p,k){if(1&p&&(e.j41(0,"div",10),e.DNE(1,lt,3,3,"div",11)(2,Qn,3,3,"ng-template",null,0,e.C5r),e.k0s()),2&p){const R=e.sdS(3);e.R7$(),e.Y8G("ngIf",!k.statusObj.loading&&k.errorApiMessage)("ngIfElse",R)}},dependencies:[b.Wk,v.YU,v.Sq,v.bT,v.B3,et.kk,et.Cp,dt.r6,ut.oV,st.f,ot.R,_t.m,H.WGl,Et.J,wt,Ae,v.Jj,X.F2,X.wp,X.Vs,X.bj],encapsulation:2}),G})();function qn(d,G){if(1&d&&e.nrm(0,"azt-loading-effect",2),2&d){const u=e.XpG();e.Y8G("currentStatusObj",u.statusObj)}}function to(d,G){if(1&d){const u=e.RV6();e.j41(0,"div",3)(1,"app-list-sessions",4),e.bIt("reloadSessionDataEmitter",function(k){e.eBV(u);const R=e.XpG();return e.Njj(R.reloadSessionData(k))})("changeSessionDataEmitter",function(k){e.eBV(u);const R=e.XpG();return e.Njj(R.changeSessionData(k))}),e.k0s()()}if(2&d){const u=e.XpG();e.R7$(),e.Y8G("teacherRole",u.teacherRole)("classroomId",u.classroomId)("backLink",u.backLink)("errorApiMessage",u.errorApiMessage)("generalDocumentObjs",u.generalDocumentObjs)("programSessionObjs",u.programSessionObjs)("groupProgramSessionObjs",u.groupProgramSessionObjs)("programObj",u.programObj)}}let eo=(()=>{var d;class G extends s.H{changeSessionData(p){this.programSessionObjs.map(k=>k.id==p.id?p:k),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${p.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(p){this.initData(p)}convertNormalDocumentByGroup(p){let k={};return p.forEach(R=>{R.groupType&&(k.hasOwnProperty(R.groupType)||(k[R.groupType]=[]),k[R.groupType].push(R))}),k}processData(p){let k=this.commonService.arrayToDictionary(p,B=>B.groupType?B.groupType:"unknown"),R=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(k).forEach(([B,mt],Rt)=>{if(mt.length>0){let $t={name:B,documentObjs:mt};"video"==$t.name&&(R[0]=$t),"document"==$t.name&&(R[1]=$t),"homework"==$t.name&&(R[2]=$t),"homework_view"==$t.name&&(R[3]=$t),"unknown"==$t.name&&(R[4]=$t)}}),R}convertDocumentsOfSession(p,k){let R=(new Date).toDateString(),B=!1;return p.forEach((mt,Rt)=>{mt.normalDocumentObjs=mt.allDocumentObjs.filter(Ut=>"exam"!=Ut.type&&"homework"!=Ut.type),mt.examHomeworkObjs=mt.allDocumentObjs.filter(Ut=>"exam"==Ut.type||"homework"==Ut.type),mt.groupDocumentObjs=this.processData(mt.normalDocumentObjs),mt.indexSession=mt.sort;let $t="",Ie="";if(mt.fromTime){let Ut=new Date(mt.fromTime),ve=new Date(Ut.toDateString()),on=new Date(R),an=Math.floor((ve.getTime()-on.getTime())/1e3);mt.dateSession=this.timeService.getFormatDate(mt.fromTime),mt.outOfDate=an<0,mt.monthSession=Ut.getMonth()+1,mt.yearSession=Ut.getFullYear(),$t+=this.addZeroToTime(Ut.getHours())+":"+this.addZeroToTime(Ut.getMinutes()),Ie=this.timeService.calculationTimeAgoOnlyDate(ve,on)}if(mt.toTime){let Ut=new Date(mt.toTime);$t+=" - "+this.addZeroToTime(Ut.getHours())+":"+this.addZeroToTime(Ut.getMinutes())}$t+=Ie?" ("+Ie+")":"",mt.timeSession=$t,B||(mt.isExpanded=k?mt.isExpanded:!mt.outOfDate,mt.isExpanded&&(B=!0))}),p}addZeroToTime(p){return p<10?"0"+p:p.toString()}getSchoolLeaveObjs(p,k){if(!p.length||this.teacherRole)return k(p);this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsAttendancesMeGet(this.classroomId)).subscribe(R=>{if(!R.success)return this.errorStatusObj(R.message,!0),k(p);p.map(B=>{B.studentAttendance=R.data?.list.find(mt=>mt.sessionId==B.id)}),k(p)}))}initData(p){p||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let k=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(this.wrapApiResponse(k).subscribe(R=>{if(!R.success)return this.errorApiMessage=R.message,this.errorStatusObj(R.message,!0);this.generalDocumentObjs=R.data?.generalDocuments.map(mt=>({...mt,documentType:this.commonService.getEnumTypeWithDefault(o.d,mt.type,o.d.unknown)}))??[],this.programObj=R.data?.program;let B=R.data?.sessions.map(mt=>({...mt,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:mt.documents.map(Rt=>({...Rt,documentType:this.commonService.getEnumTypeWithDefault(o.d,Rt.type,o.d.unknown)}))}))??[];B=this.convertDocumentsOfSession(B,!!p),this.getSchoolLeaveObjs(B,mt=>{if(p){let Ut=mt.find(ve=>ve.id==p.id);this.programSessionObjs=this.programSessionObjs.map(ve=>ve.id==Ut?.id?{...Ut,isExpanded:ve.isExpanded}:ve)}else this.programSessionObjs=mt;this.sessionId&&this.programSessionObjs.map(Ut=>Ut.isExpanded=Ut.id==this.sessionId);let Rt=this.commonService.arrayToDictionary(this.programSessionObjs,Ut=>Ut.monthSession?.toString()+"/"+Ut.yearSession?.toString()),$t=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",Ie=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(Rt).forEach(([Ut,ve],on)=>{let an=ve.find(ao=>ao.isExpanded);this.groupProgramSessionObjs.push({monthName:$t+" "+Ut,programObjs:ve,expand:!(Ut!=Ie&&!an)})}),this.stopStatusObj()})}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(p,k,R,B){super(),this.classroomService=p,this.timeService=k,this.studentService=R,this.activeRoute=B,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}}return(d=G).\u0275fac=function(p){return new(p||d)(e.rXU(i.zS),e.rXU(h.F),e.rXU(i.b0),e.rXU(b.nX))},d.\u0275cmp=e.VBU({type:d,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[e.Vt3],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"reloadSessionDataEmitter","changeSessionDataEmitter","teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj"]],template:function(p,k){if(1&p&&e.DNE(0,qn,1,1,"azt-loading-effect",1)(1,to,2,8,"ng-template",null,0,e.C5r),2&p){const R=e.sdS(2);e.Y8G("ngIf",k.statusObj.loading)("ngIfElse",R)}},dependencies:[v.bT,n.K,Zn],encapsulation:2}),G})(),no=(()=>{var d;class G extends s.H{ngOnInit(){this.waitDestroy((0,a.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let p=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=p||(this.backLink??"/business/dashboard"),this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(p){super(),this.activeRoute=p,this.classroomId=0,this.sessionId=0,this.backLink=""}}return(d=G).\u0275fac=function(p){return new(p||d)(e.rXU(b.nX))},d.\u0275cmp=e.VBU({type:d,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[e.Vt3],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(p,k){1&p&&e.nrm(0,"app-view-educational-program",0),2&p&&e.Y8G("teacherRole",!k.isStudent)("classroomId",k.classroomId)("sessionId",k.sessionId)("backLink",k.backLink)},dependencies:[eo],encapsulation:2}),G})()},69307:(Vt,St,_)=>{_.d(St,{_:()=>It});var a=_(10936),s=_(89163),e=_(33887),b=_(15766),o=_(48891),i=_(25791),h=_(54460),v=_(81587),n=_(52811),xt=_(76975);function gt(et,dt){1&et&&(o.j41(0,"div",17),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&et&&(o.R7$(),o.SpI(" *",o.bMT(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function it(et,dt){if(1&et&&(o.j41(0,"div",15)(1,"label",8),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.nrm(4,"input",16),o.nI1(5,"mytranslate"),o.DNE(6,gt,3,3,"div",10),o.k0s()),2&et){const ut=o.XpG();o.R7$(2),o.SpI(" ",o.bMT(3,3,"lang_student_name_component_score")," "),o.R7$(2),o.FS9("placeholder",o.bMT(5,5,"lang_student_enter_name_component_score")),o.R7$(2),o.Y8G("ngIf",ut.form.controls.name.dirty&&ut.form.controls.name.errors)}}function nt(et,dt){if(1&et&&(o.j41(0,"div",15)(1,"label",8),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.nrm(4,"input",18),o.nI1(5,"mytranslate"),o.k0s()),2&et){const ut=o.XpG();o.R7$(2),o.SpI(" ",o.bMT(3,3,"homework"==ut.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),o.R7$(2),o.FS9("placeholder",o.bMT(5,5,"lang_student_enter_name_component_score")),o.Y8G("value",ut.data.documentName)}}function C(et,dt){1&et&&(o.j41(0,"div",17),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&et&&(o.R7$(),o.SpI(" *",o.bMT(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function z(et,dt){1&et&&o.nrm(0,"azt-loading-ui",19)}let It=(()=>{var et;class dt extends e._{setValueCoeffcient(){var st=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(st)??0)}createStartingPoint(){let st={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,st).subscribe(ot=>{ot?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(st)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(st).subscribe(ot=>{ot?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(st)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(st,ot,_t){super(_t,ot),this.commonMarkService=st,this.dialogRef=ot,this.data=_t,this.form=new a.gE({name:new a.MJ({value:_t.name??"",disabled:0==_t.canEditName},{nonNullable:!0,validators:[a.k0.required,b.M.noWhiteSpace]}),coefficient:new a.MJ(_t.coefficient,{nonNullable:!0,validators:[a.k0.required,a.k0.pattern(/^[1-9]\d*$/)]})})}}return(et=dt).\u0275fac=function(st){return new(st||et)(o.rXU(i.a),o.rXU(s.CP,8),o.rXU(s.Vh))},et.\u0275cmp=o.VBU({type:et,selectors:[["app-create-score-dialog"]],features:[o.Vt3],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"input","placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"mr-1"]],template:function(st,ot){1&st&&(o.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s()(),o.j41(7,"div",5),o.DNE(8,it,7,7,"div",6)(9,nt,6,7,"div",6),o.j41(10,"div",7)(11,"label",8),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s(),o.j41(14,"input",9),o.nI1(15,"mytranslate"),o.bIt("input",function(){return ot.setValueCoeffcient()}),o.k0s(),o.DNE(16,C,3,3,"div",10),o.k0s()()(),o.j41(17,"div",11)(18,"button",12),o.bIt("click",function(){return ot.dialogRef.close()}),o.EFF(19),o.nI1(20,"mytranslate"),o.k0s(),o.j41(21,"button",13),o.bIt("click",function(){return ot.createStartingPoint()}),o.DNE(22,z,1,0,"azt-loading-ui",14),o.EFF(23),o.nI1(24,"mytranslate"),o.k0s()()()()),2&st&&(o.R7$(),o.Y8G("formGroup",ot.form),o.R7$(4),o.SpI(" ",o.bMT(6,11,ot.data.id?ot.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),o.R7$(3),o.Y8G("ngIf",!ot.data.isOnlyCoefficient),o.R7$(),o.Y8G("ngIf",ot.data.isOnlyCoefficient),o.R7$(3),o.SpI(" ",o.bMT(13,13,"lang_student_score_factor")," "),o.R7$(2),o.FS9("placeholder",o.bMT(15,15,"lang_student_enter_score_factor")),o.R7$(2),o.Y8G("ngIf",ot.form.controls.coefficient.dirty&&ot.form.controls.coefficient.errors),o.R7$(3),o.JRh(o.bMT(20,17,"lang_button_cancel")),o.R7$(2),o.Y8G("disabled",ot.form.controls.name.errors&&!ot.data.isOnlyCoefficient||ot.form.controls.coefficient.errors),o.R7$(),o.Y8G("ngIf",ot.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(24,19,"lang_button_save")," "))},dependencies:[h.bT,a.qT,a.me,a.Q0,a.BC,a.cb,a.j4,a.JD,v.t,n.R,xt.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),dt})()},71703:(Vt,St,_)=>{_.d(St,{V:()=>oe});var a=_(81519),s=_(34514),e=_(47426),b=_(89163),o=_(99503),i=_(79347),h=_(33887),v=_(9691),n=_(48891),xt=_(53793),gt=_(59640),it=_(18148),nt=_(69307),C=_(46899),z=_(10296),It=_(67638),et=_(10490),dt=_(54460),ut=_(47712),st=_(66729),ot=_(2915),_t=_(52811),H=_(5800),Et=_(74637),q=_(10123),at=_(15343),Ct=_(76975);const Ft=["table_score_student"],J=()=>[],jt=()=>({"mr-2":!0}),Ot=()=>({"text-success":!0});function L(E,pt){if(1&E){const S=n.RV6();n.j41(0,"div",11)(1,"button",12),n.bIt("click",function(){n.eBV(S);const w=n.XpG();return n.Njj(w.downloadTableScore())}),n.nrm(2,"lucide-icon",13),n.j41(3,"span"),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()()()}2&E&&(n.R7$(2),n.Y8G("ngClass",n.lJ4(4,jt)),n.R7$(2),n.JRh(n.bMT(5,2,"lang_student_export_a_grade_sheet")))}function yt(E,pt){if(1&E){const S=n.RV6();n.j41(0,"div",14)(1,"button",15),n.nI1(2,"mytranslate"),n.bIt("click",function(){n.eBV(S);const w=n.XpG();return n.Njj(w.downloadTableScore())}),n.nrm(3,"lucide-icon",16),n.k0s(),n.j41(4,"button",17),n.nI1(5,"mytranslate"),n.bIt("click",function(){n.eBV(S);const w=n.XpG();return n.Njj(w.closeDialog.emit(w.isEdit))}),n.nrm(6,"lucide-icon",18),n.k0s()()}2&E&&(n.R7$(),n.FS9("matTooltip",n.bMT(2,2,"lang_student_export_a_grade_sheet")),n.R7$(3),n.FS9("matTooltip",n.bMT(5,4,"lang_auto_thoat")))}function Mt(E,pt){1&E&&n.nrm(0,"azt-loading-ui",25)}function bt(E,pt){if(1&E&&(n.j41(0,"div",36),n.EFF(1),n.nI1(2,"mytranslate"),n.nI1(3,"formatOnlyDateByUserUnitPipe"),n.k0s()),2&E){const S=n.XpG().$implicit;n.R7$(),n.Lme(" ",n.bMT(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",n.bMT(3,4,S.createdAt)," ")}}function Z(E,pt){if(1&E&&(n.j41(0,"div",36)(1,"span"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.j41(4,"span",37),n.EFF(5),n.k0s()()),2&E){const S=n.XpG().$implicit;n.R7$(2),n.JRh(n.bMT(3,2,"lang_auto_he_so")),n.R7$(3),n.JRh(S.coefficient)}}function t(E,pt){if(1&E){const S=n.RV6();n.j41(0,"button",38),n.nI1(1,"mytranslate"),n.bIt("click",function(){n.eBV(S);const w=n.XpG().$implicit,ht=n.XpG(2);return n.Njj(ht.editScore(w))}),n.nrm(2,"lucide-icon",39),n.k0s()}2&E&&n.FS9("matTooltip",n.bMT(1,1,"lang_student_sua_dau_diem"))}function vt(E,pt){if(1&E&&(n.j41(0,"div",40),n.nrm(1,"azt-check-mark",41),n.k0s()),2&E){const S=n.XpG().$implicit;n.R7$(),n.Y8G("mark",S.marks.length>0?S.marks[0]:"")}}function Q(E,pt){if(1&E&&(n.j41(0,"div",40),n.nrm(1,"azt-check-mark",41),n.k0s()),2&E){const S=n.XpG().$implicit,M=n.XpG(2);n.R7$(),n.Y8G("mark",M.returnValue(S))}}function Pt(E,pt){if(1&E){const S=n.RV6();n.j41(0,"input",42),n.nI1(1,"mytranslate"),n.nI1(2,"mytranslate"),n.bIt("input",function(w){n.eBV(S);const ht=n.XpG().$implicit,At=n.XpG(2);return n.Njj(At.handleMarkStudent(w,ht.id))}),n.k0s()}if(2&E){const S=n.XpG().$implicit,M=n.XpG(2);n.FS9("matTooltip",n.bMT(1,6,"lang_core_diem_duoc_tach_boi_dau_cach")),n.Mz_("id","input_point_",S.id.toString(),""),n.FS9("placeholder",n.bMT(2,8,"lang_auto_nhap_diem")),n.Y8G("disabled",M.isStudent)("value",M.returnValue(S))}}function zt(E,pt){1&E&&(n.nrm(0,"lucide-icon",46),n.nI1(1,"mytranslate"),n.nI1(2,"mytranslate")),2&E&&n.FCK("matTooltip","",n.bMT(1,3,"lang_auto_sua")," ",n.bMT(2,5,"lang_auto_diem"),"")}function Y(E,pt){1&E&&(n.nrm(0,"lucide-icon",47),n.nI1(1,"mytranslate")),2&E&&n.FS9("matTooltip",n.bMT(1,1,"lang_editor_common_cancel"))}function X(E,pt){if(1&E){const S=n.RV6();n.j41(0,"button",43),n.bIt("click",function(){n.eBV(S);const w=n.XpG().$implicit,ht=n.XpG(2);return n.Njj(ht.viewInput(w.id==ht.inputPointSelect?-1:w.id))}),n.DNE(1,zt,3,7,"lucide-icon",44)(2,Y,2,3,"lucide-icon",45),n.k0s()}if(2&E){const S=n.XpG().$implicit,M=n.XpG(2);n.R7$(),n.Y8G("ngIf",M.inputPointSelect!=S.id),n.R7$(),n.Y8G("ngIf",M.inputPointSelect==S.id)}}function W(E,pt){1&E&&n.nrm(0,"azt-loading-ui",51)}function x(E,pt){1&E&&n.nrm(0,"lucide-icon",52),2&E&&n.Y8G("ngClass",n.lJ4(1,Ot))}function V(E,pt){if(1&E){const S=n.RV6();n.j41(0,"button",48),n.nI1(1,"mytranslate"),n.bIt("click",function(){n.eBV(S);const w=n.XpG().$implicit,ht=n.XpG(2);return n.Njj(ht.saveMark(w))}),n.DNE(2,W,1,0,"azt-loading-ui",49)(3,x,1,2,"lucide-icon",50),n.k0s()}if(2&E){const S=n.XpG(3);n.FS9("matTooltip",n.bMT(1,4,"lang_button_save")),n.Y8G("disabled",S.isSave),n.R7$(2),n.Y8G("ngIf",S.isSave),n.R7$(),n.Y8G("ngIf",!S.isSave)}}function ft(E,pt){if(1&E){const S=n.RV6();n.j41(0,"button",53),n.nI1(1,"mytranslate"),n.bIt("click",function(){n.eBV(S);const w=n.XpG().$implicit,ht=n.XpG(2);return n.Njj(ht.goToEditPoint(w))}),n.nrm(2,"lucide-icon",54),n.k0s()}2&E&&n.FS9("matTooltip",n.bMT(1,1,"lang_core_go_to_enter_score"))}function Nt(E,pt){if(1&E&&(n.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),n.EFF(4),n.DNE(5,bt,4,6,"div",26)(6,Z,6,4,"div",26),n.k0s(),n.DNE(7,t,3,3,"button",27),n.k0s()(),n.j41(8,"td",28)(9,"div",29),n.DNE(10,vt,2,1,"div",30)(11,Q,2,1,"div",30)(12,Pt,3,10,"input",31)(13,X,3,2,"button",32)(14,V,4,6,"button",33),n.k0s()(),n.j41(15,"td",34),n.DNE(16,ft,3,3,"button",35),n.k0s()()),2&E){const S=pt.$implicit,M=n.XpG(2);n.R7$(4),n.SpI(" ",S.name," "),n.R7$(),n.Y8G("ngIf",S.createdAt&&!M.isStudent),n.R7$(),n.Y8G("ngIf",S.coefficient),n.R7$(),n.Y8G("ngIf",!M.isStudent),n.R7$(3),n.Y8G("ngIf","homework"==S.objectType),n.R7$(),n.Y8G("ngIf","homework"!=S.objectType&&M.inputPointSelect!=S.id),n.R7$(),n.Y8G("ngIf","homework"!=S.objectType&&M.inputPointSelect==S.id),n.R7$(),n.Y8G("ngIf",!M.isStudent&&S.canEditMark&&!M.listMarkNew),n.R7$(),n.Y8G("ngIf",!M.isStudent&&S.canEditMark&&M.listMarkNew&&M.listMarkNew.id==S.id),n.R7$(2),n.Y8G("ngIf",!M.isStudent&&S.programId&&S.sessionId)}}function Xt(E,pt){1&E&&n.nrm(0,"azt-loading-ui",25)}function ee(E,pt){if(1&E){const S=n.RV6();n.j41(0,"azt-mat-dialog-content")(1,"div",19),n.DNE(2,Mt,1,0,"azt-loading-ui",20),n.j41(3,"azt-filter-box",21),n.bIt("sendFilter",function(w){n.eBV(S);const ht=n.XpG();return n.Njj(ht.filterData(w))}),n.k0s()(),n.j41(4,"table",22)(5,"tbody"),n.DNE(6,Nt,17,10,"tr",10),n.j41(7,"tr")(8,"td"),n.EFF(9),n.nI1(10,"mytranslate"),n.k0s(),n.j41(11,"td",23)(12,"div",24),n.DNE(13,Xt,1,0,"azt-loading-ui",20),n.EFF(14),n.k0s()()()()()()}if(2&E){let S;const M=n.XpG();n.R7$(2),n.Y8G("ngIf",M.statusObj.loading),n.R7$(4),n.Y8G("ngForOf",null!==(S=M.data.marks)&&void 0!==S?S:n.lJ4(8,J)),n.R7$(3),n.SpI(" ",n.bMT(10,6,"lang_business_diem_tong_ket")," "),n.R7$(2),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("ngIf",M.isSave),n.R7$(),n.SpI(" ",M.data.averageMark," ")}}function Bt(E,pt){if(1&E&&(n.j41(0,"div",36)(1,"span"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.j41(4,"span",37),n.EFF(5),n.k0s()()),2&E){const S=n.XpG().$implicit;n.R7$(2),n.JRh(n.bMT(3,2,"lang_auto_he_so")),n.R7$(3),n.JRh(S.coefficient)}}function ue(E,pt){if(1&E&&(n.j41(0,"div",40),n.nrm(1,"azt-check-mark",41),n.k0s()),2&E){const S=n.XpG().$implicit;n.R7$(),n.Y8G("mark",S.marks.length>0?S.marks[0]:"")}}function pe(E,pt){if(1&E&&(n.j41(0,"div",40),n.nrm(1,"azt-check-mark",41),n.k0s()),2&E){const S=n.XpG().$implicit,M=n.XpG(2);n.R7$(),n.Y8G("mark",M.returnValue(S))}}function ge(E,pt){if(1&E&&(n.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),n.EFF(4),n.DNE(5,Bt,6,4,"div",26),n.k0s()()(),n.j41(6,"td",59),n.DNE(7,ue,2,1,"div",30)(8,pe,2,1,"div",30),n.k0s()()),2&E){const S=pt.$implicit;n.R7$(4),n.SpI(" ",S.name," "),n.R7$(),n.Y8G("ngIf",S.coefficient),n.R7$(2),n.Y8G("ngIf","homework"==S.objectType),n.R7$(),n.Y8G("ngIf","homework"!=S.objectType)}}function me(E,pt){if(1&E&&(n.j41(0,"table",55)(1,"thead")(2,"tr")(3,"th",56),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s(),n.j41(6,"th",57),n.EFF(7),n.nI1(8,"mytranslate"),n.k0s()()(),n.j41(9,"tbody"),n.DNE(10,ge,9,4,"tr",10),n.j41(11,"tr")(12,"td"),n.EFF(13),n.nI1(14,"mytranslate"),n.k0s(),n.j41(15,"td")(16,"div",58),n.EFF(17),n.k0s()()()()()),2&E){let S;const M=n.XpG();n.R7$(4),n.JRh(n.bMT(5,5,"lang_student_name_component_score")),n.R7$(3),n.JRh(n.bMT(8,7,"lang_testbank_update_exam_point")),n.R7$(3),n.Y8G("ngForOf",null!==(S=M.data.marks)&&void 0!==S?S:n.lJ4(11,J)),n.R7$(3),n.SpI(" ",n.bMT(14,9,"lang_business_diem_tong_ket")," "),n.R7$(4),n.SpI(" ",M.data.averageMark," ")}}function Kt(E,pt){if(1&E&&n.nrm(0,"azt-check-mark",41),2&E){const S=n.XpG().$implicit;n.Y8G("mark",S.marks.length>0?S.marks[0]:"")}}function fe(E,pt){if(1&E&&n.nrm(0,"azt-check-mark",41),2&E){const S=n.XpG().$implicit,M=n.XpG();n.Y8G("mark",M.returnValue(S))}}function de(E,pt){if(1&E&&(n.j41(0,"tr")(1,"td",9),n.EFF(2),n.k0s(),n.j41(3,"td",9),n.EFF(4),n.k0s(),n.j41(5,"td",9),n.EFF(6),n.k0s(),n.j41(7,"td",9),n.DNE(8,Kt,1,1,"azt-check-mark",60)(9,fe,1,1,"azt-check-mark",60),n.k0s()()),2&E){const S=pt.$implicit,M=pt.index,w=n.XpG();n.R7$(),n.BMQ("excelRow",M+1)("excelColumn",0)("excelStyle",w.styleTdNormal),n.R7$(),n.SpI(" ",S.name?M+1:""," "),n.R7$(),n.BMQ("excelRow",M+1)("excelColumn",1)("excelStyle",w.styleTdNormalLeft),n.R7$(),n.SpI(" ",S.name," "),n.R7$(),n.BMQ("excelRow",M+1)("excelColumn",2)("excelStyle",w.styleTdNotNumberNormal),n.R7$(),n.SpI(" ",S.coefficient," "),n.R7$(),n.BMQ("excelRow",M+1)("excelColumn",3)("excelStyle",w.styleTdNotNumberNormal),n.R7$(),n.Y8G("ngIf","homework"==S.objectType),n.R7$(),n.Y8G("ngIf","homework"!=S.objectType)}}let Ht=(()=>{var E;class pt extends gt.H{filterData(M){this.dataFilter=M,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1})).subscribe(w=>{if(!w.success)return this.errorStatusObj(w.message,!0);w.data?.list.length&&(this.data=w.data?.list[0]),this.stopStatusObj()}))}downloadTableScore(){it.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var M=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let w=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(M,w),it.L.closeLoadingEffect(200)}goToEditPoint(M){this.closeDialog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+M.classroomId+"/"+M.programId+"/"+M.sessionId,"?studentId="+this.data.id)}viewInput(M){this.inputPointSelect=M}handleMarkStudent(M,w){if(!this.isStudent){var ht=this.commonService.handlePointByValueInput(M);this.listMarkNew={id:w,points:ht.length>0?ht:[-1]}}}saveMark(M){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:M.programId,classroomId:M.classroomId,sessionId:M.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(ht=>{ht?(this.data.marks?.filter(At=>At.id==M.id)?.forEach(At=>At.marks=this.listMarkNew?.points?.find(te=>-1==te)?[]:this.listMarkNew?.points??At.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(M){M&&this.sAztDialogService.open(nt._,{data:{...M,canEditName:M.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(w=>{if(w){try{var ht=this.data.marks?.find(At=>At.id==M.id);ht&&(ht.coefficient=w.coefficient,ht.name=w.name)}catch{}this.isEdit=!0}})}returnValue(M){return(M.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(M,w,ht,At,te){super(),this.sAztDialogService=M,this.sAztTimeService=w,this.shareFileFlutterService=ht,this.exportExcelService=At,this.studentService=te,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDialog=new n.bkB,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,n.WQX)(xt.R)}ngOnDestroy(){super.ngOnDestroy()}}return(E=pt).\u0275fac=function(M){return new(M||E)(n.rXU(C.i),n.rXU(v.F),n.rXU(z.R),n.rXU(It.x),n.rXU(et.b))},E.\u0275cmp=n.VBU({type:E,selectors:[["azt-view-table-score-single"]],viewQuery:function(M,w){if(1&M&&n.GBs(Ft,5),2&M){let ht;n.mGM(ht=n.lsd())&&(w.table_score_student=ht.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDialog:"closeDialog"},features:[n.Jv_([{provide:a.$O,useClass:o.fb,deps:[e.Ju,s.ij]},{provide:a.vq,useFactory:i.fJ,deps:[v.F]}]),n.Vt3],decls:34,vars:61,consts:[["table_score_student",""],["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","18",3,"ngClass"],[1,"flex","items-center"],["matRipple","",1,"btn","btn-sm","btn-outline-primary","border-0","mr-2","p-1",3,"click","matTooltip"],["name","download","size","20"],["matRipple","",1,"btn","btn-sm","btn-outline-secondary","border-0","p-1",3,"click","matTooltip"],["name","x","size","20"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["class","btn btn-secondary-soft","matRipple","",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"click","matTooltip"],["name","pencil","size","16"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"input","matTooltip","id","disabled","value","placeholder"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["name","pencil","size","16",3,"matTooltip",4,"ngIf"],["name","x","size","16",3,"matTooltip",4,"ngIf"],["name","pencil","size","16",3,"matTooltip"],["name","x","size","16",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"click","matTooltip","disabled"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["name","check","size","20",3,"ngClass",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["name","check","size","20",3,"ngClass"],["matRipple","",1,"btn","btn-secondary-soft",3,"click","matTooltip"],["name","external-link","size","16"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(M,w){if(1&M&&(n.DNE(0,L,6,5,"div",1),n.j41(1,"div",2)(2,"div",3),n.nrm(3,"azt-student-info-box",4),n.DNE(4,yt,7,6,"div",5),n.k0s(),n.DNE(5,ee,15,9,"azt-mat-dialog-content",6)(6,me,18,12,"table",7),n.k0s(),n.j41(7,"table",8,0)(9,"thead")(10,"tr")(11,"th",9),n.EFF(12),n.nI1(13,"mytranslate"),n.k0s(),n.j41(14,"th",9),n.EFF(15),n.nI1(16,"mytranslate"),n.k0s(),n.j41(17,"th",9),n.EFF(18),n.nI1(19,"mytranslate"),n.k0s(),n.j41(20,"th",9),n.EFF(21),n.nI1(22,"mytranslate"),n.k0s()()(),n.j41(23,"tbody"),n.DNE(24,de,10,17,"tr",10),n.j41(25,"tr")(26,"td",9),n.EFF(27),n.k0s(),n.j41(28,"td",9),n.EFF(29),n.nI1(30,"mytranslate"),n.k0s(),n.nrm(31,"td"),n.j41(32,"td",9),n.EFF(33),n.k0s()()()()),2&M){let ht,At,te,ie,he,be;n.Y8G("ngIf",w.isStudent&&!w.viewDialog),n.R7$(3),n.Y8G("name",w.data.fullName)("parentFullName",w.data.parentFullName)("parentId",w.data.parentId)("parentPhone",w.data.parentPhone)("phone",w.data.phone)("email",w.data.email)("avatar",w.data.avatar)("gender",w.data.gender)("hasUser",w.data.hasUser),n.R7$(),n.Y8G("ngIf",w.viewDialog),n.R7$(),n.Y8G("ngIf",w.viewDialog),n.R7$(),n.Y8G("ngIf",w.isStudent&&!w.viewDialog),n.R7$(),n.Y8G("border",1),n.R7$(4),n.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",w.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(13,50,"lang_student_export_excel_no")," "),n.R7$(2),n.BMQ("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",w.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(16,52,"lang_student_name_component_score")," "),n.R7$(2),n.BMQ("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",w.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(19,54,"lang_auto_he_so")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",w.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(22,56,"lang_testbank_update_exam_point")," "),n.R7$(3),n.Y8G("ngForOf",null!==(ht=w.data.marks)&&void 0!==ht?ht:n.lJ4(60,J)),n.R7$(2),n.BMQ("excelRow",(null!==(At=null==w.data.marks?null:w.data.marks.length)&&void 0!==At?At:0)+1)("excelColumn",0)("excelStyle",w.styleTdNormal),n.R7$(),n.SpI(" ",(null!==(te=null==w.data.marks?null:w.data.marks.length)&&void 0!==te?te:0)+1," "),n.R7$(),n.BMQ("excelRow",(null!==(ie=null==w.data.marks?null:w.data.marks.length)&&void 0!==ie?ie:0)+1)("excelColumn",1)("excelStyle",w.styleTdNormal),n.R7$(),n.SpI(" ",n.bMT(30,58,"lang_business_diem_tong_ket")," "),n.R7$(2),n.BMQ("excelRow",(null!==(he=null==w.data.marks?null:w.data.marks.length)&&void 0!==he?he:0)+1)("excelColumn",3)("excelStyle",w.styleTdNormal),n.R7$(),n.BMQ("excelRow",(null!==(be=null==w.data.marks?null:w.data.marks.length)&&void 0!==be?be:0)+1)("excelColumn",4)("excelStyle",w.styleTdNotNumberNormal),n.R7$(),n.SpI(" ",w.data.averageMark," ")}},dependencies:[dt.YU,dt.Sq,dt.bT,e.r6,ut.oV,st.D,ot.U,_t.R,H.B,Et.E,q.Ew,at.WGl,Ct.wp,Ct.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),pt})(),oe=(()=>{var E;class pt extends h._{closeDialog(M){this.dialogRef.close(M)}ngOnInit(){super.ngOnInit()}constructor(M,w){super(w,M),this.dialogRef=M,this.data=w}ngOnDestroy(){super.ngOnDestroy()}}return(E=pt).\u0275fac=function(M){return new(M||E)(n.rXU(b.CP,8),n.rXU(b.Vh,8))},E.\u0275cmp=n.VBU({type:E,selectors:[["azt-table-score-single"]],features:[n.Jv_([{provide:a.$O,useClass:o.fb,deps:[e.Ju,s.ij]},{provide:a.vq,useFactory:i.fJ,deps:[v.F]}]),n.Vt3],decls:1,vars:3,consts:[[3,"closeDialog","data","isStudent","viewDialog"]],template:function(M,w){1&M&&(n.j41(0,"azt-view-table-score-single",0),n.bIt("closeDialog",function(At){return w.closeDialog(At)}),n.k0s()),2&M&&n.Y8G("data",w.data.student)("isStudent",!w.data.isTeacher)("viewDialog",!0)},dependencies:[Ht],encapsulation:2}),pt})()},19857:(Vt,St,_)=>{_.d(St,{g:()=>Te});var a=_(76627),s=_(59640),e=_(18148),b=_(37497),o=_(75421),i=_(27208),h=_(69307),v=_(71703),n=_(48891),xt=_(25791),gt=_(10490),it=_(9691),nt=_(46899),C=_(97973),z=_(67638),It=_(65162),et=_(10296),dt=_(54460),ut=_(47712),st=_(18718),ot=_(22613),_t=_(66729),H=_(52811),Et=_(11002),q=_(32099),at=_(5800),Ct=_(10123),Ft=_(15343),J=_(76975);const jt=["table_score"],Ot=()=>({"mr-2":!0}),L=()=>[],yt=()=>({"text-danger":!0});function Mt(N,wt){1&N&&(n.j41(0,"div",10),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&N&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function bt(N,wt){if(1&N&&(n.j41(0,"div",7)(1,"h3",8),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.DNE(4,Mt,3,3,"div",9),n.k0s()),2&N){let A;const U=n.XpG();n.R7$(2),n.JRh(n.bMT(3,2,"lang_student_enter_score")),n.R7$(2),n.Y8G("ngIf",U.isMobileDevice&&!U.isStudent&&(null!==(A=null==U.dataStudent||null==U.dataStudent.list?null:U.dataStudent.list.length)&&void 0!==A?A:0)>0)}}function Z(N,wt){1&N&&(n.j41(0,"div",10),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&N&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function t(N,wt){if(1&N&&(n.j41(0,"div",7)(1,"h3",8),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.DNE(4,Z,3,3,"div",9),n.k0s()),2&N){let A;const U=n.XpG();n.R7$(2),n.JRh(n.bMT(3,2,"lang_auto_bang_diem")),n.R7$(2),n.Y8G("ngIf",U.isMobileDevice&&!U.isStudent&&(null!==(A=null==U.dataStudent||null==U.dataStudent.list?null:U.dataStudent.list.length)&&void 0!==A?A:0)>0)}}function vt(N,wt){if(1&N){const A=n.RV6();n.j41(0,"button",19),n.bIt("click",function(){n.eBV(A);const K=n.XpG(2);return n.Njj(K.createNewScore())}),n.nrm(1,"lucide-icon",20),n.j41(2,"span"),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()}2&N&&(n.R7$(),n.Y8G("ngClass",n.lJ4(4,Ot)),n.R7$(2),n.JRh(n.bMT(4,2,"lang_student_enter_new_component_score")))}function Q(N,wt){if(1&N){const A=n.RV6();n.j41(0,"button",21),n.bIt("click",function(){n.eBV(A);const K=n.XpG(2);return n.Njj(K.downloadTableScore())}),n.nrm(1,"lucide-icon",22),n.j41(2,"span"),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()}2&N&&(n.R7$(),n.Y8G("ngClass",n.lJ4(4,Ot)),n.R7$(2),n.JRh(n.bMT(4,2,"lang_student_export_a_grade_sheet")))}function Pt(N,wt){1&N&&n.nrm(0,"azt-loading-ui",26)}function zt(N,wt){if(1&N){const A=n.RV6();n.j41(0,"flexed-on-the-top",23)(1,"button",24),n.bIt("click",function(){n.eBV(A);const K=n.XpG(2);return n.Njj(K.saveMark())}),n.DNE(2,Pt,1,0,"azt-loading-ui",25),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()}if(2&N){const A=n.XpG(2);n.Y8G("colorBackground","#f0f8ffe8"),n.R7$(),n.Y8G("disabled",0==A.listStudentMark.length||A.isSave),n.R7$(),n.Y8G("ngIf",A.isSave),n.R7$(),n.SpI(" ",n.bMT(4,4,"lang_auto_luu")," ")}}function Y(N,wt){if(1&N){const A=n.RV6();n.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"azt-search-box",14),n.nI1(4,"mytranslate"),n.bIt("onSearch",function(K){n.eBV(A);const tt=n.XpG();return n.Njj(tt.onSearchBox(K.searchObj))}),n.k0s()(),n.j41(5,"div",15),n.DNE(6,vt,5,5,"button",16)(7,Q,5,5,"button",17)(8,zt,5,6,"flexed-on-the-top",18),n.k0s()()()}if(2&N){const A=n.XpG();n.R7$(3),n.Y8G("isServerSearch",!0)("placeholder",n.bMT(4,5,"lang_core_tim_theo_ten_phone_email")),n.R7$(3),n.Y8G("ngIf","ENTER_SCORE"==A.screenType),n.R7$(),n.Y8G("ngIf","TABLE_SCORE"==A.screenType),n.R7$(),n.Y8G("ngIf","ENTER_SCORE"==A.screenType)}}function X(N,wt){if(1&N&&n.nrm(0,"azt-loading-effect",27),2&N){const A=n.XpG();n.Y8G("currentStatusObj",A.statusObj)}}function W(N,wt){1&N&&(n.j41(0,"div",33),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&N&&(n.R7$(),n.JRh(n.bMT(2,1,"lang_student_classroom_list_detail_not_student")))}function x(N,wt){if(1&N&&(n.j41(0,"div",50)(1,"span"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.j41(4,"span",51),n.EFF(5),n.k0s()()),2&N){const A=n.XpG().$implicit;n.R7$(2),n.JRh(n.bMT(3,2,"lang_auto_he_so")),n.R7$(3),n.JRh(A.coefficient)}}function V(N,wt){if(1&N){const A=n.RV6();n.j41(0,"button",52),n.nI1(1,"mytranslate"),n.bIt("click",function(){n.eBV(A);const K=n.XpG().$implicit,tt=n.XpG(3);return n.Njj(tt.createNewScore(K))}),n.nrm(2,"lucide-icon",53),n.k0s()}2&N&&n.FS9("matTooltip",n.bMT(1,1,"lang_student_sua_dau_diem"))}function ft(N,wt){if(1&N){const A=n.RV6();n.j41(0,"button",54),n.nI1(1,"mytranslate"),n.bIt("click",function(){n.eBV(A);const K=n.XpG().$implicit,tt=n.XpG(3);return n.Njj(tt.deleteMark(K))}),n.nrm(2,"lucide-icon",55),n.k0s()}2&N&&(n.FS9("matTooltip",n.bMT(1,2,"lang_button_delete")),n.R7$(2),n.Y8G("ngClass",n.lJ4(4,yt)))}function Nt(N,wt){if(1&N&&(n.j41(0,"th",42)(1,"div",43)(2,"div",44)(3,"div",45),n.EFF(4),n.k0s(),n.j41(5,"div",46),n.DNE(6,x,6,4,"div",47)(7,V,3,3,"button",48)(8,ft,3,5,"button",49),n.k0s()()()()),2&N){const A=wt.$implicit,U=n.XpG(3);n.R7$(3),n.FS9("matTooltip",A.name),n.R7$(),n.JRh(A.name),n.R7$(2),n.Y8G("ngIf",A.coefficient),n.R7$(),n.Y8G("ngIf",!U.isStudent),n.R7$(),n.Y8G("ngIf",A.canEditName)}}function Xt(N,wt){1&N&&(n.j41(0,"th",56),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&N&&(n.R7$(),n.JRh(n.bMT(2,1,"lang_business_diem_tong_ket")))}function ee(N,wt){if(1&N&&(n.j41(0,"div",66),n.nrm(1,"azt-check-mark",67),n.k0s()),2&N){const A=n.XpG().$implicit;n.R7$(),n.Y8G("mark",A.marks.length>0?A.marks[0]:"")}}function Bt(N,wt){if(1&N&&(n.j41(0,"div",66),n.nrm(1,"azt-check-mark",67),n.k0s()),2&N){const A=n.XpG().$implicit,U=n.XpG(4);n.R7$(),n.Y8G("mark",U.returnValue(A))}}function ue(N,wt){if(1&N){const A=n.RV6();n.j41(0,"input",68),n.nI1(1,"mytranslate"),n.nI1(2,"mytranslate"),n.bIt("input",function(K){n.eBV(A);const tt=n.XpG().index,Gt=n.XpG().index,Qt=n.XpG(3);return n.Njj(Qt.handleMarkStudent(K,Gt,tt))}),n.k0s()}if(2&N){const A=n.XpG().$implicit,U=n.XpG().$implicit,K=n.XpG(3);n.FS9("matTooltip",n.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),n.FS9("id",A.id.toString()+"-"+U.id.toString()),n.FS9("placeholder",n.bMT(2,7,"lang_auto_nhap_diem")),n.Y8G("matTooltipDisabled",!A.canEditMark)("value",K.returnValue(A))}}function pe(N,wt){if(1&N&&(n.j41(0,"td",62),n.DNE(1,ee,2,1,"div",63)(2,Bt,2,1,"div",63)(3,ue,3,9,"input",64),n.nrm(4,"div",65),n.k0s()),2&N){const A=wt.$implicit,U=n.XpG().$implicit,K=n.XpG(3);n.Y8G("hidden","TABLE_SCORE"==K.screenType),n.R7$(),n.Y8G("ngIf","homework"==A.objectType),n.R7$(),n.Y8G("ngIf","homework"!=A.objectType&&(!A.canEditMark||"ENTER_SCORE"!=K.screenType)),n.R7$(),n.Y8G("ngIf","homework"!=A.objectType&&A.canEditMark),n.R7$(),n.Mz_("id","error-",A.id.toString()+"-"+U.id.toString(),""),n.Y8G("hidden",!0)}}function ge(N,wt){if(1&N&&(n.j41(0,"td")(1,"div",69),n.EFF(2),n.k0s()()),2&N){const A=n.XpG().$implicit;n.R7$(2),n.SpI(" ",A.averageMark," ")}}function me(N,wt){if(1&N){const A=n.RV6();n.j41(0,"tr",57)(1,"td",58),n.bIt("click",function(){const K=n.eBV(A).$implicit,tt=n.XpG(3);return n.Njj(tt.openDialogTableSingle(K))}),n.nrm(2,"azt-student-info-box",59),n.k0s(),n.j41(3,"td",60),n.EFF(4),n.nI1(5,"formatStudentCodeToNumber"),n.k0s(),n.DNE(6,pe,5,7,"td",61)(7,ge,3,1,"td",31),n.k0s()}if(2&N){let A;const U=wt.$implicit,K=n.XpG(3);n.Y8G("id","row_student_"+U.id),n.R7$(2),n.Y8G("name",U.fullName)("parentFullName",U.parentFullName)("parentId",U.parentId)("parentPhone",U.parentPhone)("phone",U.phone)("avatar",U.avatar)("gender",U.gender)("hasUser",U.hasUser)("schoolName",U.schoolName)("classrooms",U.classrooms)("joinedAt",U.joinedAt)("identificationNumber",U.identificationNumber),n.R7$(2),n.JRh(U.identificationNumber?n.i5U(5,16,U.identificationNumber,6):""),n.R7$(2),n.Y8G("ngForOf",null!==(A=U.marks)&&void 0!==A?A:n.lJ4(19,L)),n.R7$(),n.Y8G("ngIf","TABLE_SCORE"==K.screenType)}}function Kt(N,wt){if(1&N&&(n.j41(0,"div",34)(1,"drag-scroll")(2,"table",35)(3,"thead")(4,"tr",36)(5,"th",37),n.EFF(6),n.nI1(7,"mytranslate"),n.k0s(),n.j41(8,"th",38),n.EFF(9),n.nI1(10,"mytranslate"),n.k0s(),n.DNE(11,Nt,9,5,"th",39)(12,Xt,3,3,"th",40),n.k0s()(),n.j41(13,"tbody"),n.DNE(14,me,8,20,"tr",41),n.k0s()()()()),2&N){let A,U;const K=n.XpG(2);n.R7$(6),n.JRh(n.bMT(7,5,"lang_auto_ho_va_ten")),n.R7$(3),n.JRh(n.bMT(10,7,"lang_auto_so_bao_danh")),n.R7$(2),n.Y8G("ngForOf",null!==(A=null==K.dataMark?null:K.dataMark.list)&&void 0!==A?A:n.lJ4(9,L)),n.R7$(),n.Y8G("ngIf","TABLE_SCORE"==K.screenType),n.R7$(2),n.Y8G("ngForOf",null!==(U=null==K.dataStudent?null:K.dataStudent.list)&&void 0!==U?U:n.lJ4(10,L))}}function fe(N,wt){if(1&N&&(n.j41(0,"div",72),n.nrm(1,"azt-student-info-box",73),n.j41(2,"div",74)(3,"div",75),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s(),n.j41(6,"div",75),n.EFF(7),n.k0s()()()),2&N){const A=wt.$implicit;n.R7$(),n.Y8G("name",A.fullName)("parentFullName",A.parentFullName)("parentId",A.parentId)("parentPhone",A.parentPhone)("phone",A.phone)("email",A.email)("avatar",A.avatar)("gender",A.gender)("hasUser",A.hasUser)("identificationNumber",A.identificationNumber),n.R7$(3),n.SpI(" ",n.bMT(5,12,"lang_business_diem_tong_ket")," "),n.R7$(3),n.SpI(" ",A.averageMark," ")}}function de(N,wt){1&N&&n.nrm(0,"lucide-icon",80)}function Ht(N,wt){1&N&&n.nrm(0,"lucide-icon",81)}function oe(N,wt){if(1&N&&(n.j41(0,"div",91)(1,"span"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.j41(4,"span",51),n.EFF(5),n.k0s()()),2&N){const A=n.XpG().$implicit;n.R7$(2),n.JRh(n.bMT(3,2,"lang_auto_he_so")),n.R7$(3),n.JRh(A.coefficient)}}function E(N,wt){if(1&N&&(n.j41(0,"div",92),n.nrm(1,"azt-check-mark",67),n.k0s()),2&N){const A=n.XpG().$implicit;n.R7$(),n.Y8G("mark",A.marks.length>0?A.marks[0]:"")}}function pt(N,wt){if(1&N&&(n.j41(0,"div",92),n.nrm(1,"azt-check-mark",67),n.k0s()),2&N){const A=n.XpG().$implicit,U=n.XpG(6);n.R7$(),n.Y8G("mark",U.returnValue(A))}}function S(N,wt){if(1&N&&(n.j41(0,"tr")(1,"td")(2,"div",87)(3,"div"),n.EFF(4),n.DNE(5,oe,6,4,"div",88),n.k0s()()(),n.j41(6,"td",89),n.DNE(7,E,2,1,"div",90)(8,pt,2,1,"div",90),n.k0s()()),2&N){const A=wt.$implicit;n.R7$(4),n.SpI(" ",A.name," "),n.R7$(),n.Y8G("ngIf",A.coefficient),n.R7$(2),n.Y8G("ngIf","homework"==A.objectType),n.R7$(),n.Y8G("ngIf","homework"!=A.objectType)}}function M(N,wt){if(1&N&&(n.j41(0,"div",83)(1,"table",84)(2,"thead")(3,"tr")(4,"th",85),n.EFF(5),n.nI1(6,"mytranslate"),n.k0s(),n.j41(7,"th",86),n.EFF(8),n.nI1(9,"mytranslate"),n.k0s()()(),n.j41(10,"tbody"),n.DNE(11,S,9,4,"tr",71),n.k0s()()()),2&N){const A=n.XpG(2).$implicit;n.R7$(5),n.JRh(n.bMT(6,3,"lang_student_name_component_score")),n.R7$(3),n.JRh(n.bMT(9,5,"lang_testbank_update_exam_point")),n.R7$(3),n.Y8G("ngForOf",A.marks)}}function w(N,wt){if(1&N&&(n.qex(0),n.DNE(1,M,12,7,"div",82),n.bVm()),2&N){const A=n.XpG(4);n.R7$(),n.Y8G("ngIf",A.isStudent)}}function ht(N,wt){if(1&N){const A=n.RV6();n.j41(0,"div")(1,"h3",76)(2,"span",77),n.bIt("click",function(){const K=n.eBV(A).$implicit;return n.Njj(K.expand=!K.expand)}),n.EFF(3),n.nI1(4,"mytranslate"),n.DNE(5,de,1,0,"lucide-icon",78)(6,Ht,1,0,"lucide-icon",79),n.k0s()(),n.DNE(7,w,2,1,"ng-container",31),n.k0s()}if(2&N){const A=wt.$implicit;n.R7$(3),n.Lme(" ",n.bMT(4,5,"lang_core_thang")," ",A.date," "),n.R7$(2),n.Y8G("ngIf",A.expand),n.R7$(),n.Y8G("ngIf",!A.expand),n.R7$(),n.Y8G("ngIf",A.expand)}}function At(N,wt){if(1&N&&(n.j41(0,"div"),n.DNE(1,fe,8,14,"div",70)(2,ht,8,7,"div",71),n.k0s()),2&N){let A;const U=n.XpG(2);n.R7$(),n.Y8G("ngForOf",null!==(A=null==U.dataStudent?null:U.dataStudent.list)&&void 0!==A?A:n.lJ4(2,L)),n.R7$(),n.Y8G("ngForOf",U.listGroupMarkDate)}}function te(N,wt){if(1&N){const A=n.RV6();n.j41(0,"azt-paging",96),n.bIt("goToPaginationPage",function(K){n.eBV(A);const tt=n.XpG(3);return n.Njj(tt.setPageStudent(K))}),n.k0s()}if(2&N){const A=n.XpG(3);n.Y8G("pageObj",A.pageObj)}}function ie(N,wt){if(1&N&&(n.j41(0,"div",15),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&N){const A=n.XpG(3);n.R7$(),n.Lme("",A.dataStudent.total," ",n.bMT(2,2,"lang_notify_list_students"),"")}}function he(N,wt){if(1&N&&(n.j41(0,"div",93),n.nrm(1,"div"),n.DNE(2,te,1,1,"azt-paging",94)(3,ie,3,4,"div",95),n.k0s()),2&N){const A=n.XpG(2);n.R7$(2),n.Y8G("ngIf",A.dataStudent.total>A.pageObj.pageSize),n.R7$(),n.Y8G("ngIf",!A.isStudent)}}function be(N,wt){if(1&N&&(n.j41(0,"div",28),n.DNE(1,W,3,3,"div",29)(2,Kt,15,11,"div",30)(3,At,3,3,"div",31),n.k0s(),n.DNE(4,he,4,2,"div",32)),2&N){let A,U,K;const tt=n.XpG();n.R7$(),n.Y8G("ngIf",!tt.isStudent&&0==(null==tt.dataStudent||null==tt.dataStudent.list?null:tt.dataStudent.list.length)&&0==(null!==(A=null==tt.dataStudent?null:tt.dataStudent.total)&&void 0!==A?A:0)),n.R7$(),n.Y8G("ngIf",!tt.isStudent&&(null!==(U=null==tt.dataStudent||null==tt.dataStudent.list?null:tt.dataStudent.list.length)&&void 0!==U?U:0)>0),n.R7$(),n.Y8G("ngIf",tt.isStudent),n.R7$(),n.Y8G("ngIf",tt.dataStudent&&tt.dataStudent.total&&(null!==(K=null==tt.dataStudent?null:tt.dataStudent.total)&&void 0!==K?K:0)>0)}}function Se(N,wt){if(1&N&&(n.j41(0,"th",98),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&N){const A=wt.$implicit,U=wt.index,K=n.XpG(2);n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+U)("excelStyle",K.styleThNormal),n.R7$(),n.Lme(" ",A.name+"\n"," "," ("+n.bMT(2,6,"lang_auto_he_so")+" "+A.coefficient+")"," ")}}function Ee(N,wt){if(1&N&&n.nrm(0,"azt-check-mark",67),2&N){const A=n.XpG().$implicit;n.Y8G("mark",A.marks.length>0?A.marks[0]:"")}}function Fe(N,wt){if(1&N&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&N){const A=n.XpG().$implicit,U=n.XpG(3);n.R7$(),n.SpI(" ",U.returnValue(A)," ")}}function Re(N,wt){if(1&N&&(n.j41(0,"td",98),n.DNE(1,Ee,1,1,"azt-check-mark",100)(2,Fe,2,1,"span",31),n.k0s()),2&N){const A=wt.$implicit,U=wt.index,K=n.XpG().index,tt=n.XpG(2);n.BMQ("excelRow",K+1)("excelColumn",6+U)("excelStyle",tt.styleTdNormal),n.R7$(),n.Y8G("ngIf","homework"==A.objectType),n.R7$(),n.Y8G("ngIf","homework"!=A.objectType)}}function Me(N,wt){if(1&N&&(n.j41(0,"tr")(1,"td",98),n.EFF(2),n.k0s(),n.j41(3,"td",98),n.EFF(4),n.k0s(),n.j41(5,"td",98),n.EFF(6),n.k0s(),n.j41(7,"td",98),n.EFF(8),n.k0s(),n.j41(9,"td",98),n.EFF(10),n.nI1(11,"formatOnlyDateByUserUnitPipe"),n.k0s(),n.j41(12,"td",98),n.EFF(13),n.nI1(14,"mytranslate"),n.nI1(15,"mytranslate"),n.k0s(),n.DNE(16,Re,3,5,"td",99),n.j41(17,"td",98),n.EFF(18),n.k0s()()),2&N){let A,U;const K=wt.$implicit,tt=wt.index,Gt=n.XpG(2);n.R7$(),n.BMQ("excelRow",tt+1)("excelColumn",0)("excelStyle",Gt.styleTdNormal),n.R7$(),n.SpI(" ",null!=K&&K.fullName?tt+1:""," "),n.R7$(),n.BMQ("excelRow",tt+1)("excelColumn",1)("excelStyle",Gt.styleTdNormalLeft),n.R7$(),n.SpI(" ",null==K?null:K.fullName," "),n.R7$(),n.BMQ("excelRow",tt+1)("excelColumn",2)("excelStyle",Gt.styleTdNotNumberNormal),n.R7$(),n.SpI(" ",null==K?null:K.phone," "),n.R7$(),n.BMQ("excelRow",tt+1)("excelColumn",3)("excelStyle",Gt.styleTdNormal),n.R7$(),n.SpI(" ",null==K?null:K.email," "),n.R7$(),n.BMQ("excelRow",tt+1)("excelColumn",4)("excelStyle",Gt.styleTdNormal),n.R7$(),n.SpI(" ",n.bMT(11,29,null==K?null:K.birthday)," "),n.R7$(2),n.BMQ("excelRow",tt+1)("excelColumn",5)("excelStyle",Gt.styleTdNormal),n.R7$(),n.SpI(" ",1==(null==K?null:K.gender)?n.bMT(14,31,"lang_student_export_excel_gender_male"):0==(null==K?null:K.gender)?n.bMT(15,33,"lang_student_export_excel_gender_female"):""," "),n.R7$(3),n.Y8G("ngForOf",null!==(A=K.marks)&&void 0!==A?A:n.lJ4(35,L)),n.R7$(),n.BMQ("excelRow",tt+1)("excelColumn",6+(null!==(U=null==K.marks?null:K.marks.length)&&void 0!==U?U:0))("excelStyle",Gt.styleTdNotNumberNormal),n.R7$(),n.SpI(" ",K.averageMark," ")}}function Ce(N,wt){if(1&N&&(n.j41(0,"table",97,1)(2,"thead")(3,"tr")(4,"th",98),n.EFF(5),n.nI1(6,"mytranslate"),n.k0s(),n.j41(7,"th",98),n.EFF(8),n.nI1(9,"mytranslate"),n.k0s(),n.j41(10,"th",98),n.EFF(11),n.nI1(12,"mytranslate"),n.k0s(),n.j41(13,"th",98),n.EFF(14),n.nI1(15,"mytranslate"),n.k0s(),n.j41(16,"th",98),n.EFF(17),n.nI1(18,"mytranslate"),n.k0s(),n.j41(19,"th",98),n.EFF(20),n.nI1(21,"mytranslate"),n.k0s(),n.DNE(22,Se,3,8,"th",99),n.j41(23,"th",98),n.EFF(24),n.nI1(25,"mytranslate"),n.k0s()()(),n.j41(26,"tbody"),n.DNE(27,Me,19,36,"tr",71),n.k0s()()),2&N){let A,U,K;const tt=n.XpG();n.Y8G("border",1),n.R7$(4),n.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",tt.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(6,38,"lang_student_export_excel_no")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",tt.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(9,40,"lang_student_export_excel_full_name")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",tt.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(12,42,"lang_number_phone")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",tt.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(15,44,"lang_student_export_excel_email")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",tt.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(18,46,"lang_student_export_excel_birthday")," "),n.R7$(2),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",tt.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(21,48,"lang_student_export_excel_gender")," "),n.R7$(2),n.Y8G("ngForOf",null!==(A=null==tt.dataMark?null:tt.dataMark.list)&&void 0!==A?A:n.lJ4(52,L)),n.R7$(),n.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(U=null==tt.dataMark||null==tt.dataMark.list?null:tt.dataMark.list.length)&&void 0!==U?U:0))("excelStyle",tt.styleThNormal),n.R7$(),n.SpI(" ",n.bMT(25,50,"lang_business_diem_tong_ket")," "),n.R7$(3),n.Y8G("ngForOf",null!==(K=null==tt.dataStudent?null:tt.dataStudent.list)&&void 0!==K?K:n.lJ4(53,L))}}let Te=(()=>{var N;class wt extends s.H{goToProfile(U,K){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+U+"/"+K,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(U){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+U),this.initStatusObj(),this.pageObj.setPageNumber(U),this.getListStudent()}openDialogTableSingle(U){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(v.V,{width:"750px",restoreFocus:!1,data:{student:U,isTeacher:!0}}).afterClosed().subscribe(K=>{K&&this.getListStudent()}):(U.classroomId||U.id)&&this.goToProfile(U.classroomId,U.id)}onSearchBox(U){this.searchContentObj=U,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){e.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var U=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let K=this.commonService.createFileNameExportFile(["bang_diem_lop_"+(this.classroomObj?.name??"bang_diem_lop_id_")+this.classroomId])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(U,K),e.L.closeLoadingEffect(200)}handlePointByValueInput(U){var K=U.target;let tt=""===K.value.trim()?"":K.value;tt=tt.replace(/[^\d\s,\.]/g,""),tt=tt.replace(/,/g,"."),tt=tt.replace(/\s+/g," "),tt=tt.replace(/\.{2,}/g,"."),tt=tt.replace(/(?:^|\s)\./g," 0."),tt=tt.replace(/^\s+/,""),tt=tt.replace(/\.\s/g," ");var Gt=tt.split(" ");if(Gt.length>0){var Qt=""!=Gt[Gt.length-1]?Gt[Gt.length-1]:Gt[Gt.length-2];Number(Qt)>-1?Qt.split(".").length>1&&Qt.split(".")[1].length>2&&(tt=tt.substring(0,tt.length-1)):tt=tt.replace(/\.$/," ")}return K.value=tt,tt.split(" ").filter(re=>""!=re).map(re=>parseFloat(re))}handleMarkStudent(U,K,tt){var Gt=this.handlePointByValueInput(U);Gt=0==Gt.length?[-1]:Gt;var Qt=this.dataStudent.list[K],ae=this.dataMark.list[tt],se=this.listStudentMark.findIndex(ce=>ce.id==Qt.id);if(se>-1){var re=(this.listStudentMark[se].listMarks??[]).findIndex(ce=>ce.id==ae.id);re>-1?this.listStudentMark[se].listMarks[re].points=Gt:this.listStudentMark[se].listMarks?.push({id:ae.id,points:Gt})}else this.listStudentMark.push({id:Qt.id,listMarks:[{id:ae.id,points:Gt}]})}returnValue(U){return(U.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark})).subscribe(K=>{if(this.isSave=!1,!K.success)return this.errorStatusObj(K.message,!0);this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)}))}createNewScore(U){this.isStudent||this.sAztDialogService.open(h._,{data:U||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(tt=>{tt&&this.getListMark()})}getListMark(){this.waitDestroy(this.wrapApiResponse(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId})).subscribe(K=>{if(!K.success)return this.errorStatusObj(K.message,!0);this.dataMark=K.data,this.getListStudent()}))}deleteMark(U){var K=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+U.name+" </div> ?";this.sAztDialogService.open(o.u,{data:{content:K},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(tt=>{tt&&this.waitDestroy(this.wrapApiResponse(this.commonMarkService.apiCommonMarksIdDelete(U.id)).subscribe(Gt=>{if(!Gt.success)return this.errorStatusObj(Gt.message,!0);this.getListMark()}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(U=>{U.success&&(this.classroomObj=U.data?.obj)}))}getListStudent(){this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1})).subscribe(K=>{if(!K.success)return this.errorStatusObj(K.message,!0);this.dataStudent=K.data,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(K.data?.list??[]):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()}))}handleGroupMarkByDate(U){let K=[];U.forEach(Gt=>{let Qt=Gt.marks?.map(ae=>({...ae,monthAndYear:this.sAztTimeService.formatDateToMonthYear(ae.createdAt)}))??[];K=K.concat(Qt)});let tt=this.commonService.arrayToDictionary(K,Gt=>Gt.monthAndYear);this.listGroupMarkDate=Object.entries(tt).map(([Gt,Qt])=>({date:Gt,marks:Qt,expand:!1}))}scrollElementStudentById(){if(this.studentId){var U=document.getElementById("row_student_"+this.studentId);U&&U.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,a.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(U,K,tt,Gt,Qt,ae,se,re){super(),this.commonMarkService=U,this.studentService=K,this.sAztTimeService=tt,this.sAztDialogService=Gt,this.classroomService=Qt,this.exportExcelService=ae,this.activeRoute=se,this.shareFileFlutterService=re,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new b.d(50),this.searchContentObj=new i.Z}}return(N=wt).\u0275fac=function(U){return new(U||N)(n.rXU(xt.a),n.rXU(gt.b),n.rXU(it.F),n.rXU(nt.i),n.rXU(C.z),n.rXU(z.x),n.rXU(It.nX),n.rXU(et.R))},N.\u0275cmp=n.VBU({type:N,selectors:[["app-table-score"]],viewQuery:function(U,K){if(1&U&&n.GBs(jt,5),2&U){let tt;n.mGM(tt=n.lsd())&&(K.table_answer=tt.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[n.Vt3],decls:8,vars:6,consts:[["doneLoading",""],["table_score",""],[1,"grid","grid-cols-12","gap-5","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1 col-span-12",4,"ngIf"],[1,"mt-1","col-span-12"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"onSearch","isServerSearch","placeholder"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","20",3,"ngClass"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"click","disabled"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"padding-left","25px"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"click","matTooltip"],["name","pencil","size","16"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"click","matTooltip"],["name","trash-2","size","16",3,"ngClass"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","phone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"input","matTooltipDisabled","matTooltip","id","value","placeholder"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser","identificationNumber"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"table","table-bordered",2,"display","none",3,"border"],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(U,K){if(1&U&&(n.j41(0,"div",2),n.DNE(1,bt,5,4,"div",3)(2,t,5,4,"div",3)(3,Y,9,7,"div",4),n.k0s(),n.DNE(4,X,1,1,"azt-loading-effect",5)(5,be,5,4,"ng-template",null,0,n.C5r)(7,Ce,28,54,"table",6)),2&U){const tt=n.sdS(6);n.R7$(),n.Y8G("ngIf","ENTER_SCORE"==K.screenType),n.R7$(),n.Y8G("ngIf","TABLE_SCORE"==K.screenType),n.R7$(),n.Y8G("ngIf",!K.isStudent),n.R7$(),n.Y8G("ngIf",K.statusObj.loading)("ngIfElse",tt),n.R7$(3),n.Y8G("ngIf","TABLE_SCORE"==K.screenType)}},dependencies:[dt.YU,dt.Sq,dt.bT,ut.oV,st.K,ot.q,_t.D,H.R,Et.$,q.W,at.B,Ct.jd,Ct.Ew,Ft.WGl,J.wp,J.Po,J.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),wt})()},57350:(Vt,St,_)=>{_.d(St,{s:()=>o});var a=_(59640),s=_(48891),e=_(65162),b=_(19857);let o=(()=>{var i;class h extends a.H{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(n){super(),this.activeRoute=n,this.classroomId=0}}return(i=h).\u0275fac=function(n){return new(n||i)(s.rXU(e.nX))},i.\u0275cmp=s.VBU({type:i,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[s.Vt3],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(n,xt){1&n&&s.nrm(0,"app-table-score",0),2&n&&s.Y8G("isStudent",xt.isStudent)("screenType","TABLE_SCORE")("classroomId",xt.classroomId)("programId",0)("sessionId",0)},dependencies:[b.g],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),h})()},25622:(Vt,St,_)=>{_.d(St,{b:()=>Ft});var a=_(59640),s=_(48891),e=_(62221),b=_(27691),o=_(65162),i=_(36484),h=_(58112),v=_(54460),n=_(18718),xt=_(68323),gt=_(94743),it=_(76975);const nt=J=>({cursor:J}),C=(J,jt,Ot)=>({"p-5 bg-primary text-white":J,"p-3":jt,"border border-primary p-4 border-w-2":Ot}),z=J=>({"text-base":J}),It=J=>({"text-white":J});function et(J,jt){if(1&J&&s.nrm(0,"azt-loading-effect",3),2&J){const Ot=s.XpG();s.Y8G("currentStatusObj",Ot.statusObj)}}function dt(J,jt){if(1&J&&(s.j41(0,"div",22),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&J){const Ot=s.XpG(),L=Ot.$implicit;s.Y8G("ngClass",s.eq3(4,It,0===Ot.index)),s.R7$(),s.JRh(L.averageMark+" "+s.bMT(2,2,"lang_auto_diem"))}}function ut(J,jt){if(1&J&&(s.j41(0,"div",22),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&J){const Ot=s.XpG();s.Y8G("ngClass",s.eq3(4,It,0===Ot.index&&Ot.$implicit.averageMark)),s.R7$(),s.JRh(s.bMT(2,2,"lang_not_data"))}}function st(J,jt){1&J&&(s.j41(0,"div",23),s.nrm(1,"azt-svg-icon",24),s.k0s()),2&J&&(s.R7$(),s.Y8G("size",40))}function ot(J,jt){1&J&&(s.j41(0,"div",25),s.nrm(1,"azt-svg-icon",26),s.k0s()),2&J&&(s.R7$(),s.Y8G("size",40))}function _t(J,jt){1&J&&(s.j41(0,"div",27),s.nrm(1,"azt-svg-icon",28),s.k0s()),2&J&&(s.R7$(),s.Y8G("size",40))}function H(J,jt){if(1&J&&(s.j41(0,"div",29)(1,"div",30),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s(),s.j41(4,"div",31),s.EFF(5),s.k0s()()),2&J){const Ot=s.XpG().index,L=s.XpG(3);s.R7$(2),s.SpI(" ",s.bMT(3,2,"lang_azt_final_score_ranking")+" "+(Ot+1)+"/"+L.dataStudent.total," "),s.R7$(3),s.JRh(L.commentByRanking)}}function Et(J,jt){if(1&J){const Ot=s.RV6();s.qex(0),s.j41(1,"div",8),s.bIt("click",function(){const yt=s.eBV(Ot).$implicit,Mt=s.XpG(3);return s.Njj(Mt.goToProfile(yt.classroomId,yt.id))}),s.j41(2,"div",9)(3,"span",10),s.EFF(4),s.k0s()(),s.j41(5,"div",11)(6,"div",12),s.nrm(7,"azt-create-avatar",13),s.k0s(),s.j41(8,"div",14)(9,"div",15),s.EFF(10),s.k0s(),s.DNE(11,dt,3,6,"div",16)(12,ut,3,6,"div",16),s.k0s()(),s.j41(13,"div",17),s.DNE(14,st,2,1,"div",18)(15,ot,2,1,"div",19)(16,_t,2,1,"div",20),s.k0s()(),s.DNE(17,H,6,4,"div",21),s.bVm()}if(2&J){const Ot=jt.$implicit,L=jt.index,yt=s.XpG(3);s.R7$(),s.Y8G("ngStyle",s.eq3(15,nt,yt.isStudent?"default":"pointer"))("ngClass",s.sMw(17,C,0===L&&Ot.averageMark,0!==L||!Ot.averageMark,(2===L||1===L)&&Ot.averageMark))("hidden",!(!yt.isTqbDomain||!yt.isStudent)&&Ot.parentId!=yt.curUserId),s.R7$(3),s.JRh(L+1),s.R7$(3),s.Y8G("linkAvatar",Ot.avatar)("nameCreateAvatar",Ot.fullName)("size",0===L?48:44),s.R7$(2),s.Y8G("ngClass",s.eq3(21,z,0===L)),s.R7$(),s.JRh(Ot.fullName),s.R7$(),s.Y8G("ngIf",Ot.averageMark),s.R7$(),s.Y8G("ngIf",!Ot.averageMark),s.R7$(2),s.Y8G("ngIf",0===L&&Ot.averageMark),s.R7$(),s.Y8G("ngIf",1===L&&Ot.averageMark),s.R7$(),s.Y8G("ngIf",2===L&&Ot.averageMark),s.R7$(),s.Y8G("ngIf",yt.isTqbDomain&&yt.isStudent&&Ot.parentId===yt.curUserId)}}function q(J,jt){if(1&J&&(s.j41(0,"div",5)(1,"div",6),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s(),s.DNE(4,Et,18,23,"ng-container",7),s.k0s()),2&J){const Ot=s.XpG(2);s.R7$(2),s.SpI(" ",s.bMT(3,2,"lang_azt_leaderboard")," "),s.R7$(2),s.Y8G("ngForOf",Ot.dataStudent.list)}}function at(J,jt){1&J&&(s.j41(0,"div",32)(1,"div",33),s.nrm(2,"azt-svg-icon",34),s.j41(3,"p",35),s.EFF(4),s.nI1(5,"mytranslate"),s.k0s()()()),2&J&&(s.R7$(2),s.Y8G("size",82),s.R7$(2),s.JRh(s.bMT(5,2,"lang_not_data")+"!"))}function Ct(J,jt){if(1&J&&s.DNE(0,q,5,4,"div",4)(1,at,6,4,"ng-template",null,1,s.C5r),2&J){const Ot=s.sdS(2),L=s.XpG();s.Y8G("ngIf",L.dataStudent&&L.dataStudent.list&&L.dataStudent.list.length)("ngIfElse",Ot)}}let Ft=(()=>{var J;class jt extends a.H{goToProfile(L,yt){this.isStudent||this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+L+"/"+yt,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${L}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!1,order:{fieldName:"averageMark",descending:!0,ignore:!1}})).subscribe(yt=>{if(!yt.success)return this.errorStatusObj(yt.message,!0);if(this.dataStudent=yt.data,!this.isTqbDomain)return this.stopStatusObj();const Mt=this.splitIntoGroups(this.dataStudent?.list??[]);this.loadTextCdn(this.sAztCommonCdnService.addRandomQueryParam(this.linkTopMess)).subscribe(bt=>{const Z=this.castJsonToObj(bt)??[];Z.length&&Mt.forEach((t,vt)=>{t.forEach(Q=>{Q.parentId===this.curUserId&&0==vt&&(this.commentByRanking=Z[0].mess),Q.parentId===this.curUserId&&1==vt&&(this.commentByRanking=Z[1].mess),Q.parentId===this.curUserId&&2==vt&&(this.commentByRanking=Z[2].mess),Q.parentId===this.curUserId&&3==vt&&(this.commentByRanking=Z[3].mess)})})}),this.stopStatusObj()}))}loadTextCdn(L){return this.http.get(L,{responseType:"text"})}splitIntoGroups(L){const Mt=L.length,bt=Math.min(4,Mt),Z=Math.ceil(Mt/bt);let t=[];for(let vt=0;vt<bt;vt++)t.push(L.slice(vt*Z,(vt+1)*Z));return t}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.curUserId=this.sAztUserService.getUserObj().id,this.getListStudent()}constructor(L,yt,Mt,bt,Z){super(),this.studentService=L,this.http=yt,this.activeRoute=Mt,this.sAztUserService=bt,this.sAztCommonCdnService=Z,this.classroomId=0,this.curUserId=0,this.linkTopMess="https://azota889.github.io/storage_public_v2/topmess.json",this.commentByRanking=""}}return(J=jt).\u0275fac=function(L){return new(L||J)(s.rXU(e.b0),s.rXU(b.Qq),s.rXU(o.nX),s.rXU(i.R),s.rXU(h.c))},J.\u0275cmp=s.VBU({type:J,selectors:[["app-leader-board"]],inputs:{isStudent:"isStudent"},features:[s.Vt3],decls:3,vars:2,consts:[["doneLoading",""],["emptyData",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],[4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"click","ngStyle","ngClass","hidden"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["type","crown-gold",3,"size"],[1,"icon-top-2"],["type","crown-silver",3,"size"],[1,"icon-top-3"],["type","crown-copper",3,"size"],[1,"mt-4"],[1,"font-bold","uppercase","text-center"],[1,"text-center",2,"font-style","italic"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-5"]],template:function(L,yt){if(1&L&&s.DNE(0,et,1,1,"azt-loading-effect",2)(1,Ct,3,2,"ng-template",null,0,s.C5r),2&L){const Mt=s.sdS(2);s.Y8G("ngIf",yt.statusObj.loading)("ngIfElse",Mt)}},dependencies:[v.YU,v.Sq,v.bT,v.B3,n.K,xt.p,gt.m,it.wp],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]}),jt})()},59371:(Vt,St,_)=>{_.d(St,{K:()=>Ne});var a=_(10936),s=_(26988),e=_(59640),b=function(T){return T[T.ADD_NEW=0]="ADD_NEW",T[T.UPDATE=1]="UPDATE",T[T.DELETE=2]="DELETE",T}(b||{}),o=_(48891),i=_(62221),h=_(54460),v=_(47712),n=_(18718),xt=_(52811),gt=_(94743),it=_(15343),nt=_(15766),C=_(39712),z=_(36484),It=_(97839),et=_(99965),dt=_(63349),ut=_(53043),st=_(46899);const ot=()=>({"stroke-1.5":!0});function _t(T,rt){if(1&T){const P=o.RV6();o.j41(0,"div",2)(1,"div",3)(2,"a",4),o.bIt("click",function(){const I=o.eBV(P).$implicit,lt=o.XpG();return o.Njj(lt.onShowFile(I,-1))}),o.j41(3,"div",5),o.nrm(4,"img",6),o.j41(5,"span",7),o.bIt("click",function(){const I=o.eBV(P).$implicit,lt=o.XpG();return o.Njj(lt.removeFile(I))}),o.nrm(6,"lucide-icon",8),o.k0s()()()()()}if(2&T){const P=rt.$implicit;o.R7$(4),o.Y8G("src",P.url,o.B4B),o.R7$(2),o.Y8G("ngClass",o.lJ4(2,ot))}}let H=(()=>{var T;class rt extends e.H{onShowFile(j,I){let lt={...j,index:I};this.sAztDialogService.open(ut.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:lt},restoreFocus:!1})}removeFile(j){this.files=this.files.filter(I=>I.url!=j.url),this.filesChange.emit(this.files)}constructor(j){super(),this.sAztDialogService=j,this.filesChange=new o.bkB}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(st.i))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[o.Vt3],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["name","x","size","16",3,"ngClass"]],template:function(j,I){1&j&&(o.j41(0,"div",0),o.DNE(1,_t,7,3,"div",1),o.k0s()),2&j&&(o.R7$(),o.Y8G("ngForOf",I.files))},dependencies:[h.YU,h.Sq,it.WGl],encapsulation:2}),rt})();var Et=_(76975);const q=T=>[T],at=()=>({"zoom-in":!0});function Ct(T,rt){if(1&T){const P=o.RV6();o.j41(0,"app-new-list-images",13),o.mxI("filesChange",function(I){o.eBV(P);const lt=o.XpG();return o.DH7(lt.files,I)||(lt.files=I),o.Njj(I)}),o.k0s()}if(2&T){const P=o.XpG();o.R50("files",P.files)}}function Ft(T,rt){1&T&&o.nrm(0,"azt-loading-ui",14)}let J=(()=>{var T;class rt extends e.H{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var j={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(I=>I.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0,isSchool:this.isSchool};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsPost(j)).subscribe(I=>{if(!I.success||!I.data)return this.errorStatusObj(I.message,!0);this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...I.data,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})}))}}handleUploadComplete(j){this.files.push(...j)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(j,I){super(),this.newsService=j,this.userService=I,this.changePostObjEvent=new o.bkB,this.contentFormControl=new a.MJ("",{nonNullable:!0,validators:[nt.M.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=C.b8,this.allUploadFileTypes=C.PO}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(i.bH),o.rXU(z.R))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId",isSchool:"isSchool"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[o.Vt3],decls:19,vars:23,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"click","matTooltip"],["size","24",3,"name"],[3,"uploadComplete","uploadToCdnMenu","fileType"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"pt-3",3,"filesChange","files"],[1,"mr-1"]],template:function(j,I){1&j&&(o.j41(0,"div",0)(1,"div",1)(2,"textarea",2),o.nI1(3,"mytranslate"),o.EFF(4,"        "),o.k0s(),o.DNE(5,Ct,1,1,"app-new-list-images",3),o.k0s(),o.j41(6,"div",4)(7,"div",5)(8,"button",6),o.nI1(9,"mytranslate"),o.bIt("click",function(){return I.isLockComment=!I.isLockComment}),o.nrm(10,"lucide-icon",7),o.k0s(),o.j41(11,"azt-upload-multiple-box",8),o.bIt("uploadComplete",function(ne){return I.handleUploadComplete(ne)}),o.j41(12,"span",9),o.nrm(13,"lucide-icon",10),o.nI1(14,"mytranslate"),o.k0s()(),o.j41(15,"button",11),o.bIt("click",function(){return I.saveNewPost()}),o.DNE(16,Ft,1,0,"azt-loading-ui",12),o.EFF(17),o.nI1(18,"mytranslate"),o.k0s()()()()),2&j&&(o.R7$(2),o.FS9("placeholder",o.bMT(3,12,"lang_business_news_post_content")),o.Y8G("formControl",I.contentFormControl),o.R7$(3),o.Y8G("ngIf",I.files.length),o.R7$(3),o.FS9("matTooltip",o.bMT(9,14,I.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),o.R7$(2),o.Y8G("name",I.isLockComment?"lock":"lock-open"),o.R7$(),o.Y8G("uploadToCdnMenu",I.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",o.eq3(20,q,I.allUploadFileTypes.IMAGE)),o.R7$(2),o.FS9("matTooltip",o.bMT(14,16,"lang_core_tai_anh")),o.Y8G("ngClass",o.lJ4(22,at)),o.R7$(2),o.Y8G("disabled",""==I.contentFormControl.value||I.statusObj.loading),o.R7$(),o.Y8G("ngIf",I.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(18,18,"lang_business_news_add_new_post_button")," "))},dependencies:[h.YU,h.bT,It.fg,v.oV,a.me,a.BC,a.l_,et.j,xt.R,dt.V,it.WGl,H,Et.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),rt})();var jt=_(89163),Ot=_(33887),L=_(2915);function yt(T,rt){1&T&&o.nrm(0,"azt-loading-ui",9)}let Mt=(()=>{var T;class rt extends Ot._{btnCloseDialog(j){this.dialogRef.close(j)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsIdDelete(this.postObj.id)).subscribe(j=>{if(!j.success)return this.errorStatusObj(j.message,!0);this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")}))}constructor(j,I,lt){super(lt,I),this.newsService=j,this.dialogRef=I,this.data=lt,this.postObj=lt}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(i.bH),o.rXU(jt.CP,8),o.rXU(jt.Vh,8))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-delete-news-post-confirm-dialog"]],features:[o.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(j,I){1&j&&(o.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),o.EFF(5),o.nI1(6,"mytranslate"),o.j41(7,"b",4),o.EFF(8),o.k0s(),o.EFF(9,"? "),o.k0s()()()(),o.j41(10,"div",5)(11,"button",6),o.bIt("click",function(){return I.btnCloseDialog(!1)}),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s(),o.j41(14,"button",7),o.bIt("click",function(){return I.confirmDelete()}),o.DNE(15,yt,1,0,"azt-loading-ui",8),o.EFF(16),o.nI1(17,"mytranslate"),o.k0s()()()),2&j&&(o.R7$(5),o.SpI(" ",o.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),o.R7$(3),o.JRh(I.postObj.content),o.R7$(4),o.SpI(" ",o.bMT(13,7,"lang_cms_common_close_btn")," "),o.R7$(3),o.Y8G("ngIf",I.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[h.bT,L.U,xt.R,Et.wp],encapsulation:2}),rt})();var bt=_(17818),Z=_(68323);function t(T,rt){if(1&T){const P=o.RV6();o.j41(0,"a",5),o.bIt("click",function(){o.eBV(P);const I=o.XpG(2);return o.Njj(I.clickToSeeMore())}),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()}2&T&&(o.R7$(),o.JRh(o.bMT(2,1,"lang_cms_common_see_more")))}function vt(T,rt){if(1&T){const P=o.RV6();o.j41(0,"a",5),o.bIt("click",function(){o.eBV(P);const I=o.XpG(2);return o.Njj(I.clickToShowShortContent())}),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()}2&T&&(o.R7$(),o.JRh(o.bMT(2,1,"lang_cms_common_see_short_content")))}function Q(T,rt){if(1&T&&(o.j41(0,"div"),o.nrm(1,"span",3),o.nI1(2,"safeNormalHtmlContent"),o.DNE(3,t,3,3,"a",4)(4,vt,3,3,"a",4),o.k0s()),2&T){const P=o.XpG();o.R7$(),o.Y8G("innerHTML",o.bMT(2,3,P.showContent),o.npT),o.R7$(2),o.Y8G("ngIf",P.showSeeMoreButton&&P.content.length>P.maxLength),o.R7$(),o.Y8G("ngIf",P.showShortContentButton&&P.content.length>P.maxLength)}}function Pt(T,rt){if(1&T&&(o.nrm(0,"span",10),o.nI1(1,"safeNormalHtmlContent")),2&T){const P=o.XpG(2);o.Y8G("innerHTML",o.bMT(1,1,P.showContent),o.npT)}}function zt(T,rt){if(1&T){const P=o.RV6();o.j41(0,"a",5),o.bIt("click",function(){o.eBV(P);const I=o.XpG(2);return o.Njj(I.clickToSeeMore())}),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()}if(2&T){const P=o.XpG(2);o.Aen("position: absolute; bottom: 0; right: 0; background-color: "+P.backgroundColor),o.R7$(),o.SpI(" ...",o.bMT(2,3,"lang_cms_common_see_more")," ")}}function Y(T,rt){if(1&T){const P=o.RV6();o.j41(0,"a",5),o.bIt("click",function(){o.eBV(P);const I=o.XpG(2);return o.Njj(I.clickToShowShortContent())}),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()}2&T&&(o.R7$(),o.JRh(o.bMT(2,1,"lang_cms_common_see_short_content")))}function X(T,rt){if(1&T&&(o.j41(0,"div",6),o.nrm(1,"div",7),o.nI1(2,"safeNormalHtmlContent"),o.nrm(3,"div",7,0),o.nI1(5,"safeNormalHtmlContent"),o.DNE(6,Pt,2,3,"span",8)(7,zt,3,5,"a",9)(8,Y,3,3,"a",4),o.k0s()),2&T){const P=o.sdS(4),j=o.XpG();o.R7$(),o.Aen(j.styleContent),o.Y8G("innerHTML",o.bMT(2,9,j.showContent),o.npT),o.R7$(2),o.Aen("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),o.Y8G("innerHTML",o.bMT(5,11,j.showContent),o.npT),o.R7$(3),o.Y8G("ngIf",j.showShortContentButton),o.R7$(),o.Y8G("ngIf",j.showSeeMoreButton&&P.offsetHeight>20*j.maxLine),o.R7$(),o.Y8G("ngIf",j.showShortContentButton&&P.offsetHeight>20*j.maxLine)}}let W=(()=>{var T;class rt extends e.H{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let j=this.commonService.removeTagHtml(this.content);if(this.maxLength&&j.length>this.maxLength)this.showContent=this.showSeeMoreButton?j.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var I=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+I+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return(T=rt).\u0275fac=function(j){return new(j||T)},T.\u0275cmp=o.VBU({type:T,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[o.Vt3,o.OA$],decls:2,vars:2,consts:[["contentElementHide",""],[4,"ngIf"],["style","position: relative; white-space: break-spaces",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["style","white-space: pre-line",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(j,I){1&j&&o.DNE(0,Q,5,5,"div",1)(1,X,9,13,"div",2),2&j&&(o.Y8G("ngIf",I.maxLength),o.R7$(),o.Y8G("ngIf",I.maxLine&&!I.maxLength))},dependencies:[h.bT,Et.wp,Et._y],encapsulation:2}),rt})();var x=function(T){return T[T.ADD_NEW=0]="ADD_NEW",T[T.UPDATE=1]="UPDATE",T[T.DELETE=2]="DELETE",T}(x||{}),V=_(95670),ft=_(43558);const Nt=()=>({"text-primary flex-none zoom-in":!0});function Xt(T,rt){1&T&&o.nrm(0,"azt-loading-ui",9)}let ee=(()=>{var T;class rt extends e.H{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value})).subscribe(I=>{if(!I.success||!I.data)return this.errorStatusObj(I.message,!0);this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...I.data,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(j,I){super(),this.newsService=j,this.userService=I,this.changeCommentObjEvent=new o.bkB,this.commentContentFormControl=new a.MJ("",{nonNullable:!0,validators:[nt.M.noWhiteSpace]})}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(i.bH),o.rXU(z.R))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[o.Vt3],decls:12,vars:15,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enterKey","enableInMobile","formControl","placeholder"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"click","matTooltip","disabled"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(j,I){1&j&&(o.j41(0,"div",0),o.nrm(1,"azt-create-avatar",1),o.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),o.nI1(5,"mytranslate"),o.bIt("enterKey",function(){return!(""==I.commentContentFormControl.value||I.statusObj.loading)&&I.saveNewComment()}),o.EFF(6,"            "),o.k0s()(),o.j41(7,"div",5)(8,"button",6),o.nI1(9,"mytranslate"),o.bIt("click",function(){return I.saveNewComment()}),o.DNE(10,Xt,1,0,"azt-loading-ui",7),o.nrm(11,"lucide-icon",8),o.k0s()()()()),2&j&&(o.R7$(),o.Y8G("nameCreateAvatar",I.userObj.fullName)("linkAvatar",I.userObj.avatar)("size",30),o.R7$(3),o.FS9("placeholder",o.bMT(5,10,"lang_core_viet_binh_luan")),o.Y8G("enableInMobile",!1)("formControl",I.commentContentFormControl),o.R7$(4),o.FS9("matTooltip",o.bMT(9,12,"lang_business_news_add_new_post_button")),o.Y8G("disabled",""==I.commentContentFormControl.value||I.statusObj.loading),o.R7$(2),o.Y8G("ngIf",I.statusObj.loading),o.R7$(),o.Y8G("ngClass",o.lJ4(14,Nt)))},dependencies:[h.YU,h.bT,It.fg,V.rl,v.oV,a.me,a.BC,a.l_,Z.p,et.j,ft.Z,xt.R,it.WGl,Et.wp],encapsulation:2}),rt})();function Bt(T,rt){1&T&&o.nrm(0,"azt-loading-ui",9)}let ue=(()=>{var T;class rt extends Ot._{btnCloseDialog(j){this.dialogRef.close(j)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id)).subscribe(j=>{if(!j.success)return this.errorStatusObj(j.message,!0);this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")}))}constructor(j,I,lt){super(lt,I),this.newsService=j,this.dialogRef=I,this.data=lt,this.postObj=lt.postObj,this.commentObj=lt.commentObj}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(i.bH),o.rXU(jt.CP,8),o.rXU(jt.Vh,8))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[o.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(j,I){1&j&&(o.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),o.EFF(5),o.nI1(6,"mytranslate"),o.j41(7,"b",4),o.EFF(8),o.k0s(),o.EFF(9,"? "),o.k0s()()()(),o.j41(10,"div",5)(11,"button",6),o.bIt("click",function(){return I.btnCloseDialog(!1)}),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s(),o.j41(14,"button",7),o.bIt("click",function(){return I.confirmDelete()}),o.DNE(15,Bt,1,0,"azt-loading-ui",8),o.EFF(16),o.nI1(17,"mytranslate"),o.k0s()()()),2&j&&(o.R7$(5),o.SpI(" ",o.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),o.R7$(3),o.JRh(I.commentObj.content),o.R7$(4),o.SpI(" ",o.bMT(13,7,"lang_cms_common_close_btn")," "),o.R7$(3),o.Y8G("ngIf",I.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[h.bT,L.U,xt.R,Et.wp],encapsulation:2}),rt})();const pe=()=>({"text-slate-500":!0}),ge=()=>({"mr-2":!0}),me=()=>({"mr-2 text-danger":!0});function Kt(T,rt){if(1&T&&(o.j41(0,"button",15),o.nrm(1,"lucide-icon",16),o.k0s()),2&T){o.XpG();const P=o.sdS(12);o.Y8G("matMenuTriggerFor",P),o.R7$(),o.Y8G("ngClass",o.lJ4(2,pe))}}function fe(T,rt){if(1&T){const P=o.RV6();o.j41(0,"li")(1,"a",17),o.bIt("click",function(){o.eBV(P);const I=o.XpG();return o.Njj(I.editCommentEvent())}),o.nrm(2,"lucide-icon",18),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}2&T&&(o.R7$(2),o.Y8G("ngClass",o.lJ4(4,ge)),o.R7$(),o.SpI(" ",o.bMT(4,2,"lang_auto_sua")," "))}function de(T,rt){if(1&T){const P=o.RV6();o.j41(0,"li")(1,"a",19),o.bIt("click",function(){o.eBV(P);const I=o.XpG();return o.Njj(I.deleteCommentEvent())}),o.nrm(2,"lucide-icon",20),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}2&T&&(o.R7$(2),o.Y8G("ngClass",o.lJ4(4,me)),o.R7$(),o.SpI(" ",o.bMT(4,2,"lang_auto_xoa")," "))}let Ht=(()=>{var T;class rt extends e.H{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:x.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(ue,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(I=>{I&&this.changeCommentObjEvent.emit({actionType:x.DELETE,commentObj:this.commentObj})})}constructor(j){super(),this.sAztDialogService=j,this.changeCommentObjEvent=new o.bkB}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(st.i))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[o.Jv_([s.h]),o.Vt3],decls:20,vars:13,consts:[["menuBox",""],[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"]],template:function(j,I){1&j&&(o.j41(0,"div",1)(1,"div",2),o.nrm(2,"azt-create-avatar",3),o.k0s(),o.j41(3,"div")(4,"div",4)(5,"div",5)(6,"div",6),o.EFF(7),o.k0s(),o.nrm(8,"azt-see-more-multiple-lines",7),o.k0s(),o.j41(9,"div",8),o.DNE(10,Kt,2,3,"button",9),o.j41(11,"mat-menu",10,0)(13,"div",11)(14,"ul",12),o.DNE(15,fe,5,5,"li",13)(16,de,5,5,"li",13),o.k0s()()()()(),o.j41(17,"div",14),o.EFF(18),o.nI1(19,"relativeTime"),o.k0s()()()),2&j&&(o.R7$(2),o.Y8G("nameCreateAvatar",null==I.commentObj.user?null:I.commentObj.user.fullName)("linkAvatar",null==I.commentObj.user?null:I.commentObj.user.avatar)("size",30),o.R7$(5),o.SpI(" ",null==I.commentObj.user?null:I.commentObj.user.fullName,"\xa0 "),o.R7$(),o.Y8G("content",I.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),o.R7$(2),o.Y8G("ngIf",I.commentObj.allowDelete||I.commentObj.allowEdit),o.R7$(5),o.Y8G("ngIf",I.commentObj.allowEdit),o.R7$(),o.Y8G("ngIf",I.commentObj.allowDelete),o.R7$(2),o.JRh(o.bMT(19,11,I.commentObj.createdAt)))},dependencies:[h.YU,h.bT,bt.kk,bt.Cp,Z.p,W,it.WGl,Et.wp,Et.NA],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),rt})();const oe=()=>({"text-primary":!0});function E(T,rt){1&T&&o.nrm(0,"azt-loading-ui",11)}let pt=(()=>{var T;class rt extends e.H{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var j={content:this.commentContentFormControl.value};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,j)).subscribe(I=>{if(!I.success)return this.errorStatusObj(I.message,!0);this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=j.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(j,I){super(),this.newsService=j,this.userService=I,this.changeCommentObjEvent=new o.bkB,this.commentContentFormControl=new a.MJ("",{nonNullable:!0,validators:[nt.M.noWhiteSpace]})}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(i.bH),o.rXU(z.R))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[o.Vt3],decls:16,vars:18,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enterKey","enableInMobile","formControl","placeholder"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"click","matTooltip","disabled"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(j,I){1&j&&(o.j41(0,"div",0),o.nrm(1,"azt-create-avatar",1),o.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),o.nI1(5,"mytranslate"),o.bIt("enterKey",function(){return!(""==I.commentContentFormControl.value||I.statusObj.loading)&&I.saveNewComment()}),o.EFF(6,"            "),o.k0s()(),o.j41(7,"div",5)(8,"div",6)(9,"button",7),o.bIt("click",function(){return I.cancel()}),o.EFF(10),o.nI1(11,"mytranslate"),o.k0s(),o.j41(12,"button",8),o.nI1(13,"mytranslate"),o.bIt("click",function(){return I.saveNewComment()}),o.DNE(14,E,1,0,"azt-loading-ui",9),o.nrm(15,"lucide-icon",10),o.k0s()()()()()),2&j&&(o.R7$(),o.Y8G("nameCreateAvatar",I.userObj.fullName)("linkAvatar",I.userObj.avatar)("size",30),o.R7$(3),o.FS9("placeholder",o.bMT(5,11,"lang_core_viet_binh_luan")),o.Y8G("enableInMobile",!1)("formControl",I.commentContentFormControl),o.R7$(6),o.SpI(" ",o.bMT(11,13,"lang_cms_common_close_btn")," "),o.R7$(2),o.FS9("matTooltip",o.bMT(13,15,"lang_business_news_add_new_post_button")),o.Y8G("disabled",""==I.commentContentFormControl.value||I.statusObj.loading),o.R7$(2),o.Y8G("ngIf",I.statusObj.loading),o.R7$(),o.Y8G("ngClass",o.lJ4(17,oe)))},dependencies:[h.YU,h.bT,It.fg,V.rl,v.oV,a.me,a.BC,a.l_,Z.p,et.j,ft.Z,xt.R,it.WGl,Et.wp],encapsulation:2}),rt})();function S(T,rt){if(1&T){const P=o.RV6();o.qex(0),o.j41(1,"app-news-view-comment",6),o.bIt("changeCommentObjEvent",function(I){o.eBV(P);const lt=o.XpG(2);return o.Njj(lt.changeCommentObj(I.actionType,I.commentObj))}),o.k0s(),o.bVm()}if(2&T){const P=o.XpG().$implicit,j=o.XpG();o.R7$(),o.Y8G("postObj",j.postObj)("commentObj",P)}}function M(T,rt){if(1&T){const P=o.RV6();o.j41(0,"div",3)(1,"app-news-edit-comment",6),o.bIt("changeCommentObjEvent",function(I){o.eBV(P);const lt=o.XpG(2);return o.Njj(lt.changeCommentObj(lt.enumNewsCommentActionType.UPDATE,I))}),o.k0s()()}if(2&T){const P=o.XpG().$implicit,j=o.XpG();o.R7$(),o.Y8G("postObj",j.postObj)("commentObj",P)}}function w(T,rt){if(1&T&&(o.j41(0,"div"),o.DNE(1,S,2,2,"ng-container",5)(2,M,2,2,"ng-template",null,0,o.C5r),o.k0s()),2&T){const P=rt.$implicit,j=o.sdS(3);o.R7$(),o.Y8G("ngIf",!P.isShowEditForm)("ngIfElse",j)}}function ht(T,rt){1&T&&o.nrm(0,"azt-loading-ui",10)}function At(T,rt){if(1&T){const P=o.RV6();o.j41(0,"div",7)(1,"button",8),o.bIt("click",function(){o.eBV(P);const I=o.XpG();return o.Njj(!I.sAztNextPaginationService.isLoadingNextPage&&I.getNextPage())}),o.EFF(2),o.nI1(3,"mytranslate"),o.DNE(4,ht,1,0,"azt-loading-ui",9),o.k0s()()}if(2&T){const P=o.XpG();o.R7$(2),o.SpI(" ",o.bMT(3,2,"lang_business_news_load_more_comments")," "),o.R7$(2),o.Y8G("ngIf",P.sAztNextPaginationService.isLoadingNextPage)}}let te=(()=>{var T;class rt extends e.H{changeCommentObj(j,I){j==x.ADD_NEW?(this.commentObjs.unshift(I),this.postObj.totalComment+=1):j==x.UPDATE?this.commentObjs=this.commentObjs.map(lt=>lt.id==I.id?I:lt):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(lt=>lt.id!=I.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(j){j?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage)).subscribe(I=>{if(!I.success)return this.errorStatusObj(I.message,!0);I.data?.list.forEach(lt=>{this.commentObjs.push({...lt,isShowEditForm:!1,allowEdit:lt.tenantId==this.userObj.id,allowDelete:!this.isStudent||lt.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(I.data?.total??0),this.stopStatusObj()}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(j,I,lt){super(),this.newsService=j,this.userService=I,this.sAztNextPaginationService=lt,this.commentObjs=[],this.enumNewsCommentActionType=x,this.userObj=this.userService.getUserObj()}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(i.bH),o.rXU(z.R),o.rXU(s.h))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[o.Jv_([s.h]),o.Vt3],decls:4,vars:3,consts:[["showEditForm",""],[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"changeCommentObjEvent","postObj"],[4,"ngIf","ngIfElse"],[3,"changeCommentObjEvent","postObj","commentObj"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"]],template:function(j,I){1&j&&(o.DNE(0,w,4,2,"div",1)(1,At,5,4,"div",2),o.j41(2,"div",3)(3,"app-news-add-new-comments",4),o.bIt("changeCommentObjEvent",function(ne){return I.changeCommentObj(I.enumNewsCommentActionType.ADD_NEW,ne)}),o.k0s()()),2&j&&(o.Y8G("ngForOf",I.commentObjs),o.R7$(),o.Y8G("ngIf",I.commentObjs.length&&I.sAztNextPaginationService.hasNextPage),o.R7$(2),o.Y8G("postObj",I.postObj))},dependencies:[h.Sq,h.bT,xt.R,ee,Ht,pt,Et.wp],encapsulation:2}),rt})();const ie=T=>({clickable:T}),he=(T,rt)=>({"heart-selected":T,"heart-non-selected":rt});function be(T,rt){1&T&&(o.j41(0,"div",2)(1,"span",3),o.nrm(2,"lucide-icon",4),o.k0s(),o.j41(3,"span"),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s()()),2&T&&(o.R7$(4),o.JRh(o.bMT(5,1,"lang_student_comment_feature_disabled")))}function Se(T,rt){if(1&T){const P=o.RV6();o.j41(0,"div",5)(1,"div",6),o.nI1(2,"isParentViewOnly"),o.j41(3,"button",7),o.nI1(4,"isParentViewOnly"),o.bIt("click",function(){o.eBV(P);const I=o.XpG();return o.Njj(I.changeEmotionEvent())}),o.nrm(5,"lucide-icon",8),o.k0s(),o.j41(6,"span"),o.EFF(7),o.k0s()(),o.j41(8,"div",9),o.nI1(9,"isParentViewOnly"),o.j41(10,"button",10),o.nI1(11,"isParentViewOnly"),o.bIt("click",function(){o.eBV(P);const I=o.XpG();return o.Njj(I.showCommentObjs())}),o.nrm(12,"lucide-icon",11),o.k0s(),o.j41(13,"span"),o.EFF(14),o.k0s()()()}if(2&T){const P=o.XpG();o.R7$(),o.Y8G("ngClass",o.eq3(15,ie,!o.bMT(2,7,""))),o.R7$(2),o.Y8G("disabled",o.bMT(4,9,"")),o.R7$(2),o.Y8G("ngClass",o.l_i(17,he,P.postObj.hasLoveEmotion,!P.postObj.hasLoveEmotion)),o.R7$(2),o.JRh(P.postObj.totalEmotion),o.R7$(),o.Y8G("ngClass",o.eq3(20,ie,!o.bMT(9,11,""))),o.R7$(2),o.Y8G("disabled",o.bMT(11,13,"")),o.R7$(4),o.JRh(P.postObj.totalComment)}}let Ee=(()=>{var T;class rt extends e.H{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id)).subscribe(j=>{if(!j.success)return this.errorStatusObj(j.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,void this.changePostObjEvent.emit(this.postObj);this.successStatusObj()}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(j){super(),this.newsService=j,this.changePostObjEvent=new o.bkB}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(i.bH))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[o.Vt3],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"inline-block","mr-2"],["name","message-circle-off","size","18"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-02_zwrttZ",1,"mr-2","zoom-in","heart-label",3,"click","disabled"],["name","heart","size","20",3,"ngClass"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-lsF85jGU0",1,"mr-2","zoom-in",3,"click","disabled"],["name","message-square","size","20"]],template:function(j,I){1&j&&o.DNE(0,be,6,3,"div",0)(1,Se,15,22,"div",1),2&j&&(o.Y8G("ngIf",I.postObj.isLockComment),o.R7$(),o.Y8G("ngIf",!I.postObj.isLockComment))},dependencies:[h.YU,h.bT,it.WGl,Et.wp,Et.hx],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}  .heart-selected svg{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),rt})();var Fe=_(40111);function Re(T,rt){if(1&T){const P=o.RV6();o.j41(0,"a",3),o.bIt("click",function(){const I=o.eBV(P).$implicit,lt=o.XpG();return o.Njj(lt.onShowFile(I))}),o.nrm(1,"img",4),o.k0s()}if(2&T){const P=rt.$implicit;o.R7$(),o.Y8G("src",P.imageLink,o.B4B)}}let Me=(()=>{var T;class rt extends e.H{onShowFile(j){this.sAztDialogService.open(ut.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+j.id,mimes:"image/jpeg",url:j.imageLink,index:-1}},restoreFocus:!1})}constructor(j,I){super(),this.sAztDialogService=j,this.sAztFileTypeService=I,this.images=[]}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(st.i),o.rXU(Fe.k))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[o.Vt3],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(j,I){1&j&&(o.j41(0,"div",0)(1,"div",1),o.DNE(2,Re,2,1,"a",2),o.k0s()()),2&j&&(o.R7$(2),o.Y8G("ngForOf",I.images))},dependencies:[h.Sq],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),rt})();const Ce=()=>({"text-slate-500":!0}),Te=()=>({"mr-2":!0});function N(T,rt){if(1&T&&o.eu8(0,15),2&T){o.XpG();const P=o.sdS(17);o.Y8G("ngTemplateOutlet",P)}}function wt(T,rt){if(1&T&&(o.j41(0,"div"),o.nrm(1,"hr",12)(2,"app-news-list-comments",16),o.k0s()),2&T){const P=o.XpG();o.R7$(2),o.Y8G("isStudent",P.isStudent)("postObj",P.postObj)}}function A(T,rt){if(1&T){const P=o.RV6();o.j41(0,"div",17)(1,"button",18),o.nrm(2,"lucide-icon",19),o.k0s(),o.j41(3,"mat-menu",20,1)(5,"div",21)(6,"ul",22)(7,"li")(8,"a",23),o.bIt("click",function(){o.eBV(P);const I=o.XpG();return o.Njj(I.editPostEvent())}),o.nrm(9,"lucide-icon",24),o.EFF(10),o.nI1(11,"mytranslate"),o.k0s()(),o.j41(12,"li")(13,"a",25),o.bIt("click",function(){o.eBV(P);const I=o.XpG();return o.Njj(I.deletePostEvent())}),o.nrm(14,"lucide-icon",26),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s()(),o.j41(17,"li")(18,"label",27),o.bIt("click",function(I){return o.eBV(P),o.Njj(I.stopPropagation())}),o.j41(19,"div",28),o.nrm(20,"lucide-icon",29),o.EFF(21),o.nI1(22,"mytranslate"),o.k0s(),o.j41(23,"div",30)(24,"input",31),o.bIt("change",function(){o.eBV(P);const I=o.XpG();return o.Njj(I.changeLockCommentStatus())}),o.k0s()()()()()()()()}if(2&T){const P=o.sdS(4),j=o.XpG();o.R7$(),o.Y8G("matMenuTriggerFor",P),o.R7$(),o.Y8G("ngClass",o.lJ4(15,Ce)),o.R7$(7),o.Y8G("ngClass",o.lJ4(16,Te)),o.R7$(),o.SpI(" ",o.bMT(11,9,"lang_auto_sua")," "),o.R7$(4),o.Y8G("ngClass",o.lJ4(17,Te)),o.R7$(),o.SpI(" ",o.bMT(16,11,"lang_auto_xoa")," "),o.R7$(5),o.Y8G("ngClass",o.lJ4(18,Te)),o.R7$(),o.SpI(" ",o.bMT(22,13,"lang_student_comment_lock")," "),o.R7$(3),o.Y8G("formControl",j.isLockComment)}}let U=(()=>{var T;class rt extends e.H{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:b.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(Mt,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(I=>{I&&this.changePostObjEvent.emit({actionType:b.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const j=this.isLockComment.value,I=j?this.newsService.apiNewsIdLockCommentsPut(this.postObj.id):this.newsService.apiNewsIdUnlockCommentsPut(this.postObj.id);this.waitDestroy(this.wrapApiResponse(I).subscribe(lt=>{if(!lt.success)return this.errorStatusObj(lt.message,!0);const ne=j?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=j?1:0,this.changePostObjEvent.emit({actionType:b.UPDATE,postObj:this.postObj}),this.showSuccessSnack(ne)}))}changeEmotionEventEvent(j){this.postObj=j,this.changePostObjEvent.emit({actionType:b.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(j,I){super(),this.sAztDialogService=j,this.newsService=I,this.changePostObjEvent=new o.bkB,this.isLockComment=new a.MJ(!1)}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(st.i),o.rXU(i.bH))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[o.Vt3],decls:18,vars:13,consts:[["newsEditOrDeleteNews",""],["menuBox",""],[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"changePostObjEvent","postObj"],[4,"ngIf"],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],["name","lock","size","18",3,"ngClass"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"change","formControl"]],template:function(j,I){if(1&j){const lt=o.RV6();o.j41(0,"div",2)(1,"div",3),o.nrm(2,"azt-create-avatar",4),o.k0s(),o.j41(3,"div",5)(4,"a",6),o.EFF(5),o.k0s(),o.j41(6,"div",7),o.EFF(7),o.nI1(8,"relativeTime"),o.k0s()()(),o.DNE(9,N,1,1,"ng-container",8),o.j41(10,"div",9),o.nrm(11,"azt-see-more-multiple-lines",10),o.k0s(),o.nrm(12,"app-list-images-post",11)(13,"hr",12),o.j41(14,"app-news-emotions",13),o.bIt("changePostObjEvent",function(y){return o.eBV(lt),o.Njj(I.changeEmotionEventEvent(y))}),o.k0s(),o.DNE(15,wt,3,2,"div",14)(16,A,25,19,"ng-template",null,0,o.C5r)}if(2&j){let lt;o.R7$(2),o.Y8G("nameCreateAvatar",null==I.postObj.user?null:I.postObj.user.fullName)("linkAvatar",null==I.postObj.user?null:I.postObj.user.avatar)("size",36),o.R7$(3),o.SpI("",null==I.postObj.user?null:I.postObj.user.fullName,"\xa0"),o.R7$(2),o.JRh(o.bMT(8,11,I.postObj.createdAt)),o.R7$(2),o.Y8G("ngIf",!I.isStudent),o.R7$(2),o.Y8G("content",I.postObj.content)("maxLine",0==(null!==(lt=null==I.postObj.images?null:I.postObj.images.length)&&void 0!==lt?lt:0)?I.postObj.content.length:10),o.R7$(),o.Y8G("images",I.postObj.images),o.R7$(2),o.Y8G("postObj",I.postObj),o.R7$(),o.Y8G("ngIf",I.postObj.isShowCommentBox)}},dependencies:[h.YU,h.bT,h.T3,bt.kk,bt.Cp,a.Zm,a.BC,a.l_,Z.p,W,it.WGl,te,Ee,Me,Et.wp,Et.NA],encapsulation:2}),rt})();const K=T=>[T],tt=()=>({"zoom-in":!0});function Gt(T,rt){if(1&T){const P=o.RV6();o.j41(0,"app-new-list-images",13),o.mxI("filesChange",function(I){o.eBV(P);const lt=o.XpG();return o.DH7(lt.files,I)||(lt.files=I),o.Njj(I)}),o.k0s()}if(2&T){const P=o.XpG();o.R50("files",P.files)}}function Qt(T,rt){1&T&&o.nrm(0,"azt-loading-ui",14)}let ae=(()=>{var T;class rt extends e.H{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let j={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(I=>I.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsIdPut(this.postObj.id,j)).subscribe(I=>{if(!I.success)return this.errorStatusObj(I.message,!0);this.successStatusObj("lang_cms_update_success",!0);let lt=[];this.files.forEach(ne=>{lt.push({id:0,newsId:this.postObj?.id??0,imageLink:ne.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=j.content,this.postObj.images=lt,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]}))}}handleUploadComplete(j){this.files.push(...j)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(j=>{this.files.push({name:"",mimes:"image/jpeg",url:j.imageLink})})}constructor(j,I){super(),this.newsService=j,this.userService=I,this.changePostObjEvent=new o.bkB,this.contentFormControl=new a.MJ("",{nonNullable:!0,validators:[nt.M.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=C.b8,this.allUploadFileTypes=C.PO}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(i.bH),o.rXU(z.R))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[o.Vt3],decls:21,vars:25,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadComplete","uploadToCdnMenu","fileType"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"filesChange","files"],[1,"mr-1"]],template:function(j,I){1&j&&(o.j41(0,"div")(1,"div",0),o.nrm(2,"azt-create-avatar",1),o.j41(3,"div",2)(4,"textarea",3),o.nI1(5,"mytranslate"),o.EFF(6,"            "),o.k0s()()(),o.DNE(7,Gt,1,1,"app-new-list-images",4),o.j41(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),o.bIt("uploadComplete",function(ne){return I.handleUploadComplete(ne)}),o.j41(11,"span",8),o.nrm(12,"lucide-icon",9),o.nI1(13,"mytranslate"),o.k0s()(),o.j41(14,"button",10),o.bIt("click",function(){return I.cancel()}),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s(),o.j41(17,"button",11),o.bIt("click",function(){return I.saveNewPost()}),o.DNE(18,Qt,1,0,"azt-loading-ui",12),o.EFF(19),o.nI1(20,"mytranslate"),o.k0s()()()()),2&j&&(o.R7$(2),o.Y8G("nameCreateAvatar",I.userObj.fullName)("linkAvatar",I.userObj.avatar)("size",36),o.R7$(2),o.FS9("placeholder",o.bMT(5,14,"lang_business_news_post_content")),o.Y8G("formControl",I.contentFormControl),o.R7$(3),o.Y8G("ngIf",I.files.length),o.R7$(3),o.Y8G("uploadToCdnMenu",I.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",o.eq3(22,K,I.allUploadFileTypes.IMAGE)),o.R7$(2),o.FS9("matTooltip",o.bMT(13,16,"lang_core_tai_anh")),o.Y8G("ngClass",o.lJ4(24,tt)),o.R7$(3),o.SpI(" ",o.bMT(16,18,"lang_cms_common_close_btn")," "),o.R7$(2),o.Y8G("disabled",""==I.contentFormControl.value||I.statusObj.loading),o.R7$(),o.Y8G("ngIf",I.statusObj.loading),o.R7$(),o.SpI(" ",o.bMT(20,20,"lang_business_news_update_post_button")," "))},dependencies:[h.YU,h.bT,It.fg,v.oV,a.me,a.BC,a.l_,Z.p,et.j,xt.R,dt.V,it.WGl,H,Et.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),rt})();function se(T,rt){if(1&T){const P=o.RV6();o.j41(0,"div",5)(1,"input",11),o.bIt("click",function(){o.eBV(P);const I=o.XpG();return o.Njj(I.selectedViewNewsSchool(!0))}),o.k0s(),o.j41(2,"label",12),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}if(2&T){const P=o.XpG();o.R7$(),o.Y8G("value",1)("formControl",P.isSchoolControl),o.R7$(2),o.JRh(o.bMT(4,3,"lang_azt_truong_hoc"))}}function re(T,rt){if(1&T){const P=o.RV6();o.j41(0,"div",13)(1,"app-news-add-new-post",14),o.bIt("changePostObjEvent",function(I){o.eBV(P);const lt=o.XpG();return o.Njj(lt.changePostObj(lt.enumNewsPostActionType.ADD_NEW,I))}),o.k0s()()}if(2&T){const P=o.XpG();o.R7$(),o.Y8G("classroomId",P.classroomId)("isSchool",P.isSchoolControl.getRawValue())}}function le(T,rt){if(1&T&&(o.j41(0,"div",15),o.nrm(1,"azt-loading-effect",16),o.k0s()),2&T){const P=o.XpG();o.R7$(),o.Y8G("currentStatusObj",P.statusObj)}}function ce(T,rt){if(1&T){const P=o.RV6();o.qex(0),o.j41(1,"app-news-view-post",20),o.bIt("changePostObjEvent",function(I){o.eBV(P);const lt=o.XpG(3);return o.Njj(lt.changePostObj(I.actionType,I.postObj))}),o.k0s(),o.bVm()}if(2&T){const P=o.XpG().$implicit,j=o.XpG(2);o.R7$(),o.Y8G("isStudent",j.isStudent)("postObj",P)}}function Ae(T,rt){if(1&T){const P=o.RV6();o.j41(0,"app-news-edit-post",21),o.bIt("changePostObjEvent",function(I){o.eBV(P);const lt=o.XpG(3);return o.Njj(lt.changePostObj(lt.enumNewsPostActionType.UPDATE,I))}),o.k0s()}if(2&T){const P=o.XpG().$implicit,j=o.XpG(2);o.Y8G("postObj",P)("classroomId",j.classroomId)}}function Pe(T,rt){if(1&T&&(o.j41(0,"div",18),o.DNE(1,ce,2,2,"ng-container",19)(2,Ae,1,2,"ng-template",null,1,o.C5r),o.k0s()),2&T){const P=rt.$implicit,j=o.sdS(3);o.R7$(),o.Y8G("ngIf",!P.isShowEditForm)("ngIfElse",j)}}function ye(T,rt){1&T&&(o.j41(0,"div",13)(1,"div",22)(2,"div",23),o.nrm(3,"azt-svg-icon",24),o.j41(4,"p",25),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s()()()()),2&T&&(o.R7$(3),o.Y8G("size",87),o.R7$(2),o.JRh(o.bMT(6,2,"lang_student_news_there_is_no_news")+"!"))}function ke(T,rt){1&T&&o.nrm(0,"azt-loading-ui")}function Oe(T,rt){if(1&T){const P=o.RV6();o.j41(0,"button",27),o.nI1(1,"mytranslate"),o.bIt("click",function(){o.eBV(P);const I=o.XpG(3);return o.Njj(I.getNextPage())}),o.nrm(2,"lucide-icon",28),o.k0s()}2&T&&o.FS9("matTooltip",o.bMT(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function Ge(T,rt){if(1&T&&(o.j41(0,"div",13)(1,"div",26),o.DNE(2,ke,1,0,"azt-loading-ui",19)(3,Oe,3,3,"ng-template",null,2,o.C5r),o.k0s()()),2&T){const P=o.sdS(4),j=o.XpG(2);o.R7$(2),o.Y8G("ngIf",j.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",P)}}function $e(T,rt){if(1&T&&o.DNE(0,Pe,4,2,"div",17)(1,ye,7,4,"div",9)(2,Ge,5,2,"div",9),2&T){const P=o.XpG();o.Y8G("ngForOf",P.postObjs),o.R7$(),o.Y8G("ngIf",P.postObjs.length<=0),o.R7$(),o.Y8G("ngIf",P.postObjs.length&&P.sAztNextPaginationService.hasNextPage)}}let Ne=(()=>{var T;class rt extends e.H{selectedViewNewsSchool(j){let I=(this.isStudent?"/student/classroom-details/":"/admin/student/classroom-details/")+this.classroomId+"/2";j?(this.isSchoolControl.setValue(1),this.commonService.myNavigationWithQueryString(I,"?type=1")):(this.isSchoolControl.setValue(0),this.commonService.myNavigationWithQueryString(I,"?type=0")),this.postObjs=[],this.getData(!1)}changePostObj(j,I){switch(j){case b.ADD_NEW:this.postObjs.unshift(I);break;case b.UPDATE:this.postObjs=this.postObjs.map(lt=>lt.id==I.id?I:lt);break;case b.DELETE:this.postObjs=this.postObjs.filter(lt=>lt.id!=I.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(j){var I={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent,isSchool:this.isSchoolControl.getRawValue()};j?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsListPost(I)).subscribe(lt=>{if(!lt.success)return this.errorStatusObj(lt.message,!0);let ne={page:1,size:-1,newsIds:lt.data?.list.map(y=>y.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.wrapApiResponse(this.newsService.apiNewsEmotionsListPost(ne)).subscribe(y=>{if(!y.success)return this.errorStatusObj(y.message,!0);let ct=this.commonService.arrayToUniqueDictionary(y.data?.list??[],F=>F.newsId.toString());lt.data?.list.forEach(F=>{this.postObjs.push({...F,hasLoveEmotion:ct.hasOwnProperty(F.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(lt.data?.total??0),this.stopStatusObj()}))}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){"1"==this.getMyQueryParam("type")&&this.isSchoolControl.setValue(1),this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(j,I){super(),this.newsService=j,this.sAztNextPaginationService=I,this.isSchoolControl=new a.MJ(0,{nonNullable:!0}),this.postObjs=[],this.enumNewsPostActionType=b}}return(T=rt).\u0275fac=function(j){return new(j||T)(o.rXU(i.bH),o.rXU(s.h))},T.\u0275cmp=o.VBU({type:T,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[o.Jv_([s.h]),o.Vt3,o.OA$],decls:15,vars:12,consts:[["doneLoading",""],["showEditForm",""],["doneLoadNextPage",""],[1,"grid","grid-cols-12"],[1,"col-span-12","font-medium","flex","items-center","mb-3"],[1,"flex","ml-5","items-center"],["azt-track-service","posts-x27NMu5qsN","id","classroom","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"click","value","formControl"],["for","classroom",1,"pl-2","form-check-label"],["class","flex ml-5 items-center",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["azt-track-service","posts-KOM2BXgAQ","id","school","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"click","value","formControl"],["for","school",1,"pl-2","form-check-label"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"changePostObjEvent","classroomId","isSchool"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],[3,"changePostObjEvent","isStudent","postObj"],[3,"changePostObjEvent","postObj","classroomId"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"click","matTooltip"],["name","chevron-down","size","20"]],template:function(j,I){if(1&j){const lt=o.RV6();o.j41(0,"div",3)(1,"div",4)(2,"p"),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s(),o.j41(5,"div",5)(6,"input",6),o.bIt("click",function(){return o.eBV(lt),o.Njj(I.selectedViewNewsSchool(!1))}),o.k0s(),o.j41(7,"label",7),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s()(),o.DNE(10,se,5,5,"div",8),o.k0s(),o.DNE(11,re,2,2,"div",9)(12,le,2,1,"div",10)(13,$e,3,3,"ng-template",null,0,o.C5r),o.k0s()}if(2&j){const lt=o.sdS(14);o.R7$(3),o.JRh(o.bMT(4,8,"lang_azt_hien_ban_tin_theo")),o.R7$(3),o.Y8G("value",0)("formControl",I.isSchoolControl),o.R7$(2),o.JRh(o.bMT(9,10,"lang_auto_lop_hoc")),o.R7$(2),o.Y8G("ngIf",I.isBusinessDomain),o.R7$(),o.Y8G("ngIf",!I.isStudent),o.R7$(),o.Y8G("ngIf",I.statusObj.loading)("ngIfElse",lt)}},dependencies:[h.Sq,h.bT,v.oV,a.me,a.Fm,a.BC,a.l_,n.K,xt.R,gt.m,it.WGl,J,U,ae,Et.wp],encapsulation:2}),rt})()},14505:(Vt,St,_)=>{_.d(St,{h:()=>ot});var a=_(54460),s=_(10936),e=_(89163),b=_(65162),o=_(69223),i=_(23047),h=_(15343),v=_(13763),n=_(10123),xt=_(25571),gt=_(44233),it=_(20378),nt=_(5502),C=_(21656),z=_(70050),It=_(7050),et=_(35143),dt=_(43234),ut=_(39900),st=_(48891);let ot=(()=>{var _t;class H{}return(_t=H).\u0275fac=function(q){return new(q||_t)},_t.\u0275mod=st.$C({type:_t}),_t.\u0275inj=st.G2t({providers:[{provide:o.vn,useValue:dt.c.azt_tiny_mce_script_src}],imports:[b.iI,a.MD,C.s,it.T_,o.sv,s.YN,s.X1,e.hM,z.L,v.Lk,xt.xv,et.Q,It.b,n.AC,h.flO.pick(h.Ptg),nt.Id,i.Fr,ut.Q,gt.An]}),H})()},66257:(Vt,St,_)=>{_.d(St,{H:()=>a});var a=function(s){return s.none="None",s.asc="Asc",s.desc="Desc",s}(a||{})},40111:(Vt,St,_)=>{_.d(St,{k:()=>o});var a=_(64198),s=_(73202),e=_(48891),b=_(53793);let o=(()=>{var i;class h{getMineTypeByFileType(n){let gt="";switch(this.commonService.getEnumTypeWithDefault(s.d,n,s.d.unknown)){case s.d.doc:case s.d.docx:gt="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case s.d.ppt:case s.d.pptx:gt="application/vnd.openxmlformats-officedocument.presentationml.presentation";break;case s.d.xlsx:gt="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case s.d.pdf:gt="application/pdf";break;case s.d.video:case s.d.mp4:gt="video/mp4";break;case s.d.mov:gt="video/mov";break;case s.d.webm:gt="video/webm";break;case s.d.quicktime:gt="video/quicktime";break;case s.d.audio:gt="audio/mpeg";break;case s.d.mp3:gt="audio/mp3";break;case s.d.wav:gt="audio/wav";break;case s.d.jpeg:case s.d.image:gt="image/jpeg";break;case s.d.google_docs:gt="google_docs"}return gt}getMineTypeByExtension(n){switch(new RegExp(/(?:\.([^.]+))?$/).exec(n)?.[1]){case"pdf":return"application/pdf";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"xsl":case"csv":return"application/vnd.ms-excel";case"jpg":return"image/jpg";case"jpge":return"image/jpge";default:return"application/json-patch+json"}}getTypeFileByMime(n){return n.mimes&&(0,a.I7)(n.mimes)||n.name?.toLowerCase().endsWith(".azt")?s.d.docx:n.mimes&&(0,a.nL)(n.mimes)?s.d.xlsx:n.mimes&&(0,a.JK)(n.mimes)?s.d.audio:n.mimes&&(0,a.cZ)(n.mimes)?s.d.video:n.mimes&&(0,a.wu)(n.mimes)?s.d.image:n.mimes&&(0,a.Ev)(n.mimes)?s.d.pdf:n.mimes&&(0,a.rl)(n.mimes)?s.d.powerpoint:void 0}constructor(n){this.commonService=n}}return(i=h).\u0275fac=function(n){return new(n||i)(e.KVO(b.R))},i.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),h})()},26988:(Vt,St,_)=>{_.d(St,{h:()=>s});var a=_(48891);let s=(()=>{var e;class b{constructor(){this.itemPerPage=20,this.curPage=1,this.hasNextPage=!1,this.isLoadingNextPage=!1,this.totalRecord=0}setTotalItemPerPage(i){this.itemPerPage=i}setLoading(i){this.isLoadingNextPage=i}setNextPage(){this.curPage+=1}resetToFirstPage(){this.curPage=1}setTotalRecord(i){return this.totalRecord=i,this.hasNextPage=this.curPage*this.itemPerPage<this.totalRecord,this.hasNextPage}}return(e=b).\u0275fac=function(i){return new(i||e)},e.\u0275prov=a.jDH({token:e,factory:e.\u0275fac,providedIn:null}),b})()},48725:(Vt,St,_)=>{_.d(St,{s:()=>s});var a=_(66257);class s{resetSortFieldName(b){this.fieldNameList.forEach(o=>{o.fieldName!==b.fieldName&&(o.typeFieldSort=this.typeFieldSort.none)})}setFieldNameList(b){this.fieldNameList=b}convertDataSort(b){switch(this.resetSortFieldName(b),b.typeFieldSort){case this.typeFieldSort.none:b.typeFieldSort=this.typeFieldSort.asc;break;case this.typeFieldSort.asc:b.typeFieldSort=this.typeFieldSort.desc;break;case this.typeFieldSort.desc:b.typeFieldSort=this.typeFieldSort.none}return{fieldName:b.fieldName,descending:b.typeFieldSort===this.typeFieldSort.desc,ignore:b.typeFieldSort===this.typeFieldSort.none}}constructor(){this.typeFieldSort=a.H,this.fieldNameList=[]}}},93493:(Vt,St,_)=>{_.d(St,{i:()=>a});class a{static validateUserName(e){let h=e.value??"";return 0==h.length?null:/[a-zA-Z]/.test(h)&&/^[a-zA-Z0-9_-]+$/.test(h)?h.length<3&&h.length>0?{isShort:!0}:h.length>50?{isLong:!0}:null:{isLetter:!0}}}},67081:(Vt,St,_)=>{_.d(St,{X:()=>ut});var a=_(82653),s=_(59640),e=_(48891),b=_(62221),o=_(54460),i=_(47426),h=_(95670),v=_(4375),n=_(10123),xt=_(52811),gt=_(76975);const it=()=>[];function nt(st,ot){if(1&st){const _t=e.RV6();e.j41(0,"mat-option",14),e.bIt("click",function(){const Et=e.eBV(_t).index,q=e.XpG();return e.Njj(q.filterByMonth(Et))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.k0s()()}if(2&st){const _t=ot.index;e.Y8G("value",_t),e.R7$(2),e.SpI(" ",_t?e.bMT(3,2,"lang_core_thang")+" "+_t:e.bMT(4,4,"lang_auto_tat_ca")," ")}}function C(st,ot){1&st&&(e.j41(0,"tr",15)(1,"td",16)(2,"span",17),e.nrm(3,"azt-loading-ui"),e.k0s()()())}function z(st,ot){if(1&st&&(e.j41(0,"tr")(1,"td",15),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.k0s(),e.j41(6,"td",15),e.EFF(7),e.k0s(),e.j41(8,"td",15)(9,"span",20),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"td",15),e.EFF(13),e.k0s()()),2&st){const _t=ot.$implicit,H=ot.index;e.R7$(2),e.JRh(H+1),e.R7$(2),e.JRh(e.bMT(5,6,_t.sessionTime)),e.R7$(3),e.SpI(" ",_t.className," "),e.R7$(2),e.Y8G("ngClass",_t.absent?"bg-danger":"bg-success"),e.R7$(),e.SpI(" ",e.bMT(11,8,_t.absent?"lang_business_vang_mat":"lang_business_co_mat")," "),e.R7$(3),e.SpI(" ",_t.reason," ")}}function It(st,ot){if(1&st&&(e.qex(0),e.DNE(1,z,14,10,"tr",19),e.bVm()),2&st){const _t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",_t.attendanceObjs)}}function et(st,ot){1&st&&(e.j41(0,"tr")(1,"td",21),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&st&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}function dt(st,ot){if(1&st&&e.DNE(0,It,2,1,"ng-container",18)(1,et,4,3,"ng-template",null,1,e.C5r),2&st){const _t=e.sdS(2),H=e.XpG();e.Y8G("ngIf",H.attendanceObjs.length)("ngIfElse",_t)}}let ut=(()=>{var st;class ot extends s.H{constructor(H){super(),this.studentService=H,this.classroomIds=[],this.title="lang_student_attendance_info",this.attendanceObjs=[]}getAttendances(H){if(this.initStatusObj(),this.attendanceObjs=[],this.isTqbDomain){const Et=this.classroomIds.map(q=>this.studentService.apiStudentsAttendancesMeGet(q,void 0,H));this.wrapApiResponse((0,a.p)(Et)).subscribe(q=>{q.data?.forEach(at=>{if(!at)return this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0);this.attendanceObjs=this.attendanceObjs.concat(at.list)}),this.successStatusObj()})}}filterByMonth(H){this.getAttendances(H)}ngOnChanges(){this.getAttendances()}ngOnInit(){super.ngOnInit()}}return(st=ot).\u0275fac=function(H){return new(H||st)(e.rXU(b.b0))},st.\u0275cmp=e.VBU({type:st,selectors:[["azt-attendance-table"]],inputs:{classroomIds:"classroomIds",title:"title"},features:[e.Vt3,e.OA$],decls:33,vars:29,consts:[["doneLoading",""],["noTuitionFee",""],[1,"flex","items-center","justify-between"],[1,"text-base","font-medium","w-full"],["appearance","outline",2,"border-radius","5px","background","white","width","auto"],[3,"placeholder"],[3,"value","click",4,"ngFor","ngForOf"],["drag-scroll-item","",1,"table","table-bordered","mt-5",2,"white-space","initial","display","table","background","white"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],[3,"click","value"],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"py-0.5","px-2","rounded-full","text-xs","text-white","cursor-pointer","font-medium",3,"ngClass"],["colspan","4",1,"text-center"]],template:function(H,Et){if(1&H&&(e.j41(0,"div")(1,"div",2)(2,"p",3),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"mat-form-field",4)(6,"mat-select",5),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.DNE(9,nt,5,6,"mat-option",6),e.k0s()()(),e.j41(10,"drag-scroll")(11,"table",7)(12,"thead",8)(13,"tr")(14,"th",9),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s(),e.j41(17,"th",10),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s(),e.j41(20,"th",11),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"th",12),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.j41(26,"th",11),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,C,4,0,"tr",13)(31,dt,3,2,"ng-template",null,0,e.C5r),e.k0s()()()()),2&H){const q=e.sdS(32);e.R7$(3),e.JRh(e.bMT(4,12,Et.title)),e.R7$(3),e.FCK("placeholder","",e.bMT(7,14,"azt_lang_sugg_filter")," ",e.bMT(8,16,"lang_auto_month"),""),e.R7$(3),e.Y8G("ngForOf",e.lJ4(28,it).constructor(13)),e.R7$(6),e.SpI(" ",e.bMT(16,18,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(19,20,"lang_core_thoi_gian_hoc")," "),e.R7$(3),e.SpI(" ",e.bMT(22,22,"lang_auto_lop_hoc")," "),e.R7$(3),e.SpI(" ",e.bMT(25,24,"lang_student_status")," "),e.R7$(3),e.SpI(" ",e.bMT(28,26,"lang_business_reason_for_leave")," "),e.R7$(3),e.Y8G("ngIf",Et.statusObj.loading)("ngIfElse",q)}},dependencies:[o.YU,o.Sq,o.bT,i.wT,h.rl,v.VO,n.jd,n.Ew,xt.R,gt.wp,gt.i_],encapsulation:2}),ot})()},45344:(Vt,St,_)=>{_.d(St,{u:()=>Et});var a=_(81519),s=_(48891),e=_(34514),b=_(47426),o=_(60902),i=_(99503),h=_(79347),v=_(9691),n=_(59640),xt=_(74742),gt=_(46899),it=_(17187),nt=_(54460),C=_(12992),z=_(95670),It=_(4375),et=_(10936),dt=_(52811),ut=_(76975);function st(q,at){1&q&&(s.j41(0,"div",7),s.nrm(1,"azt-loading-ui"),s.k0s())}function ot(q,at){if(1&q){const Ct=s.RV6();s.j41(0,"div",11)(1,"mat-checkbox",12),s.mxI("ngModelChange",function(J){s.eBV(Ct);const jt=s.XpG().$implicit;return s.DH7(jt.selected,J)||(jt.selected=J),s.Njj(J)}),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s()()}if(2&q){const Ct=s.XpG().$implicit;s.R7$(),s.R50("ngModel",Ct.selected),s.Y8G("checked",Ct.selected),s.R7$(),s.SpI(" ",s.bMT(3,3,"lang_core_thang")+" "+Ct.month+"/"+Ct.year," ")}}function _t(q,at){if(1&q&&(s.qex(0),s.DNE(1,ot,4,5,"div",10),s.bVm()),2&q){const Ct=at.$implicit,Ft=s.XpG(2);s.R7$(),s.Y8G("ngIf",Ct.year==Ft.currentYearSelect)}}function H(q,at){if(1&q&&(s.j41(0,"div",8),s.DNE(1,_t,2,1,"ng-container",9),s.k0s()),2&q){const Ct=s.XpG();s.R7$(),s.Y8G("ngForOf",Ct.checkboxMonth.checkboxMonth)}}let Et=(()=>{var q;class at extends n.H{isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(Ft=>1==Ft.selected)}getHistoriesMonth(){this.histories||(this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentStudentIdGet(this.checkboxMonth.studentId)).subscribe(Ft=>{if(!Ft.success)return this.isSaving=!1,void this.errorStatusObj(Ft.message,!0);this.checkboxMonth.checkboxMonth.map(J=>J.selected=null!=Ft.data?.histories.find(jt=>jt.month==J.month&&J.year==jt.year)),this.stopStatusObj()})))}ngOnInit(){super.ngOnInit(),this.getHistoriesMonth()}constructor(Ft,J,jt){super(),this.sAztDialogService=Ft,this.sAztTimeService=J,this.paymentService=jt,this.checkboxMonth=new o.L,this.sendListMonth=new s.bkB,this.studentForm=new xt.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,this.currentYearSelect=this.currentDate.getFullYear()}ngOnDestroy(){super.ngOnDestroy()}}return(q=at).\u0275fac=function(Ft){return new(Ft||q)(s.rXU(gt.i),s.rXU(v.F),s.rXU(it.W))},q.\u0275cmp=s.VBU({type:q,selectors:[["azt-checkbox-month"]],inputs:{checkboxMonth:"checkboxMonth",histories:"histories"},outputs:{sendListMonth:"sendListMonth"},features:[s.Jv_([{provide:a.$O,useClass:i.fb,deps:[b.Ju,e.ij]},{provide:a.vq,useFactory:h.fJ,deps:[v.F]}]),s.Vt3],decls:19,vars:18,consts:[[1,"w-full"],[1,"text-md","font-medium","flex","items-center",2,"justify-content","space-between"],["appearance","outline",1,"mb-2",2,"width","50%"],[3,"valueChange","value"],[3,"value"],["class","p-5 flex justify-center",4,"ngIf"],["class","mt-1 grid grid-cols-12 gap-3","style","flex-wrap: wrap",4,"ngIf"],[1,"p-5","flex","justify-center"],[1,"mt-1","grid","grid-cols-12","gap-3",2,"flex-wrap","wrap"],[4,"ngFor","ngForOf"],["class","mt-1 col-span-6 md:col-span-4","style","min-width: 96px",4,"ngIf"],[1,"mt-1","col-span-6","md:col-span-4",2,"min-width","96px"],[1,"example-margin",3,"ngModelChange","ngModel","checked"]],template:function(Ft,J){1&Ft&&(s.j41(0,"div",0)(1,"h3",1),s.EFF(2),s.nI1(3,"mytranslate"),s.nI1(4,"mytranslate"),s.nI1(5,"mytranslate"),s.j41(6,"mat-form-field",2)(7,"mat-select",3),s.mxI("valueChange",function(Ot){return s.DH7(J.currentYearSelect,Ot)||(J.currentYearSelect=Ot),Ot}),s.j41(8,"mat-option",4)(9,"span"),s.EFF(10),s.k0s()(),s.j41(11,"mat-option",4)(12,"span"),s.EFF(13),s.k0s()(),s.j41(14,"mat-option",4)(15,"span"),s.EFF(16),s.k0s()()()()(),s.DNE(17,st,2,0,"div",5)(18,H,2,1,"div",6),s.k0s()),2&Ft&&(s.R7$(2),s.E5c(" ",s.bMT(3,12,"lang_test_market_withdraw_time")," ",s.bMT(4,14,"lang_core_nop_hoc_phi").toLocaleLowerCase()," ",s.bMT(5,16,"lang_core_nam").toLocaleLowerCase()," "),s.R7$(5),s.R50("value",J.currentYearSelect),s.R7$(),s.Y8G("value",J.currentDate.getFullYear()-1),s.R7$(2),s.SpI(" ",J.currentDate.getFullYear()-1," "),s.R7$(),s.Y8G("value",J.currentDate.getFullYear()),s.R7$(2),s.SpI(" ",J.currentDate.getFullYear()," "),s.R7$(),s.Y8G("value",J.currentDate.getFullYear()+1),s.R7$(2),s.SpI(" ",J.currentDate.getFullYear()+1," "),s.R7$(),s.Y8G("ngIf",J.statusObj.loading),s.R7$(),s.Y8G("ngIf",!J.statusObj.loading))},dependencies:[nt.Sq,nt.bT,b.wT,C.So,z.rl,It.VO,et.BC,et.vS,dt.R,ut.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),at})()},2915:(Vt,St,_)=>{_.d(St,{U:()=>n});var a=_(59640),s=_(48891),e=_(54460),b=_(89163),o=_(5502);const i=["aztDialogContentBox"],h=["*"],v=(xt,gt)=>({"width.px":xt,"height.%":100,"--scrollbar-size":gt});let n=(()=>{var xt;class gt extends a.H{checkHeightOfElement(){if(!this.aztDialogContentBox)return;var nt=this.aztDialogContentBox.nativeElement.querySelector("."+this.contentBoxClassName);if(!nt)return;let C=Math.round(window.innerHeight*this.defaultHeight/100),z=nt.getBoundingClientRect().height+1,It=!(z<C),et=(z<C?z:C)+"px",dt="72vh";It!=this.isScroll&&(this.isScroll=It),this.aztDialogContentBox.nativeElement.style.height!=et&&(this.aztDialogContentBox.nativeElement.style.height=et),this.aztDialogContentBox.nativeElement.style.maxHeight!=dt&&(dt=et),this.minHeight&&(this.aztDialogContentBox.nativeElement.style.minHeight=this.minHeight)}ngAfterViewChecked(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.checkHeightOfElement()},0)})}constructor(nt){super(),this.ngZone=nt,this.defaultHeight=72,this.defaultWidth=0,this.minHeight=void 0,this.isScroll=!1,this.contentBoxClassName="azt-mat-dialog-content-box"}}return(xt=gt).\u0275fac=function(nt){return new(nt||xt)(s.rXU(s.SKi))},xt.\u0275cmp=s.VBU({type:xt,selectors:[["azt-mat-dialog-content"]],viewQuery:function(nt,C){if(1&nt&&s.GBs(i,5),2&nt){let z;s.mGM(z=s.lsd())&&(C.aztDialogContentBox=z.first)}},inputs:{defaultHeight:"defaultHeight",defaultWidth:"defaultWidth",minHeight:"minHeight"},features:[s.Vt3],ngContentSelectors:h,decls:5,vars:7,consts:[["aztDialogContentBox",""],["scrollViewport","","pointerEventsMethod","scrollbar",3,"visibility","ngStyle"]],template:function(nt,C){1&nt&&(s.NAR(),s.j41(0,"mat-dialog-content",null,0)(2,"ng-scrollbar",1)(3,"div"),s.SdG(4),s.k0s()()()),2&nt&&(s.R7$(2),s.Y8G("visibility","hover")("ngStyle",s.l_i(4,v,C.defaultWidth||"auto",C.isScroll?"5px":"0")),s.R7$(),s.HbH(C.contentBoxClassName))},dependencies:[e.B3,b.Yi,o.Yh,o.Gl],encapsulation:2}),gt})()},91584:(Vt,St,_)=>{_.d(St,{m:()=>Ot});var a=_(46840),s=_(59640),e=_(73202),b=_(48891),o=_(54460),i=_(47712),h=_(15343),v=_(69135),n=_(76975);const xt=(L,yt,Mt)=>({"p-2 border  dark:border-darkmode-400 rounded-md":L,"border-slate-200/60":yt,"border-primary":Mt}),gt=L=>({"vertical-align":L}),it=L=>({flex:L}),nt=(L,yt)=>({truncate:L,block:yt});function C(L,yt){if(1&L&&(b.qex(0),b.nrm(1,"img",5),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L){const Mt=b.XpG();b.R7$(),b.Y8G("ngStyle",b.eq3(4,gt,Mt.iconVerticalStyle))("src",b.bMT(2,2,"images/type_file/unknown-file.svg"),b.B4B)}}function z(L,yt){if(1&L&&(b.qex(0),b.nrm(1,"img",6),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L){const Mt=b.XpG();b.R7$(),b.Y8G("ngStyle",b.eq3(4,gt,Mt.iconVerticalStyle))("src",b.bMT(2,2,"images/excel.png"),b.B4B)}}function It(L,yt){if(1&L&&(b.qex(0),b.nrm(1,"img",7),b.nI1(2,"mycdn"),b.bVm()),2&L){const Mt=b.XpG();b.R7$(),b.Y8G("ngStyle",b.eq3(4,gt,Mt.iconVerticalStyle))("src",b.bMT(2,2,Mt.url),b.B4B)}}function et(L,yt){if(1&L&&(b.qex(0),b.nrm(1,"img",8),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L){const Mt=b.XpG();b.R7$(),b.Y8G("ngStyle",b.eq3(4,gt,Mt.iconVerticalStyle))("src",b.bMT(2,2,"images/type_file/word.svg"),b.B4B)}}function dt(L,yt){if(1&L&&(b.qex(0),b.nrm(1,"img",9),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L){const Mt=b.XpG();b.R7$(),b.Y8G("ngStyle",b.eq3(4,gt,Mt.iconVerticalStyle))("src",b.bMT(2,2,"images/type_file/ppt.svg"),b.B4B)}}function ut(L,yt){if(1&L&&(b.qex(0),b.nrm(1,"img",10),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L){const Mt=b.XpG();b.R7$(),b.Y8G("ngStyle",b.eq3(4,gt,Mt.iconVerticalStyle))("src",b.bMT(2,2,"images/type_file/pdf.svg"),b.B4B)}}function st(L,yt){if(1&L&&(b.qex(0),b.nrm(1,"img",11),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L){const Mt=b.XpG();b.R7$(),b.Y8G("ngStyle",b.eq3(4,gt,Mt.iconVerticalStyle))("src",b.bMT(2,2,"images/type_file/video.svg"),b.B4B)}}function ot(L,yt){if(1&L&&(b.qex(0),b.nrm(1,"img",12),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L){const Mt=b.XpG();b.R7$(),b.Y8G("ngStyle",b.eq3(4,gt,Mt.iconVerticalStyle))("src",b.bMT(2,2,"images/type_file/audio.svg"),b.B4B)}}function _t(L,yt){1&L&&(b.qex(0),b.j41(1,"div",13),b.nrm(2,"lucide-icon",14),b.k0s(),b.bVm())}function H(L,yt){1&L&&(b.qex(0),b.j41(1,"div",13),b.nrm(2,"lucide-icon",15),b.k0s(),b.bVm())}function Et(L,yt){1&L&&(b.qex(0),b.j41(1,"div",13),b.nrm(2,"lucide-icon",16),b.k0s(),b.bVm())}function q(L,yt){1&L&&(b.qex(0),b.nrm(1,"img",17),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L&&(b.R7$(),b.Y8G("src",b.bMT(2,1,"images/type_file/word.svg"),b.B4B))}function at(L,yt){1&L&&(b.qex(0),b.nrm(1,"img",18),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L&&(b.R7$(),b.Y8G("src",b.bMT(2,1,"images/type_file/video.svg"),b.B4B))}function Ct(L,yt){1&L&&(b.qex(0),b.nrm(1,"img",19),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L&&(b.R7$(),b.Y8G("src",b.bMT(2,1,"images/type_file/pdf.svg"),b.B4B))}function Ft(L,yt){1&L&&(b.qex(0),b.nrm(1,"img",20),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L&&(b.R7$(),b.Y8G("src",b.bMT(2,1,"images/type_file/ppt.svg"),b.B4B))}function J(L,yt){1&L&&(b.qex(0),b.nrm(1,"img",21),b.nI1(2,"coreModConvertCdnLinkOfGitHub"),b.bVm()),2&L&&(b.R7$(),b.Y8G("src",b.bMT(2,1,"images/type_file/unknown-file.svg"),b.B4B))}function jt(L,yt){if(1&L&&(b.j41(0,"div",22)(1,"span",23,0),b.EFF(3),b.k0s()()),2&L){const Mt=b.sdS(2),bt=b.XpG();b.Y8G("ngClass",b.eq3(12,it,bt.truncateString)),b.R7$(),b.xc7("word-break",bt.truncateString?"":"break-all")("width",bt.textWidth)("max-width",bt.onlyOneLine?"90%":"100%"),b.FS9("matTooltip",bt.name),b.Y8G("ngClass",b.l_i(14,nt,bt.truncateString&&!bt.isMobileWebView,!bt.truncateString))("isDisabledTooltip",!1)("matTooltipDisabled",Mt.isDisabled),b.R7$(2),b.SpI(" ",bt.name," ")}}let Ot=(()=>{var L;class yt extends s.H{constructor(){super(...arguments),this.showBorder=!0,this.selectedBorder=!1,this.onlyOneLine=!1,this.url="",this.customClass="w-16 h-16",this.iconVerticalStyle="middle",this.textWidth="80%",this.truncateString=!0,this.allDocumentFileTypes=e.d,this.allShareDocumentMarketTypes=a.x}}return(L=yt).\u0275fac=(()=>{let Mt;return function(Z){return(Mt||(Mt=b.xGo(L)))(Z||L)}})(),L.\u0275cmp=b.VBU({type:L,selectors:[["azt-document-type-file"]],inputs:{type:"type",name:"name",showBorder:"showBorder",selectedBorder:"selectedBorder",onlyOneLine:"onlyOneLine",url:"url",customClass:"customClass",iconVerticalStyle:"iconVerticalStyle",textWidth:"textWidth",truncateString:"truncateString"},features:[b.Vt3],decls:20,vars:25,consts:[["c","isDisabled"],[1,"flex","items-center",3,"ngClass"],[1,"flex","w-full","items-center","overflow-hidden"],[4,"ngIf"],["class","ml-2 w-full",3,"ngClass",4,"ngIf"],["alt","unknown-icon",3,"ngStyle","src"],["alt","excel-icon",3,"ngStyle","src"],["alt","image",1,"rounded-md",3,"ngStyle","src"],["alt","docx-icon",3,"ngStyle","src"],["alt","ppt-icon",3,"ngStyle","src"],["alt","pdf-icon",3,"ngStyle","src"],["alt","video-icon",3,"ngStyle","src"],["alt","audio-icon",3,"ngStyle","src"],[1,"w-full","h-full","text-pending","inline-flex"],["name","chrome",1,"w-full","h-full"],["name","file-check",1,"w-full","h-full"],["name","file-text",1,"w-full","h-full"],["alt","word-icon",3,"src"],["alt","video-icon",3,"src"],["alt","pdf-icon",3,"src"],["alt","ppt-icon",3,"src"],["alt","unknown-icon",3,"src"],[1,"ml-2","w-full",3,"ngClass"],["matTooltipShowDelay","1000",1,"font-normal",3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"]],template:function(bt,Z){1&bt&&(b.j41(0,"div",1)(1,"div",2)(2,"div"),b.DNE(3,C,3,6,"ng-container",3)(4,z,3,6,"ng-container",3)(5,It,3,6,"ng-container",3)(6,et,3,6,"ng-container",3)(7,dt,3,6,"ng-container",3)(8,ut,3,6,"ng-container",3)(9,st,3,6,"ng-container",3)(10,ot,3,6,"ng-container",3)(11,_t,3,0,"ng-container",3)(12,H,3,0,"ng-container",3)(13,Et,3,0,"ng-container",3)(14,q,3,3,"ng-container",3)(15,at,3,3,"ng-container",3)(16,Ct,3,3,"ng-container",3)(17,Ft,3,3,"ng-container",3)(18,J,3,3,"ng-container",3),b.k0s(),b.DNE(19,jt,4,17,"div",4),b.k0s()()),2&bt&&(b.Y8G("ngClass",b.sMw(21,xt,Z.showBorder,!Z.selectedBorder,Z.selectedBorder)),b.R7$(2),b.ZvI("flex-none flex ",Z.customClass,""),b.R7$(),b.Y8G("ngIf",Z.type==Z.allDocumentFileTypes.unknown),b.R7$(),b.Y8G("ngIf",Z.type==Z.allDocumentFileTypes.xlsx),b.R7$(),b.Y8G("ngIf",Z.type===Z.allDocumentFileTypes.image||Z.type==Z.allDocumentFileTypes.jpeg),b.R7$(),b.Y8G("ngIf",Z.type===Z.allDocumentFileTypes.docx),b.R7$(),b.Y8G("ngIf",Z.type==Z.allDocumentFileTypes.ppt||Z.type==Z.allDocumentFileTypes.pptx||Z.type==Z.allDocumentFileTypes.powerpoint),b.R7$(),b.Y8G("ngIf",Z.type==Z.allDocumentFileTypes.pdf),b.R7$(),b.Y8G("ngIf",Z.type==Z.allDocumentFileTypes.video||Z.type==Z.allDocumentFileTypes.mp4||Z.type==Z.allDocumentFileTypes.mov||Z.type==Z.allDocumentFileTypes.webm||Z.type==Z.allDocumentFileTypes.quicktime),b.R7$(),b.Y8G("ngIf",Z.type==Z.allDocumentFileTypes.audio||Z.type==Z.allDocumentFileTypes.mp3||Z.type==Z.allDocumentFileTypes.wav),b.R7$(),b.Y8G("ngIf",Z.type==Z.allDocumentFileTypes.google_docs),b.R7$(),b.Y8G("ngIf",Z.type==Z.allDocumentFileTypes.exam),b.R7$(),b.Y8G("ngIf",Z.type==Z.allDocumentFileTypes.homework),b.R7$(),b.Y8G("ngIf",Z.type==Z.allShareDocumentMarketTypes.ref),b.R7$(),b.Y8G("ngIf",Z.type==Z.allShareDocumentMarketTypes.lecture),b.R7$(),b.Y8G("ngIf",Z.type==Z.allShareDocumentMarketTypes.teaching_plan),b.R7$(),b.Y8G("ngIf",Z.type==Z.allShareDocumentMarketTypes.slide),b.R7$(),b.Y8G("ngIf",Z.type==Z.allShareDocumentMarketTypes.unknown),b.R7$(),b.Y8G("ngIf",Z.name))},dependencies:[o.YU,o.bT,o.B3,i.oV,h.WGl,v.f,n.nf,n.Vs],encapsulation:2}),yt})()},93518:(Vt,St,_)=>{_.d(St,{k:()=>a});var a=function(s){return s.video="video",s.document="document",s.homework="homework",s.homework_view="homework_view",s.unknown="unknown",s}(a||{})},66729:(Vt,St,_)=>{_.d(St,{D:()=>it});var a=_(59640),s=_(48891),e=_(54460),b=_(47712),o=_(76975);function i(nt,C){1&nt&&(s.j41(0,"span",2),s.nI1(1,"mytranslate"),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s()),2&nt&&(s.FS9("matTooltip",s.bMT(1,2,"lang_auto_dat")),s.R7$(2),s.JRh(s.bMT(3,4,"lang_auto_d_upper")))}function h(nt,C){1&nt&&(s.j41(0,"span",2),s.nI1(1,"mytranslate"),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s()),2&nt&&(s.FS9("matTooltip",s.bMT(1,2,"lang_auto_chua_dat")),s.R7$(2),s.JRh(s.bMT(3,4,"lang_auto_cd_upper")))}function v(nt,C){1&nt&&(s.j41(0,"span",2),s.nI1(1,"mytranslate"),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s()),2&nt&&(s.FS9("matTooltip",s.bMT(1,2,"lang_auto_hoan_thanh")),s.R7$(2),s.JRh(s.bMT(3,4,"lang_auto_tag_ht")))}function n(nt,C){1&nt&&(s.j41(0,"span",2),s.nI1(1,"mytranslate"),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s()),2&nt&&(s.FS9("matTooltip",s.bMT(1,2,"lang_auto_chua_hoan_thanh")),s.R7$(2),s.SpI("",s.bMT(3,4,"lang_auto_tag_CHT")," "))}function xt(nt,C){1&nt&&(s.j41(0,"span",2),s.nI1(1,"mytranslate"),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s()),2&nt&&(s.FS9("matTooltip",s.bMT(1,2,"lang_auto_hoan_thanh_tot")),s.R7$(2),s.JRh(s.bMT(3,4,"lang_auto_tag_HTT")))}function gt(nt,C){if(1&nt&&(s.j41(0,"span",3),s.EFF(1),s.k0s()),2&nt){const z=s.XpG();s.R7$(),s.JRh(z.mark)}}let it=(()=>{var nt;class C extends a.H{constructor(){super(...arguments),this.mark=0}}return(nt=C).\u0275fac=(()=>{let z;return function(et){return(z||(z=s.xGo(nt)))(et||nt)}})(),nt.\u0275cmp=s.VBU({type:nt,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[s.Vt3],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(It,et){1&It&&s.DNE(0,i,4,6,"span",0)(1,h,4,6,"span",0)(2,v,4,6,"span",0)(3,n,4,6,"span",0)(4,xt,4,6,"span",0)(5,gt,2,1,"span",1),2&It&&(s.Y8G("ngIf","1000"==et.mark),s.R7$(),s.Y8G("ngIf","1001"==et.mark),s.R7$(),s.Y8G("ngIf","2000"==et.mark),s.R7$(),s.Y8G("ngIf","2001"==et.mark),s.R7$(),s.Y8G("ngIf","3000"==et.mark),s.R7$(),s.Y8G("ngIf","2001"!=et.mark&&"2000"!=et.mark&&"1001"!=et.mark&&"1000"!=et.mark&&"3000"!=et.mark))},dependencies:[e.bT,b.oV,o.wp],encapsulation:2}),C})()},74637:(Vt,St,_)=>{_.d(St,{E:()=>dt});var a=_(48891),s=_(59640),e=_(54460),b=_(17818),o=_(15343),i=_(76975);const h=()=>[];function v(ut,st){1&ut&&(a.j41(0,"span",12),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&ut&&(a.R7$(),a.JRh(a.bMT(2,1,"lang_core_thang")))}function n(ut,st){if(1&ut&&(a.j41(0,"span",12),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&ut){const ot=a.XpG();a.R7$(),a.Lme("",a.bMT(2,2,"lang_core_thang")," ",ot.dataFilter.monthSelected,"")}}function xt(ut,st){1&ut&&(a.j41(0,"span",12),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&ut&&(a.R7$(),a.JRh(a.bMT(2,1,"lang_core_nam")))}function gt(ut,st){if(1&ut&&(a.j41(0,"span",12),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&ut){const ot=a.XpG();a.R7$(),a.Lme("",a.bMT(2,2,"lang_core_nam")," ",ot.dataFilter.yearSelected,"")}}function it(ut,st){1&ut&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&ut&&(a.R7$(),a.JRh(a.bMT(2,1,"lang_auto_tat_ca")))}function nt(ut,st){if(1&ut&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&ut){const ot=a.XpG().index;a.R7$(),a.Lme("",a.bMT(2,2,"lang_core_thang")," ",ot,"")}}function C(ut,st){if(1&ut){const ot=a.RV6();a.j41(0,"li",13),a.bIt("click",function(){const H=a.eBV(ot).index,Et=a.XpG();return a.Njj(Et.selectMonth(H))}),a.DNE(1,it,3,3,"span",14)(2,nt,3,4,"span",14),a.k0s()}if(2&ut){const ot=st.index,_t=a.XpG();a.Y8G("ngClass",_t.dataFilter.monthSelected==ot?"color-select":""),a.R7$(),a.Y8G("ngIf",0==ot),a.R7$(),a.Y8G("ngIf",ot>0)}}function z(ut,st){1&ut&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&ut&&(a.R7$(),a.JRh(a.bMT(2,1,"lang_auto_tat_ca")))}function It(ut,st){if(1&ut&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&ut){const ot=a.XpG().index,_t=a.XpG();a.R7$(),a.Lme("",a.bMT(2,2,"lang_core_nam")," ",_t.currentDate.getFullYear()-(ot-1),"")}}function et(ut,st){if(1&ut){const ot=a.RV6();a.j41(0,"li",15),a.bIt("click",function(){const H=a.eBV(ot).index,Et=a.XpG();return a.Njj(Et.selectYear(H))}),a.DNE(1,z,3,3,"span",14)(2,It,3,4,"span",14),a.k0s()}if(2&ut){const ot=st.index,_t=a.XpG();a.Y8G("ngClass",!_t.dataFilter.yearSelected||_t.currentDate.getFullYear()-(_t.dataFilter.yearSelected-1)!=ot&&0!=_t.dataFilter.yearSelected?"":"color-select"),a.R7$(),a.Y8G("ngIf",0==ot),a.R7$(),a.Y8G("ngIf",ot>0)}}let dt=(()=>{var ut;class st extends s.H{selectMonth(_t){this.isApply=!0,this.dataFilter.monthSelected=_t,this.sendFilter.emit(this.dataFilter)}selectYear(_t){this.isApply=!0,this.dataFilter.yearSelected=_t>0?this.currentDate.getFullYear()-(_t-1):_t,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new a.bkB,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}}return(ut=st).\u0275fac=function(_t){return new(_t||ut)},ut.\u0275cmp=a.VBU({type:ut,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[a.Vt3],decls:22,vars:13,consts:[["filterByMonth","matMenu"],["filterByYear","matMenu"],[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["name","chevron-down","size","18"],["xPosition","before"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"click","ngClass"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"click","ngClass"]],template:function(_t,H){if(1&_t&&(a.j41(0,"div",2)(1,"div",3),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s(),a.j41(4,"div",4),a.DNE(5,v,3,3,"span",5)(6,n,3,4,"span",5),a.nrm(7,"lucide-icon",6),a.k0s(),a.j41(8,"div",4),a.DNE(9,xt,3,3,"span",5)(10,gt,3,4,"span",5),a.nrm(11,"lucide-icon",6),a.k0s()(),a.j41(12,"mat-menu",7,0)(14,"div",8)(15,"ul",9),a.DNE(16,C,3,3,"li",10),a.k0s()()(),a.j41(17,"mat-menu",7,1)(19,"div",8)(20,"ul",9),a.DNE(21,et,3,3,"li",11),a.k0s()()()),2&_t){const Et=a.sdS(13),q=a.sdS(18);a.R7$(2),a.SpI(" ",a.bMT(3,9,"lang_testbank_tested_list_sort"),": "),a.R7$(2),a.Y8G("matMenuTriggerFor",Et),a.R7$(),a.Y8G("ngIf",!H.dataFilter.monthSelected),a.R7$(),a.Y8G("ngIf",H.dataFilter.monthSelected&&H.dataFilter.monthSelected>0),a.R7$(2),a.Y8G("matMenuTriggerFor",q),a.R7$(),a.Y8G("ngIf",!H.dataFilter.yearSelected),a.R7$(),a.Y8G("ngIf",H.dataFilter.yearSelected&&H.dataFilter.yearSelected>0),a.R7$(6),a.Y8G("ngForOf",a.lJ4(11,h).constructor(13)),a.R7$(5),a.Y8G("ngForOf",a.lJ4(12,h).constructor(10))}},dependencies:[e.YU,e.Sq,e.bT,b.kk,b.Cp,o.WGl,i.wp],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:#b0e0e6}.hover[_ngcontent-%COMP%]:hover{background:#f5fffa}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:#d3d3d3}"]}),st})()},43165:(Vt,St,_)=>{_.d(St,{s:()=>Z});var a=_(48891),s=_(38265),e=_(59640),b=_(43234),o=_(42804),i=_(80065),h=_(54460),v=_(39471),n=_(97839),xt=_(95670),gt=_(81519),it=_(10936),nt=_(15343),C=_(7919),z=_(81587),It=_(22783),et=_(76975);function dt(t,vt){1&t&&(a.j41(0,"div",22),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function ut(t,vt){1&t&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function st(t,vt){1&t&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function ot(t,vt){if(1&t&&(a.j41(0,"div",25),a.DNE(1,ut,3,3,"span",26)(2,st,3,3,"span",26),a.k0s()),2&t){const Q=a.XpG(2);a.R7$(),a.Y8G("ngIf",Q.studentForm.form.controls.identificationNumber.errors.min),a.R7$(),a.Y8G("ngIf",Q.studentForm.form.controls.identificationNumber.errors.maxlength||Q.studentForm.form.controls.identificationNumber.errors.pattern)}}function _t(t,vt){if(1&t&&(a.j41(0,"div",2),a.nrm(1,"input",23),a.nI1(2,"mytranslate"),a.DNE(3,ot,3,2,"div",24),a.k0s()),2&t){const Q=a.XpG();a.R7$(),a.FS9("placeholder",a.bMT(2,2,"lang_auto_so_bao_danh")),a.R7$(2),a.Y8G("ngIf",Q.studentForm.form.controls.identificationNumber.errors&&(Q.studentForm.form.controls.identificationNumber.dirty||Q.studentForm.form.controls.identificationNumber.touched))}}function H(t,vt){1&t&&(a.j41(0,"div",22),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function Et(t,vt){1&t&&(a.j41(0,"div",22),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function q(t,vt){1&t&&(a.j41(0,"div",22),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"lang_core_invalid_email")," "))}function at(t,vt){1&t&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"lang_core_ten_dang_nhap_phai_nhieu_hon_3_ky_tu")," "))}function Ct(t,vt){1&t&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"lang_core_ten_dang_nhap_phai_it_hon_100_ky_tu")," "))}function Ft(t,vt){1&t&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"lang_core_ten_dang_nhap_chi_chua_cac_ky_tu_hop_le_va_it_nhat_1_chu_cai")," "))}function J(t,vt){if(1&t&&(a.j41(0,"div",22),a.DNE(1,at,3,3,"span",26)(2,Ct,3,3,"span",26)(3,Ft,3,3,"span",26),a.k0s()),2&t){const Q=a.XpG(2);a.R7$(),a.Y8G("ngIf",null==Q.studentForm.form.controls.userName||null==Q.studentForm.form.controls.userName.errors?null:Q.studentForm.form.controls.userName.errors.isShort),a.R7$(),a.Y8G("ngIf",null==Q.studentForm.form.controls.userName||null==Q.studentForm.form.controls.userName.errors?null:Q.studentForm.form.controls.userName.errors.isLong),a.R7$(),a.Y8G("ngIf",null==Q.studentForm.form.controls.userName||null==Q.studentForm.form.controls.userName.errors?null:Q.studentForm.form.controls.userName.errors.isLetter)}}function jt(t,vt){if(1&t){const Q=a.RV6();a.j41(0,"div",2)(1,"azt-check-vip-account",27),a.bIt("closeDialog",function(zt){a.eBV(Q);const Y=a.XpG();return a.Njj(Y.handleCloseCheckVip(zt))}),a.nrm(2,"input",28),a.nI1(3,"mytranslate"),a.k0s(),a.DNE(4,J,4,3,"div",4),a.k0s()}if(2&t){const Q=a.XpG();a.R7$(),a.Y8G("vipPackageType","VIP_FOR_TEACHER")("isShowBadgeVip",!Q.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_ENTER_USERNAME"),a.R7$(),a.FS9("placeholder",a.bMT(3,6,"lang_auto_nhap_ten_dang_ky")),a.R7$(2),a.Y8G("ngIf",null==Q.studentForm.form.controls.userName?null:Q.studentForm.form.controls.userName.errors)}}function Ot(t,vt){1&t&&(a.j41(0,"div",34),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.SpI("*",a.bMT(2,1,"lang_azt_note_not_enter_password_one"),""))}function L(t,vt){1&t&&(a.j41(0,"div",22),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function yt(t,vt){if(1&t){const Q=a.RV6();a.j41(0,"div",2)(1,"div",29),a.nrm(2,"input",30),a.nI1(3,"mytranslate"),a.j41(4,"button",31),a.bIt("click",function(){a.eBV(Q);const zt=a.XpG();return a.Njj(zt.togglePassword())}),a.nrm(5,"lucide-icon",32),a.k0s()(),a.DNE(6,Ot,3,3,"div",33)(7,L,3,3,"div",4),a.k0s()}if(2&t){const Q=a.XpG();a.R7$(2),a.FS9("placeholder",a.bMT(3,5,"lang_auto_mat_khau")),a.Y8G("type",Q.showPassword?"text":"password"),a.R7$(3),a.FS9("name",Q.showPassword?"eye":"eye-off"),a.R7$(),a.Y8G("ngIf",!Q.isAddParent),a.R7$(),a.Y8G("ngIf",Q.studentForm.form.controls.password.errors)}}function Mt(t,vt){1&t&&(a.j41(0,"div",2),a.nrm(1,"input",35),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.FS9("placeholder",a.bMT(2,1,"lang_wsuper_admin_add_school_enter_school")))}function bt(t,vt){1&t&&(a.j41(0,"div",2),a.nrm(1,"input",36),a.nI1(2,"mytranslate"),a.k0s()),2&t&&(a.R7$(),a.FS9("placeholder",a.bMT(2,1,"lang_core_nhap_link_facebook")))}let Z=(()=>{var t;class vt extends e.H{togglePassword(){this.showPassword=!this.showPassword}handleCloseCheckVip(Pt){this.studentForm.form.controls.userName?.reset(),this.studentForm.form.controls.userName?.disable(),this.studentForm.form.controls.userName?.enable(),Pt&&this.closeDialog.emit(Pt)}ngOnInit(){super.ngOnInit(),this.studentForm.removeValidatePhoneWhenNotBusiness(this.isBusinessDomain),this.initStatusObj(),this.checkVipAccountService.getVipInfo(s.W5.TEACHER,!0,void 0).subscribe(Pt=>{if(!Pt.success)return this.errorStatusObj(Pt.message);this.isVipAccount=Pt.data?.vipSubscriptionObj?.isVipTeacher??!1,this.successStatusObj()})}constructor(Pt){super(),this.checkVipAccountService=Pt,this.hasUser=!1,this.modeView=o.u.Default,this.isAddParent=!1,this.closeDialog=new a.bkB,this.showPassword=!1,this.maxDate=b.c.maxDateTimePicker,this.startAtTime=new Date("01/01/2006"),this.isVipAccount=!1}}return(t=vt).\u0275fac=function(Pt){return new(Pt||t)(a.rXU(i.K))},t.\u0275cmp=a.VBU({type:t,selectors:[["azt-form-enter-info-student"]],inputs:{studentForm:"studentForm",hasUser:"hasUser",modeView:"modeView",isAddParent:"isAddParent"},outputs:{closeDialog:"closeDialog"},features:[a.Vt3],decls:46,vars:38,consts:[["birthDay",""],[3,"formGroup"],[1,"mt-3"],["id","fullname","formControlName","fullName","autocomplete","new-name","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"flex","justify-between","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],["for","gender",1,"text-sm"],[1,"flex","justify-end"],[1,"form-check","w-20","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio",1,"form-check-input",3,"value"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender",1,"form-check-input",3,"value"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"azt-time-picker"],["azt-track-service","add_student-OL_xz2BQlY","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"click","placeholder","max","ngxMatDatetimePicker"],["azt-track-service","add_student-6m5M85CG5t","matSuffix","",3,"click"],["name","calendar-days","size","16"],[3,"touchUi","hideTime","startAt"],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["id","numberphone","formControlName","phoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],["id","email","formControlName","email","type","text","autocomplete","new-email",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[4,"ngIf"],[3,"closeDialog","vipPackageType","isShowBadgeVip","isAction","trackingKey"],["id","username","formControlName","userName","autocomplete","new-phone","type","text",1,"form-control",2,"margin-right","-65px","padding-right","70px",3,"placeholder"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-form-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","50%","right","5px","border","none","background","transparent","z-index","99","transform","translate(0, -50%)",3,"click"],["size","16",3,"name"],["class","text-xs mt-1 text-warning",4,"ngIf"],[1,"text-xs","mt-1","text-warning"],["id","school","formControlName","school","type","text",1,"form-control",3,"placeholder"],["id","facebookLink","formControlName","facebookLink","autocomplete","new-facebook-link","type","text",1,"form-control",3,"placeholder"]],template:function(Pt,zt){if(1&Pt){const Y=a.RV6();a.j41(0,"form",1)(1,"div",2),a.nrm(2,"input",3),a.nI1(3,"mytranslate"),a.DNE(4,dt,3,3,"div",4),a.k0s(),a.DNE(5,_t,4,4,"div",5),a.j41(6,"div",2)(7,"div",6)(8,"label",7),a.EFF(9),a.nI1(10,"mytranslate"),a.k0s(),a.j41(11,"div",8)(12,"div",9),a.nrm(13,"input",10),a.j41(14,"label",11),a.EFF(15),a.nI1(16,"mytranslate"),a.k0s()(),a.j41(17,"div",9),a.nrm(18,"input",12),a.j41(19,"label",13),a.EFF(20),a.nI1(21,"mytranslate"),a.k0s()()()()(),a.j41(22,"div",2)(23,"mat-form-field",14)(24,"input",15),a.nI1(25,"mytranslate"),a.bIt("click",function(){a.eBV(Y);const W=a.sdS(29);return a.Njj(W.open())}),a.k0s(),a.j41(26,"button",16),a.bIt("click",function(W){return a.eBV(Y),a.sdS(29).open(),a.Njj(W.stopPropagation())}),a.nrm(27,"lucide-icon",17),a.k0s(),a.j41(28,"ngx-mat-datetime-picker",18,0)(30,"ngx-mat-datepicker-actions")(31,"button",19),a.EFF(32,"OK"),a.k0s()()()(),a.DNE(33,H,3,3,"div",4),a.k0s(),a.j41(34,"div",2),a.nrm(35,"input",20),a.nI1(36,"mytranslate"),a.DNE(37,Et,3,3,"div",4),a.k0s(),a.j41(38,"div",2),a.nrm(39,"input",21),a.nI1(40,"mytranslate"),a.DNE(41,q,3,3,"div",4),a.k0s(),a.DNE(42,jt,5,8,"div",5)(43,yt,8,7,"div",5)(44,Mt,3,3,"div",5)(45,bt,3,3,"div",5),a.k0s()}if(2&Pt){let Y;const X=a.sdS(29);a.Y8G("formGroup",zt.studentForm.form),a.R7$(2),a.FS9("placeholder",a.bMT(3,24,"lang_auto_nhap_ho_va_ten")),a.R7$(2),a.Y8G("ngIf",zt.studentForm.form.controls.fullName.errors),a.R7$(),a.Y8G("ngIf",zt.studentForm.form.controls.identificationNumber&&!zt.isAddParent),a.R7$(4),a.SpI(" ",a.bMT(10,26,"lang_auto_gioi_tinh")," "),a.R7$(4),a.Y8G("value",1),a.R7$(2),a.SpI(" ",a.bMT(16,28,"lang_auto_nam")," "),a.R7$(3),a.Y8G("value",0),a.R7$(2),a.SpI(" ",a.bMT(21,30,"lang_auto_nu")," "),a.R7$(4),a.FS9("placeholder",a.bMT(25,32,"lang_auto_ngay_sinh")),a.Y8G("max",zt.maxDate)("ngxMatDatetimePicker",X),a.R7$(4),a.Y8G("touchUi",!0)("hideTime",!0)("startAt",null!==(Y=null==zt.studentForm.form.controls.birthday?null:zt.studentForm.form.controls.birthday.value)&&void 0!==Y?Y:zt.startAtTime),a.R7$(5),a.Y8G("ngIf",null==zt.studentForm.form.controls.birthday?null:zt.studentForm.form.controls.birthday.errors),a.R7$(2),a.FS9("placeholder",a.bMT(36,34,"lang_number_phone")),a.R7$(2),a.Y8G("ngIf",zt.studentForm.form.controls.phoneNumber.errors),a.R7$(2),a.FS9("placeholder",a.bMT(40,36,"lang_auto_nhap_email")),a.R7$(2),a.Y8G("ngIf",zt.studentForm.form.controls.email.errors),a.R7$(),a.Y8G("ngIf",!zt.isAddParent&&(zt.isVipAccount||zt.isBusinessDomain&&!zt.isTqbDomain)),a.R7$(),a.Y8G("ngIf",zt.studentForm.form.controls.password&&!zt.hasUser&&(zt.isVipAccount||zt.isBusinessDomain)),a.R7$(),a.Y8G("ngIf",zt.isBusinessDomain&&!zt.isAddParent),a.R7$(),a.Y8G("ngIf",zt.isBusinessDomain&&!zt.isAddParent)}},dependencies:[h.bT,v.$z,n.fg,xt.rl,xt.yw,gt.m7,gt.yF,gt.HF,gt.Uq,it.qT,it.me,it.Fm,it.BC,it.cb,it.j4,it.JD,nt.WGl,C.Z,z.t,It.F,et.wp],encapsulation:2}),vt})()},42804:(Vt,St,_)=>{_.d(St,{u:()=>a});var a=function(s){return s.Default="DEFAULT",s.ADD_STUDENT="ADD_STUDENT",s}(a||{})},74742:(Vt,St,_)=>{_.d(St,{d:()=>b});var a=_(10936);class s{static isInvalidPassword(i){let v=i.value?.trim()??"";return v&&v.length<6?{isInvalidPassword:!0}:null}}var e=_(93493);class b{constructor(){this.form=new a.gE({fullName:new a.MJ("",{nonNullable:!0,validators:[a.k0.required]}),gender:new a.MJ(0,{nonNullable:!0}),birthday:new a.MJ(void 0,{nonNullable:!0}),email:new a.MJ("",{nonNullable:!0,validators:[a.k0.email,a.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new a.MJ("",{nonNullable:!0,validators:[a.k0.pattern(/^[0-9\-]*$/),a.k0.minLength(10),a.k0.maxLength(10)]}),identificationNumber:new a.MJ("",{nonNullable:!0,validators:[a.k0.min(1),a.k0.maxLength(6),a.k0.pattern("^[0-9]*$")]}),password:new a.MJ("",{nonNullable:!0,validators:[s.isInvalidPassword]}),facebookLink:new a.MJ("",{nonNullable:!0}),school:new a.MJ("",{nonNullable:!0}),userName:new a.MJ("",{nonNullable:!0,validators:[e.i.validateUserName]})})}removeValidatePhoneWhenNotBusiness(i){i||this.form.controls.phoneNumber.removeValidators(a.k0.required)}}},46244:(Vt,St,_)=>{_.d(St,{x:()=>ne});var a=_(10936),s=_(59640),e=_(63016),b=_(51698),o=_(82653),i=_(48891),h=_(6440),v=_(53793),n=_(50589);let xt=(()=>{var y;class ct{countChecked(O){var D=0;for(var kt in O)!0===O[kt]&&(D+=1);return D}getDefaultFilterObj(O){var D=this.localStorageSlug+O;if(this.listFilterObjs[D])return this.listFilterObjs[D];var kt=this.getInitFilterObj(),Jt=this.browserStorageService.getSimpleStorage(D),Zt=this.commonService.castJsonToObj(Jt??"");return Zt&&(kt=Zt),kt}saveFilterObj(O,D){var kt=this.localStorageSlug+O;this.listFilterObjs[kt]=D,this.browserStorageService.saveSimpleStorage(kt,this.commonService.serializeJson(D))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(O,D){this.commonService=O,this.browserStorageService=D,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return(y=ct).\u0275fac=function(O){return new(O||y)(i.KVO(v.R),i.KVO(n.z))},y.\u0275prov=i.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),ct})();var gt=_(51913),it=_(54460),nt=_(47712),C=_(15343),z=_(18718),It=_(66729),et=_(17818),dt=_(76975);const ut=()=>({"mr-2":!0});function st(y,ct){if(1&y&&(i.j41(0,"span"),i.EFF(1," \xa0 "),i.j41(2,"span",20),i.EFF(3),i.k0s()()),2&y){const F=i.XpG();i.R7$(3),i.JRh(F.totalCustomFilter)}}function ot(y,ct){if(1&y){const F=i.RV6();i.j41(0,"li")(1,"label",21),i.bIt("click",function(D){return i.eBV(F),i.Njj(D.stopPropagation())}),i.EFF(2),i.nI1(3,"mytranslate"),i.j41(4,"div",9)(5,"input",22),i.bIt("change",function(){i.eBV(F);const D=i.XpG();return D.filterObj.getResendAnswer=!D.filterObj.getResendAnswer,i.Njj(D.changeFilter())}),i.k0s()()()()}if(2&y){const F=i.XpG();i.R7$(2),i.SpI(" ",i.bMT(3,2,"lang_student_profile_filter_get_resend_answer")," "),i.R7$(3),i.Y8G("checked",F.filterObj.getResendAnswer)}}let _t=(()=>{var y;class ct extends s.H{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(O){super(),this.studentProfileFilterService=O,this.filterType="",this.changeFilterEvent=new i.bkB,this.totalCustomFilter=0}}return(y=ct).\u0275fac=function(O){return new(O||y)(i.rXU(xt))},y.\u0275cmp=i.VBU({type:y,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[i.Vt3],decls:40,vars:26,consts:[["filterMenu","matMenu"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"]],template:function(O,D){if(1&O){const kt=i.RV6();i.j41(0,"button",1),i.nrm(1,"lucide-icon",2),i.j41(2,"span",3),i.EFF(3),i.nI1(4,"mytranslate"),i.DNE(5,st,4,1,"span",4),i.k0s()(),i.j41(6,"mat-menu",5,0)(8,"div",6)(9,"ul",7)(10,"li")(11,"label",8),i.bIt("click",function(Zt){return i.eBV(kt),i.Njj(Zt.stopPropagation())}),i.EFF(12),i.nI1(13,"mytranslate"),i.j41(14,"div",9)(15,"input",10),i.bIt("change",function(){return i.eBV(kt),D.filterObj.getHasMark=!D.filterObj.getHasMark,i.Njj(D.changeFilter())}),i.k0s()()()(),i.j41(16,"li")(17,"label",11),i.bIt("click",function(Zt){return i.eBV(kt),i.Njj(Zt.stopPropagation())}),i.EFF(18),i.nI1(19,"mytranslate"),i.j41(20,"div",9)(21,"input",12),i.bIt("change",function(){return i.eBV(kt),D.filterObj.getNotMarked=!D.filterObj.getNotMarked,i.Njj(D.changeFilter())}),i.k0s()()()(),i.j41(22,"li")(23,"label",13),i.bIt("click",function(Zt){return i.eBV(kt),i.Njj(Zt.stopPropagation())}),i.EFF(24),i.nI1(25,"mytranslate"),i.j41(26,"div",9)(27,"input",14),i.bIt("change",function(){return i.eBV(kt),D.filterObj.getNotDone=!D.filterObj.getNotDone,i.Njj(D.changeFilter())}),i.k0s()()()(),i.DNE(28,ot,6,4,"li",4),i.j41(29,"li"),i.nrm(30,"hr",15),i.k0s(),i.j41(31,"li")(32,"div",16)(33,"button",17),i.EFF(34),i.nI1(35,"mytranslate"),i.k0s(),i.j41(36,"div",18),i.bIt("click",function(Zt){return i.eBV(kt),i.Njj(Zt.stopPropagation())}),i.j41(37,"button",19),i.bIt("click",function(){return i.eBV(kt),i.Njj(D.clearFilter())}),i.EFF(38),i.nI1(39,"mytranslate"),i.k0s()()()()()()()}if(2&O){const kt=i.sdS(7);i.Y8G("matMenuTriggerFor",kt),i.R7$(),i.Y8G("ngClass",i.lJ4(25,ut)),i.R7$(2),i.SpI(" ",i.bMT(4,13,"lang_testbank_tested_list_sort")," "),i.R7$(2),i.Y8G("ngIf",D.totalCustomFilter>0),i.R7$(7),i.SpI(" ",i.bMT(13,15,"lang_student_profile_filter_get_has_mark")," "),i.R7$(3),i.Y8G("checked",D.filterObj.getHasMark),i.R7$(3),i.SpI(" ",i.bMT(19,17,"lang_student_profile_filter_get_not_marked")," "),i.R7$(3),i.Y8G("checked",D.filterObj.getNotMarked),i.R7$(3),i.SpI(" ",i.bMT(25,19,"exam"==D.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),i.R7$(3),i.Y8G("checked",D.filterObj.getNotDone),i.R7$(),i.Y8G("ngIf","homework"==D.filterType),i.R7$(6),i.JRh(i.bMT(35,21,"lang_button_close")),i.R7$(4),i.JRh(i.bMT(39,23,"lang_button_delete"))}},dependencies:[it.YU,it.bT,et.kk,et.Cp,C.WGl,dt.wp],encapsulation:2}),ct})();const H=y=>({truncate:y}),Et=()=>({"max-width":"85%"}),q=()=>({}),at=()=>({"text-pending":!0});function Ct(y,ct){1&y&&(i.nrm(0,"lucide-icon",17),i.nI1(1,"mytranslate"),i.nI1(2,"mytranslate")),2&y&&i.FCK("matTooltip","",i.bMT(1,3,"lang_core_danh_gia_nang_luc")," - ",i.bMT(2,5,"lang_testbank_folder_and_file_published"),"")}function Ft(y,ct){1&y&&i.nrm(0,"lucide-icon",18),2&y&&i.Y8G("ngClass",i.lJ4(1,at))}function J(y,ct){if(1&y&&(i.j41(0,"span"),i.EFF(1),i.nI1(2,"mytranslate"),i.nrm(3,"azt-check-mark",20),i.k0s()),2&y){const F=i.XpG(2).$implicit;i.R7$(),i.SpI(" ",i.bMT(2,2,"lang_point"),": "),i.R7$(2),i.Y8G("mark",F.resultMarkObj.point)}}function jt(y,ct){1&y&&(i.j41(0,"span",21),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&y&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function Ot(y,ct){if(1&y&&(i.qex(0),i.DNE(1,J,4,4,"span",14)(2,jt,3,3,"span",19),i.bVm()),2&y){const F=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",F.resultMarkObj.confirmedAt),i.R7$(),i.Y8G("ngIf",!F.resultMarkObj.confirmedAt)}}function L(y,ct){1&y&&(i.j41(0,"span",22),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&y&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function yt(y,ct){if(1&y){const F=i.RV6();i.j41(0,"div",7),i.bIt("click",function(){const D=i.eBV(F).$implicit,kt=i.XpG();return i.Njj(kt.clickToExamObj(D))}),i.j41(1,"div",8),i.DNE(2,Ct,3,7,"lucide-icon",9),i.nI1(3,"isCapacityExam"),i.DNE(4,Ft,1,2,"lucide-icon",10),i.nI1(5,"isCapacityExam"),i.k0s(),i.j41(6,"div",11)(7,"p",12),i.EFF(8),i.k0s(),i.j41(9,"div",13),i.DNE(10,Ot,3,2,"ng-container",14)(11,L,3,3,"span",15),i.k0s(),i.j41(12,"div",16),i.EFF(13),i.nI1(14,"mytranslate"),i.nI1(15,"formatFullDateTimeWithoutSecondByUserUnitPipe"),i.k0s()()()}if(2&y){const F=ct.$implicit,O=ct.index,D=i.XpG();i.ZvI("clickable zoom-in flex items-center ",O>0?"mt-3":""," pb-2"),i.R7$(2),i.Y8G("ngIf",i.bMT(3,14,F)),i.R7$(2),i.Y8G("ngIf",!i.bMT(5,16,F)),i.R7$(3),i.FS9("matTooltip",F.name),i.Y8G("ngClass",i.eq3(22,H,!D.isMobileDevice))("ngStyle",D.isMobileDevice?i.lJ4(25,q):i.lJ4(24,Et)),i.R7$(),i.Lme("",O+1,". ",F.name,""),i.R7$(2),i.Y8G("ngIf",F.resultMarkObj),i.R7$(),i.Y8G("ngIf",!F.resultMarkObj),i.R7$(2),i.Lme("",i.bMT(14,18,"lang_student_profile_utils_list_exam_created_at"),": ",i.bMT(15,20,F.createdAt),"")}}function Mt(y,ct){1&y&&(i.j41(0,"div",23),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&y&&(i.R7$(),i.JRh(i.bMT(2,1,"lang_list_null")))}function bt(y,ct){if(1&y&&i.nrm(0,"azt-loading-effect",28),2&y){const F=i.XpG(2);i.Y8G("currentStatusObj",F.statusObj)}}function Z(y,ct){if(1&y){const F=i.RV6();i.j41(0,"div",24),i.DNE(1,bt,1,1,"azt-loading-effect",25),i.j41(2,"button",26),i.nI1(3,"mytranslate"),i.bIt("click",function(){i.eBV(F);const D=i.XpG();return i.Njj(D.getNextExamResultObjs())}),i.nrm(4,"lucide-icon",27),i.k0s()()}if(2&y){const F=i.XpG();i.R7$(),i.Y8G("ngIf",F.statusObj.loading),i.R7$(),i.FS9("matTooltip",i.bMT(3,2,"lang_student_profile_utils_list_exam_tooltip_view"))}}let t=(()=>{var y;class ct extends s.H{clickToExamObj(O){this.isTeacher?O.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",O)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+O.id+"/"+O.resultMarkObj?.userId+"/"+O.resultMarkObj?.studentId+"/"+(O.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)+("CAPACITY"==O.objectType?"&isCapacity=1":"")):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(O.categoryId??0)+"/"+O.id+"/0","?backto="+encodeURIComponent(this.backToLink)):O.resultMarkObj?.resultId?this.commonService.myNavigationWithQueryString("/test/answer-test/"+O.resultMarkObj?.userId+"/0/"+O.hashId+"/"+(O.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)+("CAPACITY"==O.objectType?"&capacity=1":"")):this.commonService.myNavigationWithQueryString("/de-thi/"+O.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.hasNextPage=!1,this.classroomIdToNextPages=new Map,this.getNextExamResultObjs()}getNextExamResultObjs(){if(!this.isTqbDomain){this.initStatusObj();const D=this.buildFilterObj(this.classroomId,this.studentId,this.currentNextPage);return void this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(D).subscribe(kt=>{if(!kt.success)return this.errorStatusObj(kt.message,!0);this.examObjs=this.examObjs.concat(kt.data?.objs??[]),this.currentNextPage=kt.data?.nextPage,this.hasNextPage=!!this.currentNextPage,this.stopStatusObj()})}this.initStatusObj();const O=this.classroomList.map(D=>{let kt=this.classroomIdToNextPages.get(D.id.toString());if(kt==this.endPageStr)return(0,e.of)({errorMessage:void 0,nextPage:void 0,classroomObj:D,examResultObjs:[]});const Jt=this.buildFilterObj(D.id,D.studentId,kt);return new b.c(Zt=>{this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(Jt).subscribe(we=>{if(!we.success)return Zt.next({errorMessage:we.message,nextPage:we.data?.nextPage,classroomObj:D,examResultObjs:[]}),void Zt.complete();Zt.next({errorMessage:void 0,nextPage:we.data?.nextPage,classroomObj:D,examResultObjs:we.data?.objs??[]}),Zt.complete()})})});(0,o.p)(O).subscribe(D=>{let kt=this.commonService.getFirstOfArray(D.filter(Jt=>Jt?.errorMessage).map(Jt=>Jt?.errorMessage));if(kt)return this.errorStatusObj(kt,!0);this.handleExamResultResponses(D),this.successStatusObj()})}buildFilterObj(O,D,kt){const Jt=this.studentProfileFilterService.getDefaultFilterObj("exam");return Jt.classroomId=O,Jt.studentId=D,Jt.nextPage=kt,Jt}handleExamResultResponses(O){O.forEach(D=>{this.classroomIdToNextPages.set(D.classroomObj.id.toString(),D.nextPage?D.nextPage:this.endPageStr),this.examObjs=this.examObjs.concat(D.examResultObjs),this.hasNextPage=Array.from(this.classroomIdToNextPages.values()).some(kt=>kt!=this.endPageStr)})}ngOnInit(){this.getNextExamResultObjs()}constructor(O,D,kt){super(),this.studentProfileV2Service=O,this.studentProfileFilterService=D,this.permissionService=kt,this.backToLink="",this.isTeacher=!0,this.classroomList=[],this.examObjs=[],this.hasNextPage=!1,this.classroomIdToNextPages=new Map,this.endPageStr="END_PAGE"}}return(y=ct).\u0275fac=function(O){return new(O||y)(i.rXU(h.m_),i.rXU(xt),i.rXU(gt.p))},y.\u0275cmp=i.VBU({type:y,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher",classroomList:"classroomList"},features:[i.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"changeFilterEvent","filterType"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["name","clipboard-check","size","40","class","text-primary",3,"matTooltip",4,"ngIf"],["name","file-check","size","48",3,"ngClass",4,"ngIf"],[1,"ml-4","content-right"],[1,"font-medium",3,"ngClass","ngStyle","matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["name","clipboard-check","size","40",1,"text-primary",3,"matTooltip"],["name","file-check","size","48",3,"ngClass"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","list-exam-wvCfNB667b",3,"click","matTooltip"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(O,D){1&O&&(i.j41(0,"div",0)(1,"h2",1),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s(),i.j41(4,"azt-student-profile-filter-menu",2),i.bIt("changeFilterEvent",function(){return D.reInitData()}),i.k0s()(),i.j41(5,"div",3),i.DNE(6,yt,16,26,"div",4)(7,Mt,3,3,"div",5)(8,Z,5,4,"div",6),i.k0s()),2&O&&(i.R7$(2),i.JRh(i.bMT(3,5,"lang_student_profile_utils_list_exam_list_submitted")),i.R7$(2),i.Y8G("filterType","exam"),i.R7$(2),i.Y8G("ngForOf",D.examObjs),i.R7$(),i.Y8G("ngIf",0==D.examObjs.length&&!D.hasNextPage),i.R7$(),i.Y8G("ngIf",D.examObjs.length>0&&D.hasNextPage))},dependencies:[it.YU,it.Sq,it.bT,it.B3,nt.oV,C.WGl,z.K,It.D,_t,dt.wp,dt.bH,dt.Xc],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),ct})();var vt=_(47426),Q=_(95670),Pt=_(4375),zt=_(44233),Y=_(89163),X=_(33887),W=_(2915),x=_(52811);function V(y,ct){1&y&&i.nrm(0,"azt-loading-ui",11)}let ft=(()=>{var y;class ct extends X._{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(O=>{1==O.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(O.message??"",!0))}))}btnCloseDialog(O){this.dialogRef.close(O)}constructor(O,D,kt){super(kt,D),this.studentService=O,this.dialogRef=D,this.data=kt,this.studentObj=kt.studentObj,this.classroomObj=kt.classroomObj}}return(y=ct).\u0275fac=function(O){return new(O||y)(i.rXU(h.b0),i.rXU(Y.CP,8),i.rXU(Y.Vh,8))},y.\u0275cmp=i.VBU({type:y,selectors:[["app-delete-parent"]],features:[i.Vt3],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(O,D){1&O&&(i.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),i.EFF(5),i.nI1(6,"mytranslate"),i.j41(7,"b",4),i.EFF(8),i.k0s(),i.EFF(9),i.nI1(10,"mytranslate"),i.j41(11,"span",5),i.EFF(12),i.k0s(),i.EFF(13,"\xa0 "),i.j41(14,"span",6),i.EFF(15),i.nI1(16,"mytranslate"),i.k0s()()()()(),i.j41(17,"div",7)(18,"button",8),i.bIt("click",function(){return D.btnCloseDialog(!1)}),i.EFF(19),i.nI1(20,"mytranslate"),i.k0s(),i.j41(21,"button",9),i.bIt("click",function(){return D.confirmDelete()}),i.DNE(22,V,1,0,"azt-loading-ui",10),i.EFF(23),i.nI1(24,"mytranslate"),i.k0s()()()),2&O&&(i.R7$(5),i.SpI(" ",i.bMT(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),i.R7$(3),i.JRh(D.studentObj.fullName),i.R7$(),i.SpI(" ",i.bMT(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),i.R7$(2),i.FS9("matTooltip",D.classroomObj.name),i.R7$(),i.SpI(" ",D.classroomObj.name,""),i.R7$(3),i.SpI("* ",i.bMT(16,13,"lang_student_utils_delete_parent_reques"),""),i.R7$(4),i.SpI(" ",i.bMT(20,15,"lang_cms_common_close_btn")," "),i.R7$(3),i.Y8G("ngIf",D.statusObj.loading),i.R7$(),i.SpI(" ",i.bMT(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[it.bT,nt.oV,W.U,x.R,dt.wp],encapsulation:2}),ct})();var Nt=_(14999),Xt=_(46723),ee=_(46899),Bt=_(5800);const ue=y=>({"pb-5":y}),pe=()=>[],ge=()=>({" mr-2 text-primary":!0}),me=()=>({" mr-2 text-danger":!0}),Kt=()=>({" mr-2 text-warning":!0});function fe(y,ct){if(1&y&&i.nrm(0,"azt-loading-effect",4),2&y){const F=i.XpG();i.Y8G("currentStatusObj",F.statusObj)}}function de(y,ct){if(1&y){const F=i.RV6();i.j41(0,"button",15),i.bIt("click",function(){i.eBV(F);const D=i.XpG(4);return i.Njj(D.editStudentDialog(D.studentObj))}),i.nrm(1,"lucide-icon",16),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()}2&y&&(i.R7$(),i.Y8G("ngClass",i.lJ4(4,ge)),i.R7$(),i.SpI(" ",i.bMT(3,2,"lang_button_edit")," "))}function Ht(y,ct){if(1&y){const F=i.RV6();i.j41(0,"button",17),i.bIt("click",function(){i.eBV(F);const D=i.XpG(4);return i.Njj(D.deleteStudentDialog(D.studentObj))}),i.nrm(1,"lucide-icon",18),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()}2&y&&(i.R7$(),i.Y8G("ngClass",i.lJ4(4,me)),i.R7$(),i.SpI(" ",i.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function oe(y,ct){if(1&y){const F=i.RV6();i.j41(0,"button",19),i.bIt("click",function(){i.eBV(F);const D=i.XpG(4);return i.Njj(D.deleteParentOfStudentDialog(D.studentObj))}),i.nrm(1,"lucide-icon",20),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()}2&y&&(i.R7$(),i.Y8G("ngClass",i.lJ4(4,Kt)),i.R7$(),i.SpI(" ",i.bMT(3,2,"lang_student_profile_utils_account_student_required_verifie")," "))}function E(y,ct){if(1&y&&(i.j41(0,"div",11),i.DNE(1,de,4,5,"button",12),i.nI1(2,"editPermission"),i.DNE(3,Ht,4,5,"button",13),i.nI1(4,"fullPermission"),i.nI1(5,"editPermission"),i.DNE(6,oe,4,5,"button",14),i.nI1(7,"editPermission"),i.k0s()),2&y){const F=i.XpG(3);i.R7$(),i.Y8G("ngIf",i.i5U(2,3,F.classroomObj,"student")),i.R7$(2),i.Y8G("ngIf",i.i5U(4,6,F.classroomObj,"student")||i.i5U(5,9,F.classroomObj,"student")),i.R7$(3),i.Y8G("ngIf",0!=F.studentObj.parentId&&i.i5U(7,12,F.classroomObj,"student"))}}function pt(y,ct){if(1&y){const F=i.RV6();i.j41(0,"button",23),i.bIt("click",function(){i.eBV(F);const D=i.XpG(4);return i.Njj(D.deleteStudentDialog(D.studentObj))}),i.nrm(1,"lucide-icon",18),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()}2&y&&(i.R7$(),i.Y8G("ngClass",i.lJ4(4,me)),i.R7$(),i.SpI(" ",i.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function S(y,ct){if(1&y){const F=i.RV6();i.j41(0,"div",11)(1,"button",21),i.bIt("click",function(){i.eBV(F);const D=i.XpG(3);return i.Njj(D.editStudentDialog(D.studentObj))}),i.nrm(2,"lucide-icon",16),i.EFF(3),i.nI1(4,"mytranslate"),i.k0s(),i.DNE(5,pt,4,5,"button",22),i.nI1(6,"fullPermission"),i.nI1(7,"editPermission"),i.k0s()}if(2&y){const F=i.XpG(3);i.R7$(2),i.Y8G("ngClass",i.lJ4(11,ge)),i.R7$(),i.SpI(" ",i.bMT(4,3,"lang_button_edit")," "),i.R7$(2),i.Y8G("ngIf",i.i5U(6,5,F.classroomObj,"student")||i.i5U(7,8,F.classroomObj,"student"))}}function M(y,ct){if(1&y&&(i.qex(0),i.j41(1,"div",6)(2,"div",7),i.nrm(3,"azt-student-info-box",8),i.k0s(),i.j41(4,"div",9),i.DNE(5,E,8,15,"div",10),i.nI1(6,"editPermission"),i.DNE(7,S,8,12,"div",10),i.nI1(8,"editPermission"),i.k0s()(),i.bVm()),2&y){let F;const O=i.XpG(2);i.R7$(3),i.Y8G("name",O.studentObj.fullName)("parentFullName",O.studentObj.parentFullName)("parentUserName",O.studentObj.parentUserName)("parentId",O.studentObj.parentId)("parentPhone",O.studentObj.parentPhone)("phone",O.studentObj.phone)("email",O.studentObj.email)("birthday",O.studentObj.birthday)("avatar",O.studentObj.avatar)("gender",O.studentObj.gender)("schoolName",null==O.studentObj.moreInfo?null:O.studentObj.moreInfo.schoolName)("facebookLink",null==O.studentObj.moreInfo?null:O.studentObj.moreInfo.facebookLink)("identificationNumber",O.studentObj.identificationNumber)("hasUser",1==O.studentObj.isVerified)("classrooms",null!==(F=null==O.studentObj.moreInfo?null:O.studentObj.moreInfo.classrooms)&&void 0!==F?F:i.lJ4(24,pe))("joinedAt",null==O.studentObj.moreInfo?null:O.studentObj.moreInfo.joinedAt),i.R7$(2),i.Y8G("ngIf",O.isTeacher&&0!=O.studentObj.parentId&&i.i5U(6,18,O.classroomObj,"student")),i.R7$(2),i.Y8G("ngIf",O.isTeacher&&0==O.studentObj.parentId&&i.i5U(8,21,O.classroomObj,"student"))}}function w(y,ct){1&y&&(i.j41(0,"div",24)(1,"span",25),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()()),2&y&&(i.R7$(2),i.JRh(i.bMT(3,1,"lang_profile_student_not_found")))}function ht(y,ct){if(1&y&&i.DNE(0,M,9,25,"ng-container",5)(1,w,4,3,"ng-template",null,1,i.C5r),2&y){const F=i.sdS(2),O=i.XpG();i.Y8G("ngIf",O.studentObj)("ngIfElse",F)}}let At=(()=>{var y;class ct extends s.H{deleteStudentDialog(O){this.sAztDialogService.open(Nt.d,{data:{studentObj:O,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(kt=>{kt&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(O){this.sAztDialogService.open(Xt.B,{data:{studentObj:O,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(kt=>{kt&&this.reInitComponentEvent.emit(!0)})}deleteParentOfStudentDialog(O){this.sAztDialogService.open(ft,{data:{studentObj:O,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(kt=>{kt&&this.reInitComponentEvent.emit(!0)})}ngOnInit(){super.ngOnInit()}constructor(O){super(),this.sAztDialogService=O,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new i.bkB}}return(y=ct).\u0275fac=function(O){return new(O||y)(i.rXU(ee.i))},y.\u0275cmp=i.VBU({type:y,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher",studentObj:"studentObj",classroomObj:"classroomObj"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[i.Vt3],decls:4,vars:5,consts:[["doneLoading",""],["noStudentObj",""],[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentUserName","parentId","parentPhone","phone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","pencil","size","18",3,"ngClass"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","18",3,"ngClass"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","shield-alert","size","18",3,"ngClass"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(O,D){if(1&O&&(i.j41(0,"div",2),i.DNE(1,fe,1,1,"azt-loading-effect",3)(2,ht,3,2,"ng-template",null,0,i.C5r),i.k0s()),2&O){const kt=i.sdS(3);i.Y8G("ngClass",i.eq3(3,ue,!D.studentObj)),i.R7$(),i.Y8G("ngIf",D.statusObj.loading)("ngIfElse",kt)}},dependencies:[it.YU,it.bT,C.WGl,z.K,Bt.B,dt.wp,dt.gC,dt.FV],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),ct})();var te=_(71703),ie=_(62221),he=_(67081);function be(y,ct){1&y&&(i.j41(0,"p",13),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&y&&(i.R7$(),i.JRh(i.bMT(2,1,"lang_business_diem_tong_ket")))}function Se(y,ct){if(1&y){const F=i.RV6();i.j41(0,"a",14),i.bIt("click",function(){i.eBV(F);const D=i.XpG();return i.Njj(D.showTotalPointDetail())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&y&&(i.R7$(),i.SpI("(",i.bMT(2,1,"lang_auto_xem_chi_tiet"),")"))}function Ee(y,ct){if(1&y&&(i.j41(0,"div",15),i.EFF(1),i.k0s()),2&y){const F=i.XpG();i.R7$(),i.JRh(F.avgPoint)}}function Fe(y,ct){if(1&y&&(i.j41(0,"div",15),i.EFF(1),i.nI1(2,"number"),i.k0s()),2&y){let F;const O=i.XpG();i.R7$(),i.JRh(i.i5U(2,1,(null!==(F=null==O.attendanceObj?null:O.attendanceObj.averageMark)&&void 0!==F?F:0)/O.classroomList.length,"1.2-2"))}}function Re(y,ct){if(1&y&&(i.j41(0,"div",2),i.nrm(1,"azt-attendance-table",16),i.k0s()),2&y){const F=i.XpG();i.R7$(),i.Y8G("classroomIds",F.classroomIds)}}let Me=(()=>{var y;class ct extends s.H{showTotalPointDetail(){this.sAztDialogService.open(te.V,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(O=>{this.getInfoAttendance()})}getInfoAttendance(){if(this.initStatusObj(),this.isTqbDomain){const O=this.classroomList.map(D=>this.studentService.apiStudentsStudentIdProfileGet(D.studentId,D.id));this.wrapApiResponse((0,o.p)(O)).subscribe(D=>{if(!D.success)return this.errorStatusObj(D.message,!0);D.data?.forEach(kt=>{if(!kt)return this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0);this.updateAttendanceObj(kt)}),this.successStatusObj()})}else this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId)).subscribe(O=>{if(!O.success||!O.data)return this.errorStatusObj(O.message,!0);this.attendanceObj=O.data,this.studentObj=O.data.student,this.avgPoint=this.studentObj?.averageMark??0,this.successStatusObj()}))}updateAttendanceObj(O){this.attendanceObj={averageMark:(this.attendanceObj?.averageMark??0)+(O.student?.averageMark??0),totalAttend:(this.attendanceObj?.totalAttend??0)+(O?.totalAttend??0),totalAbsence:(this.attendanceObj?.totalAbsence??0)+(O?.totalAbsence??0),totalAbsentPermission:(this.attendanceObj?.totalAbsentPermission??0)+(O?.totalAbsentPermission??0),totalAbsentWithoutPermission:(this.attendanceObj?.totalAbsentWithoutPermission??0)+(O?.totalAbsentWithoutPermission??0),totalReceivedBook:(this.attendanceObj?.totalReceivedBook??0)+(O?.totalReceivedBook??0),totalReceivedDoc:(this.attendanceObj?.totalReceivedDoc??0)+(O?.totalReceivedDoc??0)}}ngOnChanges(){this.getInfoAttendance(),this.classroomIds=this.classroomList.map(O=>O.id)}ngOnInit(){super.ngOnInit()}constructor(O,D){super(),this.studentService=O,this.sAztDialogService=D,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.classroomList=[],this.avgPoint=0,this.classroomIds=[]}}return(y=ct).\u0275fac=function(O){return new(O||y)(i.rXU(ie.b0),i.rXU(ee.i))},y.\u0275cmp=i.VBU({type:y,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole",classroomList:"classroomList"},features:[i.Vt3,i.OA$],decls:16,vars:8,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],["class","mb-3 text-base font-medium",4,"ngIf"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],["class","ml-2 link__hover link__color",3,"click",4,"ngIf"],["class","text-2xl text-primary font-medium",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"mb-3","text-base","font-medium"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[3,"classroomIds"]],template:function(O,D){1&O&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2),i.DNE(3,be,3,3,"p",3),i.j41(4,"div",4)(5,"div",5)(6,"button",6)(7,"div",7),i.nrm(8,"lucide-icon",8),i.k0s()(),i.j41(9,"div",9),i.EFF(10),i.nI1(11,"mytranslate"),i.DNE(12,Se,3,3,"a",10),i.k0s(),i.DNE(13,Ee,2,1,"div",11)(14,Fe,3,4,"div",11),i.k0s()()(),i.DNE(15,Re,2,1,"div",12),i.k0s()()),2&O&&(i.R7$(3),i.Y8G("ngIf",D.isTqbDomain),i.R7$(7),i.SpI(" ",i.bMT(11,6,"lang_business_diem_tong_ket")," "),i.R7$(2),i.Y8G("ngIf",!D.isTqbDomain),i.R7$(),i.Y8G("ngIf",!D.isTqbDomain),i.R7$(),i.Y8G("ngIf",D.isTqbDomain),i.R7$(),i.Y8G("ngIf",D.isTqbDomain))},dependencies:[it.bT,C.WGl,he.X,it.QX,dt.wp],encapsulation:2}),ct})();var Ce=_(10123);function Te(y,ct){if(1&y&&(i.j41(0,"tr")(1,"td",10),i.EFF(2),i.k0s(),i.j41(3,"td"),i.EFF(4),i.k0s(),i.j41(5,"td"),i.EFF(6),i.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),i.k0s()()),2&y){const F=ct.$implicit,O=ct.index;i.R7$(2),i.JRh(O+1),i.R7$(2),i.JRh(F.bookName),i.R7$(2),i.JRh(i.bMT(7,3,F.createdAt))}}function N(y,ct){if(1&y&&(i.qex(0),i.DNE(1,Te,8,5,"tr",9),i.bVm()),2&y){const F=i.XpG();i.R7$(),i.Y8G("ngForOf",F.bookDistributionList)}}function wt(y,ct){1&y&&(i.j41(0,"tr")(1,"td",11),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()()),2&y&&(i.R7$(2),i.SpI(" ",i.bMT(3,1,"lang_student_profile_not_data_view")," "))}let A=(()=>{var y;class ct extends s.H{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(O=>{O?(this.bookDistributionList=O.list,this.totalBookDistribution=O.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(O){super(),this.studentService=O,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}}return(y=ct).\u0275fac=function(O){return new(O||y)(i.rXU(ie.b0))},y.\u0275cmp=i.VBU({type:y,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},features:[i.Vt3],decls:22,vars:14,consts:[["noDistribution",""],[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(O,D){if(1&O&&(i.j41(0,"div",1)(1,"span",2),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()(),i.j41(4,"div",3)(5,"drag-scroll")(6,"table",4)(7,"thead",5)(8,"tr")(9,"th",6),i.EFF(10),i.nI1(11,"mytranslate"),i.k0s(),i.j41(12,"th",7),i.EFF(13),i.nI1(14,"mytranslate"),i.k0s(),i.j41(15,"th",7),i.EFF(16),i.nI1(17,"mytranslate"),i.k0s()()(),i.j41(18,"tbody"),i.DNE(19,N,2,1,"ng-container",8)(20,wt,4,3,"ng-template",null,0,i.C5r),i.k0s()()()()),2&O){const kt=i.sdS(21);i.R7$(2),i.SpI(" ",i.bMT(3,6,"lang_student_total")+": "+D.totalBookDistribution," "),i.R7$(8),i.SpI(" ",i.bMT(11,8,"lang_auto_stt")," "),i.R7$(3),i.SpI(" ",i.bMT(14,10,"lang_core_ten_sach")," "),i.R7$(3),i.SpI(" ",i.bMT(17,12,"lang_auto_thoi_gian")," "),i.R7$(3),i.Y8G("ngIf",D.bookDistributionList.length)("ngIfElse",kt)}},dependencies:[it.Sq,it.bT,Ce.jd,Ce.Ew,dt.wp,dt.bH],encapsulation:2}),ct})();function U(y,ct){1&y&&(i.j41(0,"div"),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&y&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function K(y,ct){if(1&y&&(i.j41(0,"tr")(1,"td",11),i.EFF(2),i.k0s(),i.j41(3,"td"),i.EFF(4),i.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),i.k0s(),i.j41(6,"td"),i.EFF(7),i.k0s(),i.j41(8,"td",11)(9,"span",12),i.EFF(10),i.nI1(11,"mytranslate"),i.k0s()()()),2&y){let F;const O=ct.$implicit,D=ct.index;i.R7$(2),i.JRh(D+1),i.R7$(2),i.JRh(i.bMT(5,4,null!==(F=O.updatedAt)&&void 0!==F?F:O.createdAt)),i.R7$(3),i.JRh(O.month+"/"+O.year),i.R7$(3),i.SpI(" ",i.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function tt(y,ct){if(1&y&&(i.qex(0),i.DNE(1,K,12,8,"tr",10),i.bVm()),2&y){const F=i.XpG();i.R7$(),i.Y8G("ngForOf",F.historyTuitionFeeList)}}function Gt(y,ct){1&y&&(i.j41(0,"tr")(1,"td",13),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()()),2&y&&(i.R7$(2),i.SpI(" ",i.bMT(3,1,"lang_student_profile_not_data_view")," "))}let Qt=(()=>{var y;class ct extends s.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(O=>{O?this.historyTuitionFeeList=O.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(O){super(),this.paymentService=O,this.studentId=0,this.historyTuitionFeeList=[]}}return(y=ct).\u0275fac=function(O){return new(O||y)(i.rXU(ie.WG))},y.\u0275cmp=i.VBU({type:y,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},features:[i.Vt3],decls:23,vars:15,consts:[["noTuitionFee",""],[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(O,D){if(1&O&&(i.j41(0,"div",1),i.DNE(1,U,3,3,"div",2),i.j41(2,"div",3)(3,"drag-scroll")(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),i.EFF(8),i.nI1(9,"mytranslate"),i.k0s(),i.j41(10,"th",7),i.EFF(11),i.nI1(12,"mytranslate"),i.k0s(),i.j41(13,"th",7),i.EFF(14),i.nI1(15,"mytranslate"),i.k0s(),i.j41(16,"th",8),i.EFF(17),i.nI1(18,"mytranslate"),i.k0s()()(),i.j41(19,"tbody"),i.DNE(20,tt,2,1,"ng-container",9)(21,Gt,4,3,"ng-template",null,0,i.C5r),i.k0s()()()()()),2&O){const kt=i.sdS(22);i.R7$(),i.Y8G("ngIf",D.isMobileDevice||D.isMobileWebView),i.R7$(7),i.SpI(" ",i.bMT(9,7,"lang_auto_stt")," "),i.R7$(3),i.SpI(" ",i.bMT(12,9,"lang_student_payment_time")," "),i.R7$(3),i.SpI(" ",i.bMT(15,11,"lang_student_monthly_tuition_fee")," "),i.R7$(3),i.SpI(" ",i.bMT(18,13,"lang_student_status")," "),i.R7$(3),i.Y8G("ngIf",D.historyTuitionFeeList.length)("ngIfElse",kt)}},dependencies:[it.Sq,it.bT,Ce.jd,Ce.Ew,dt.wp,dt.bH],encapsulation:2}),ct})();const ae=()=>({"text-primary":!0});function se(y,ct){if(1&y&&(i.j41(0,"span"),i.EFF(1),i.nI1(2,"mytranslate"),i.nrm(3,"azt-check-mark",17),i.k0s()),2&y){const F=i.XpG(2).$implicit;i.R7$(),i.SpI(" ",i.bMT(2,2,"lang_point"),": "),i.R7$(2),i.Y8G("mark",F.resultMarkObj.point)}}function re(y,ct){1&y&&(i.j41(0,"span",18),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&y&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_student_profile_not_mark_result")," "))}function le(y,ct){if(1&y&&(i.j41(0,"span"),i.DNE(1,se,4,4,"span",13)(2,re,3,3,"span",16),i.k0s()),2&y){const F=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",F.resultMarkObj.confirmedAt),i.R7$(),i.Y8G("ngIf",!F.resultMarkObj.confirmedAt)}}function ce(y,ct){1&y&&(i.j41(0,"span",19),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&y&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_student_profile_no_result")," "))}function Ae(y,ct){if(1&y&&(i.j41(0,"span",19),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&y){const F=i.XpG().$implicit;i.R7$(),i.Lme("",i.bMT(2,2,"lang_student_profile_resend_answer_required"),": ",F.resendAnswerObj.resendNote,"")}}function Pe(y,ct){if(1&y){const F=i.RV6();i.j41(0,"div",7),i.bIt("click",function(){const D=i.eBV(F).$implicit,kt=i.XpG();return i.Njj(kt.clickToHomeworkObj(D))}),i.j41(1,"div",8),i.nrm(2,"lucide-icon",9),i.k0s(),i.j41(3,"div",10)(4,"p",11),i.EFF(5),i.k0s(),i.j41(6,"div",12),i.DNE(7,le,3,2,"span",13)(8,ce,3,3,"span",14)(9,Ae,3,4,"span",14),i.k0s(),i.j41(10,"div",15),i.EFF(11),i.nI1(12,"mytranslate"),i.nI1(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),i.k0s()()()}if(2&y){const F=ct.$implicit,O=ct.index;i.ZvI("clickable zoom-in flex items-center ",O>0?"mt-5":""," pb-2"),i.R7$(2),i.Y8G("ngClass",i.lJ4(16,ae)),i.R7$(2),i.FS9("matTooltip",F.name),i.R7$(),i.Lme("",O+1,". ",F.name,""),i.R7$(2),i.Y8G("ngIf",F.resultMarkObj),i.R7$(),i.Y8G("ngIf",!F.resultMarkObj&&!F.resendAnswerObj),i.R7$(),i.Y8G("ngIf",!F.resultMarkObj&&F.resendAnswerObj),i.R7$(2),i.Lme("",i.bMT(12,12,"lang_student_profile_utils_homework_answer_created_at"),": ",i.bMT(13,14,F.createdAt),"")}}function ye(y,ct){1&y&&(i.j41(0,"div",20),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&y&&(i.R7$(),i.JRh(i.bMT(2,1,"lang_list_null")))}function ke(y,ct){if(1&y&&i.nrm(0,"azt-loading-effect",25),2&y){const F=i.XpG(2);i.Y8G("currentStatusObj",F.statusObj)}}function Oe(y,ct){if(1&y){const F=i.RV6();i.j41(0,"div",21),i.DNE(1,ke,1,1,"azt-loading-effect",22),i.j41(2,"button",23),i.nI1(3,"mytranslate"),i.bIt("click",function(){i.eBV(F);const D=i.XpG();return i.Njj(D.getNextHomeworkAnswerObjs())}),i.nrm(4,"lucide-icon",24),i.k0s()()}if(2&y){const F=i.XpG();i.R7$(),i.Y8G("ngIf",F.statusObj.loading),i.R7$(),i.FS9("matTooltip",i.bMT(3,3,"lang_auto_hien_ban_ghi_cu_hon")),i.Y8G("disabled",!F.homeworkNextPage)}}let Ge=(()=>{var y;class ct extends s.H{clickToHomeworkObj(O){this.isTeacher?O.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",O)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+O.resultMarkObj?.resultId+"/"+O.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(O.classroomId??0)+"/"+O.id+"/"+O.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(O.resultMarkObj?.resultId?"/homework/switch-view-homework/"+O.resultMarkObj?.resultId+"/"+O.hashId:"/bai-tap/"+O.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var O=this.studentProfileFilterService.getDefaultFilterObj("homework");O.classroomId=this.classroomId,O.studentId=this.studentId,O.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(O).subscribe(D=>{1==D.success?(this.homeworkObjs=this.homeworkObjs.concat(D.data?.objs??[]),this.homeworkNextPage=D.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(O,D,kt){super(),this.studentProfileV2Service=O,this.studentProfileFilterService=D,this.permissionService=kt,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return(y=ct).\u0275fac=function(O){return new(O||y)(i.rXU(h.m_),i.rXU(xt),i.rXU(gt.p))},y.\u0275cmp=i.VBU({type:y,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},features:[i.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"changeFilterEvent","filterType"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["name","file-text","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"click","matTooltip","disabled"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(O,D){1&O&&(i.j41(0,"div",0)(1,"h2",1),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s(),i.j41(4,"azt-student-profile-filter-menu",2),i.bIt("changeFilterEvent",function(){return D.reInitData()}),i.k0s()(),i.j41(5,"div",3),i.DNE(6,Pe,14,17,"div",4)(7,ye,3,3,"div",5)(8,Oe,5,5,"div",6),i.k0s()),2&O&&(i.R7$(2),i.JRh(i.bMT(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),i.R7$(2),i.Y8G("filterType","homework"),i.R7$(2),i.Y8G("ngForOf",D.homeworkObjs),i.R7$(),i.Y8G("ngIf",0==D.homeworkObjs.length&&!D.homeworkNextPage),i.R7$(),i.Y8G("ngIf",D.homeworkObjs.length>0&&D.homeworkNextPage))},dependencies:[it.YU,it.Sq,it.bT,nt.oV,C.WGl,z.K,It.D,_t,dt.wp,dt.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),ct})();var $e=_(43166);function Ne(y,ct){if(1&y&&i.nrm(0,"azt-loading-effect",5),2&y){const F=i.XpG();i.Y8G("currentStatusObj",F.statusObj)}}function T(y,ct){if(1&y&&(i.j41(0,"mat-option",23),i.EFF(1),i.k0s()),2&y){const F=ct.$implicit;i.Y8G("value",F.id+"-"+F.studentId),i.R7$(),i.SpI(" ",F.name," ")}}function rt(y,ct){if(1&y){const F=i.RV6();i.j41(0,"div",17)(1,"mat-form-field",18)(2,"mat-select",19,3),i.bIt("selectionChange",function(D){i.eBV(F);const kt=i.XpG(2);return i.Njj(kt.selectedClassroom(D))}),i.j41(4,"mat-option"),i.nrm(5,"ngx-mat-select-search",20),i.nI1(6,"mytranslate"),i.nI1(7,"mytranslate"),i.k0s(),i.j41(8,"mat-option",21),i.EFF(9),i.nI1(10,"mytranslate"),i.k0s(),i.DNE(11,T,2,2,"mat-option",22),i.k0s()()()}if(2&y){const F=i.sdS(3),O=i.XpG(2);i.R7$(2),i.Y8G("formControl",O.select),i.R7$(3),i.FS9("placeholderLabel",i.bMT(6,8,"lang_search_by_name")),i.FS9("noEntriesFoundLabel",i.bMT(7,10,"lang_search_not_found")),i.Y8G("formControl",F.searchControl),i.R7$(3),i.Y8G("value","")("disabled",!0),i.R7$(),i.SpI("---",i.bMT(10,12,"lang_auto_chon_lop"),"---"),i.R7$(2),i.Y8G("ngForOf",F.filter(O.classroomList,"name"))}}function P(y,ct){if(1&y&&(i.j41(0,"div",24),i.nrm(1,"azt-detail-attendance",25),i.k0s()),2&y){const F=i.XpG(2);i.R7$(),i.Y8G("studentId",F.studentId)("isTeacherRole",F.isTeacherDashboard)("selectClassroomId",F.classroomId)("classroomList",F.classroomList)}}function j(y,ct){if(1&y&&(i.j41(0,"div",24)(1,"p",26),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s(),i.nrm(4,"azt-detail-tuition-fee",27),i.k0s()),2&y){const F=i.XpG(2);i.R7$(2),i.JRh(i.bMT(3,2,"lang_student_tuition_fee_info")),i.R7$(2),i.Y8G("studentId",F.studentId)}}function I(y,ct){if(1&y&&(i.j41(0,"div",24)(1,"p",26),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s(),i.nrm(4,"azt-detail-book-distribution",27),i.k0s()),2&y){const F=i.XpG(2);i.R7$(2),i.JRh(i.bMT(3,2,"lang_student_book_distribution_info")),i.R7$(2),i.Y8G("studentId",F.studentId)}}function lt(y,ct){if(1&y){const F=i.RV6();i.j41(0,"div",6)(1,"div",7)(2,"h3",8),i.EFF(3),i.nI1(4,"mytranslate"),i.k0s(),i.DNE(5,rt,12,14,"div",9),i.k0s(),i.j41(6,"div",10)(7,"azt-detail-account-student",11),i.bIt("reInitComponentEvent",function(){i.eBV(F);const D=i.XpG();return i.Njj(D.reInitOtherComponent())}),i.k0s(),i.j41(8,"div",12)(9,"div",13),i.nrm(10,"azt-student-profile-list-exams",14,1),i.k0s(),i.j41(12,"div",13),i.nrm(13,"azt-student-profile-list-homeworks",15,2),i.k0s()(),i.DNE(15,P,2,4,"div",16)(16,j,5,4,"div",16)(17,I,5,4,"div",16),i.k0s()()}if(2&y){const F=i.XpG();i.R7$(3),i.SpI(" ",i.bMT(4,21,"lang_student_classroom_profile_student")," "),i.R7$(2),i.Y8G("ngIf",!F.isTqbDomain),i.R7$(2),i.Y8G("studentObj",F.studentObj)("classroomObj",F.classroomObj)("classroomList",F.classroomList)("classroomId",F.classroomId)("backToLink",F.backToLink)("paramBackToLink",F.paramBackToLink)("isTeacher",F.isTeacherDashboard),i.R7$(3),i.Y8G("studentId",F.studentId)("isTeacher",F.isTeacherDashboard)("classroomId",F.classroomId)("backToLink",F.backToLink)("classroomList",F.classroomList),i.R7$(3),i.Y8G("studentId",F.studentId)("isTeacher",F.isTeacherDashboard)("classroomId",F.classroomId)("backToLink",F.backToLink),i.R7$(2),i.Y8G("ngIf",F.isTqbDomain),i.R7$(),i.Y8G("ngIf",F.isTqbDomain),i.R7$(),i.Y8G("ngIf",F.isTqbDomain)}}let ne=(()=>{var y;class ct extends s.H{reInitOtherComponent(O){this.listExam?.reInitData(),this.listHomework?.reInitData(),O&&this.getData()}selectedClassroom(O){let D=O.value.split("-")[0],kt=O.value.split("-")[1],Jt=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+D+"/"+kt,Jt?"?backTo="+encodeURIComponent(Jt):""),this.reInitOtherComponent()}getData(){this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(D=>{1==D.success?(D.data?.studentObj&&D.data?.classroomObj&&D.data.classroomObj.permissionObj&&(this.studentObj=D.data.studentObj,this.classroomObj=D.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.getData()}constructor(O){super(),this.studentProfileV2Service=O,this.select=new a.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}}return(y=ct).\u0275fac=function(O){return new(O||y)(i.rXU(h.m_))},y.\u0275cmp=i.VBU({type:y,selectors:[["azt-student-profile"]],viewQuery:function(O,D){if(1&O&&(i.GBs(t,5),i.GBs(t,5)),2&O){let kt;i.mGM(kt=i.lsd())&&(D.listExam=kt.first),i.mGM(kt=i.lsd())&&(D.listHomework=kt.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},features:[i.Vt3],decls:3,vars:2,consts:[["doneLoading",""],["listExam",""],["listHomework",""],["searchInListClassroom","searchInList"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],["class","ml-5 box","style","font-size: 12px",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"reInitComponentEvent","studentObj","classroomObj","classroomList","classroomId","backToLink","paramBackToLink","isTeacher"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink","classroomList"],[3,"studentId","isTeacher","classroomId","backToLink"],["class","mt-5",4,"ngIf"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["searchInList","","name","classroom",3,"selectionChange","formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId","classroomList"],[1,"mb-3","text-base","font-medium"],[3,"studentId"]],template:function(O,D){if(1&O&&i.DNE(0,Ne,1,1,"azt-loading-effect",4)(1,lt,18,23,"ng-template",null,0,i.C5r),2&O){const kt=i.sdS(2);i.Y8G("ngIf",D.statusObj.loading)("ngIfElse",kt)}},dependencies:[it.Sq,it.bT,vt.wT,Q.rl,Pt.VO,a.BC,a.l_,zt.U9,z.K,At,Me,A,Qt,Ge,t,$e.x,dt.wp],encapsulation:2}),ct})()}}]);