"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[9089],{89089:(Kt,it,d)=>{d.r(it),d.d(it,{StudentModule:()=>yl});var r=d(54460),c=d(10936),C=d(89163),S=d(65162),rt=d(69223),lt=d(23047),k=d(15343),pt=d(13763),E=d(10123),ct=d(25571),dt=d(44233),Z=d(5502),gt=d(21656),ht=d(70050),j=d(7050),z=d(35143),y=d(43234),G=d(63778),x=d(33887),W=d(38009),tt=d(80037),t=d(48891),$=d(21213),wt=d(3780);function Dt(e,i){1&e&&(t.j41(0,"div",12)(1,"span",13),t.nrm(2,"azt-loading-ui"),t.k0s()())}function Mt(e,i){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const o=t.XpG(2);t.R7$(),t.JRh(" ("+o.dataUpgradeClass.length+" "+t.bMT(2,1,"lang_testbank_test_list_classes")+")")}}function $t(e,i){1&e&&(t.j41(0,"div",26),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),"."))}function zt(e,i){if(1&e){const o=t.RV6();t.j41(0,"input",36),t.nI1(1,"mytranslate"),t.bIt("keyup",function(){t.eBV(o);const n=t.XpG().index,a=t.XpG(2);return t.Njj(a.validateInput(n))}),t.k0s()}if(2&e){const o=t.XpG(),s=o.$implicit;t.Mz_("id","input-event-",o.index,""),t.FS9("value",s.nameClass),t.FS9("placeholder",t.bMT(1,4,"lang_auto_nhap_ten_lop"))}}function Nt(e,i){if(1&e){const o=t.RV6();t.j41(0,"textarea",37),t.nI1(1,"mytranslate"),t.bIt("keyup",function(){t.eBV(o);const n=t.XpG().index,a=t.XpG(2);return t.Njj(a.validateInput(n))}),t.k0s()}if(2&e){const o=t.XpG(),s=o.$implicit;t.Mz_("id","input-event-",o.index,""),t.FS9("value",s.nameClass),t.FS9("placeholder",t.bMT(1,4,"lang_auto_nhap_ten_lop"))}}function At(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",27)(1,"div",28)(2,"div",29),t.DNE(3,zt,2,6,"input",30)(4,Nt,2,6,"textarea",31),t.k0s(),t.j41(5,"div",32)(6,"button",33),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG(2);return t.Njj(a.clearInput(n.id))}),t.nrm(7,"lucide-icon",34),t.k0s()()(),t.j41(8,"div",35,1),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()}if(2&e){const o=i.index,s=t.XpG(2);t.R7$(3),t.Y8G("ngIf",0==s.isMobile),t.R7$(),t.Y8G("ngIf",1==s.isMobile),t.R7$(4),t.Mz_("id","logerror",o,""),t.R7$(2),t.SpI(" ",t.bMT(11,5,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function Pt(e,i){if(1&e){const o=t.RV6();t.j41(0,"form",14)(1,"div",15)(2,"div",16)(3,"azt-list-classroom-checkbox",17),t.bIt("changeCheckboxEvent",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.changeCheckboxEvent())})("createdNewClassroom",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.isCreatedNewClassroom=!0)}),t.k0s()(),t.j41(4,"div",18)(5,"div",19),t.EFF(6),t.nI1(7,"mytranslate"),t.DNE(8,Mt,3,3,"span",20),t.k0s(),t.j41(9,"div",21)(10,"ng-scrollbar",22),t.DNE(11,$t,3,3,"div",23),t.j41(12,"div",24),t.DNE(13,At,12,7,"div",25),t.k0s()()()()()()}if(2&e){const o=t.XpG();t.Y8G("formGroup",o.form),t.R7$(3),t.Y8G("form",o.form)("classroomGroupData",o.classroomWithGroup)("permissionName",o.permissionTypes.classroom)("defaultCssClass","classroom-box-in-dialog"),t.R7$(3),t.SpI(" ",t.bMT(7,11,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),t.R7$(2),t.Y8G("ngIf",o.dataUpgradeClass.length),t.R7$(2),t.Y8G("visibility","hover")("autoHeightDisabled",!0),t.R7$(),t.Y8G("ngIf",0==o.dataUpgradeClass.length),t.R7$(2),t.Y8G("ngForOf",o.dataUpgradeClass)}}function Yt(e,i){1&e&&t.nrm(0,"azt-loading-ui",38)}let p=(()=>{var e;class i extends x._{closeDialog(){this.dialogRef.close(this.isCreatedNewClassroom??!1)}validateInput(s){let n=document.getElementById("input-event-"+s),a=n?n.value:"";if(""==a){let l=document.getElementById("logerror"+s);l&&(l.style.display="block")}if(""!=a){let l=document.getElementById("logerror"+s);l&&(l.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let s=!0;this.sendDataUpgradeClass=[];for(let n=0;n<this.dataUpgradeClass.length;n++){let a=document.getElementById("input-event-"+n),l=a?a.value:"";""==l&&(s=!1),this.validateInput(n),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[n].id,newName:l,year:this.increaseYear(this.dataUpgradeClass[n].year)})}1==s&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(s){if(null!=s||null!=s){let n=s.split(" ")[0],a=parseInt(n,10)+1;return a+" - "+(a+1)}}changeCheckboxEvent(){const s=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray),n=s.concat(this.dataUpgradeClass.map(l=>l.id??0));let a=n.filter(l=>n.indexOf(l)===n.lastIndexOf(l));s.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(l=>a.includes(l.id??0)).map(l=>{let v,m=l.name,_=l.year,u=m?.match(/\d+/g);if(null==u)v=m;else{let F=parseInt(u[0].toString(),10)+1;v=m?.replace(u[0],F.toString())}return{id:l.id,nameClass:v,year:_}})):a.forEach(l=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(m=>m.id===l),1)})}clearInput(s){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+s)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var s=[],n=0;n<this.sendDataUpgradeClass.length;n++)s.push({oldId:this.sendDataUpgradeClass[n].oldId??0,newName:this.sendDataUpgradeClass[n].newName??"",year:this.sendDataUpgradeClass[n].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(s).subscribe(a=>{1==a.success?(a.data?.isDuplicatedClassroomName?this.errorStatusObj(a.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(this.isCreatedNewClassroom),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(s=>{s.success?(this.classroomWithGroup=s.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(n=>n.classroomObjs)),this.successStatusObj()):this.errorStatusObj(s.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(s,n,a,l){super(void 0,l),this.classroomGroupService=s,this.sAztClassroomCheckboxService=n,this.location=a,this.dialogRef=l,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isCreatedNewClassroom=!1,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=W.t,this.classroomWithGroup=[],this.form=new c.gE({classroomFormArray:new c.Yp([]),whoAllow:new c.MJ(0,{nonNullable:!0})},{validators:[tt.j.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU($.kG),t.rXU(wt.Q),t.rXU(r.aZ),t.rXU(C.CP,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-create-class-new-course"]],features:[t.Vt3],decls:20,vars:16,consts:[["doneLoading",""],["ab",""],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium","text-base"],[1,"leading-relaxed","text-slate-500","text-xs"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],[1,"p-3","flex","justify-end"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"azt-list-classroom"],[3,"changeCheckboxEvent","createdNewClassroom","form","classroomGroupData","permissionName","defaultCssClass"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[4,"ngIf"],[2,"height","150px"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility","autoHeightDisabled"],["style","height: 130px","class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","p-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center",2,"height","130px"],[1,"col-span-12","md:col-span-6","2xl:col-span-4"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["name","x","size","20"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["type","text",1,"form-control",3,"keyup","id","value","placeholder"],["rows","2","wrap","soft","type","text",1,"form-control",3,"keyup","id","value","placeholder"],[1,"mr-1"]],template:function(s,n){if(1&s){const a=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",6),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,Dt,3,0,"div",7)(10,Pt,14,13,"ng-template",null,0,t.C5r),t.k0s(),t.j41(12,"div",8)(13,"button",9),t.bIt("click",function(){return t.eBV(a),t.Njj(n.closeDialog())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"button",10),t.bIt("click",function(){return t.eBV(a),t.Njj(n.handleUpgrade())}),t.DNE(17,Yt,1,0,"azt-loading-ui",11),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()}if(2&s){const a=t.sdS(11);t.R7$(4),t.SpI(" ",t.bMT(5,8,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(3),t.JRh(t.bMT(8,10,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),t.R7$(2),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a),t.R7$(5),t.SpI(" ",t.bMT(15,12,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",n.form.invalid),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(19,14,"lang_button_save")," ")}},encapsulation:2}),i})();var I=d(1133),b=d(50866),f=d(76627),g=d(59640),Q=d(46134),N=d(96451),Bt=d(66067),qt=d(26988),mt=d(27208),Zt=d(9280),A=d(17818),D=d(18718),w=d(52811),H=d(32099),te=d(94743),B=d(47712),vt=d(69135),h=d(76975);const Ee=e=>({"mt-3":e}),we=e=>({"w-2/3":e}),De=e=>({truncate:e});function Me(e,i){1&e&&(t.nrm(0,"lucide-icon",11),t.nI1(1,"mytranslate")),2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function $e(e,i){1&e&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_unpublished"))}function ze(e,i){if(1&e&&(t.j41(0,"div")(1,"div",8),t.DNE(2,Me,2,3,"lucide-icon",9)(3,$e,2,3,"lucide-icon",10),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.Y8G("ngIf",o.document.homework.isPublished),t.R7$(),t.Y8G("ngIf",!o.document.homework.isPublished)}}function Ne(e,i){1&e&&(t.nrm(0,"lucide-icon",16),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate")),2&e&&t.FCK("matTooltip","",t.bMT(1,3,"lang_core_danh_gia_nang_luc")," - ",t.bMT(2,5,"lang_testbank_folder_and_file_published"),"")}function Ae(e,i){1&e&&(t.nrm(0,"lucide-icon",17),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate")),2&e&&t.FCK("matTooltip","",t.bMT(1,3,"lang_core_danh_gia_nang_luc")," - ",t.bMT(2,5,"lang_testbank_folder_and_file_unpublished"),"")}function Pe(e,i){1&e&&(t.nrm(0,"lucide-icon",20),t.nI1(1,"mytranslate")),2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function Ye(e,i){1&e&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&e&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_unpublished"))}function Be(e,i){if(1&e&&(t.j41(0,"div",18),t.DNE(1,Pe,2,3,"lucide-icon",19)(2,Ye,2,3,"lucide-icon",10),t.k0s()),2&e){const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",null==o.document.exam?null:o.document.exam.isPublished),t.R7$(),t.Y8G("ngIf",!(null!=o.document.exam&&o.document.exam.isPublished))}}function Le(e,i){if(1&e&&(t.DNE(0,Ne,3,7,"lucide-icon",13),t.nI1(1,"isCapacityExam"),t.DNE(2,Ae,3,7,"lucide-icon",14),t.nI1(3,"isCapacityExam"),t.DNE(4,Be,3,2,"div",15),t.nI1(5,"isCapacityExam")),2&e){const o=t.XpG();t.Y8G("ngIf",(null==o.document.exam?null:o.document.exam.isPublished)&&t.bMT(1,3,o.document.exam)),t.R7$(2),t.Y8G("ngIf",!(null!=o.document.exam&&o.document.exam.isPublished)&&t.bMT(3,5,o.document.exam)),t.R7$(2),t.Y8G("ngIf",!t.bMT(5,7,o.document.exam))}}function Ve(e,i){if(1&e&&(t.j41(0,"div",21)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_luot_lam")+": "+o.document.exam.attended)}}function Xe(e,i){if(1&e&&(t.j41(0,"div",21)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_da_nop")+": "+o.document.homework.count+"/"+o.document.homework.totalStudent)}}let Ue=(()=>{var e;class i extends g.H{}return(e=i).\u0275fac=(()=>{let o;return function(n){return(o||(o=t.xGo(e)))(n||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.Vt3],decls:11,vars:17,consts:[["ExamIcon",""],["c","isDisabled"],[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],[1,"ml-4","mr-auto",3,"ngClass"],[1,"font-medium",3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"text-primary"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip"],["name","clipboard-check","size","40","class","text-primary",3,"matTooltip",4,"ngIf"],["name","clipboard","size","40","class","text-primary",3,"matTooltip",4,"ngIf"],["class","text-pending",4,"ngIf"],["name","clipboard-check","size","40",1,"text-primary",3,"matTooltip"],["name","clipboard","size","40",1,"text-primary",3,"matTooltip"],[1,"text-pending"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(s,n){if(1&s&&(t.j41(0,"div",2)(1,"div",3),t.DNE(2,ze,4,2,"div",4)(3,Le,6,9,"ng-template",null,0,t.C5r),t.k0s(),t.j41(5,"div",5)(6,"div",6,1),t.EFF(8),t.k0s(),t.DNE(9,Ve,4,3,"div",7)(10,Xe,4,3,"div",7),t.k0s()()),2&s){const a=t.sdS(4),l=t.sdS(7);t.Y8G("ngClass",t.eq3(11,Ee,0!==n.index)),t.R7$(2),t.Y8G("ngIf",n.document.homework)("ngIfElse",a),t.R7$(3),t.Y8G("ngClass",t.eq3(13,we,!n.isMobileDevice)),t.R7$(),t.FS9("matTooltip",n.document.exam?n.document.exam.name:null==n.document.homework?null:n.document.homework.name),t.Y8G("ngClass",t.eq3(15,De,!n.isMobileDevice))("isDisabledTooltip",!1)("matTooltipDisabled",l.isDisabled),t.R7$(2),t.SpI(" ",n.document.exam?n.document.exam.name:null==n.document.homework?null:n.document.homework.name," "),t.R7$(),t.Y8G("ngIf",n.document.exam),t.R7$(),t.Y8G("ngIf",n.document.homework)}},dependencies:[r.YU,r.bT,B.oV,vt.f,k.WGl,h.wp,h.Xc],encapsulation:2}),i})();const et=()=>({"mr-2":!0}),Je=()=>({"mr-0 md:mr-2":!0}),Ct=e=>[e],xt=(e,i)=>({backto:e,filterBy:i}),ee=()=>({"ml-1":!0});function We(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",20),2&e){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function Qe(e,i){1&e&&(t.j41(0,"span",40),t.nrm(1,"azt-loading-ui"),t.k0s())}function He(e,i){1&e&&(t.j41(0,"span",41)(1,"span",42),t.EFF(2,"1"),t.k0s()())}function Ke(e,i){1&e&&(t.j41(0,"span"),t.EFF(1," \xa0 "),t.j41(2,"span",43),t.EFF(3,"1"),t.k0s()())}function qe(e,i){1&e&&(t.j41(0,"h2",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_student_list_of_assigned_assignments")))}function Ze(e,i){1&e&&(t.j41(0,"h2",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_student_search_results")))}function tn(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",45),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.backToDocumentList())}),t.nrm(1,"lucide-icon",46),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,et)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_quay_lai")))}function en(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",20),2&e){const o=t.XpG(2);t.Y8G("currentStatusObj",o.statusObj)}}function nn(e,i){if(1&e&&(t.j41(0,"a",60),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&e){const o=t.XpG(2),s=o.$implicit,n=o.index,a=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Ct,t.bMT(1,4,"/admin/testbank/homework-results-list/"+s.homework.classroomId+"/"+s.homework.id+"/"+s.homework.hashId)))("queryParams",t.l_i(8,xt,"/admin/student/classroom-details/"+a.classroomId+"/1",a.typeFilter)),t.R7$(2),t.Y8G("document",s)("index",n)}}function on(e,i){if(1&e&&(t.j41(0,"a",62),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&e){const o=t.XpG(2),s=o.$implicit,n=o.index,a=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Ct,t.bMT(1,4,"/bai-tap/"+s.homework.hashId)))("queryParams",t.l_i(8,xt,"/student/classroom-details/"+a.classroomId+"/1",a.typeFilter)),t.R7$(2),t.Y8G("document",s)("index",n)}}function sn(e,i){if(1&e&&(t.qex(0),t.DNE(1,nn,3,11,"a",58)(2,on,3,11,"a",59),t.bVm()),2&e){const o=t.XpG(7);t.R7$(),t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",o.isStudent)}}function an(e,i){if(1&e&&(t.j41(0,"a",65),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&e){let o;const s=t.XpG(2),n=s.$implicit,a=s.index,l=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Ct,t.bMT(1,4,"/admin/testbank/exam-results-list/"+(null!==(o=null==n.exam?null:n.exam.categoryId)&&void 0!==o?o:0)+"/"+(null==n.exam?null:n.exam.id)+"/0")))("queryParams",t.l_i(8,xt,"/admin/student/classroom-details/"+l.classroomId+"/1",l.typeFilter)),t.R7$(2),t.Y8G("document",n)("index",a)}}function rn(e,i){if(1&e&&(t.j41(0,"a",66),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&e){const o=t.XpG(2),s=o.$implicit,n=o.index,a=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Ct,t.bMT(1,4,"/de-thi/"+(null==s.exam?null:s.exam.hashId))))("queryParams",t.l_i(8,xt,"/student/classroom-details/"+a.classroomId+"/1",a.typeFilter)),t.R7$(2),t.Y8G("document",s)("index",n)}}function ln(e,i){if(1&e&&t.DNE(0,an,3,11,"a",63)(1,rn,3,11,"a",64),2&e){const o=t.XpG(7);t.Y8G("ngIf",!o.isStudent),t.R7$(),t.Y8G("ngIf",o.isStudent)}}function cn(e,i){if(1&e&&(t.j41(0,"div",57),t.DNE(1,sn,3,2,"ng-container",48)(2,ln,2,2,"ng-template",null,5,t.C5r),t.k0s()),2&e){const o=i.$implicit,s=t.sdS(3);t.R7$(),t.Y8G("ngIf",o.homework)("ngIfElse",s)}}function dn(e,i){if(1&e&&(t.j41(0,"div",55),t.DNE(1,cn,4,2,"div",56),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",o.documentList)}}function mn(e,i){if(1&e){const o=t.RV6();t.j41(0,"div")(1,"div")(2,"button",51),t.bIt("click",function(){const n=t.eBV(o).$implicit;return t.Njj(n.isExpand=!n.isExpand)}),t.nrm(3,"lucide-icon",52),t.j41(4,"span",53),t.EFF(5),t.nI1(6,"getDayOfWeek"),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.nI1(9,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.DNE(10,dn,2,1,"div",54),t.k0s()}if(2&e){const o=i.$implicit;t.R7$(3),t.FS9("name",o.isExpand?"chevron-down":"chevron-right"),t.R7$(2),t.JRh(t.bMT(7,5,t.bMT(6,3,o.assignmentDate))+", "+t.bMT(8,7,"lang_testbank_powerpoint_date")+" "+t.bMT(9,9,o.assignmentDate)),t.R7$(5),t.Y8G("ngIf",o.isExpand)}}function _n(e,i){1&e&&t.nrm(0,"azt-loading-ui",70)}function un(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",67)(1,"button",68),t.bIt("click",function(){t.eBV(o);const n=t.XpG(4);return t.Njj(!n.sAztNextPaginationService.isLoadingNextPage&&n.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,_n,1,0,"azt-loading-ui",69),t.k0s()()}if(2&e){const o=t.XpG(4);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_document_get_more_documents")," "),t.R7$(2),t.Y8G("ngIf",o.sAztNextPaginationService.isLoadingNextPage)}}function pn(e,i){if(1&e&&(t.qex(0),t.DNE(1,mn,11,11,"div",49)(2,un,5,4,"div",50),t.bVm()),2&e){const o=t.XpG(3);t.R7$(),t.Y8G("ngForOf",o.listGroupDocumentObjs),t.R7$(),t.Y8G("ngIf",o.sAztNextPaginationService.hasNextPage)}}function gn(e,i){1&e&&(t.j41(0,"div",71)(1,"div",72),t.nrm(2,"azt-svg-icon",73),t.j41(3,"p",74),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&e&&(t.R7$(2),t.Y8G("size",87),t.R7$(2),t.JRh(t.bMT(5,2,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function hn(e,i){if(1&e&&(t.j41(0,"div",47),t.DNE(1,pn,3,2,"ng-container",48)(2,gn,6,4,"ng-template",null,4,t.C5r),t.k0s()),2&e){const o=t.sdS(3),s=t.XpG(2);t.R7$(),t.Y8G("ngIf",s.listGroupDocumentObjs.length>0)("ngIfElse",o)}}function fn(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"div",25)(5,"azt-search-box",26),t.nI1(6,"mytranslate"),t.bIt("onSearch",function(n){t.eBV(o);const a=t.XpG();return t.Njj(a.searchDocumentObjs(n.searchObj))}),t.k0s()(),t.j41(7,"button",27),t.DNE(8,Qe,2,0,"span",28),t.nrm(9,"lucide-icon",29),t.DNE(10,He,3,0,"span",30),t.j41(11,"span",31),t.EFF(12),t.nI1(13,"mytranslate"),t.DNE(14,Ke,4,0,"span",32),t.k0s()()(),t.j41(15,"div",33)(16,"button",34),t.nrm(17,"lucide-icon",35),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()(),t.j41(20,"div",36),t.DNE(21,qe,3,3,"h2",37)(22,Ze,3,3,"h2",37)(23,tn,5,5,"button",38),t.k0s(),t.j41(24,"div",39),t.DNE(25,en,1,1,"azt-loading-effect",6),t.k0s(),t.DNE(26,hn,4,2,"ng-template",null,3,t.C5r),t.k0s()}if(2&e){const o=t.sdS(27),s=t.XpG(),n=t.sdS(4),a=t.sdS(25);t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(6,17,"lang_auto_tim_kiem"))("searchContentObj",s.searchContentObj),t.R7$(2),t.Y8G("matMenuTriggerFor",n),t.R7$(),t.Y8G("ngIf",s.loadingFilter),t.R7$(),t.Y8G("ngClass",t.lJ4(23,Je)),t.R7$(),t.Y8G("ngIf",""!=s.typeFilter),t.R7$(2),t.SpI(" ",t.bMT(13,19,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf",""!=s.typeFilter),t.R7$(2),t.Y8G("matMenuTriggerFor",a),t.R7$(),t.Y8G("ngClass",t.lJ4(24,et)),t.R7$(),t.SpI(" ",t.bMT(19,21,"lang_student_new_assignment")," "),t.R7$(3),t.Y8G("ngIf",!s.isShowSearchResult),t.R7$(),t.Y8G("ngIf",s.isShowSearchResult),t.R7$(),t.Y8G("ngIf",s.isShowSearchResult),t.R7$(2),t.Y8G("ngIf",s.searchContentObj.isLoading||s.loadingFilter)("ngIfElse",o)}}function bn(e,i){1&e&&t.nrm(0,"lucide-icon",75),2&e&&t.Y8G("ngClass",t.lJ4(1,ee))}function vn(e,i){1&e&&t.nrm(0,"lucide-icon",75),2&e&&t.Y8G("ngClass",t.lJ4(1,ee))}let Cn=(()=>{var e;class i extends g.H{changeFilter(s){this.typeFilter=s,this.loadingFilter=!0,this.resetData(),this.commonService.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/1","?filterBy="+s),this.getData(!0)}openEditor(){let s=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(s)}&classroomId=${this.classroomId}`)}openHomeworkScreen(){let s=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/homework/add-new-homework/0",`?backto=${encodeURIComponent(s)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(s){this.searchContentObj=s,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(s){s?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let n={categoryId:void 0,documentType:"file",shareType:void 0,fileType:this.typeFilter?this.typeFilter:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(n.categoryId,n.documentType,n.shareType,n.fileType,n.classroomId,n.name,n.suggestExamPurpose,n.lite,n.getGlobal,n.page,n.itemPerPage).subscribe(a=>{a.success?(this.listDocumentObjs=this.listDocumentObjs.concat(a.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(a.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(a.message,!0)),this.loadingFilter=!1}))}processData(s){let n=this.commonService.arrayToDictionary(s,l=>l.exam?new Date(l.exam.createdAt??0).toDateString():new Date(l?.homework?.createdAt??0).toDateString()),a=[];Object.entries(n).forEach(([l,m],_)=>{if(m.length>0){let u=m[0];a.push({isExpand:!0,assignmentDate:u.exam?u.exam.createdAt:u.homework?.createdAt,documentList:m})}}),this.listGroupDocumentObjs=a}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.typeFilter=this.commonService.getMyQueryParam("filterBy")??"",this.getData(!1)}constructor(s,n,a){super(),this.documentService=s,this.activeRoute=n,this.sAztNextPaginationService=a,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new mt.Z,this.typeFilter="",this.loadingFilter=!1}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(Zt.DK),t.rXU(S.nX),t.rXU(qt.h))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([qt.h]),t.Vt3],decls:38,vars:29,consts:[["doneLoading",""],["menuFilter","matMenu"],["menuAssignment","matMenu"],["doneLoadingSearch",""],["emptyList",""],["isExamDocument",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["xPosition","after"],[1,"dropdown-menu","w-32","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["name","notepad-text","size","16",3,"ngClass"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","file-check","size","16",3,"ngClass"],["xPosition","before"],[1,"dropdown-menu","w-40","show","relative"],["azt-track-service","exam-exercises-AuLj8R4CH",1,"dropdown-item","w-full",3,"click"],["azt-track-service","exam-exercises-2YQOMXwGnC",1,"dropdown-item","w-full",3,"click"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"flex","w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[1,"mr-2","w-full","sm:w-auto"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],["tourAnchor","azt-tour-2",1,"shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["class","w-3 h-4 mr-1 inline-block",4,"ngIf"],["name","filter","size","16",3,"ngClass"],["class","sm:hidden w-5 h-5 flex items-center justify-center absolute rounded-full bg-primary right-0 top-0 -mr-2 -mt-2",4,"ngIf"],[1,"azt-hidden","sm:block"],[4,"ngIf"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","dropdown-toggle","text-white","shadow-md",3,"matMenuTriggerFor"],["name","plus","size","18",3,"ngClass"],[1,"col-span-12","flex","items-center","mt-5"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12","mt-5"],[1,"w-3","h-4","mr-1","inline-block"],[1,"sm:hidden","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","bg-primary","right-0","top-0","-mr-2","-mt-2"],[1,"rounded-full","bg-primary","text-white","cursor-pointer","font-medium"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],["name","chevron-left","size","18",3,"ngClass"],[1,"col-span-12"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],["size","24",3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],["name","check","size","16",3,"ngClass"]],template:function(s,n){if(1&s){const a=t.RV6();t.DNE(0,We,1,1,"azt-loading-effect",6)(1,fn,28,25,"ng-template",null,0,t.C5r),t.j41(3,"mat-menu",7,1)(5,"div",8)(6,"ul",9)(7,"li")(8,"button",10),t.bIt("click",function(){return t.eBV(a),t.Njj(n.changeFilter(""))}),t.nrm(9,"lucide-icon",11),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"li")(13,"button",12),t.bIt("click",function(){return t.eBV(a),t.Njj(n.changeFilter("homework"))}),t.nrm(14,"lucide-icon",13),t.EFF(15),t.nI1(16,"mytranslate"),t.DNE(17,bn,1,2,"lucide-icon",14),t.k0s()(),t.j41(18,"li")(19,"button",10),t.bIt("click",function(){return t.eBV(a),t.Njj(n.changeFilter("exam"))}),t.nrm(20,"lucide-icon",15),t.EFF(21),t.nI1(22,"mytranslate"),t.DNE(23,vn,1,2,"lucide-icon",14),t.k0s()()()()(),t.j41(24,"mat-menu",16,2)(26,"div",17)(27,"ul",9)(28,"li")(29,"button",18),t.bIt("click",function(){return t.eBV(a),t.Njj(n.openHomeworkScreen())}),t.nrm(30,"lucide-icon",13),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()(),t.j41(33,"li")(34,"button",19),t.bIt("click",function(){return t.eBV(a),t.Njj(n.openEditor())}),t.nrm(35,"lucide-icon",15),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()()()()()}if(2&s){const a=t.sdS(2);t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a),t.R7$(9),t.Y8G("ngClass",t.lJ4(24,et)),t.R7$(),t.SpI(" ",t.bMT(11,14,"lang_auto_tat_ca")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(25,et)),t.R7$(),t.SpI(" ",t.bMT(16,16,"lang_auto_bai_tap")," "),t.R7$(2),t.Y8G("ngIf","homework"==n.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(26,et)),t.R7$(),t.SpI(" ",t.bMT(22,18,"lang_auto_de_thi")," "),t.R7$(2),t.Y8G("ngIf","exam"==n.typeFilter),t.R7$(7),t.Y8G("ngClass",t.lJ4(27,et)),t.R7$(),t.SpI(" ",t.bMT(32,20,"lang_student_new_homework")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(28,et)),t.R7$(),t.SpI(" ",t.bMT(37,22,"lang_student_new_exam")," ")}},dependencies:[S.Wk,r.YU,r.Sq,r.bT,A.kk,A.Cp,D.K,w.R,H.W,te.m,k.WGl,Ue,h.F2,h.wp,h.vv,h.hZ],encapsulation:2}),i})();var xn=d(57350),kn=d(95054),Sn=d(47635),nt=d(66257),ne=d(48725),ft=d(37497),Lt=d(95624),ot=d(2915),_t=d(5800),In=d(74637);function jn(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",13),2&e){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function Tn(e,i){if(1&e&&(t.j41(0,"tr")(1,"td",22),t.EFF(2),t.nI1(3,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(4,"td")(5,"div",23),t.nrm(6,"input",24),t.k0s()(),t.j41(7,"td")(8,"div",23),t.nrm(9,"input",24),t.k0s()(),t.j41(10,"td"),t.nrm(11,"textarea",25),t.k0s()()),2&e){const o=i.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,7,o.sessionTime)," "),t.R7$(4),t.Y8G("checked",o.receivedDocument)("disabled",!0),t.R7$(3),t.Y8G("checked",o.absent)("disabled",!0),t.R7$(2),t.Y8G("disabled",!0)("value",o.reason)}}function On(e,i){if(1&e&&(t.qex(0),t.DNE(1,Tn,12,9,"tr",21),t.bVm()),2&e){const o=t.XpG(2);t.R7$(),t.Y8G("ngForOf",o.attendanceObj.list)}}function yn(e,i){1&e&&(t.j41(0,"tr")(1,"td",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_homework_homework_list_not_found")," "))}function Rn(e,i){if(1&e&&(t.j41(0,"drag-scroll")(1,"table",14)(2,"thead")(3,"tr",15)(4,"th",16),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",17),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",18),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",18),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()(),t.j41(16,"tbody",19),t.DNE(17,On,2,1,"ng-container",20)(18,yn,4,3,"ng-template",null,1,t.C5r),t.k0s()()()),2&e){const o=t.sdS(19),s=t.XpG();t.R7$(5),t.JRh(t.bMT(6,6,"lang_auto_thoi_gian")),t.R7$(3),t.JRh(t.bMT(9,8,"lang_core_da_phat_tai_lieu")),t.R7$(3),t.JRh(t.bMT(12,10,"lang_student_absence")),t.R7$(3),t.JRh(t.bMT(15,12,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngIf",s.attendanceObj&&s.attendanceObj.list.length)("ngIfElse",o)}}let Gn=(()=>{var e;class i extends x._{handleCloseDialog(){this.dialogRef.close()}filterData(s){this.dataFilter=s,this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsStudentIdAttendancesGet(this.data.student.id,this.data.student.classroomId,this.dataFilter?.yearSelected,this.dataFilter?.monthSelected)).subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0);this.attendanceObj=s.data,this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(s,n,a){super(n,s),this.dialogRef=s,this.data=n,this.studentService=a}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(C.CP,8),t.rXU(C.Vh,8),t.rXU(Lt.b0))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-attendance-detail"]],features:[t.Vt3],decls:14,vars:11,consts:[["doneLoading",""],["emptyData",""],[1,"box","attendance-detail"],[1,"p-4"],[1,"flex"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"ml-auto"],[1,"btn","btn-outline-danger","border-0","shadow-none",3,"click"],["name","x","size","18"],[1,"mt-2","flex","justify-end","items-center"],[3,"sendFilter"],[1,"mt-0","pb-4"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[1,"box","bg-slate-200","dark:bg-darkmode-400"],[1,"whitespace-nowrap"],[1,"text-center","whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"bg-slate-100","dark:bg-darkmode-400"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"font-medium"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"checked","disabled"],["type","text",1,"form-control",2,"min-width","50px","min-height","50px",3,"disabled","value"],["colspan","4",1,"text-center"]],template:function(s,n){if(1&s){const a=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.nrm(3,"azt-student-info-box",5),t.j41(4,"div",6)(5,"button",7),t.bIt("click",function(){return t.eBV(a),t.Njj(n.handleCloseDialog())}),t.nrm(6,"lucide-icon",8),t.k0s()()(),t.j41(7,"div",9)(8,"azt-filter-box",10),t.bIt("sendFilter",function(m){return t.eBV(a),t.Njj(n.filterData(m))}),t.k0s()()(),t.j41(9,"div",11)(10,"azt-mat-dialog-content"),t.DNE(11,jn,1,1,"azt-loading-effect",12)(12,Rn,20,14,"ng-template",null,0,t.C5r),t.k0s()()()}if(2&s){const a=t.sdS(13);t.R7$(3),t.Y8G("name",n.data.student.fullName)("parentFullName",n.data.student.parentFullName)("parentId",n.data.student.parentId)("parentPhone",n.data.student.parentPhone)("phone",n.data.student.phone)("email",n.data.student.email)("avatar",n.data.student.avatar)("gender",n.data.student.gender)("hasUser",n.data.student.hasUser),t.R7$(8),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[r.Sq,r.bT,D.K,ot.U,_t.B,In.E,E.jd,E.Ew,k.WGl,h.wp,h.vv],encapsulation:2}),i})();var L=d(46899),kt=d(22613);const Fn=e=>({"text-primary stroke-width-2.5":e}),En=e=>({"text-primary stroke-width-2.5":e,"-mt-2":!0});function wn(e,i){1&e&&(t.j41(0,"div",9),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Dn(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",10),2&e){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function Mn(e,i){if(1&e&&(t.j41(0,"div",20),t.nrm(1,"lucide-icon",21)(2,"lucide-icon",22),t.k0s()),2&e){const o=t.XpG().$implicit,s=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(2,Fn,o.typeFieldSort===s.typeFieldSort.asc)),t.R7$(),t.Y8G("ngClass",t.eq3(4,En,o.typeFieldSort===s.typeFieldSort.desc))}}function $n(e,i){if(1&e){const o=t.RV6();t.j41(0,"th",17)(1,"div",18),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG(2);return t.Njj(a.sortTableByFieldName(n))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,Mn,3,6,"div",19),t.k0s()()}if(2&e){const o=i.$implicit;t.R7$(),t.Aen(o.customStyle),t.HbH(o.customClassCss),t.R7$(),t.SpI(" ",t.bMT(3,6,o.key)," "),t.R7$(2),t.Y8G("ngIf",!o.ignore)}}function zn(e,i){if(1&e){const o=t.RV6();t.j41(0,"tr",23)(1,"td",24),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG(2);return t.Njj(a.showAttendanceDetail(n))}),t.nrm(2,"azt-student-info-box",25),t.k0s(),t.j41(3,"td",26),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",26),t.EFF(7),t.k0s(),t.j41(8,"td",26),t.EFF(9),t.k0s(),t.j41(10,"td",26),t.EFF(11),t.k0s(),t.j41(12,"td",26),t.EFF(13),t.k0s()()}if(2&e){const o=i.$implicit;t.Y8G("id","row_student_"+o.id),t.R7$(2),t.Y8G("name",o.fullName)("parentFullName",o.parentFullName)("parentId",o.parentId)("parentPhone",o.parentPhone)("phone",o.phone)("avatar",o.avatar)("gender",o.gender)("hasUser",o.hasUser)("schoolName",o.schoolName)("classrooms",o.classrooms)("joinedAt",o.joinedAt)("identificationNumber",o.identificationNumber),t.R7$(2),t.JRh(o.identificationNumber?t.i5U(5,18,o.identificationNumber,6):""),t.R7$(3),t.JRh(null==o?null:o.totalAttend),t.R7$(2),t.JRh(null==o?null:o.totalAbsence),t.R7$(2),t.JRh(null==o?null:o.totalAbsentPermission),t.R7$(2),t.JRh(null==o?null:o.totalAbsentNoPermission)}}function Nn(e,i){if(1&e){const o=t.RV6();t.j41(0,"azt-paging",30),t.bIt("goToPaginationPage",function(n){t.eBV(o);const a=t.XpG(3);return t.Njj(a.setPageStudent(n))}),t.k0s()}if(2&e){const o=t.XpG(3);t.Y8G("pageObj",o.pageObj)}}function An(e,i){if(1&e&&(t.j41(0,"div",31),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const o=t.XpG(3);t.R7$(),t.Lme("",o.totalStudent," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function Pn(e,i){if(1&e&&(t.j41(0,"div",27),t.nrm(1,"div"),t.DNE(2,Nn,1,1,"azt-paging",28)(3,An,3,4,"div",29),t.k0s()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("ngIf",o.totalStudent>o.pageObj.pageSize),t.R7$(),t.Y8G("ngIf",!o.isStudent)}}function Yn(e,i){if(1&e&&(t.j41(0,"div",11)(1,"drag-scroll")(2,"table",12)(3,"thead")(4,"tr",13),t.DNE(5,$n,5,8,"th",14),t.k0s()(),t.j41(6,"tbody"),t.DNE(7,zn,14,21,"tr",15),t.k0s()()()(),t.DNE(8,Pn,4,2,"div",16)),2&e){const o=t.XpG();t.R7$(5),t.Y8G("ngForOf",o.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",o.listStudent),t.R7$(),t.Y8G("ngIf",o.listStudent&&o.totalStudent&&o.totalStudent>0)}}let Bn=(()=>{var e;class i extends g.H{onSearchBox(s){this.searchContentObj=s,this.getData()}setPageStudent(s){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/7","?page="+s),this.pageObj.setPageNumber(s),this.getData()}sortTableByFieldName(s){s.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(s),this.getData())}showAttendanceDetail(s){this.sAztDialogService.open(Gn,{width:"700px",restoreFocus:!1,data:{student:s,isTeacher:!0}})}getData(){this.initStatusObj(),this.waitDestroy(this.wrapApiResponse(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!0,me:this.isStudent,getAssessment:!1,order:this.orderObj})).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.listStudent=n.data?.list??[],this.totalStudent=n.data?.total??0,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:nt.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:nt.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAttend",key:"lang_student_number_of_sessions_attended",ignore:!1,typeFieldSort:nt.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsence",key:"lang_student_number_of_sessions_missed",ignore:!1,typeFieldSort:nt.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsentPermission",key:"lang_student_number_of_approved_absences",ignore:!1,typeFieldSort:nt.H.none,customClassCss:"flex items-center justify-center"},{fieldName:"totalAbsentNoPermission",key:"lang_student_number_of_unauthorized_absences",ignore:!1,typeFieldSort:nt.H.none,customClassCss:"flex items-center justify-center"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(s,n,a,l){super(),this.activeRoute=s,this.studentService=n,this.sortTableByFieldNameService=a,this.sAztDialogService=l,this.classroomId=0,this.searchContentObj=new mt.Z,this.pageObj=new ft.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=nt.H}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(S.nX),t.rXU(Lt.b0),t.rXU(ne.s),t.rXU(L.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-attendance-board"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([ne.s]),t.Vt3],decls:14,vars:10,consts:[["doneLoading",""],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"onSearch","isServerSearch","placeholder"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"mt-1"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","attendance-board-DpF9pdFzjI",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],["azt-track-service","attendance-board-e_tUfqKJu",1,"cursor-pointer",2,"width","250px",3,"click"],[3,"name","parentFullName","parentId","parentPhone","phone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"]],template:function(s,n){if(1&s){const a=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h3",3),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,wn,3,3,"div",4),t.k0s(),t.j41(6,"div",5)(7,"div",6)(8,"azt-search-box",7),t.nI1(9,"mytranslate"),t.bIt("onSearch",function(m){return t.eBV(a),t.Njj(n.onSearchBox(m.searchObj))}),t.k0s()()(),t.j41(10,"div",2),t.DNE(11,Dn,1,1,"azt-loading-effect",8)(12,Yn,9,3,"ng-template",null,0,t.C5r),t.k0s()()}if(2&s){const a=t.sdS(13);t.R7$(3),t.JRh(t.bMT(4,6,"lang_azt_attendance")),t.R7$(2),t.Y8G("ngIf",n.isMobileDevice&&n.listStudent.length>0),t.R7$(3),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(9,8,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[r.YU,r.Sq,r.bT,D.K,kt.q,H.W,_t.B,E.jd,E.Ew,k.WGl,h.wp,h.Po],encapsulation:2}),i})();var Ln=d(33791),Vn=d(25622),Xn=d(15766),P=d(42280),Un=d(97839),Jn=d(99965),Wn=d(35048);const Qn=["selectStudent"],Hn=e=>({flex:e}),oe=e=>({" ml-5":e});function Kn(e,i){1&e&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_chon_hoc_sinh_muon_gui_thong_bao")," "))}function qn(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",14)(1,"h3",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"azt-select-student",23,0),t.bIt("closeBox",function(n){t.eBV(o);const a=t.XpG();return t.Njj(a.closeBoxSelectStudent(n))}),t.k0s(),t.DNE(6,Kn,3,3,"div",17),t.k0s()}if(2&e){const o=t.XpG();t.R7$(2),t.JRh(t.bMT(3,4,"lang_core_chon_hoc_sinh")),t.R7$(2),t.Y8G("isDialog",!1)("data",o.data),t.R7$(2),t.Y8G("ngIf",0==o.data.studentIdsSelected.length&&o.isShowError)}}function Zn(e,i){1&e&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong_noi_dung_thong_bao")," "))}function to(e,i){1&e&&t.nrm(0,"azt-loading-ui",25)}let eo=(()=>{var e;class i extends g.H{resetForm(){this.contentFormControl.reset(),this.selectAction(this.action.getRawValue()),this.data={classroomId:this.classroomId,classroomName:this.classroomName,studentIdsSelected:[]},this.isShowError=!1,this.selectStudent&&this.selectStudent.resetAll()}selectAction(s){let a=this.commonService.myTranslateInstant(1==s?"lang_azt_ban_co_1_so_bai_thi_chua_hoan_thanh_vui_long_hoan_thanh_dung_thoi_han":2==s?"lang_azt_ban_chua_nop_hoc_phi_thang_hien_tai_vui_long_hoan_tat_hoc_phi_uca_ban":"")??"";this.contentFormControl.setValue(a)}closeBoxSelectStudent(s){s&&(s.studentIdsSelected.length>0&&(this.isShowError=!0),this.data=s)}sendNotification(){if(this.initStatusObj(),3==this.action.getRawValue()){let s={noticeProcessAction:{isNoticeTuition:!1,isNoticeFinishedLesson:!1,isNoticeAttendance:!1,isNoticeClassroomCustomContent:!0},studentIds:this.data.studentIdsSelected,title:"",body:this.contentFormControl.getRawValue()};this.waitDestroy(this.wrapApiResponse(this.studentNotificationService.apiStudentNotificationSendCustomMsgToStudentsPost(s)).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.successStatusObj("lang_super_role_send_notice_successfully",!0),this.resetForm()}))}else{let s={isSendUnFinished:1==this.action.getRawValue(),isSendTuition:2==this.action.getRawValue(),title:"",content:this.contentFormControl.getRawValue()};this.waitDestroy(this.wrapApiResponse(this.classroomNotificationService.apiClassroomNotificationClassroomIdPost(this.classroomId,s)).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.successStatusObj("lang_super_role_send_notice_successfully",!0),this.resetForm()}))}}ngOnInit(){super.ngOnInit(),this.data={classroomId:this.classroomId,classroomName:this.classroomName,studentIdsSelected:[]},this.selectAction(this.action.getRawValue())}constructor(s,n){super(),this.studentNotificationService=s,this.classroomNotificationService=n,this.contentFormControl=new c.MJ("",{nonNullable:!0,validators:[Xn.M.noWhiteSpace]}),this.action=new c.MJ(1,{nonNullable:!0}),this.isShowError=!1}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(P.KB),t.rXU(Lt.M8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-send-notification"]],viewQuery:function(s,n){if(1&s&&t.GBs(Qn,5),2&s){let a;t.mGM(a=t.lsd())&&(n.selectStudent=a.first)}},inputs:{classroomName:"classroomName",classroomId:"classroomId"},features:[t.Vt3],decls:41,vars:48,consts:[["selectStudent",""],["id","sendNotification",1,"box-exam__text"],[1,"text-lg","mb-3","font-medium"],[1,"font-medium"],[1,"items-center","mt-2",3,"ngClass"],[1,"flex","items-center","mt-1"],["id","action1","type","radio",1,"form-check-input","flex-none",3,"change","formControl","value"],["for","action1",1,"pl-2","form-check-label"],[1,"flex","items-center","mt-1",3,"ngClass"],["id","action2","type","radio",1,"form-check-input","flex-none",3,"change","formControl","value"],["for","action2",1,"pl-2","form-check-label"],["id","action3","type","radio",1,"form-check-input","flex-none",3,"change","formControl","value"],["for","action3",1,"pl-2","form-check-label"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"mt-2"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","justify-end","mt-5"],[1,"btn","btn-close","mr-3",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"font-medium","mb-2"],[3,"closeBox","isDialog","data"],[1,"text-xs","text-danger","mt-1"],[1,"mr-1"]],template:function(s,n){1&s&&(t.j41(0,"div",1)(1,"h2",2),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"h3",3),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",4)(8,"div",5)(9,"input",6),t.bIt("change",function(){return n.selectAction(1)}),t.k0s(),t.j41(10,"label",7),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",8)(14,"input",9),t.bIt("change",function(){return n.selectAction(2)}),t.k0s(),t.j41(15,"label",10),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"div",8)(19,"input",11),t.bIt("change",function(){return n.selectAction(3)}),t.k0s(),t.j41(20,"label",12),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,qn,7,6,"div",13),t.j41(24,"div",14)(25,"h3",3),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"div",15)(29,"textarea",16),t.nI1(30,"mytranslate"),t.EFF(31,"\t\t\t"),t.k0s()(),t.DNE(32,Zn,3,3,"div",17),t.k0s(),t.j41(33,"div",18)(34,"button",19),t.bIt("click",function(){return n.resetForm()}),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s(),t.j41(37,"button",20),t.bIt("click",function(){return n.sendNotification()}),t.DNE(38,to,1,0,"azt-loading-ui",21),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(2),t.SpI(" ",t.bMT(3,24,"lang_core_gui_thongBao_den_hoc_sinh")," "),t.R7$(3),t.JRh(t.bMT(6,26,"lang_core_chon_muc_dich_gui_thong_bao")),t.R7$(2),t.Y8G("ngClass",t.eq3(42,Hn,!n.isMobileDevice&&!n.isMobileWebView)),t.R7$(2),t.Y8G("formControl",n.action)("value",1),t.R7$(2),t.JRh(t.bMT(12,28,"lang_core_chua_lam_bai_thi")),t.R7$(2),t.Y8G("ngClass",t.eq3(44,oe,!n.isMobileDevice&&!n.isMobileWebView)),t.R7$(),t.Y8G("formControl",n.action)("value",2),t.R7$(2),t.JRh(t.bMT(17,30,"lang_core_chua_dong_hoc_phi_thang_hien_tai")),t.R7$(2),t.Y8G("ngClass",t.eq3(46,oe,!n.isMobileDevice&&!n.isMobileWebView)),t.R7$(),t.Y8G("formControl",n.action)("value",3),t.R7$(2),t.JRh(t.bMT(22,32,"lang_core_tuy_chon_hoc_sinh_cu_the")),t.R7$(2),t.Y8G("ngIf",3==n.action.getRawValue()),t.R7$(3),t.JRh(t.bMT(27,34,"lang_core_noi_dung_thong_bao")),t.R7$(3),t.FS9("placeholder",t.bMT(30,36,"lang_business_news_post_content")),t.Y8G("formControl",n.contentFormControl),t.R7$(3),t.Y8G("ngIf",n.contentFormControl.dirty&&n.contentFormControl.invalid),t.R7$(2),t.Y8G("disabled",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(36,38,"lang_auto_dat_lai")," "),t.R7$(2),t.Y8G("disabled",n.statusObj.loading||n.contentFormControl.invalid||3==n.action.getRawValue()&&0==n.data.studentIdsSelected.length),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(40,40,"lang_super_role_send_notice_approved_question_share")," "))},dependencies:[r.YU,r.bT,Un.fg,c.me,c.Fm,c.BC,c.l_,Jn.j,w.R,Wn.w,h.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{padding:5px!important;resize:none;min-height:80px;font-size:14px;width:100%;border:none;padding:0;border-radius:5px;max-height:250px!important}"]}),i})();var st=d(71204),no=d(407),oo=d(22867),se=d(63016),so=d(47947),ao=d(41483),ae=d(51698),io=d(74871),K=d(18148),ro=d(60902),lo=d(95412),co=d(45344);let ie=(()=>{var e;class i extends x._{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(s=>1==s.selected)}saveData(){this.initStatusObj();var s=[];this.checkboxMonth.checkboxMonth.filter(a=>1==a.selected).forEach(a=>{s.push({month:a.month,year:a.year})}),this.waitDestroy(this.wrapApiResponse(this.paymentService.apiPaymentPost({payments:s,studentId:this.data})).subscribe(a=>{if(!a.success)return this.errorStatusObj(a.message,!0);this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)}))}constructor(s,n,a){super(a,n),this.paymentService=s,this.dialogRef=n,this.data=a,this.checkboxMonth=new ro.L,this.checkboxMonth.studentId=a}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(lo.W),t.rXU(C.CP,8),t.rXU(C.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-dialog-checkbox-month"]],features:[t.Vt3],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"click","disabled"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-checkbox-month",3),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return n.btnCloseDialog()}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return n.saveData()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(3),t.Y8G("checkboxMonth",n.checkboxMonth),t.R7$(3),t.SpI(" ",t.bMT(7,4,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",!n.isSelectedMonth()||n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(10,6,"lang_business_news_update_post_button")," "))},dependencies:[co.u,h.wp],encapsulation:2}),i})();var re=d(87039),mo=d(18666),le=d(77474),St=d(81519),It=d(47426),ce=d(95670),Vt=d(99503),de=d(79347),Xt=d(9691),_o=d(42804),me=d(74742),uo=d(39712),_e=d(10296),jt=d(60303),ue=d(9260),po=d(43165),go=d(19965);function ho(e,i){if(1&e&&(t.j41(0,"span",9),t.EFF(1),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(),t.JRh((null==o.cellData?null:o.cellData.fullName)+": ")}}function fo(e,i){if(1&e&&(t.j41(0,"span",10),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&e){const o=i.$implicit,s=i.index,n=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,o.errorMessage)+(s===n.errors.length-1?" ("+t.bMT(3,3,"lang_auto_line")+" "+n.row+")":", ")," ")}}function bo(e,i){if(1&e&&(t.j41(0,"div",6),t.DNE(1,ho,2,1,"span",7)(2,fo,4,5,"span",8),t.k0s()),2&e){const o=i.$implicit;t.R7$(),t.Y8G("ngIf",null==o.cellData?null:o.cellData.fullName),t.R7$(),t.Y8G("ngForOf",o.errors)}}let vo=(()=>{var e;class i extends g.H{}return(e=i).\u0275fac=(()=>{let o;return function(n){return(o||(o=t.xGo(e)))(n||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["excel-error"]],inputs:{excelErrorList:"excelErrorList"},features:[t.Vt3],decls:8,vars:6,consts:[[1,"excel-error"],[1,"flex","items-center"],[1,"font-medium","text-lg"],[1,"overflow-auto","p-2","mt-2","border-slate-200","dark:border-darkmode-400","border","box",2,"height","120px","padding-right","5px"],["pointerEventsMethod","scrollbar",1,"w-full","h-full",3,"visibility","autoHeightDisabled"],["class","mb-2 text-xs",4,"ngFor","ngForOf"],[1,"mb-2","text-xs"],["class","font-medium",4,"ngIf"],["class","font-medium text-danger",4,"ngFor","ngForOf"],[1,"font-medium"],[1,"font-medium","text-danger"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"p",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"ng-scrollbar",4),t.DNE(7,bo,3,2,"div",5),t.k0s()()()),2&s&&(t.R7$(3),t.JRh(t.bMT(4,4,"lang_auto_tong_so_loi")+" "+n.excelErrorList.length),t.R7$(3),t.Y8G("visibility","hover")("autoHeightDisabled",!1),t.R7$(),t.Y8G("ngForOf",n.excelErrorList))},dependencies:[r.Sq,r.bT,Z.Yh,h.wp],encapsulation:2}),i})();const Co=["fileSelect"],xo=e=>[e],ko=()=>({"mr-2 text-success":!0}),pe=()=>({"mr-2":!0});function So(e,i){if(1&e&&(t.j41(0,"div",21),t.nrm(1,"excel-error",22),t.k0s()),2&e){const o=t.XpG(2);t.R7$(),t.Y8G("excelErrorList",o.errorImportFile)}}function Io(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",23)(1,"azt-upload-single-document-to-editor",24),t.bIt("emitFiles",function(n){t.eBV(o);const a=t.XpG(2);return t.Njj(a.handleUploadComplete(n))}),t.j41(2,"div",25)(3,"div",26),t.nrm(4,"lucide-icon",27),t.j41(5,"span",28),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()}if(2&e){const o=t.XpG(2);t.R7$(),t.Y8G("fileType",t.eq3(8,xo,o.allUploadFileTypes.EXCEL)),t.R7$(3),t.Y8G("ngClass",t.lJ4(10,ko)),t.R7$(2),t.SpI(" ",t.bMT(7,4,"lang_auto_keo_tha_file_excel")," "),t.R7$(2),t.SpI(" ",t.bMT(9,6,"lang_auto_hoc_click_de_chon_file")," ")}}function jo(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",29)(1,"div",30)(2,"div",31)(3,"div",32)(4,"div",33)(5,"div",34),t.nrm(6,"img",35),t.nI1(7,"convertCdnLinkOfGitHub"),t.k0s(),t.j41(8,"div",36)(9,"p",37,1),t.EFF(11),t.k0s(),t.j41(12,"div",38),t.EFF(13),t.k0s()(),t.j41(14,"div",39)(15,"button",40),t.nI1(16,"mytranslate"),t.bIt("click",function(n){t.eBV(o);const a=t.XpG(2);return t.Njj(a.removeFile(n))}),t.nrm(17,"lucide-icon",41),t.k0s()()()()()()()}if(2&e){const o=t.sdS(10),s=t.XpG(2);t.R7$(6),t.Y8G("src",t.bMT(7,7,"images/excel.png"),t.B4B),t.R7$(3),t.FS9("matTooltip",null==s.file?null:s.file.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.R7$(2),t.SpI(" ",s.file?s.file.name:""," "),t.R7$(2),t.SpI(" ",s.fileMb+"mb"," "),t.R7$(2),t.FS9("matTooltip",t.bMT(16,9,"lang_auto_xoa"))}}function To(e,i){if(1&e){const o=t.RV6();t.j41(0,"a",42),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.exportDefaultListStudent())}),t.nrm(1,"lucide-icon",43),t.j41(2,"span",44),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,pe)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_download_file")," "))}function Oo(e,i){if(1&e){const o=t.RV6();t.j41(0,"a",42),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.exportListStudent())}),t.nrm(1,"lucide-icon",43),t.j41(2,"span",44),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,pe)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function yo(e,i){if(1&e&&(t.j41(0,"div",15),t.DNE(1,So,2,1,"div",16),t.j41(2,"div",17),t.DNE(3,Io,10,11,"div",18)(4,jo,18,11,"ng-template",null,0,t.C5r),t.j41(6,"div",19),t.DNE(7,To,5,5,"a",20)(8,Oo,5,5,"a",20),t.k0s()()()),2&e){const o=t.sdS(5),s=t.XpG();t.R7$(),t.Y8G("ngIf",s.errorImportFile.length),t.R7$(2),t.Y8G("ngIf",!s.file)("ngIfElse",o),t.R7$(4),t.Y8G("ngIf",0==(null==s.studentObjs?null:s.studentObjs.length)||s.isBusinessDomain),t.R7$(),t.Y8G("ngIf",0!=(null==s.studentObjs?null:s.studentObjs.length)&&!s.isBusinessDomain)}}function Ro(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",45)(1,"azt-form-enter-info-student",46),t.bIt("closeDialog",function(n){t.eBV(o);const a=t.XpG();return t.Njj(a.btnCloseDialog(n))}),t.k0s()()}if(2&e){const o=t.XpG();t.R7$(),t.Y8G("studentForm",o.studentForm)("modeView",o.eAddStudentViewMode.ADD_STUDENT)}}function Go(e,i){if(1&e&&(t.j41(0,"div",47)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,1,o.msgError),"!")}}function Fo(e,i){1&e&&t.nrm(0,"azt-loading-ui",48)}function Eo(e,i){if(1&e){const o=t.RV6();t.j41(0,"azt-export-excel-for-student-list",49),t.bIt("exportDataDone",function(n){t.eBV(o);const a=t.XpG();return t.Njj(a.exportStudentListDone(n))}),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("objs",o.exportStudentObjs)}}let wo=(()=>{var e;class i extends x._{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain||this.checkVipAccountService?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",schoolName:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(s){let n=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(s,n)}changeNameDownloadFile(s){return this.commonService.createFileNameExportFile([s])+".xlsx"}handleUploadComplete(s){this.file=s,this.fileMb=this.getFileMB(this.file?.size??0)}getFileMB(s){return s&&s>0?(s/=1048576).toFixed(2):0}removeFile(s){s.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(s){this.importExcel=s}btnCloseDialog(s){this.dialogRef.close(s)}selectedIndexChange(s){if(this.selected.setValue(s),this.showImportExcel(0!=s),this.file){let n=document.getElementById("button-remove-export");n&&n.click()}}togglePassword(){this.showPassword=!this.showPassword}confirmAction(){let s=this.studentForm.form.getRawValue();this.initStatusObj(),this.importExcel&&this.file?this.handleExcelImport():this.studentForm.form.valid&&this.handleStudentFormSave(s)}handleExcelImport(){const s=1===this.selected.value?this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file):this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file);this.waitDestroy(s.subscribe(n=>{1===n.success&&n.data?.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack(1===this.selected.value?"lang_student_utils_add_success":"lang_cms_utils_update_folder_success")):this.handleExcelError(n)}))}handleExcelError(s){1===s.success?(this.errorStatusObj("lang_student_error_uploading_file_please_check_again",!0),this.errorImportFile=s.data?.errors??[],this.file=null):(this.btnCloseDialog(!1),this.errorStatusObj(s.message??"",!0))}handleStudentFormSave(s){let n={fullName:s.fullName,phone:s.phoneNumber,identificationNumber:s.identificationNumber?Number(s.identificationNumber):void 0,email:s.email,gender:Number(s.gender),birthday:s.birthday?this.timeService.formatOnlyDateToPostToServer(s.birthday):void 0,classroomId:this.classroomObj.id??0,password:s.password,facebookLink:s.facebookLink,schoolName:s.school,userName:s.userName};this.waitDestroy(this.studentService.apiStudentSaveObjPost(n).subscribe(a=>{1===a.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.stopStatusObj(),this.msgError=a.message??"",this.showErrorSnack(this.msgError))}))}ngOnInit(){super.ngOnInit()}constructor(s,n,a,l,m){super(m,l),this.shareFileFlutterService=s,this.studentService=n,this.timeService=a,this.dialogRef=l,this.data=m,this.studentForm=new me.d,this.selected=new c.MJ(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.eAddStudentViewMode=_o.u,this.msgError="",this.maxDate=y.c.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.errorImportFile=[],this.allUploadFileTypes=uo.PO,this.file=null,this.studentObjs=m.studentObjs,this.classroomObj=m.classroomObj}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(_e.R),t.rXU(P.b0),t.rXU(Xt.F),t.rXU(C.CP,8),t.rXU(C.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-add-student"]],viewQuery:function(s,n){if(1&s&&t.GBs(Co,5),2&s){let a;t.mGM(a=t.lsd())&&(n.fileSelect=a.first)}},features:[t.Jv_([{provide:St.$O,useClass:Vt.fb,deps:[It.Ju,Vt.ij]},{provide:St.vq,useFactory:de.fJ,deps:[Xt.F]},{provide:ce.U$,useValue:{floatLabel:"never"}}]),t.Vt3],decls:24,vars:22,consts:[["exitsFile",""],["c","isDisabled"],[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndexChange","selectedIndex"],[3,"label"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],["class","text-xs font-medium text-danger mt-2 mb-2 ml-3 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["class","mt-4",4,"ngIf"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md",4,"ngIf","ngIfElse"],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],[1,"mt-4"],[3,"excelErrorList"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[3,"emitFiles","fileType"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"flex","items-center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"click","matTooltip"],["name","trash-2","size","18"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],["name","cloud-download","size","20",3,"ngClass"],[1,"text-primary"],[1,"px-2"],[3,"closeDialog","studentForm","modeView"],[1,"text-xs","font-medium","text-danger","mt-2","mb-2","ml-3","fade"],[1,"mr-1"],[3,"exportDataDone","objs"]],template:function(s,n){1&s&&(t.j41(0,"div",2)(1,"div",3)(2,"azt-mat-dialog-content")(3,"div",4)(4,"mat-tab-group",5),t.bIt("selectedIndexChange",function(l){return n.selectedIndexChange(l)}),t.nrm(5,"mat-tab",6),t.nI1(6,"mytranslate"),t.nrm(7,"mat-tab",6),t.nI1(8,"mytranslate"),t.nrm(9,"mat-tab",6),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div"),t.DNE(12,yo,9,5,"div",7)(13,Ro,2,2,"div",8),t.k0s()()(),t.DNE(14,Go,4,3,"div",9),t.k0s(),t.j41(15,"div",10)(16,"button",11),t.bIt("click",function(){return n.btnCloseDialog(!1)}),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"button",12),t.bIt("click",function(){return n.confirmAction()}),t.DNE(20,Fo,1,0,"azt-loading-ui",13),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,Eo,1,1,"azt-export-excel-for-student-list",14)),2&s&&(t.R7$(4),t.Y8G("selectedIndex",n.selected.value),t.R7$(),t.FS9("label",t.bMT(6,12,"lang_student_utils_add_student")),t.R7$(2),t.FS9("label",t.bMT(8,14,"lang_student_utils_quick_add_excel")),t.R7$(2),t.FS9("label",t.bMT(10,16,"lang_student_utils_quick_add_phone_and_email_info")),t.R7$(3),t.Y8G("ngIf",0!=n.selected.value),t.R7$(),t.Y8G("ngIf",0==n.selected.value),t.R7$(),t.Y8G("ngIf",""!==n.msgError&&0==n.selected.value),t.R7$(3),t.SpI(" ",t.bMT(18,18,"lang_cms_common_close_btn")," "),t.R7$(2),t.Y8G("disabled",n.statusObj.loading||n.studentForm.form.invalid&&!n.importExcel||null==n.file&&n.importExcel),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(22,20,"lang_cms_common_confirm_btn")," "),t.R7$(2),t.Y8G("ngIf",n.exportStudentObjs))},dependencies:[r.YU,r.bT,jt.mq,jt.T8,B.oV,ot.U,vt.f,ue.m,w.R,po.s,go.p,vo,k.WGl,h.wp,h.gt],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#1baba10d;border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]}),i})();var Do=d(47160);const Mo=()=>({"mr-2 text-danger":!0});function $o(e,i){if(1&e&&(t.j41(0,"div",16)(1,"span",17),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"azt-see-more-content",18),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_hoc_sinh"),":\xa0 "),t.R7$(2),t.Y8G("content",o.listStudentsNames)("maxLength",200)}}function zo(e,i){1&e&&t.nrm(0,"azt-loading-ui",19)}let No=(()=>{var e;class i extends x._{btnCloseDialog(s){this.dialogRef.close(s)}confirmDelete(){this.initStatusObj();let s=this.listStudentObjs.map(a=>a.id);this.waitDestroy(this.studentService.apiStudentDeleteObjsPost({classroomId:this.classroomObj.id,studentIds:s}).subscribe(a=>{1==a.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(a.message,!0),this.btnCloseDialog(!1))}))}constructor(s,n,a){super(a,n),this.studentService=s,this.dialogRef=n,this.data=a,this.listStudentsNames="",this.listStudentObjs=a.listStudentObjs,this.classroomObj=a.classroomObj,this.listStudentsNames=a.listStudentObjs.map(l=>l.fullName).join(", ")}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(P.b0),t.rXU(C.CP,8),t.rXU(C.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-delete-list-student"]],features:[t.Vt3],decls:31,vars:22,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center","mb-2"],["name","trash-2","size","24",3,"ngClass"],[1,"font-medium","text-danger"],[2,"text-transform","lowercase"],[1,"text-danger"],[1,"contentBoxName"],[3,"defaultHeight"],[1,"p-2","w-64","sm:w-full"],["class","text-slate-500 dark:text-slate-400 mb-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","delete_list_student-ixh0YFkn_",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","delete_list_student--8oV9RBQ9X",1,"btn","btn-danger",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-slate-500","dark:text-slate-400","mb-2"],[1,"font-medium"],[3,"content","maxLength"],[1,"mr-1"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.j41(5,"span"),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s(),t.EFF(10," \xa0 "),t.j41(11,"span",6),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.EFF(14),t.nI1(15,"mytranslate"),t.j41(16,"span",7),t.EFF(17),t.k0s(),t.EFF(18," ? "),t.k0s()(),t.j41(19,"div",8)(20,"azt-mat-dialog-content",9)(21,"div",10),t.DNE(22,$o,5,5,"div",11),t.k0s()()()()(),t.j41(23,"div",12)(24,"button",13),t.bIt("click",function(){return n.btnCloseDialog(!1)}),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"button",14),t.bIt("click",function(){return n.confirmDelete()}),t.DNE(28,zo,1,0,"azt-loading-ui",15),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(21,Mo)),t.R7$(2),t.SpI(" ",t.bMT(7,11,"lang_auto_ban_co_chac_chan_muon_xoa"),"\xa0 "),t.R7$(3),t.JRh(n.data.listStudentObjs.length),t.R7$(3),t.JRh(t.bMT(13,13,"lang_auto_hoc_sinh")),t.R7$(2),t.SpI(" ",t.bMT(15,15,"lang_student_utils_delete_student_last"),":\xa0 "),t.R7$(3),t.JRh(n.classroomObj.name),t.R7$(3),t.Y8G("defaultHeight",70),t.R7$(2),t.Y8G("ngIf",""!=n.listStudentsNames),t.R7$(3),t.SpI(" ",t.bMT(26,17,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(30,19,"lang_cms_common_confirm_btn")," "))},dependencies:[r.YU,r.bT,Do.l,ot.U,w.R,k.WGl,h.wp],encapsulation:2}),i})();var Ao=d(14999),Po=d(46723),ge=d(15255);function Yo(e,i){if(1&e&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&e){const o=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==o.extraDataObj?null:o.extraDataObj.reApprovedZaloFullName)}}function Bo(e,i){if(1&e&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&e){const o=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==o.extraDataObj?null:o.extraDataObj.reApprovedPhone)}}function Lo(e,i){if(1&e&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&e){const o=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==o.extraDataObj?null:o.extraDataObj.reApprovedEmail)}}function Vo(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.j41(6,"span",9),t.EFF(7),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"span",10),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,Yo,5,4,"span",11)(15,Bo,5,4,"span",11)(16,Lo,5,4,"span",11),t.j41(17,"div",12)(18,"div",13),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG();return t.Njj(a.reApproveStudent(n.studentId,n.id))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",14),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG();return t.Njj(a.rejectApproveRequest(n.studentId,n.id))}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()()()}if(2&e){const o=i.$implicit;t.R7$(4),t.SpI(" ",t.bMT(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.R7$(3),t.JRh(o.studentName),t.R7$(),t.SpI(" \xa0 ",t.bMT(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.R7$(3),t.JRh(o.classroomName),t.R7$(),t.SpI(" \xa0 ",t.bMT(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.R7$(2),t.Y8G("ngIf",null==o.extraDataObj?null:o.extraDataObj.reApprovedZaloFullName),t.R7$(),t.Y8G("ngIf",null==o.extraDataObj?null:o.extraDataObj.reApprovedPhone),t.R7$(),t.Y8G("ngIf",null==o.extraDataObj?null:o.extraDataObj.reApprovedEmail),t.R7$(3),t.SpI(" ",t.bMT(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")," "),t.R7$(3),t.JRh(t.bMT(23,18,"lang_button_skip"))}}let Xo=(()=>{var e;class i extends x._{reApproveStudent(s,n){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(s??0).subscribe(a=>{1==a.success?(this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong"),this.noticeObjs=this.noticeObjs.filter(l=>l.id!=n),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(a.message??"",!0)}))}rejectApproveRequest(s,n){this.waitDestroy(this.studentService.apiStudentRejectMappingRequestGet(s??0).subscribe(a=>{1==a.success?(this.noticeObjs=this.noticeObjs.filter(l=>l.id!=n),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(a.message??"",!0)}))}btnCloseDialog(s){this.dialogRef.close(s)}constructor(s,n,a,l){super(l,a),this.studentService=s,this.noticeService=n,this.dialogRef=a,this.data=l,this.classroomObj=l.classroomObj,this.noticeObjs=l.noticeObjs}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(P.b0),t.rXU(ge.eI),t.rXU(C.CP,8),t.rXU(C.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-re-approve-request"]],features:[t.Vt3],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info","clickable",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3","clickable",3,"click"],[1,"block"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.DNE(4,Vo,24,20,"div",3),t.k0s()()(),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return n.btnCloseDialog(!1)}),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(4),t.Y8G("ngForOf",n.noticeObjs),t.R7$(3),t.SpI(" ",t.bMT(8,2,"lang_cms_common_close_btn")," "))},dependencies:[r.Sq,r.bT,ot.U,h.wp],styles:[".noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}"]}),i})();var Uo=d(34514),Jo=d(93493),Tt=d(81587);function Wo(e,i){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_ten_dang_nhap")," "))}function Qo(e,i){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_nhieu_hon_3_ky_tu")," "))}function Ho(e,i){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_it_hon_100_ky_tu")," "))}function Ko(e,i){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_chi_chua_cac_ky_tu_hop_le_va_it_nhat_1_chu_cai")," "))}function qo(e,i){if(1&e&&(t.j41(0,"div",16),t.DNE(1,Wo,3,3,"span",17)(2,Qo,3,3,"span",17)(3,Ho,3,3,"span",17)(4,Ko,3,3,"span",17),t.k0s()),2&e){const o=t.XpG();t.R7$(),t.Y8G("ngIf",null==o.studentForm.form.controls.userName||null==o.studentForm.form.controls.userName.errors?null:o.studentForm.form.controls.userName.errors.required),t.R7$(),t.Y8G("ngIf",null==o.studentForm.form.controls.userName||null==o.studentForm.form.controls.userName.errors?null:o.studentForm.form.controls.userName.errors.isShort),t.R7$(),t.Y8G("ngIf",null==o.studentForm.form.controls.userName||null==o.studentForm.form.controls.userName.errors?null:o.studentForm.form.controls.userName.errors.isLong),t.R7$(),t.Y8G("ngIf",null==o.studentForm.form.controls.userName||null==o.studentForm.form.controls.userName.errors?null:o.studentForm.form.controls.userName.errors.isLetter)}}function Zo(e,i){1&e&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function ts(e,i){1&e&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function es(e,i){1&e&&t.nrm(0,"azt-loading-ui",18)}let ns=(()=>{var e;class i extends x._{confirmCreate(){this.initStatusObj(),this.studentService.apiStudentCreateStudentUserPost({id:this.data.student.id,userName:this.studentForm.form.controls.userName?.value??"",password:this.studentForm.form.controls.password?.value??""}).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message??"lang_business_create_account_unsuccessfully",!0);this.successStatusObj("lang_business_create_account_successfully",!0),this.dialogRef.close(!0)})}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit(),this.studentForm.form=new c.gE({fullName:new c.MJ(this.data.student.fullName??"",{nonNullable:!0,validators:[c.k0.required]}),userName:new c.MJ({value:this.data.student.parentUserName??"",disabled:!!this.data.student.parentUserName},{nonNullable:!0,validators:[c.k0.required,c.k0.min(3),Jo.i.validateUserName]}),password:new c.MJ("",{nonNullable:!0,validators:[c.k0.required,c.k0.minLength(6)]}),email:new c.MJ({value:this.data.student.email??"",disabled:!!this.data.student.email},{nonNullable:!0}),phoneNumber:new c.MJ({value:this.data.student.phone??"",disabled:!!this.data.student.phone},{nonNullable:!0})})}constructor(s,n,a){super(a,n),this.studentService=s,this.dialogRef=n,this.data=a,this.showPassword=!1,this.studentForm=new me.d}ngOnDestroy(){super.ngOnDestroy()}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(P.b0),t.rXU(C.CP,8),t.rXU(C.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-create-user-business"]],features:[t.Jv_([{provide:St.$O,useClass:Vt.fb,deps:[It.Ju,Uo.ij]},{provide:St.vq,useFactory:de.fJ,deps:[Xt.F]}]),t.Vt3],decls:29,vars:25,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"formGroup"],[1,"mt-3"],["id","username","formControlName","userName","type","text",1,"form-control",2,"margin-right","-65px","padding-right","70px",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-form-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","20",3,"name"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","mr-2","min-width-100",3,"click"],["azt-track-service","create-student-account-nl345ShOLM",1,"btn","btn-primary","min-width-100",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[4,"ngIf"],[1,"mr-1"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"form",4)(9,"div",5),t.nrm(10,"input",6),t.nI1(11,"mytranslate"),t.DNE(12,qo,5,4,"div",7),t.k0s(),t.j41(13,"div",5)(14,"div",8),t.nrm(15,"input",9),t.nI1(16,"mytranslate"),t.j41(17,"button",10),t.bIt("click",function(){return n.showPassword=!n.showPassword}),t.nrm(18,"lucide-icon",11),t.k0s()(),t.DNE(19,Zo,3,3,"div",7)(20,ts,4,3,"div",7),t.k0s()()()()(),t.j41(21,"div",12)(22,"button",13),t.bIt("click",function(){return n.btnCloseDialog()}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"button",14),t.bIt("click",function(){return n.confirmCreate()}),t.DNE(26,es,1,0,"azt-loading-ui",15),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(5),t.SpI(" ",t.bMT(6,13,"lang_business_create_account")+" "+t.bMT(7,15,"lang_config_cho")+" "+n.data.student.fullName," "),t.R7$(3),t.Y8G("formGroup",n.studentForm.form),t.R7$(2),t.FS9("placeholder",t.bMT(11,17,"lang_auto_nhap_ten_dang_ky")),t.R7$(2),t.Y8G("ngIf",null==n.studentForm.form.controls.userName?null:n.studentForm.form.controls.userName.errors),t.R7$(3),t.FS9("placeholder",t.bMT(16,19,"lang_auto_mat_khau")),t.Y8G("type",n.showPassword?"text":"password"),t.R7$(3),t.FS9("name",n.showPassword?"eye":"eye-off"),t.R7$(),t.Y8G("ngIf",null==n.studentForm.form.controls.password||null==n.studentForm.form.controls.password.errors?null:n.studentForm.form.controls.password.errors.minlength),t.R7$(),t.Y8G("ngIf",null==n.studentForm.form.controls.password||null==n.studentForm.form.controls.password.errors?null:n.studentForm.form.controls.password.errors.required),t.R7$(3),t.SpI(" ",t.bMT(24,21,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",n.studentForm.form.invalid||n.statusObj.loading),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(28,23,"lang_auto_luu")," "))},dependencies:[r.bT,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,Tt.t,ot.U,w.R,k.WGl,h.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),i})();var he=d(68774),os=d(67638),Ot=d(40609),ss=d(53793),as=d(51913),is=d(41715),rs=d(99927),ls=d(91640);let cs=(()=>{var e;class i{constructor(s,n,a,l,m,_){this.commonService=s,this.examPageResultService=n,this.permissionService=a,this.globalService=l,this.answerTypeService=m,this.homeworkExamService=_}getTestedAllResultByClassroomId(s,n,a,l){return this.globalService.startIntervalFunc(s),this.getTestedOfExamResultByClassroomId(s,n,"all",a,l)}getTestedOfExamResultByClassroomId(s,n,a,l,m){return new ae.c(_=>{this.examPageResultService.apiExamPageResultGetObjV2Get(n).subscribe(u=>{if(1==u.success){let v=u.data?.examObj,F=this.hasEssay(u.data?.examQuestionObjs??[]),M=u.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",v)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",v)?this.getAllExamResultObjs(s,[],n,"",J=>{if(J.hasOwnProperty("success")&&1==J.success){let Wt=this.mergeStudentWithAvatar(J.studentWithResultObjs??[]),Gt={};Wt?.forEach(at=>{let Ht=at.parentId??"0";Gt.hasOwnProperty(Ht)||(Gt[Ht]=at.examResultObjs??[])});let Qt=m;if(this.homeworkExamService.mustInClassroom(v)&&M.length>0)for(let at=0;at<M.length;at++)if(M[at].classroomObj?.id==l){let T=M[at].studentObjs??[];if(T.length>0)for(let O=0;O<T.length;O++){let Oe=T[O].parentId??"0";Gt.hasOwnProperty(Oe)?(Array.isArray(T[O].examResultObjs)||(T[O].examResultObjs=[]),T[O].examResultObjs=this.findExamResultOfStudent(T[O].examResultObjs?.concat(Gt[Oe])??[],T[O].id??"0")):T[O].examResultObjs=this.findExamResultOfStudent(T[O].examResultObjs??[],T[O].id??"0");let ye=this.filterExamResultByType(T[O].examResultObjs??[],"first"),Re=this.filterExamResultByType(T[O].examResultObjs??[],"last"),Ge=this.filterExamResultByType(T[O].examResultObjs??[],"highest");Qt.forEach(ut=>{if(ut.dataExam||(ut.dataExam=[]),ut.parentId==T[O].parentId||ut.id.toString()==T[O].id){let Ft=ye.hasOwnProperty(T[O].parentId??0)?ye[T[O].parentId??0]:void 0,Et=Re.hasOwnProperty(T[O].parentId??0)?Re[T[O].parentId??0]:void 0,Fe=Ge.hasOwnProperty(T[O].parentId??0)?Ge[T[O].parentId??0]:void 0,Rl={id:v?.id??0,name:v?.name??"",firstPoint:Ft?this.checkMarkStatus(Ft,F):void 0,lastPoint:Et?this.checkMarkStatus(Et,F):void 0,highestPoint:Fe?this.checkMarkStatus(Fe,F):void 0};ut.dataExam.push(Rl)}ut.dataExam.sort((Ft,Et)=>(Ft.id??0)-(Et.id??0))},Qt)}break}_.next({status:200,success:1,data:Qt,message:"successful"}),_.complete()}else _.next({status:J.code,success:0,data:m,message:J.message??""}),_.complete()}):(_.next({status:200,success:1,data:m,message:"successful"}),_.complete())}else _.next({status:u.code,success:0,data:m,message:u.message??""}),_.complete()})})}getAllExamResultObjs(s,n,a,l,m){this.examPageResultService.apiExamPageResultGetObjsV2Get(a,"export",l).subscribe(_=>{1==_.success?(_.data?.objs&&n.push(..._.data.objs),_.data?.nextPage?this.globalService.isStopIntervalFunc(s)?m({studentWithResultObjs:n,success:1}):setTimeout(()=>{this.getAllExamResultObjs(s,n,a,_.data?.nextPage??"",m)},300):m({studentWithResultObjs:n,success:1})):m({code:_.code,studentWithResultObjs:[],success:0,message:_.message??""})})}filterExamResultOnTest(s,n,a){var l={};return s.forEach(m=>{var _=this.commonService.myClone(m)??{};if(_.testStatus)l[_.userId??0]=_.testStatus;else if(_.startedTest&&a)if(n.endTime){var u=Math.floor(new Date(n.endTime).getTime()/1e3);l[_.userId??0]=a<=u+60*(n.minutes??0)+600?0:-1}else{var v=_.startedTest?Math.floor(new Date(_.startedTest).getTime()/1e3):0;l[_.userId??0]=a<=v+86400?0:-1}else l[_.userId??0]=0}),l}mergeStudentWithAvatar(s){var n=[];return s.forEach(a=>{var l=n.filter(_=>_.parentId==a.parentId);if(l&&0!=l.length)for(var m=0;m<n.length;m++)n[m].parentId==a.parentId&&(n[m].examResultObjs=n[m].examResultObjs?.concat(a.examResultObjs??[]));else n.push(a)}),n}findExamResultOfStudent(s,n){var a=[];return s.forEach(l=>{(l.studentId==n||null==l.studentId)&&a.push(l)}),a}createStudentWithResult(s,n,a){return{id:s.id,userId:s.parentId,studentId:s.id,identificationNumber:n.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:n.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:s.gender,fullName:s.fullName,avatar:s.avatar,birthday:s.birthday,mark:n.hasOwnProperty("mark")?n.mark:null,confirmedAt:n.hasOwnProperty("confirmedAt")?n.confirmedAt:null,startedTest:n.hasOwnProperty("startedTest")?n.startedTest:null,createdAt:n.hasOwnProperty("createdAt")?n.createdAt:null,status:a,totalExamResultObjs:0,checkBoxGroupControl:new c.gE({isShow:new c.MJ(!1,{nonNullable:!0}),selectedCheckbox:new c.MJ(!1,{nonNullable:!0})}),questionTypeMarks:n.questionTypeMarks??[]}}filterExamResultByType(s,n){var a={};if(s.length>1)s.forEach((m,_)=>{var u=this.commonService.myClone(m);m.testStatus&&(u.resultId=u.id,u.indexTest=_,"last"==n&&(a[u.userId??0]=u),"first"==n&&(a.hasOwnProperty(u.userId??0)||(a[u.userId??0]=u)),"highest"==n)&&(a.hasOwnProperty(u.userId??0)?(a[u.userId??0].mark??-1)<=(u.mark??-1)&&(a[u.userId??0]=u):a[u.userId??0]=u)});else{var l=this.commonService.myClone(s[0]??{});l.resultId=l.testStatus?l.id:0,l.indexTest=0,a[l.userId??0]=l}return a}hasEssay(s){let n=!1;for(let a=0;a<s.length;a++)if(this.answerTypeService.isEssayAnswer(s[a])){n=!0;break}return n}checkMarkStatus(s,n){return n?1==s.testStatus?s.confirmedAt?s.mark:-1:void 0:1==s.testStatus?s.mark:void 0}}return(e=i).\u0275fac=function(s){return new(s||e)(t.KVO(ss.R),t.KVO(Zt.TE),t.KVO(as.p),t.KVO(is.r),t.KVO(rs._),t.KVO(ls.Z))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),i})();var ds=d(97924),ms=d(68323),_s=d(78745),us=d(7919),ps=d(41517),gs=d(22783);const hs=["parent"],fs=e=>({"flex-wrap":e}),Ut=e=>({"w-full":e}),bt=()=>["fullName","phone","email"],bs=()=>({"mr-2 flex-none":!0}),R=()=>({"mr-2":!0}),fe=e=>({opacity:e}),be=e=>({"mr-3":e}),vs=()=>({"text-slate-500":!0}),ve=()=>({"ml-1 text-success":!0});function Cs(e,i){if(1&e&&(t.j41(0,"div",13),t.nrm(1,"azt-loading-effect",14),t.k0s()),2&e){const o=t.XpG();t.R7$(),t.Y8G("currentStatusObj",o.statusObj)}}function xs(e,i){if(1&e&&t.nrm(0,"azt-download-qr-code",36),2&e){const o=t.XpG(2);t.Y8G("fileName",o.convertNameForQR())("linkUrl",o.copyLinkToClipboard())("showLink",!o.isMobileDevice)}}function ks(e,i){if(1&e&&(t.j41(0,"button",39)(1,"span",40),t.nrm(2,"lucide-icon",41),t.k0s()()),2&e){t.XpG(3);const o=t.sdS(5);t.Y8G("matMenuTriggerFor",o)}}function Ss(e,i){if(1&e&&(t.j41(0,"div",37),t.DNE(1,ks,3,1,"button",38),t.k0s()),2&e){const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",null!=(null==o.classroomObj?null:o.classroomObj.permissionObj))}}function Is(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",53),t.bIt("click",function(){t.eBV(o);const n=t.XpG(3);return t.Njj(n.exportListStudent())}),t.nrm(1,"lucide-icon",54),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,bs)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_utils_export_list_student")," "))}function js(e,i){1&e&&t.nrm(0,"azt-loading-ui",58)}function Ts(e,i){1&e&&t.nrm(0,"lucide-icon",54),2&e&&t.Y8G("ngClass",t.lJ4(1,R))}function Os(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",55),t.bIt("click",function(){t.eBV(o);const n=t.XpG(3);return t.Njj(n.exportExcelForScoreOfClassroom())}),t.DNE(1,js,1,0,"azt-loading-ui",56)(2,Ts,1,2,"lucide-icon",57),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()}if(2&e){const o=t.XpG(3);t.R7$(),t.Y8G("ngIf",o.loadingExport),t.R7$(),t.Y8G("ngIf",!o.loadingExport),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_xuat_bang_diem")," ")}}function ys(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",59),t.bIt("click",function(){t.eBV(o);const n=t.XpG(3);return t.Njj(n.addStudentDialog(n.classroomObj))}),t.nrm(1,"lucide-icon",60),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function Rs(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",61),t.bIt("click",function(){t.eBV(o);const n=t.XpG(3);return t.Njj(n.openDialogAutoNumbering())}),t.nrm(1,"lucide-icon",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_danh_so_bao_danh")," "))}function Gs(e,i){if(1&e&&(t.j41(0,"button",63),t.nrm(1,"lucide-icon",41),t.k0s()),2&e){t.XpG(3);const o=t.sdS(5);t.Y8G("matMenuTriggerFor",o)}}function Fs(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",42)(1,"div",43)(2,"div",44)(3,"azt-search-box",45),t.nI1(4,"mytranslate"),t.bIt("onSearch",function(n){t.eBV(o);const a=t.XpG(2);return t.Njj(a.onSearchBox(n.searchObj))}),t.k0s()(),t.j41(5,"div",46),t.DNE(6,Is,4,5,"button",47),t.nI1(7,"viewPermission"),t.DNE(8,Os,5,5,"button",48),t.nI1(9,"viewPermission"),t.DNE(10,ys,4,5,"button",49),t.nI1(11,"editPermission"),t.DNE(12,Rs,4,5,"button",50),t.nI1(13,"editPermission"),t.j41(14,"div",51),t.DNE(15,Gs,2,1,"button",52),t.k0s()()()()}if(2&e){const o=t.XpG(2);t.R7$(3),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(4,7,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",t.i5U(7,9,o.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(9,12,o.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(11,15,o.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(13,18,o.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",null!=(null==o.classroomObj?null:o.classroomObj.permissionObj))}}function Es(e,i){if(1&e&&(t.j41(0,"span",64),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const o=t.XpG(2);t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_da_chon")," ",o.totalCheckboxSelected,"")}}function ws(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",65),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",66),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}function Ds(e,i){if(1&e){const o=t.RV6();t.j41(0,"input",89),t.bIt("change",function(){t.eBV(o);const n=t.XpG(4);return t.Njj(n.selectSingleStudent())}),t.k0s()}if(2&e){const o=t.XpG().$implicit;t.Y8G("formControl",o.checked)}}function Ms(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",94),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2),a=n.$implicit,l=n.index,m=t.XpG(3);return t.Njj(m.onPositionChange("up",l-1,a.id,null==m.classroomObj?null:m.classroomObj.id))}),t.nrm(1,"lucide-icon",95),t.k0s()}}function $s(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",96),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2),a=n.$implicit,l=n.index,m=t.XpG(3);return t.Njj(m.onPositionChange("down",l+1,a.id,null==m.classroomObj?null:m.classroomObj.id))}),t.nrm(1,"lucide-icon",97),t.k0s()}}function zs(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",90),t.DNE(1,Ms,2,0,"button",91),t.j41(2,"input",92,3),t.bIt("keyup.enter",function(){t.eBV(o);const n=t.sdS(3),a=t.XpG(),l=a.$implicit,m=a.index,_=t.XpG(3);return t.Njj(_.onPositionChange(n.value,m,l.id,null==_.classroomObj?null:_.classroomObj.id))}),t.k0s(),t.DNE(4,$s,2,0,"button",93),t.k0s()}if(2&e){const o=t.XpG().index,s=t.XpG(3);t.R7$(),t.Y8G("ngIf",0!=o),t.R7$(),t.FS9("value",o+1),t.R7$(2),t.Y8G("ngIf",s.listStudents&&o!=s.listStudents.length-1)}}function Ns(e,i){if(1&e&&(t.j41(0,"div",98),t.EFF(1),t.k0s()),2&e){const o=t.XpG().index;t.R7$(),t.SpI(" ",o+1," ")}}function As(e,i){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(),t.E5c(" ",null==o.documentAttendedObj?null:o.documentAttendedObj.totalHomeworkAnswer," / ",null==o.totalDocumentObj?null:o.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function Ps(e,i){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(),t.E5c(" ",null==o.documentAttendedObj?null:o.documentAttendedObj.totalExamResult," / ",null==o.totalDocumentObj?null:o.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Ys(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",99),t.bIt("click",function(){t.eBV(o);const n=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.editStudentDialog(n))}),t.nrm(1,"lucide-icon",100),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function Bs(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",101),t.bIt("click",function(){t.eBV(o);const n=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.deleteStudentDialog(n))}),t.nrm(1,"lucide-icon",102),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function Ls(e,i){if(1&e){const o=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(o);const n=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.openDialogResetPass(n))}),t.nrm(1,"lucide-icon",104),t.j41(2,"span",105),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&e){const o=t.XpG(4);t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","btn btn-sm min-height-32px ml-3")("isShowBadgeVip",!o.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_RESET_PASSWORD"),t.R7$(),t.Y8G("ngClass",t.lJ4(10,R)),t.R7$(),t.Y8G("ngClass",t.eq3(11,be,!o.isBusinessDomain)),t.R7$(),t.JRh(t.bMT(4,8,"lang_core_dat_lai_mat_khau"))}}function Vs(e,i){if(1&e){const o=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(o);const n=t.XpG().$implicit,a=t.XpG(3);return t.Njj(a.openDialogCreateUser(n))}),t.nrm(1,"lucide-icon",106),t.j41(2,"span",105),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&e){const o=t.XpG(4);t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","btn btn-sm min-height-32px ml-3")("isShowBadgeVip",!o.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_CREATE_ACCOUNT"),t.R7$(),t.Y8G("ngClass",t.lJ4(10,R)),t.R7$(),t.Y8G("ngClass",t.eq3(11,be,!o.isBusinessDomain)),t.R7$(),t.JRh(t.bMT(4,8,"lang_business_create_account"))}}function Xs(e,i){if(1&e){const o=t.RV6();t.j41(0,"tr",77)(1,"td",78),t.DNE(2,Ds,1,1,"input",79),t.k0s(),t.j41(3,"td",80),t.DNE(4,zs,5,3,"div",81),t.nI1(5,"editPermission"),t.DNE(6,Ns,2,1,"ng-template",null,2,t.C5r),t.k0s(),t.j41(8,"td",82),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG(3);return t.Njj(a.goToProfile(n.classroomId,n.id))}),t.nrm(9,"azt-student-info-box",83),t.k0s(),t.j41(10,"td",84),t.EFF(11),t.nI1(12,"formatStudentCodeToNumber"),t.k0s(),t.j41(13,"td",85),t.DNE(14,As,3,5,"span",10),t.k0s(),t.j41(15,"td",85),t.DNE(16,Ps,3,5,"span",10),t.k0s(),t.j41(17,"td",85)(18,"div",40),t.DNE(19,Ys,4,5,"button",86),t.nI1(20,"editPermission"),t.DNE(21,Bs,4,5,"button",87),t.nI1(22,"editPermission"),t.DNE(23,Ls,5,13,"azt-check-vip-account",88),t.nI1(24,"editPermission"),t.DNE(25,Vs,5,13,"azt-check-vip-account",88),t.nI1(26,"editPermission"),t.k0s()()()}if(2&e){const o=i.$implicit,s=t.sdS(7),n=t.XpG(3);t.Y8G("ngStyle",t.eq3(44,fe,null!=o.checked&&o.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==o.checked),t.R7$(2),t.Y8G("ngIf",1==(null==n.classroomObj?null:n.classroomObj.sortType)&&t.i5U(5,26,n.classroomObj,"student"))("ngIfElse",s),t.R7$(5),t.Y8G("name",o.fullName)("parentFullName",o.parentFullName)("parentUserName",o.parentUserName)("parentId",o.parentId)("parentPhone",o.parentPhone)("avatar",o.avatar)("identificationNumber",o.identificationNumber)("gender",o.gender)("hasUser",1==o.isVerified)("schoolName",o.schoolName)("classrooms",null==o.moreInfo?null:o.moreInfo.classrooms)("joinedAt",null==o.moreInfo?null:o.moreInfo.joinedAt)("phone",o.phone)("email",o.email)("createdAt",o.createdAt),t.R7$(2),t.JRh(o.identificationNumber?t.i5U(12,29,o.identificationNumber,6):""),t.R7$(3),t.Y8G("ngIf",(null==o.documentAttendedObj?null:o.documentAttendedObj.totalHomeworkAnswer)||(null==o.totalDocumentObj?null:o.totalDocumentObj.totalHomework)),t.R7$(2),t.Y8G("ngIf",(null==o.documentAttendedObj?null:o.documentAttendedObj.totalExamResult)||(null==o.totalDocumentObj?null:o.totalDocumentObj.totalExam)),t.R7$(3),t.Y8G("ngIf",t.i5U(20,32,n.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(22,35,n.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(24,38,n.classroomObj,"student")&&o.parentId),t.R7$(2),t.Y8G("ngIf",t.i5U(26,41,n.classroomObj,"student")&&!o.parentId)}}function Us(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",67)(1,"drag-scroll")(2,"table",68)(3,"thead")(4,"tr",69)(5,"th")(6,"input",70),t.bIt("change",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.selectAllStudentsObjs())}),t.k0s()(),t.j41(7,"th",71)(8,"div",72),t.nI1(9,"mytranslate"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"th",73),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",74),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"th",75),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"th",75),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"th",75),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()(),t.j41(27,"tbody"),t.DNE(28,Xs,27,46,"tr",76),t.nI1(29,"appFilter"),t.k0s()()()()}if(2&e){const o=t.XpG(2);t.R7$(6),t.Y8G("formControl",o.isSelectAllFormControl),t.R7$(2),t.FCK("matTooltip","",t.bMT(9,14,"lang_student_classroom_list_detail_quantity"),": ",null!=o.classroomObj&&o.classroomObj.countStudents?null==o.classroomObj?null:o.classroomObj.countStudents:0,""),t.Y8G("matTooltipDisabled",o.isMobileDevice),t.R7$(2),t.E5c(" ",t.bMT(11,16,o.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",o.isMobileDevice?"":": ","",null!=o.classroomObj&&o.classroomObj.countStudents?null==o.classroomObj?null:o.classroomObj.countStudents:0," "),t.R7$(3),t.JRh(t.bMT(14,18,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(17,20,"lang_auto_so_bao_danh")),t.R7$(3),t.SpI(" ",t.bMT(20,22,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.SpI(" ",t.bMT(23,24,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.JRh(t.bMT(26,26,"lang_auto_hanh_dong")),t.R7$(3),t.Y8G("ngForOf",t.brH(29,28,o.listStudents,o.searchContentObj.searchContent,t.lJ4(32,bt)))}}function Js(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",112),t.bIt("click",function(){t.eBV(o);const n=t.XpG(3);return t.Njj(n.addStudentDialog(n.classroomObj))}),t.nrm(1,"lucide-icon",60),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function Ws(e,i){if(1&e&&(t.j41(0,"div",107)(1,"div",108),t.nrm(2,"azt-svg-icon",109),t.j41(3,"div",110),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,Js,4,5,"button",111),t.nI1(7,"editPermission"),t.k0s()()),2&e){let o;const s=t.XpG(2);t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,s.classroomObj,"student")&&0==(null!==(o=null==s.listStudents?null:s.listStudents.length)&&void 0!==o?o:0))}}function Qs(e,i){if(1&e){const o=t.RV6();t.j41(0,"div")(1,"input",70),t.bIt("change",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.selectAllStudentsObjs())}),t.k0s(),t.j41(2,"span",113),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&e){const o=t.XpG(2);t.R7$(),t.Y8G("formControl",o.isSelectAllFormControl),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_tat_ca"))}}function Hs(e,i){if(1&e&&(t.j41(0,"span",114),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const o=t.XpG(2);t.Y8G("ngClass",t.eq3(5,Ut,o.isMobileDevice||o.isMobileWebView)),t.R7$(),t.Lme("",t.bMT(2,3,"lang_auto_da_chon")," ",o.totalCheckboxSelected,"")}}function Ks(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",115),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",66),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}function qs(e,i){if(1&e){const o=t.RV6();t.j41(0,"input",89),t.bIt("change",function(){t.eBV(o);const n=t.XpG(3);return t.Njj(n.selectSingleStudent())}),t.k0s()}if(2&e){const o=t.XpG().$implicit;t.Y8G("formControl",o.checked)}}function Zs(e,i){if(1&e&&(t.j41(0,"a",130),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"formatStudentCodeToNumber"),t.nI1(6,"mytranslate"),t.EFF(7),t.k0s()),2&e){const o=t.XpG().$implicit;t.Tbm("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(1,8,"lang_first_and_last_name"),": ",o.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(2,10,"lang_number_phone"),": ",o.phone?o.phone:t.bMT(3,12,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(4,14,"lang_auto_so_bao_danh"),": ",o.identificationNumber?t.i5U(5,16,o.identificationNumber,6):t.bMT(6,19,"lang_not_data"),""),t.R7$(7),t.SpI(" ",o.fullName," \xa0 ")}}function ta(e,i){if(1&e&&(t.j41(0,"div",131),t.EFF(1),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(),t.SpI(" ",o.phone," ")}}function ea(e,i){if(1&e&&(t.j41(0,"div",132),t.EFF(1),t.k0s()),2&e){const o=t.XpG().$implicit;t.FS9("matTooltip",o.email),t.R7$(),t.SpI(" ",o.email," ")}}function na(e,i){if(1&e){const o=t.RV6();t.j41(0,"a",139),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.editStudentDialog(n))}),t.nrm(1,"lucide-icon",100),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function oa(e,i){if(1&e){const o=t.RV6();t.j41(0,"a",140),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.deleteStudentDialog(n))}),t.nrm(1,"lucide-icon",141),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function sa(e,i){if(1&e){const o=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(o);const n=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.openDialogResetPass(n))}),t.nrm(1,"lucide-icon",104),t.j41(2,"span",142),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","STUDENT_RESET_PASSWORD"),t.R7$(),t.Y8G("ngClass",t.lJ4(9,R)),t.R7$(2),t.JRh(t.bMT(4,7,"lang_core_dat_lai_mat_khau")))}function aa(e,i){if(1&e){const o=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(o);const n=t.XpG(2).$implicit,a=t.XpG(2);return t.Njj(a.openDialogCreateUser(n))}),t.nrm(1,"lucide-icon",106),t.j41(2,"span",142),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","STUDENT_CREATE_ACCOUNT"),t.R7$(),t.Y8G("ngClass",t.lJ4(9,R)),t.R7$(2),t.JRh(t.bMT(4,7,"lang_business_create_account")))}function ia(e,i){if(1&e&&(t.j41(0,"div",133)(1,"a",134),t.nrm(2,"lucide-icon",135),t.k0s(),t.j41(3,"mat-menu",null,4)(5,"div",136)(6,"ul",9)(7,"li"),t.DNE(8,na,4,5,"a",137),t.nI1(9,"editPermission"),t.k0s(),t.j41(10,"li"),t.DNE(11,oa,4,5,"a",138),t.nI1(12,"editPermission"),t.k0s(),t.j41(13,"li"),t.DNE(14,sa,5,10,"azt-check-vip-account",88),t.nI1(15,"editPermission"),t.DNE(16,aa,5,10,"azt-check-vip-account",88),t.nI1(17,"editPermission"),t.k0s()()()()()),2&e){const o=t.sdS(4),s=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",o),t.R7$(),t.Y8G("ngClass",t.lJ4(18,vs)),t.R7$(6),t.Y8G("ngIf",t.i5U(9,6,n.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",t.i5U(12,9,n.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",t.i5U(15,12,n.classroomObj,"student")&&s.parentId),t.R7$(2),t.Y8G("ngIf",t.i5U(17,15,n.classroomObj,"student")&&!s.parentId)}}function ra(e,i){1&e&&(t.j41(0,"div",148)(1,"span",149),t.nrm(2,"lucide-icon",150),t.k0s(),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_auto_co_tai_khoan")," "))}function la(e,i){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const o=t.XpG(2).$implicit;t.R7$(),t.E5c(" ",null==o.documentAttendedObj?null:o.documentAttendedObj.totalHomeworkAnswer," / ",null==o.totalDocumentObj?null:o.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function ca(e,i){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const o=t.XpG(2).$implicit;t.R7$(),t.E5c(" ",null==o.documentAttendedObj?null:o.documentAttendedObj.totalExamResult," / ",null==o.totalDocumentObj?null:o.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function da(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",155),t.bIt("click",function(){t.eBV(o);const n=t.XpG(3),a=n.$implicit,l=n.index,m=t.XpG(2);return t.Njj(m.onPositionChange("up",l-1,a.id,null==m.classroomObj?null:m.classroomObj.id))}),t.nrm(1,"lucide-icon",95),t.k0s()}}function ma(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",156),t.bIt("click",function(){t.eBV(o);const n=t.XpG(3),a=n.$implicit,l=n.index,m=t.XpG(2);return t.Njj(m.onPositionChange("down",l+1,a.id,null==m.classroomObj?null:m.classroomObj.id))}),t.nrm(1,"lucide-icon",97),t.k0s()}}function _a(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",143)(1,"div",151)(2,"div",152),t.DNE(3,da,2,0,"button",153),t.j41(4,"input",92,3),t.bIt("keyup.enter",function(){t.eBV(o);const n=t.sdS(5),a=t.XpG(2),l=a.$implicit,m=a.index,_=t.XpG(2);return t.Njj(_.onPositionChange(n.value,m,l.id,null==_.classroomObj?null:_.classroomObj.id))}),t.k0s(),t.DNE(6,ma,2,0,"button",154),t.k0s()()()}if(2&e){const o=t.XpG(2).index,s=t.XpG(2);t.R7$(3),t.Y8G("ngIf",0!=o),t.R7$(),t.FS9("value",o+1),t.R7$(2),t.Y8G("ngIf",s.listStudents&&o!=s.listStudents.length-1)}}function ua(e,i){if(1&e&&(t.j41(0,"div")(1,"div",143)(2,"div",144),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",145),t.EFF(6),t.nI1(7,"formatStudentCodeToNumber"),t.k0s()(),t.j41(8,"div",143)(9,"div",144),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"div",145),t.EFF(13),t.nI1(14,"mytranslate"),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",143)(17,"div",144),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"div",145),t.EFF(21),t.nI1(22,"formatOnlyDateByUserUnitPipe"),t.k0s()(),t.j41(23,"div",143)(24,"div",144),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"div",145),t.DNE(28,ra,5,3,"div",146),t.k0s()(),t.j41(29,"div",143)(30,"div",144),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"div",145),t.DNE(34,la,3,5,"span",10),t.k0s()(),t.j41(35,"div",143)(36,"div",144),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.j41(39,"div",145),t.DNE(40,ca,3,5,"span",10),t.k0s()(),t.DNE(41,_a,7,3,"div",147),t.nI1(42,"editPermission"),t.k0s()),2&e){const o=t.XpG().$implicit,s=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,13,"lang_auto_so_bao_danh")," "),t.R7$(3),t.SpI(" ",o.identificationNumber?t.i5U(7,15,o.identificationNumber,6):""," "),t.R7$(4),t.SpI(" ",t.bMT(11,18,"lang_gender")," "),t.R7$(3),t.SpI(" ",0==o.gender?t.bMT(14,20,"lang_auto_nu"):t.bMT(15,22,"lang_auto_nam")," "),t.R7$(5),t.SpI(" ",t.bMT(19,24,"lang_birthday")," "),t.R7$(3),t.SpI(" ",t.bMT(22,26,o.birthday)," "),t.R7$(4),t.SpI(" ",t.bMT(26,28,"lang_testbank_folder_and_file_status")," "),t.R7$(3),t.Y8G("ngIf",1==o.isVerified),t.R7$(3),t.SpI(" ",t.bMT(32,30,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==o.documentAttendedObj?null:o.documentAttendedObj.totalHomeworkAnswer)||(null==o.totalDocumentObj?null:o.totalDocumentObj.totalHomework)),t.R7$(3),t.SpI(" ",t.bMT(38,32,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==o.documentAttendedObj?null:o.documentAttendedObj.totalExamResult)||(null==o.totalDocumentObj?null:o.totalDocumentObj.totalExam)),t.R7$(),t.Y8G("ngIf",1==(null==s.classroomObj?null:s.classroomObj.sortType)&&t.i5U(42,34,s.classroomObj,"student"))}}function pa(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",116)(1,"div",117),t.DNE(2,qs,1,1,"input",79),t.j41(3,"div",118)(4,"div",119),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG(2);return t.Njj(a.goToProfile(n.classroomId,n.id))}),t.j41(5,"div",120),t.nrm(6,"azt-create-avatar",121),t.nI1(7,"anonymousPhone"),t.nI1(8,"mycdn"),t.k0s(),t.j41(9,"div",122),t.DNE(10,Zs,8,21,"a",123)(11,ta,2,1,"div",124)(12,ea,2,2,"div",125),t.k0s()(),t.DNE(13,ia,18,19,"div",126),t.nI1(14,"editPermission"),t.k0s(),t.j41(15,"button",127),t.bIt("click",function(){const n=t.eBV(o).index,a=t.XpG(2);return t.Njj(a.toggleExpandedContent(n))}),t.j41(16,"span"),t.nrm(17,"lucide-icon",128),t.k0s()()(),t.j41(18,"div",129),t.DNE(19,ua,43,37,"div",10),t.k0s()()}if(2&e){const o=i.$implicit,s=i.index,n=t.XpG(2);t.Y8G("ngStyle",t.eq3(22,fe,null!=o.checked&&o.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==o.checked),t.R7$(4),t.Mz_("matTooltip","",0==o.parentId||1==o.isAnonymous?null:" Id: "+o.parentId+(""!=t.bMT(7,15,o.parentPhone)?" - Phone: "+o.parentPhone:"")+" - Name: "+o.parentFullName," "),t.Y8G("nameCreateAvatar",o.fullName)("linkAvatar",t.bMT(8,17,o.avatar))("size",36),t.R7$(4),t.Y8G("ngIf",o.fullName),t.R7$(),t.Y8G("ngIf",o.phone),t.R7$(),t.Y8G("ngIf",o.email),t.R7$(),t.Y8G("ngIf",t.i5U(14,19,n.classroomObj,"student")),t.R7$(3),t.AVh("rotate-180",n.expandedItemIndex===s),t.R7$(2),t.Y8G("@expandCollapse",n.expandedItemIndex===s?"open":"closed"),t.R7$(),t.Y8G("ngIf",n.expandedItemIndex===s)}}function ga(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",158),t.bIt("click",function(){t.eBV(o);const n=t.XpG(3);return t.Njj(n.addStudentDialog(n.classroomObj))}),t.nrm(1,"lucide-icon",159),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function ha(e,i){if(1&e&&(t.j41(0,"div",107)(1,"div",108),t.nrm(2,"azt-svg-icon",109),t.j41(3,"div",110),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,ga,4,5,"button",157),t.nI1(7,"editPermission"),t.k0s()()),2&e){let o;const s=t.XpG(2);t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,s.classroomObj,"student")&&0==(null!==(o=null==s.listStudents?null:s.listStudents.length)&&void 0!==o?o:0))}}function fa(e,i){if(1&e&&(t.j41(0,"div",15)(1,"div",16)(2,"h2",17),t.EFF(3),t.k0s(),t.j41(4,"span",18),t.EFF(5),t.k0s(),t.DNE(6,xs,1,3,"azt-download-qr-code",19),t.k0s(),t.j41(7,"div",16),t.nrm(8,"azt-share",20),t.DNE(9,Ss,2,1,"div",21),t.k0s()(),t.DNE(10,Fs,16,21,"div",22),t.j41(11,"div",23),t.DNE(12,Es,3,4,"span",24)(13,ws,4,5,"button",25),t.k0s(),t.j41(14,"div",26)(15,"div",27),t.DNE(16,Us,30,33,"div",28),t.nI1(17,"appFilter"),t.DNE(18,Ws,8,8,"div",29),t.nI1(19,"appFilter"),t.k0s(),t.j41(20,"div",30)(21,"div",31),t.DNE(22,Qs,5,4,"div",10),t.j41(23,"div",32),t.DNE(24,Hs,3,7,"span",33)(25,Ks,4,5,"button",34),t.k0s()(),t.DNE(26,pa,20,24,"div",35),t.nI1(27,"appFilter"),t.DNE(28,ha,8,8,"div",29),t.nI1(29,"appFilter"),t.k0s()()),2&e){const o=t.XpG();t.Y8G("ngClass",t.eq3(38,fs,o.isMobileDevice||o.isMobileWebView)),t.R7$(),t.Y8G("ngClass",t.eq3(40,Ut,o.isMobileDevice||o.isMobileWebView)),t.R7$(2),t.SpI(" ",null==o.classroomObj?null:o.classroomObj.name," "),t.R7$(2),t.SpI("( ",null==o.classroomObj?null:o.classroomObj.year," )"),t.R7$(),t.Y8G("ngIf",o.joinClassroomLink),t.R7$(),t.Y8G("ngClass",t.eq3(42,Ut,o.isMobileDevice||o.isMobileWebView)),t.R7$(),t.Y8G("backToLink",o.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",o.classroomId)("classroomWithPermissionObj",o.classroomObj),t.R7$(),t.Y8G("ngIf",!o.hasStudents||!(null!=o.listStudents&&o.listStudents.length)),t.R7$(),t.Y8G("ngIf",o.hasStudents||(null==o.listStudents?null:o.listStudents.length)),t.R7$(2),t.Y8G("ngIf",o.totalCheckboxSelected>0&&!(o.isMobileDevice||o.isMobileWebView)),t.R7$(),t.Y8G("ngIf",o.totalCheckboxSelected>0&&!(o.isMobileDevice||o.isMobileWebView)),t.R7$(3),t.Y8G("ngIf",t.brH(17,22,o.listStudents,o.searchContentObj.searchContent,t.lJ4(44,bt)).length>0),t.R7$(2),t.Y8G("ngIf",!o.hasStudents||0==t.brH(19,26,o.listStudents,o.searchContentObj.searchContent,t.lJ4(45,bt)).length),t.R7$(4),t.Y8G("ngIf",o.listStudents&&o.listStudents.length>0),t.R7$(2),t.Y8G("ngIf",o.totalCheckboxSelected>0),t.R7$(),t.Y8G("ngIf",o.totalCheckboxSelected>0),t.R7$(),t.Y8G("ngForOf",t.brH(27,30,o.listStudents,o.searchContentObj.searchContent,t.lJ4(46,bt))),t.R7$(2),t.Y8G("ngIf",!o.hasStudents||0==t.brH(29,34,o.listStudents,o.searchContentObj.searchContent,t.lJ4(47,bt)).length)}}function ba(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"button",160),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.goToMergeStudent(null==n.classroomObj?null:n.classroomObj.id))}),t.nrm(2,"lucide-icon",161),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_student_classroom_list_detail_merge_student")," "))}function va(e,i){1&e&&(t.j41(0,"span",165),t.nrm(1,"lucide-icon",166),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,ve)))}function Ca(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"button",162),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.changeSortType(0))}),t.nrm(2,"lucide-icon",163),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,va,2,2,"span",164),t.k0s()()}if(2&e){const o=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(5,R)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_student_classroom_list_detail_sort_name")," "),t.R7$(2),t.Y8G("ngIf",0==(null==o.classroomObj?null:o.classroomObj.sortType))}}function xa(e,i){1&e&&t.nrm(0,"lucide-icon",166),2&e&&t.Y8G("ngClass",t.lJ4(1,ve))}function ka(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"button",167),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.changeSortType(1))}),t.nrm(2,"lucide-icon",168),t.j41(3,"span",169),t.nI1(4,"mytranslate"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,xa,1,2,"lucide-icon",170),t.k0s()()}if(2&e){const o=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(8,R)),t.R7$(),t.FS9("matTooltip",t.bMT(4,4,"lang_student_classroom_list_detail_request")),t.R7$(2),t.JRh(t.bMT(6,6,"lang_student_classroom_list_detail_change")),t.R7$(2),t.Y8G("ngIf",0!=(null==o.classroomObj?null:o.classroomObj.sortType))}}function Sa(e,i){if(1&e){const o=t.RV6();t.j41(0,"li",171)(1,"button",172),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.openDialogAutoNumbering())}),t.nrm(2,"lucide-icon",173),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_danh_so_bao_danh")," "))}function Ia(e,i){if(1&e){const o=t.RV6();t.j41(0,"li",171)(1,"button",174),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.exportListStudent())}),t.nrm(2,"lucide-icon",175),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function ja(e,i){if(1&e){const o=t.RV6();t.j41(0,"li",171)(1,"button",174),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.exportExcelForScoreOfClassroom())}),t.nrm(2,"lucide-icon",175),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,R)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_xuat_bang_diem")," "))}function Ta(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"div",176),t.bIt("click",function(n){return t.eBV(o),t.Njj(n.stopPropagation())}),t.j41(2,"input",177),t.bIt("change",function(){let n;t.eBV(o);const a=t.XpG();return t.Njj(a.changeAnonymousStudentStatus(null!==(n=null==a.classroomObj?null:a.classroomObj.id)&&void 0!==n?n:0,a.checkAddStudent.value))}),t.k0s(),t.j41(3,"label",178),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&e){const o=t.XpG();t.R7$(2),t.Y8G("formControl",o.checkAddStudent)("checked",1==(null==o.classroomObj?null:o.classroomObj.showAddStudent)),t.R7$(2),t.SpI(" ",o.checkAddStudent.value?t.bMT(5,3,"lang_student_classroom_list_detail_on"):t.bMT(6,5,"lang_student_classroom_list_detail_off")," ")}}function Oa(e,i){if(1&e){const o=t.RV6();t.j41(0,"azt-export-excel-for-student-list",179),t.bIt("exportDataDone",function(n){t.eBV(o);const a=t.XpG();return t.Njj(a.exportStudentListDone(n))}),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("objs",o.exportStudentObjs)}}let ya=(()=>{var e;class i extends g.H{onSearchBox(s){this.searchContentObj=s}toggleExpandedContent(s){this.expandedItemIndex=this.expandedItemIndex===s?-1:s}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(s){let n=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(s,n)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let s="";K.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).pipe((0,oo.n)(n=>1!==n.success?(this.errorStatusObj(n.message,!0),K.L.closeLoadingEffect(10),this.loadingExport=!1,(0,se.of)(null)):n.data?.objs&&n.data?.objs.length?this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).pipe((0,so.T)(a=>({response:n,cls:a}))):(this.exportExcelForScoreHomeworkOfClassroom(),(0,se.of)(null))),(0,ao.p)(n=>null!==n)).subscribe(({response:n,cls:a})=>{if(1!==a.success)return this.errorStatusObj(a.message??"",!0),K.L.closeLoadingEffect(10),void(this.loadingExport=!1);let l=a.data?.objs??[];this.prepareDataForExportScore(n.data?.objs??[],l).subscribe(m=>{let _=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",u=this.commonService.createFileNameExportFile([_,this.classroomObj?.name??""]);this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(M=>{s=M.lang_auto_tap_tin_dang_duoc_tai_xuong,K.L.changeMsgLoadingEffect(s)});let v=this.checkVipAccountService.payAsGoService.getExportExcel50ByTime(m.length);this.checkVipAccountService.checkRunActionVip(!!v,le.W5.TEACHER,!1,v).subscribe(M=>{if(!M.data?.isTeacherOrStudentVip&&!M.data?.canUseExportExcel50ByTime)return this.handleNonVipCase(m,u,n.data?.objs??[]);if(!this.classroomObj)return;const J=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,m,n.data?.objs);this.shareFileFlutterService.shareFileWithBlob(J,u+".xlsx"),!M.data?.isTeacherOrStudentVip&&v&&this.checkVipAccountService.payAsGoService.addExportExcel50PerTimeTransaction(v)}),K.L.closeLoadingEffect(200),this.loadingExport=!1})}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let s=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(n=>{if(1!==n.success)return this.errorStatusObj(n.message??"",!0),K.L.closeLoadingEffect(10),void(this.loadingExport=!1);let a=this.commonService.createFileNameExportFile([s,this.classroomObj?.name??""]),l=this.checkVipAccountService.payAsGoService.getExportExcel50ByTime(n.data?.objs?.length??0);this.checkVipAccountService.checkRunActionVip(!!l,le.W5.TEACHER,!1,l).subscribe(_=>{if(!_.data?.isTeacherOrStudentVip&&!_.data?.canUseExportExcel50ByTime)return this.handleNonVipCase(n.data?.objs??[],a,[]);if(!this.classroomObj)return;const u=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,n.data?.objs??[],[]);this.shareFileFlutterService.shareFileWithBlob(u,a+".xlsx"),!_.data?.isTeacherOrStudentVip&&l&&this.checkVipAccountService.payAsGoService.addExportExcel50PerTimeTransaction(l)}),K.L.closeLoadingEffect(10),this.loadingExport=!1}))}handleNonVipCase(s,n,a){const l={returnUrl:this.commonService.getCurrentUrlWithoutLocale(),title:"lang_azt_record_count_exceeds_limit",description:"lang_azt_export_exceeds_50_records",titleBtnDestroy:"lang_payment_return_continue_buy",trackingKey:"STUDENT_LIST_EXPORT_EXCEL"};this.sAztDialogService.open(mo.Y,{data:l,hasBackdrop:!0}).afterClosed().subscribe(m=>{if(!m&&this.classroomObj){const _=this.truncateDataExport(s),v=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,_,a,s.length-_.length);this.shareFileFlutterService.shareFileWithBlob(v,n+".xlsx")}})}prepareDataForExportScore(s,n){return new ae.c(a=>{let l=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",m=0,_=s.length,u=v=>{m<_?(K.L.changeMsgLoadingEffect(l+s[m].name+" ("+(m+1)+"/"+_+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",s[m].id??0,this.classroomId,v).subscribe(F=>{1==F.success?(F.data&&(v=[...F.data]),m++,u(v)):a.error(F.message)}))):(a.next(v),a.complete())};u(n)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(s=>{1==s.success?(s.data?.objs?.length??0)>0&&this.sAztDialogService.open(Xo,{width:"750px",data:{noticeObjs:s.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(s){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,s).subscribe(n=>{1==n.success?(this.checkSortListStudent(s),this.classroomObj?.sortType&&(this.classroomObj.sortType=s),this.getData()):this.errorStatusObj(n.message,!0)}))}checkSortListStudent(s){this.listStudents=0==s?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id"),this.listStudents?.forEach(n=>{n.checked=new c.MJ(!1,{nonNullable:!0})})}onPositionChange(s,n,a,l){let m="up"==s?1:"down"==s?2:3,_=3==m?s??"":"",u=parseInt(_,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=m?n:u),Number(a),Number(l),Number(m)).subscribe(F=>{1==F.success?this.getData():this.showErrorSnack(""==_&&3==m?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(s,n){this.waitDestroy(n?this.classroomService.apiClassroomChangeShowAddStudentGet(s,1).subscribe(a=>{1==a.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(a.message,!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(s,0).subscribe(a=>{1==a.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(a.message,!0)}))}addStudentDialog(s){this.sAztDialogService.open(wo,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:s},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.getData()})}deleteStudentDialog(s){this.sAztDialogService.open(Ao.d,{data:{studentObj:s,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(a=>{a&&this.getData()})}deleteListStudentDialog(){let s=this.listStudents?.filter(a=>a.checked?.value);this.sAztDialogService.open(No,{data:{listStudentObjs:s,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(a=>{a&&this.getData()})}editStudentDialog(s){this.sAztDialogService.open(Po.B,{data:{studentObj:s,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(a=>{a&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(re.O,{data:{needGetClassroomGroups:!1,type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(n=>{n&&this.getData()})}openDialogCheckboxMonth(s){this.sAztDialogService.open(ie,{width:"454px",restoreFocus:!1,data:s.id}).afterClosed().subscribe(n=>{n&&this.getListStudentApiNew()})}goToProfile(s,n){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+s+"/"+n,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${s}/0`))}goToMergeStudent(s){this.commonService.myNavigation("/admin/student/merge-student/"+s)}translateExportNote(){let s="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),n="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),a="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),l="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[s,n,a,l]}openDialogResetPass(s){this.sAztDialogService.open(io.$,{width:"500px",restoreFocus:!1,data:{id:s.parentId,name:s.fullName}}).afterClosed().subscribe(n=>{n&&this.getData()})}openDialogCreateUser(s){this.sAztDialogService.open(ns,{width:"500px",restoreFocus:!1,data:{student:s}}).afterClosed().subscribe(n=>{n&&this.getData()})}getData(){this.initStatusObj(),this.resetCheckboxesStatus(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(s=>{if(1==s.success){this.classroomObj=s?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=s?.data?.studentObjs,this.checkSortListStudent(s?.data?.classroomObj?.sortType);let a=this.commonService.getCurrentDomain();this.joinClassroomLink=`${a}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.hasStudents=!!s.data?.studentObjs.length,this.isBusinessDomain&&this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(s.message,!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1,getAssessment:!1}).subscribe(n=>{n?n.list.forEach(a=>{var l=this.listStudents?.find(m=>m.id==a.id);l&&(l.lastMonthPaid=a.lastMonthPaid,l.lastYearPaid=a.lastYearPaid,l.schoolName=a.schoolName,l.facebookLink=l.moreInfo?.facebookLink)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}selectAllStudentsObjs(){this.listStudents?.forEach(s=>{s.checked?.setValue(this.isSelectAllFormControl.value)}),this.selectSingleStudent()}selectSingleStudent(){this.totalCheckboxSelected=this.listStudents?.filter(s=>s.checked?.value)?.length??0,this.isSelectAllFormControl.setValue(this.totalCheckboxSelected===this.listStudents?.length&&this.totalCheckboxSelected>0)}resetCheckboxesStatus(){this.totalCheckboxSelected=0,this.isSelectAllFormControl.setValue(!1)}truncateDataExport(s){const n=(0,no.cloneDeep)(s);if(!s||!n)return[];let a=y.c.limit_export;return n.length>a?n.slice(0,a):n}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let s=this.commonService.getMyQueryParam("backto");this.backToLink=s||"/admin/student/manage-classroom/0",this.getData()}constructor(s,n,a,l,m,_,u,v,F,M,J,Wt){super(),this.shareFileFlutterService=s,this.classroomService=n,this.classroomExportDataService=a,this.noticeService=l,this.activeRoute=m,this.sortService=_,this.studentProfileV2Service=u,this.exportExcelService=v,this.sAztDialogService=F,this.studentService=M,this.exportClassroomScoreApiService=J,this.checkVipAccountService=Wt,this.checkAddStudent=new c.MJ(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.totalCheckboxSelected=0,this.isSelectAllFormControl=new c.MJ(!1,{nonNullable:!0}),this.searchContentObj=new mt.Z,this.form=new c.gE({startIdentifyIndex:new c.MJ("",{nonNullable:!0,validators:[c.k0.min(1),c.k0.max(999999),c.k0.pattern(/^[0-9]*$/)]})})}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(_e.R),t.rXU(Q.zS),t.rXU(P.$F),t.rXU(ge.eI),t.rXU(S.nX),t.rXU(he.g),t.rXU(P.m_),t.rXU(os.x),t.rXU(L.i),t.rXU(Ot.b),t.rXU(cs),t.rXU(ds.K))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-student-list"]],viewQuery:function(s,n){if(1&s&&t.GBs(hs,5),2&s){let a;t.mGM(a=t.lsd())&&(n.slider=a.first)}},features:[t.Vt3],decls:19,vars:19,consts:[["doneLoading",""],["menu","matMenu"],["sttStudent",""],["myInput",""],["menuAction","matMenu"],[1,"grid","grid-cols-12","mt-5"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["xPosition","before"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[4,"ngIf"],["class","block lg:hidden",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],[1,"col-span-12","intro-y","flex","justify-between","items-center","mb-5",3,"ngClass"],[1,"flex","items-center",3,"ngClass"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","dropdown ml-2 mt-2 sm:mt-0",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"col-span-12","text-right","mt-4","azt-hidden","md:block"],["class","inline-block mr-2",4,"ngIf"],["azt-track-service","student-list-1PSK0ENR-","class","btn btn-danger",3,"click",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px",4,"ngIf"],[1,"md:hidden"],[1,"flex","mt-3",2,"justify-content","space-between"],[1,"flex","items-center"],["class","inline-block mr-2",3,"ngClass",4,"ngIf"],["azt-track-service","student-list-zQB1VhlhP6","class","btn btn-sm btn-danger mr-2",3,"click",4,"ngIf"],["class","box p-3 mt-3",3,"ngStyle",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"dropdown","ml-2","mt-2","sm:mt-0"],["class","dropdown-toggle btn btn-sm btn-outline-secondary",3,"matMenuTriggerFor",4,"ngIf"],[1,"dropdown-toggle","btn","btn-sm","btn-outline-secondary",3,"matMenuTriggerFor"],[1,"flex","items-center","justify-center"],["name","settings","size","18"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"onSearch","isServerSearch","placeholder"],[1,"w-full","sm:w-auto","flex","items-center"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["name","file-text","size","18",3,"ngClass"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","mr-1",4,"ngIf"],["name","file-text","size","18",3,"ngClass",4,"ngIf"],[1,"mr-1"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],["name","plus","size","18",3,"ngClass"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","18",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[1,"inline-block","mr-2"],["azt-track-service","student-list-1PSK0ENR-",1,"btn","btn-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-5",2,"white-space","initial","display","table"],[1,"box"],["type","checkbox",1,"form-check-input",3,"change","formControl"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-center",2,"width","30px"],["class","form-check-input flex-none","type","checkbox",3,"formControl","change",4,"ngIf"],[2,"width","60px","padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentUserName","parentId","parentPhone","avatar","identificationNumber","gender","hasUser","schoolName","classrooms","joinedAt","phone","email","createdAt"],[1,"text-center","capitalize"],[1,"text-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],[3,"vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey","checkAction",4,"ngIf"],["type","checkbox",1,"form-check-input","flex-none",3,"change","formControl"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["class","btn btn-sm btn-outline-secondary p-1","style","border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom: 0",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px","border-radius","0",3,"keyup.enter","value"],["class","btn btn-sm btn-outline-secondary p-1","style","border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary","p-1",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","border-bottom","0",3,"click"],["name","chevron-up","size","18"],[1,"btn","btn-sm","btn-outline-secondary","p-1",2,"border-top-left-radius","0","border-top-right-radius","0","border-top","0",3,"click"],["name","chevron-down","size","18"],[1,"text-center","font-bold"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"btn","btn-sm","btn-outline-danger",3,"click"],["name","trash-2","size","18",3,"ngClass"],[3,"checkAction","vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey"],["name","list-restart","size","16",3,"ngClass"],[1,"whitespace-nowrap",3,"ngClass"],["name","user-plus","size","16",3,"ngClass"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"ml-2"],[1,"inline-block","mr-2",3,"ngClass"],["azt-track-service","student-list-zQB1VhlhP6",1,"btn","btn-sm","btn-danger","mr-2",3,"click"],[1,"box","p-3","mt-3",3,"ngStyle"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],["name","chevron-down","size","20"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],["name","trash-2","size","20",3,"ngClass"],[1,"whitespace-nowrap","mr-3"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],[1,"mr-2","inline-block"],["name","square-check","size","18"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["class","btn btn-sm btn-outline-secondary","style","border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom: 0",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-secondary","style","border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","border-bottom","0",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",2,"border-top-left-radius","0","border-top-right-radius","0","border-top","0",3,"click"],["azt-track-service","student-list-z7Lql-3ZDJ","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","student-list-z7Lql-3ZDJ",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["name","link-2","size","16",3,"ngClass"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["name","arrow-down-wide-narrow","size","16",3,"ngClass"],["class","text-success inline-block flex-none",4,"ngIf"],[1,"text-success","inline-block","flex-none"],["name","check","size","20",3,"ngClass"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["name","list-ordered","size","16",3,"ngClass"],[1,"ml-1",3,"matTooltip"],["name","check","size","20",3,"ngClass",4,"ngIf"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["name","binary","size","16",3,"ngClass"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"change","formControl","checked"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"exportDataDone","objs"]],template:function(s,n){if(1&s&&(t.j41(0,"div",5),t.DNE(1,Cs,2,1,"div",6)(2,fa,30,48,"ng-template",null,0,t.C5r),t.k0s(),t.j41(4,"mat-menu",7,1)(6,"div",8)(7,"ul",9),t.DNE(8,ba,5,5,"li",10)(9,Ca,6,6,"li",10)(10,ka,8,9,"li",10)(11,Sa,5,5,"li",11),t.nI1(12,"editPermission"),t.DNE(13,Ia,5,5,"li",11),t.nI1(14,"viewPermission"),t.DNE(15,ja,5,5,"li",11)(16,Ta,7,7,"li",10),t.nI1(17,"editPermission"),t.k0s()()(),t.DNE(18,Oa,1,1,"azt-export-excel-for-student-list",12)),2&s){const a=t.sdS(3);t.R7$(),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a),t.R7$(7),t.Y8G("ngIf",n.hasStudents||(null==n.listStudents?null:n.listStudents.length)),t.R7$(),t.Y8G("ngIf",n.hasStudents||(null==n.listStudents?null:n.listStudents.length)),t.R7$(),t.Y8G("ngIf",n.hasStudents||(null==n.listStudents?null:n.listStudents.length)),t.R7$(),t.Y8G("ngIf",t.i5U(12,10,n.classroomObj,"student")&&(n.hasStudents||(null==n.listStudents?null:n.listStudents.length))),t.R7$(2),t.Y8G("ngIf",t.i5U(14,13,n.classroomObj,"student")&&(n.hasStudents||(null==n.listStudents?null:n.listStudents.length))),t.R7$(2),t.Y8G("ngIf",n.hasStudents||(null==n.listStudents?null:n.listStudents.length)),t.R7$(),t.Y8G("ngIf",t.i5U(17,16,n.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",n.exportStudentObjs)}},dependencies:[r.YU,r.Sq,r.bT,r.B3,A.kk,A.Cp,B.oV,c.Zm,c.BC,c.l_,D.K,ms.p,_s.d,us.Z,ue.m,w.R,ps.M,H.W,_t.B,gs.F,te.m,E.jd,E.Ew,k.WGl,h.wp,h.nf,h.WL,h.xL,h.FV,h.eL,h.Po,h.vv],encapsulation:2,data:{animation:[(0,st.hZ)("expandCollapse",[(0,st.wk)("open",(0,st.iF)({height:"*"})),(0,st.wk)("closed",(0,st.iF)({height:"0px"})),(0,st.kY)("open <=> closed",[(0,st.i0)("0.3s ease-in-out")])])]}}),i})();const V=e=>({"text-white bg-primary":e}),Y=e=>[e],X=()=>({"mr-2 flex-none":!0}),Ra=e=>({"font-medium text-white bg-primary":e}),Ga=e=>({"ml-5":e});function Fa(e,i){if(1&e&&(t.j41(0,"a",33),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",34),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const o=t.XpG(2);t.Y8G("ngClass",t.eq3(8,V,3===o.tabActive))("routerLink",t.eq3(10,Y,t.bMT(1,4,"/admin/student/classroom-details/"+o.classroomId+"/3"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,X)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_educational_program"))}}function Ea(e,i){if(1&e&&(t.j41(0,"a",35),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",7),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const o=t.XpG(2);t.Y8G("ngClass",t.eq3(8,V,4===o.tabActive))("routerLink",t.eq3(10,Y,t.bMT(1,4,"/admin/student/classroom-details/"+o.classroomId+"/4"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,X)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_grade_sheet"))}}function wa(e,i){if(1&e&&(t.j41(0,"a",36),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",37),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const o=t.XpG(2);t.Y8G("ngClass",t.eq3(8,V,6===o.tabActive))("routerLink",t.eq3(10,Y,t.bMT(1,4,"/admin/student/classroom-details/"+o.classroomId+"/6"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,X)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_assessment_board"))}}function Da(e,i){if(1&e&&(t.j41(0,"a",38),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",39),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const o=t.XpG(2);t.Y8G("ngClass",t.eq3(8,V,7===o.tabActive))("routerLink",t.eq3(10,Y,t.bMT(1,4,"/admin/student/classroom-details/"+o.classroomId+"/7"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,X)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_attendance_board"))}}function Ma(e,i){if(1&e&&(t.j41(0,"a",40),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",41),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const o=t.XpG(2);t.Y8G("ngClass",t.eq3(8,V,8===o.tabActive))("routerLink",t.eq3(10,Y,t.bMT(1,4,"/admin/student/classroom-details/"+o.classroomId+"/8"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,X)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_tuition_fee_board"))}}function $a(e,i){if(1&e&&(t.j41(0,"a",42),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",43),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const o=t.XpG(2);t.Y8G("ngClass",t.eq3(8,V,5===o.tabActive))("routerLink",t.eq3(10,Y,t.bMT(1,4,"/admin/student/classroom-details/"+o.classroomId+"/5"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,X)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_leaderboard"))}}function za(e,i){if(1&e&&(t.j41(0,"div",23)(1,"div",24),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",23),t.DNE(5,Fa,6,13,"a",25),t.nI1(6,"allowFeatureBusinessForUser"),t.nI1(7,"async"),t.DNE(8,Ea,6,13,"a",26),t.nI1(9,"allowFeatureBusinessForUser"),t.nI1(10,"async"),t.DNE(11,wa,6,13,"a",27),t.nI1(12,"allowFeatureBusinessForUser"),t.nI1(13,"async"),t.DNE(14,Da,6,13,"a",28),t.nI1(15,"allowFeatureBusinessForUser"),t.nI1(16,"async"),t.DNE(17,Ma,6,13,"a",29),t.nI1(18,"allowFeatureBusinessForUser"),t.nI1(19,"async"),t.DNE(20,$a,6,13,"a",30),t.nI1(21,"allowFeatureBusinessForUser"),t.nI1(22,"async"),t.j41(23,"a",31),t.nI1(24,"navigationLocalize"),t.nrm(25,"lucide-icon",32),t.j41(26,"span"),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()()),2&e){const o=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,10,"lang_student_extensions")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(7,15,t.i5U(6,12,"training_center_curriculum_in_classroom",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(10,20,t.i5U(9,17,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(13,25,t.i5U(12,22,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(16,30,t.i5U(15,27,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(19,35,t.i5U(18,32,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(22,40,t.i5U(21,37,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngClass",t.eq3(46,V,9===o.tabActive))("routerLink",t.eq3(48,Y,t.bMT(24,42,"/admin/student/classroom-details/"+o.classroomId+"/9"))),t.R7$(4),t.JRh(t.bMT(28,44,"lang_super_role_send_notice_approved_question_share"))}}function Na(e,i){1&e&&(t.j41(0,"div",44),t.nrm(1,"app-student-list"),t.k0s())}function Aa(e,i){1&e&&(t.j41(0,"div",45),t.nrm(1,"app-exam-exercises",46),t.k0s()),2&e&&(t.R7$(),t.Y8G("isStudent",!1))}function Pa(e,i){if(1&e&&(t.j41(0,"div",47),t.nrm(1,"app-news-board",48),t.k0s()),2&e){const o=t.XpG();t.R7$(),t.Y8G("classroomId",o.classroomId)("isStudent",!1)}}function Ya(e,i){1&e&&(t.j41(0,"div",49),t.nrm(1,"app-educational-program",46),t.k0s()),2&e&&(t.R7$(),t.Y8G("isStudent",!1))}function Ba(e,i){1&e&&(t.j41(0,"div",50),t.nrm(1,"app-grand-board",46),t.k0s()),2&e&&(t.R7$(),t.Y8G("isStudent",!1))}function La(e,i){1&e&&(t.j41(0,"div",51)(1,"div",52),t.nrm(2,"app-leader-board",46),t.k0s()()),2&e&&(t.R7$(2),t.Y8G("isStudent",!1))}function Va(e,i){1&e&&(t.j41(0,"div",53)(1,"div",54),t.nrm(2,"app-assessment-board",46),t.k0s()()),2&e&&(t.R7$(2),t.Y8G("isStudent",!1))}function Xa(e,i){1&e&&(t.j41(0,"div",55)(1,"div",54),t.nrm(2,"app-attendance-board",46),t.k0s()()),2&e&&(t.R7$(2),t.Y8G("isStudent",!1))}function Ua(e,i){1&e&&(t.j41(0,"div",56)(1,"div",54),t.nrm(2,"app-tuition-fee-board",46),t.k0s()()),2&e&&(t.R7$(2),t.Y8G("isStudent",!1))}function Ja(e,i){if(1&e&&(t.j41(0,"div",57),t.nrm(1,"app-send-notification",58),t.k0s()),2&e){const o=t.XpG();t.Y8G("ngClass",t.eq3(3,Ga,!o.isMobileWebView&&!o.isMobileDevice)),t.R7$(),t.Y8G("classroomName",o.classroomName)("classroomId",o.classroomId)}}let Wa=(()=>{var e;class i extends g.H{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(s=>{s&&s.success&&(this.classroomName=s.data?.obj?.name??"",this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,f.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let s=this.commonService.getMyQueryParam("backto");this.backToLink=s&&""!=s?s:"/admin/student/manage-classroom/0"}constructor(s,n){super(),this.activeRoute=s,this.classroomService=n,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle=""}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(S.nX),t.rXU(Q.zS))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-teacher-classroom-details"]],features:[t.Vt3],decls:40,vars:62,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"pr-3","pt-5"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","user","size","16",3,"ngClass"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check","size","16",3,"ngClass"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper","size","16",3,"ngClass"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10","md:border-l","border-slate-200","dark:border-darkmode-400"],[1,"mt-5","md:px-3","h-full"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],["class","assessment-board",4,"ngIf"],["class","attendance-board",4,"ngIf"],["class","tuition-fee-board",4,"ngIf"],["class","table-honored h-full",3,"ngClass",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-FPGtD1jfL","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-6GuZeDQM8J","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-kEUyL-yGqV","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-wEO2JkXskB","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],[1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","bell-plus","size","18",1,"mr-1","flex-none"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library","size","16",3,"ngClass"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["azt-track-service","class-list-details-FPGtD1jfL",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","message-square-text","size","16",3,"ngClass"],["azt-track-service","class-list-details-6GuZeDQM8J",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","search-check","size","16",3,"ngClass"],["azt-track-service","class-list-details-kEUyL-yGqV",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","clipboard-list","size","16",3,"ngClass"],["azt-track-service","class-list-details-wEO2JkXskB",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","medal","size","16",3,"ngClass"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"],[1,"assessment-board"],[1,"mx-auto"],[1,"attendance-board"],[1,"tuition-fee-board"],[1,"table-honored","h-full",3,"ngClass"],[3,"classroomName","classroomId"]],template:function(s,n){1&s&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.nI1(6,"navigationLocalize"),t.nrm(7,"lucide-icon",5),t.j41(8,"span"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"a",6),t.nI1(12,"navigationLocalize"),t.nrm(13,"lucide-icon",7),t.j41(14,"span"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"a",8),t.nI1(18,"navigationLocalize"),t.nrm(19,"lucide-icon",9),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,za,29,50,"div",10),t.nI1(24,"allowFeatureBusinessForUser"),t.nI1(25,"async"),t.nI1(26,"allowFeatureBusinessForUser"),t.nI1(27,"async"),t.k0s()(),t.j41(28,"div",11)(29,"div",12),t.DNE(30,Na,2,0,"div",13)(31,Aa,2,1,"div",14)(32,Pa,2,2,"div",15)(33,Ya,2,1,"div",16)(34,Ba,2,1,"div",17)(35,La,3,1,"div",18)(36,Va,3,1,"div",19)(37,Xa,3,1,"div",20)(38,Ua,3,1,"div",21)(39,Ja,2,5,"div",22),t.k0s()()()()),2&s&&(t.Y8G("headerBackToLink",n.backToLink)("headerTitle",n.classroomName),t.R7$(5),t.Y8G("ngClass",t.eq3(47,V,0===n.tabActive))("routerLink",t.eq3(49,Y,t.bMT(6,25,"/admin/student/classroom-details/"+n.classroomId+"/0"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(51,X)),t.R7$(2),t.JRh(t.bMT(10,27,"lang_cms_classroom_student_list_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(52,V,1===n.tabActive))("routerLink",t.eq3(54,Y,t.bMT(12,29,"/admin/student/classroom-details/"+n.classroomId+"/1"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(56,X)),t.R7$(2),t.JRh(t.bMT(16,31,"lang_document_exam_exercises")),t.R7$(2),t.Y8G("ngClass",t.eq3(57,Ra,2===n.tabActive))("routerLink",t.eq3(59,Y,t.bMT(18,33,"/admin/student/classroom-details/"+n.classroomId+"/2"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(61,X)),t.R7$(2),t.JRh(t.bMT(22,35,"lang_student_news_board")),t.R7$(2),t.Y8G("ngIf",t.bMT(25,40,t.i5U(24,37,"training_center_curriculum_in_classroom",!1))||t.bMT(27,45,t.i5U(26,42,"training_center_student_mark",!1))),t.R7$(7),t.Y8G("ngIf",0===n.tabActive),t.R7$(),t.Y8G("ngIf",1===n.tabActive),t.R7$(),t.Y8G("ngIf",2===n.tabActive),t.R7$(),t.Y8G("ngIf",3===n.tabActive),t.R7$(),t.Y8G("ngIf",4===n.tabActive),t.R7$(),t.Y8G("ngIf",5===n.tabActive),t.R7$(),t.Y8G("ngIf",6===n.tabActive),t.R7$(),t.Y8G("ngIf",7===n.tabActive),t.R7$(),t.Y8G("ngIf",8===n.tabActive),t.R7$(),t.Y8G("ngIf",9===n.tabActive))},dependencies:[S.Wk,r.YU,r.bT,N.Q,k.WGl,Bt.E,Cn,xn.s,kn.K,Sn.c,Bn,Ln.E,Vn.b,eo,ya,r.Jj,h.F2,h.wp,h.bj],encapsulation:2}),i})();var Ce=d(11002);function Qa(e,i){1&e&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Ha(e,i){1&e&&t.nrm(0,"azt-loading-ui",18)}function Ka(e,i){1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function qa(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",20),2&e){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function Za(e,i){1&e&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function ti(e,i){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,Za,2,0,"span",35),t.EFF(3),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(),t.SpI(" ",o.lastMonthPaid," "),t.R7$(),t.Y8G("ngIf",o.lastMonthPaid),t.R7$(),t.SpI(" ",o.lastYearPaid," ")}}function ei(e,i){1&e&&(t.j41(0,"span",45),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function ni(e,i){if(1&e){const o=t.RV6();t.j41(0,"tr")(1,"td",30),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG(3);return t.Njj(a.goToProfile(n.classroomId,n.id))}),t.nrm(2,"azt-student-info-box",31),t.k0s(),t.j41(3,"td",32),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",33)(7,"div",34),t.DNE(8,ti,4,3,"span",35)(9,ei,3,3,"span",36),t.j41(10,"button",37),t.nI1(11,"mytranslate"),t.nI1(12,"mytranslate"),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG(3);return t.Njj(a.openDialogCheckboxMonth(n))}),t.nrm(13,"lucide-icon",38),t.k0s()()(),t.j41(14,"td",39)(15,"div",40),t.EFF(16),t.nI1(17,"mytranslate"),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"td",39)(20,"div",40),t.EFF(21),t.nI1(22,"mytranslate"),t.nI1(23,"mytranslate"),t.k0s()(),t.j41(24,"td",33)(25,"div",41)(26,"input",42),t.bIt("change",function(n){const a=t.eBV(o).$implicit,l=t.XpG(3);return t.Njj(l.setAttendance("receivedDocument",a.id,n))}),t.k0s()()(),t.j41(27,"td",33)(28,"div",41)(29,"input",43),t.bIt("change",function(n){const a=t.eBV(o).$implicit,l=t.XpG(3);return t.Njj(l.setAttendance("absent",a.id,n))}),t.k0s()()(),t.j41(30,"td",33)(31,"textarea",44),t.nI1(32,"mytranslate"),t.bIt("input",function(n){const a=t.eBV(o).$implicit,l=t.XpG(3);return t.Njj(l.setReasonAttendance(a.id,n))}),t.k0s()()()}if(2&e){let o,s;const n=i.$implicit;t.R7$(2),t.Y8G("name",n.fullName)("avatar",n.avatar)("gender",n.gender)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt)("phone",n.phone)("identificationNumber",n.identificationNumber),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(5,30,n.identificationNumber,6):""),t.R7$(4),t.Y8G("ngIf",n.lastMonthPaid||n.lastYearPaid),t.R7$(),t.Y8G("ngIf",!n.lastMonthPaid||!n.lastYearPaid),t.R7$(),t.FCK("matTooltip","",t.bMT(11,33,"lang_cms_auto_gen_test_select")," ",t.bMT(12,35,"lang_auto_month"),""),t.R7$(4),t.Y8G("ngClass",n.totalRemainHomework>0||n.noHomework?"darkgray":n.finishHomework?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(18,39,n.totalRemainHomework>0?t.bMT(17,37,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainHomework.toString()+")":n.noHomework?"lang_auto_hoan_thanh":n.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(3),t.Y8G("ngClass",n.totalRemainExam>0||n.noExam?"darkgray":n.finishExam?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(23,43,n.totalRemainExam>0?t.bMT(22,41,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainExam.toString()+")":n.noExam?"lang_auto_hoan_thanh":n.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(5),t.Y8G("id","received_document_"+n.id)("checked",null!==(o=null==n.attendance?null:n.attendance.receivedDocument)&&void 0!==o?o:0),t.R7$(3),t.Y8G("id","absent_"+n.id)("checked",null!==(s=null==n.attendance?null:n.attendance.absent)&&void 0!==s?s:0),t.R7$(2),t.FS9("placeholder",t.bMT(32,45,"lang_business_reason_for_leave")),t.Y8G("id","attendance_reason_"+n.id)("disabled",!(null!=n.attendance&&n.attendance.absent))("value",null==n.attendance?null:n.attendance.reason)}}function oi(e,i){if(1&e&&(t.j41(0,"div",22)(1,"table",23)(2,"thead")(3,"tr")(4,"th",24),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",25),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",26),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",27),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",28),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",26)(21,"div"),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",26),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"th",26),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,ni,33,47,"tr",29),t.k0s()()()),2&e){const o=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,11,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,13,"lang_auto_so_bao_danh")),t.R7$(3),t.Lme("",t.bMT(12,15,"lang_test_market_withdraw_time")," ",t.bMT(13,17,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.R7$(4),t.JRh(t.bMT(16,19,"lang_student_frontend_dashboard_homework")),t.R7$(3),t.JRh(t.bMT(19,21,"lang_auto_only_de_thi")),t.R7$(4),t.SpI(" ",t.bMT(23,23,"lang_core_da_phat")," "),t.R7$(2),t.SpI(" ",t.bMT(25,25,"lang_auto_tai_lieu")," "),t.R7$(3),t.SpI(" ",t.bMT(28,27,"lang_business_vang_mat")," "),t.R7$(3),t.JRh(t.bMT(31,29,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngForOf",o.listStudent)}}function si(e,i){if(1&e&&t.DNE(0,oi,34,31,"div",21),2&e){const o=t.XpG();t.Y8G("ngIf",o.listStudent.length>0)}}function ai(e,i){if(1&e){const o=t.RV6();t.j41(0,"azt-paging",49),t.bIt("goToPaginationPage",function(n){t.eBV(o);const a=t.XpG(2);return t.Njj(a.setPageStudent(n))}),t.k0s()}if(2&e){const o=t.XpG(2);t.Y8G("pageObj",o.pageObj)}}function ii(e,i){if(1&e&&(t.j41(0,"div",46),t.nrm(1,"div"),t.DNE(2,ai,1,1,"azt-paging",47),t.j41(3,"div",48),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.Y8G("ngIf",o.totalStudent>o.pageObj.pageSize),t.R7$(2),t.Lme("",o.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}let ri=(()=>{var e;class i extends g.H{openDialogCheckboxMonth(s){this.sAztDialogService.open(ie,{width:"454px",restoreFocus:!1,data:s.id}).afterClosed().subscribe(n=>{n&&this.getListStudent()})}goToProfile(s,n){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+s+"/"+n,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(s){var n="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,a="?page="+s+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(n,a),this.initStatusObj(),this.pageObj.setPageNumber(s),this.getListStudent()}onSearchBox(s){this.searchContentObj=s,this.setPageStudent(1)}setAttendance(s,n,a){var l=a.target,m=l.checked?1:0,_=this.listStudent.find(v=>v.id==n);if(_){var u=this.listAttendanceNew.find(F=>F.id==n);let v=document.getElementById("attendance_reason_"+n);"absent"==s?(_.attendance.absent=m,l.checked?_.attendance.receivedDocument=0:(_.attendance.reason="",v.value="")):(_.attendance.receivedDocument=m,l.checked&&(_.attendance.absent=0,_.attendance.reason="",v.value="")),u?(u.absent=_.attendance?.absent,u.receivedDocument=_.attendance?.receivedDocument,u.reason=v.value):this.listAttendanceNew.push({id:n,absent:_.attendance?.absent,receivedDocument:_.attendance?.receivedDocument,reason:v.value})}}setReasonAttendance(s,n){var a=n.target,l=this.listStudent.find(_=>_.id==s);if(l){var m=this.listAttendanceNew.find(_=>_.id==s);m?m.reason=a.value:this.listAttendanceNew.push({id:s,absent:l.attendance?.absent,receivedDocument:l.attendance?.receivedDocument,reason:a.value})}}saveAttendance(){this.isSave=!0;let s={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};if(0==this.listAttendanceNew.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAttendancesPost(s).subscribe(n=>{n.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(n=>{n?(n.list.forEach(a=>{a.attendance||(a.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:a.id,absent:0,permission:0,reason:""})},n.list),this.listStudent=n.list,this.totalStudent=n.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,f.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let s=this.commonService.getMyQueryParam("backto");this.backToLink=s||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(s,n,a){super(),this.activeRoute=s,this.studentService=n,this.sAztDialogService=a,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new mt.Z,this.pageObj=new ft.d(20)}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(S.nX),t.rXU(Ot.b),t.rXU(L.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-attendance-student"]],features:[t.Vt3],decls:23,vars:20,consts:[["doneLoading",""],[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"onSearch","isServerSearch","searchContentObj","placeholder"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"click","disabled"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-1"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],[3,"currentStatusObj"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["class","darkgray",4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"click","matTooltip"],["name","calendar-search","size","16"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"change","id","checked"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"change","id","checked"],["type","text",1,"form-control",2,"min-width","80px",3,"input","id","disabled","placeholder","value"],[1,"darkgray"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"goToPaginationPage","pageObj"]],template:function(s,n){if(1&s){const a=t.RV6();t.j41(0,"teacher-layout",1)(1,"div",2)(2,"div",3)(3,"h3",4),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,Qa,3,3,"div",5),t.k0s(),t.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"azt-search-box",9),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(m){return t.eBV(a),t.Njj(n.onSearchBox(m.searchObj))}),t.k0s()(),t.j41(12,"flexed-on-the-top",10)(13,"button",11),t.bIt("click",function(){return t.eBV(a),t.Njj(n.saveAttendance())}),t.DNE(14,Ha,1,0,"azt-loading-ui",12),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()(),t.j41(17,"div",13),t.DNE(18,Ka,3,3,"div",14)(19,qa,1,1,"azt-loading-effect",15)(20,si,1,1,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(22,ii,6,5,"div",16),t.k0s()}if(2&s){const a=t.sdS(21);t.Y8G("headerBackToLink",n.backToLink),t.R7$(4),t.JRh(t.bMT(5,14,"lang_student_attendance_student")),t.R7$(2),t.Y8G("ngIf",n.isMobileDevice&&n.listStudent.length>0),t.R7$(4),t.Y8G("isServerSearch",!0)("searchContentObj",n.searchContentObj)("placeholder",t.bMT(11,16,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(),t.Y8G("disabled",n.isSave),t.R7$(),t.Y8G("ngIf",n.isSave),t.R7$(),t.SpI(" ",t.bMT(16,18,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",0==n.listStudent.length&&0==n.totalStudent),t.R7$(),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a),t.R7$(3),t.Y8G("ngIf",n.totalStudent>0)}},dependencies:[r.YU,r.Sq,r.bT,B.oV,D.K,kt.q,w.R,Ce.$,H.W,_t.B,N.Q,k.WGl,h.wp,h.Po],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),i})();var li=d(12787);const yt=()=>[],ci=e=>({width:e});function di(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",11),2&e){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function mi(e,i){1&e&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_list_null")," "))}function _i(e,i){if(1&e&&(t.j41(0,"div",26)(1,"div",27)(2,"div",28,1),t.nrm(4,"img",29),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",30)(7,"div",31),t.EFF(8),t.k0s(),t.j41(9,"div",32),t.EFF(10),t.k0s()()()()),2&e){const o=i.$implicit,s=t.sdS(3);t.R7$(4),t.FS9("src",""!=o.iconLink&&o.iconLink?o.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.B4B),t.FS9("alt",t.bMT(5,6,"lang_core_anh_sach")),t.R7$(2),t.Y8G("ngStyle",t.eq3(8,ci,"calc(100% -  "+(s.offsetWidth+12)+"px)")),t.R7$(),t.FS9("matTooltip",o.name),t.R7$(),t.JRh(o.name),t.R7$(2),t.JRh(o.description)}}function ui(e,i){1&e&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function pi(e,i){1&e&&(t.j41(0,"div",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function gi(e,i){if(1&e&&(t.j41(0,"th",41)(1,"div",42),t.EFF(2),t.k0s()()),2&e){const o=i.$implicit;t.R7$(),t.FS9("matTooltip",o.name),t.R7$(),t.SpI(" ",o.name," ")}}function hi(e,i){if(1&e){const o=t.RV6();t.j41(0,"td",47)(1,"div",48)(2,"input",49),t.bIt("change",function(n){t.eBV(o);const a=t.XpG().$implicit,l=t.XpG(3);return t.Njj(l.setStatusBook(a,n))}),t.k0s()()()}if(2&e){let o;const s=i.$implicit,n=t.XpG().$implicit,a=t.XpG(3);t.R7$(2),t.Mz_("id","input-book-",s.id,""),t.Y8G("value",s.id)("checked",a.checkStatusDistribute(s,null!==(o=n.books)&&void 0!==o?o:t.lJ4(4,yt)))}}function fi(e,i){if(1&e){const o=t.RV6();t.j41(0,"tr")(1,"td",43),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG(3);return t.Njj(a.goToProfile(n.classroomId,n.id))}),t.nrm(2,"azt-student-info-box",44),t.k0s(),t.j41(3,"td",45),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.DNE(6,hi,3,5,"td",46),t.k0s()}if(2&e){let o;const s=i.$implicit,n=t.XpG(3);t.R7$(2),t.Y8G("name",s.fullName)("parentFullName",s.parentFullName)("parentId",s.parentId)("parentPhone",s.parentPhone)("avatar",s.avatar)("gender",s.gender)("hasUser",s.hasUser)("schoolName",s.schoolName)("classrooms",s.classrooms)("joinedAt",s.joinedAt)("phone",s.phone)("identificationNumber",s.identificationNumber),t.R7$(2),t.JRh(s.identificationNumber?t.i5U(5,14,s.identificationNumber,6):""),t.R7$(2),t.Y8G("ngForOf",null!==(o=null==n.listBook?null:n.listBook.list)&&void 0!==o?o:t.lJ4(17,yt))}}function bi(e,i){if(1&e&&(t.j41(0,"div",35)(1,"drag-scroll")(2,"table",36)(3,"thead")(4,"tr")(5,"th",37),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",38),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,gi,3,2,"th",39),t.k0s()(),t.j41(12,"tbody"),t.DNE(13,fi,7,18,"tr",40),t.k0s()()()()),2&e){let o;const s=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,4,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,6,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngForOf",null!==(o=null==s.listBook?null:s.listBook.list)&&void 0!==o?o:t.lJ4(8,yt)),t.R7$(2),t.Y8G("ngForOf",s.listStudent)}}function vi(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",51),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.search(n.searchContentObj))}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function Ci(e,i){if(1&e){const o=t.RV6();t.j41(0,"azt-paging",18),t.bIt("goToPaginationPage",function(n){t.eBV(o);const a=t.XpG(3);return t.Njj(a.setPageStudent(n))}),t.k0s()}if(2&e){const o=t.XpG(3);t.Y8G("pageObj",o.pageStudentObj)}}function xi(e,i){if(1&e&&(t.j41(0,"div",52),t.nrm(1,"div"),t.DNE(2,Ci,1,1,"azt-paging",53),t.j41(3,"div",54),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("ngIf",o.totalStudent>o.pageStudentObj.pageSize),t.R7$(2),t.Lme("",o.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}function ki(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",12)(1,"div",13),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,mi,3,3,"div",14),t.j41(5,"div",15),t.DNE(6,_i,11,10,"div",16),t.k0s(),t.j41(7,"div",17)(8,"azt-paging",18),t.bIt("goToPaginationPage",function(n){t.eBV(o);const a=t.XpG();return t.Njj(a.setPageBook(n))}),t.k0s()()(),t.DNE(9,ui,3,3,"div",19),t.j41(10,"div",20),t.DNE(11,pi,3,3,"div",21)(12,bi,14,9,"div",22)(13,vi,6,6,"div",23),t.k0s(),t.DNE(14,xi,6,5,"div",24)}if(2&e){let o;const s=t.XpG();t.R7$(2),t.JRh(t.bMT(3,9,"lang_core_thong_tin_sach")),t.R7$(2),t.Y8G("ngIf",!(null!=s.listBook&&s.listBook.list&&0!=(null==s.listBook?null:s.listBook.total)||""!=s.searchContentObj.searchContent)),t.R7$(2),t.Y8G("ngForOf",null!==(o=null==s.listBook?null:s.listBook.list)&&void 0!==o?o:t.lJ4(11,yt)),t.R7$(2),t.Y8G("pageObj",s.pageBookObj),t.R7$(),t.Y8G("ngIf",s.isMobileDevice&&s.listStudent.length>0),t.R7$(2),t.Y8G("ngIf",0==s.listStudent.length&&""==s.searchContentObj.searchContent),t.R7$(),t.Y8G("ngIf",s.listStudent.length>0),t.R7$(),t.Y8G("ngIf",0==s.listStudent.length&&""!=s.searchContentObj.searchContent),t.R7$(),t.Y8G("ngIf",s.totalStudent>0)}}let Si=(()=>{var e;class i extends g.H{setPageStudent(s){var n="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,a="?page="+s+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(n,a),this.initStatusObj(),this.pageStudentObj.setPageNumber(s),this.getListStudent()}goToProfile(s,n){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+s+"/"+n,"?backto="+encodeURIComponent("/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}search(s){this.searchContentObj=s,this.setPageStudent(1)}setPageBook(s){this.pageBookObj.setPageNumber(s),this.getBooks()}checkStatusDistribute(s,n){for(let a=0;a<n.length;a++)if(n[a].bookId==s.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBookObj.page,size:this.pageBookObj.pageSize,programId:this.programId}).subscribe(n=>{n?(this.listBook=n,this.pageBookObj.setTotalPages(this.listBook.total??0),this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(s,n){var a=n.target;if(a.checked){var l={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:s.id,bookId:Number(a.value),activate:a.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(l).subscribe(_=>{_.success||(document.getElementById("input-book-"+a.value).checked=!a.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var m={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:s.id,bookId:Number(a.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(m).subscribe(_=>{_.success||(document.getElementById("input-book-"+a.value).checked=!a.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudentObj.page,size:this.pageStudentObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(n=>{n?(this.listStudent=n.list,this.totalStudent=n.total??0,this.pageStudentObj.setTotalPages(this.totalStudent),this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,f.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudentObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let s=this.commonService.getMyQueryParam("backto");this.backLink=s||`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(s,n,a){super(),this.bookService=s,this.studentService=n,this.activeRoute=a,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.totalStudent=0,this.pageStudent=1,this.listStudent=[],this.searchContentObj=new mt.Z,this.pageBookObj=new ft.d(20),this.pageStudentObj=new ft.d(20)}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(li.l),t.rXU(Ot.b),t.rXU(S.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-distribute-documents"]],features:[t.Vt3],decls:14,vars:11,consts:[["doneLoading",""],["imageBook",""],[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"goToPaginationPage","pageObj"],["class","mt-5",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-5"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"change","id","value","checked"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(s,n){if(1&s){const a=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"azt-search-box",9),t.nI1(10,"mytranslate"),t.bIt("onSearch",function(m){return t.eBV(a),t.Njj(n.search(m.searchObj))}),t.k0s()()()()(),t.DNE(11,di,1,1,"azt-loading-effect",10)(12,ki,15,12,"ng-template",null,0,t.C5r),t.k0s()}if(2&s){const a=t.sdS(13);t.Y8G("headerBackToLink",n.backLink),t.R7$(4),t.JRh(t.bMT(5,7,"lang_student_distribute_books")),t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",n.searchContentObj),t.R7$(2),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[r.Sq,r.bT,r.B3,B.oV,D.K,kt.q,H.W,_t.B,N.Q,E.jd,E.Ew,h.wp,h.Po],styles:[".add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}"]}),i})();var Ii=d(19857);let ji=(()=>{var e;class i extends g.H{ngOnInit(){(0,f.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let s=this.commonService.getMyQueryParam("studentId"),n=this.commonService.getMyQueryParam("backTo");this.backToLink=s?"/admin/student/classroom-details/"+this.classroomId+"/4":n||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(s){super(),this.activeRoute=s,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(S.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-enter-score"]],features:[t.Vt3],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(s,n){1&s&&(t.j41(0,"teacher-layout",0),t.nrm(1,"app-table-score",1),t.k0s()),2&s&&(t.Y8G("headerBackToLink",n.backToLink),t.R7$(),t.Y8G("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",n.classroomId)("programId",n.programId)("sessionId",n.sessionId))},dependencies:[N.Q,Ii.g],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),i})();var Rt=d(43404),Ti=d(4375),Oi=d(43166);function yi(e,i){1&e&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function Ri(e,i){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const o=t.XpG(2);t.R7$(),t.SpI("- ",o.selectedYearValue+1,"")}}function Gi(e,i){if(1&e&&(t.j41(0,"mat-option",37),t.EFF(1),t.DNE(2,Ri,2,1,"span",38),t.k0s()),2&e){const o=i.$implicit,s=t.XpG();t.Y8G("value",o),t.R7$(),t.SpI(" ",o," "),t.R7$(),t.Y8G("ngIf",s.selectedYearValue==o)}}function Fi(e,i){1&e&&(t.j41(0,"div",39),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function Ei(e,i){if(1&e&&(t.j41(0,"span",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(),t.JRh(t.bMT(2,1,o.groupObj.name))}}function wi(e,i){if(1&e&&(t.j41(0,"span",45),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&e){const o=t.XpG().$implicit;t.FS9("matTooltip",t.bMT(1,2,o.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,o.groupObj.name))}}function Di(e,i){if(1&e&&(t.qex(0),t.j41(1,"div",40)(2,"mat-radio-button",41),t.DNE(3,Ei,3,3,"span",42),t.nI1(4,"mytranslate"),t.DNE(5,wi,4,6,"span",43),t.nI1(6,"mytranslate"),t.k0s()(),t.bVm()),2&e){const o=i.$implicit;t.R7$(2),t.Y8G("value",o.groupObj.id),t.R7$(),t.Y8G("ngIf",o.groupObj.name&&t.bMT(4,3,o.groupObj.name).length<15),t.R7$(2),t.Y8G("ngIf",o.groupObj.name&&t.bMT(6,5,o.groupObj.name).length>=15)}}function Mi(e,i){1&e&&(t.j41(0,"div",46),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function $i(e,i){if(1&e){const o=t.RV6();t.j41(0,"a",47),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_+_them_nhom")," "))}function zi(e,i){1&e&&(t.nrm(0,"input",48,2),t.nI1(2,"mytranslate")),2&e&&t.FS9("placeholder",t.bMT(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function Ni(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",49)(1,"button",50),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.createNewGroupOfClassroom())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",51),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.nrm(5,"lucide-icon",52),t.k0s()()}if(2&e){const o=t.XpG();t.R7$(),t.Y8G("disabled",o.form.controls.nameGroup.errors),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_tao_nhom")," ")}}function Ai(e,i){1&e&&(t.j41(0,"div",53),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function Pi(e,i){1&e&&t.nrm(0,"azt-loading-ui",56)}function Yi(e,i){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"button",54),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.saveClassroomObj(!1))}),t.DNE(2,Pi,1,0,"azt-loading-ui",55),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()}if(2&e){const o=t.XpG();t.R7$(),t.Y8G("disabled",o.statusObj.loading||o.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",o.statusObj.loading&&"save"==o.activeButton),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_button_save")," ")}}function Bi(e,i){1&e&&t.nrm(0,"azt-loading-ui",56)}function Li(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",57),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.updateClassroomObj())}),t.DNE(1,Bi,1,0,"azt-loading-ui",55),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("disabled",o.statusObj.loading||o.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_button_update")," ")}}function Vi(e,i){1&e&&t.nrm(0,"azt-loading-ui",56)}function Xi(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",58),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.saveClassroomObj(!0))}),t.DNE(1,Vi,1,0,"azt-loading-ui",55),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("disabled",o.statusObj.loading||o.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",o.statusObj.loading&&"save_and_close"==o.activeButton),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_core_luu_va_dong")," ")}}let xe=(()=>{var e;class i extends x._{closeDialog(){this.dialogRef.close(!!this.hasCreateNewStuff)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let s={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(s).subscribe(n=>{1==n.success?(this.hasCreateNewStuff=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(n.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(s){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=s}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let n=this.form.getRawValue().group;n=n!=this.fakeGroupValue?n:void 0;let a={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:n??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(a).subscribe(l=>{1==l.success?l.data?.isDuplicatedClassroomName?this.errorStatusObj(l.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}saveClassroomObj(s){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.initStatusObj(),this.activeButton=s?"save_and_close":"save";let a=this.form.getRawValue().group;a=a!=this.fakeGroupValue?a:void 0;let l={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:a};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(l).subscribe(m=>{if(1==m.success)if(m.data?.isDuplicatedClassroomName)this.errorStatusObj(m.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0);else{this.successStatusObj("lang_auto_them_lop_thanh_cong",!0);let _=m.data?.obj.id;if(s)return this.dialogRef.close(),void this.commonService.myNavigation(`/admin/student/classroom-details/${_}/0`);this.hasCreateNewStuff=!0,this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let s=(new Date).getFullYear();for(let m=s-20;m<=s+40;m++)this.years.push(m);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let n=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=n?parseInt(n??"",10):s;let a=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new c.gE({nameClass:new c.MJ(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[c.k0.required]}),nameGroup:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),group:new c.MJ(a,{nonNullable:!0,validators:[c.k0.required]}),year:new c.MJ(this.selectedYearValue,{nonNullable:!0,validators:[c.k0.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(s=>{1==s.success?(this.activeClassroomData=s?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(s.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(s,n,a){super(a,n),this.classroomGroupService=s,this.dialogRef=n,this.data=a,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewStuff=!1,this.activeButton="save",this.classroomObj=a.classroomObj,this.form=new c.gE({nameClass:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),nameGroup:new c.MJ("",{nonNullable:!0,validators:[c.k0.required]}),group:new c.MJ(0,{nonNullable:!0,validators:[c.k0.required]}),year:new c.MJ(0,{nonNullable:!0,validators:[c.k0.required]})}),this.dialogRef.backdropClick().subscribe(()=>{this.dialogRef.close(!!this.hasCreateNewStuff)})}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU($.kG),t.rXU(C.CP,8),t.rXU(C.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-create-or-classroom"]],features:[t.Vt3],decls:52,vars:41,consts:[["searchInListYear","searchInList"],["updateData",""],["nameGroup",""],[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["searchInList","","formControlName","year","id","year",3,"valueChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["name","x","size","16"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-2",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"click","disabled"]],template:function(s,n){if(1&s){const a=t.RV6();t.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"h3",7),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"azt-mat-dialog-content")(9,"div",8)(10,"div",9)(11,"label",10),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",11),t.nI1(15,"mytranslate"),t.DNE(16,yi,3,3,"div",12),t.k0s(),t.j41(17,"div",13)(18,"label",14),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"mat-form-field",15)(22,"mat-select",16,0),t.mxI("valueChange",function(m){return t.eBV(a),t.DH7(n.selectedYearValue,m)||(n.selectedYearValue=m),t.Njj(m)}),t.j41(24,"mat-option"),t.nrm(25,"ngx-mat-select-search",17),t.nI1(26,"mytranslate"),t.nI1(27,"mytranslate"),t.k0s(),t.DNE(28,Gi,3,3,"mat-option",18),t.k0s()(),t.DNE(29,Fi,3,3,"div",19),t.k0s(),t.j41(30,"div",20)(31,"div",21),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.j41(34,"div",22)(35,"mat-radio-group",23)(36,"div",24),t.DNE(37,Di,7,7,"ng-container",25),t.k0s()(),t.DNE(38,Mi,3,3,"div",26),t.j41(39,"div",27),t.DNE(40,$i,3,3,"a",28)(41,zi,3,3,"input",29)(42,Ni,6,4,"div",30),t.k0s(),t.DNE(43,Ai,3,3,"div",31),t.k0s()()()()(),t.j41(44,"div",32)(45,"button",33),t.bIt("click",function(){return t.eBV(a),t.Njj(n.closeDialog())}),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s(),t.DNE(48,Yi,5,5,"ng-container",34)(49,Li,4,5,"ng-template",null,1,t.C5r)(51,Xi,4,5,"button",35),t.k0s()()()}if(2&s){const a=t.sdS(23),l=t.sdS(50);t.R7$(),t.Y8G("formGroup",n.form),t.R7$(4),t.SpI(" ",n.classroomObj?t.bMT(7,25,"lang_student_classroom_list_utils_create_class_update_class"):t.bMT(6,23,"lang_student_classroom_list_utils_create_class_add_class")," "),t.R7$(7),t.SpI(" ",t.bMT(13,27,"lang_auto_ten_lop")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,29,"lang_auto_nhap_ten_lop")),t.R7$(2),t.Y8G("ngIf",n.form.controls.nameClass.dirty&&n.form.controls.nameClass.errors),t.R7$(3),t.SpI(" ",t.bMT(20,31,"lang_auto_nam_hoc")," "),t.R7$(3),t.R50("value",n.selectedYearValue),t.R7$(3),t.FS9("placeholderLabel",t.bMT(26,33,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(27,35,"lang_search_not_found")),t.Y8G("formControl",a.searchControl),t.R7$(3),t.Y8G("ngForOf",a.filter(n.years,void 0)),t.R7$(),t.Y8G("ngIf",n.form.controls.year.dirty&&n.form.controls.year.errors),t.R7$(3),t.SpI(" ",t.bMT(33,37,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.R7$(5),t.Y8G("ngForOf",n.activeClassroomData),t.R7$(),t.Y8G("ngIf",n.form.controls.group.dirty&&n.form.controls.group.errors),t.R7$(2),t.Y8G("ngIf",0==n.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",1==n.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",n.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",n.isShowCreateGroupOfClassroom&&n.form.controls.nameGroup.dirty&&n.form.controls.nameGroup.errors),t.R7$(3),t.JRh(t.bMT(47,39,"lang_button_cancel")),t.R7$(2),t.Y8G("ngIf",!n.classroomObj)("ngIfElse",l),t.R7$(3),t.Y8G("ngIf",!n.classroomObj)}},dependencies:[r.Sq,r.bT,It.wT,ce.rl,Rt.VT,Rt._g,Ti.VO,B.oV,c.qT,c.me,c.BC,c.cb,c.l_,c.j4,c.JD,Tt.t,ot.U,w.R,Oi.x,k.WGl,dt.U9,h.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),i})();var Ui=d(52509),Ji=d(7814);let ke=(()=>{var e;class i extends Ji.W{reloadClassrooms(s){this.typeFilter=s??"all",this.getClassroomObjs()}eventOfClassroomMenu(s){s&&this.getClassroomObjs()}updateGroupSuccessEvent(s){s&&this.getClassroomObjs()}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(s=>{s.success?(this.classroomGroupData=(this.isShowActiveClassroom?s?.data?.activeClassroomData:s?.data?.storageClassroomData)??[],this.totalStorageClassroom=this.commonService.concatMultipleArray(s?.data?.storageClassroomData?.map(n=>n.classroomObjs)??[]).length,this.isShowActiveClassroom||(this.classroomGroupData=this.classroomGroupData.filter(n=>n.classroomObjs.length>0)),this.initData(),this.successStatusObj()):this.errorStatusObj(s.message??"",!0)}))}constructor(){super(),this.typeFilter="all",this.classroomGroupService=(0,t.WQX)($.kG),this.isShowActiveClassroom=!1,this.totalStorageClassroom=0}}return(e=i).\u0275fac=function(s){return new(s||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-base-show-classrooms"]],features:[t.Vt3],decls:0,vars:0,template:function(s,n){},encapsulation:2}),i})();function Wi(e,i){1&e&&t.nrm(0,"azt-loading-ui",10)}let Qi=(()=>{var e;class i extends x._{closeDialog(s){this.dialogRef.close(s)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClassroomToGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(s=>{1==s.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(n=>{1==n.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(s,n,a){super(a,n),this.classroomGroupService=s,this.dialogRef=n,this.data=a,this.classroomObj=a.classroomObj}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU($.kG),t.rXU(C.CP,8),t.rXU(C.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-teacher-delete-classroom"]],features:[t.Vt3],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s()()()()(),t.j41(10,"div",6)(11,"button",7),t.bIt("click",function(){return n.closeDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",8),t.bIt("click",function(){return n.deleteClassroomObj()}),t.DNE(15,Wi,1,0,"azt-loading-ui",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(5),t.Lme(" ",n.classroomObj.isShareClassroom?t.bMT(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.bMT(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.R7$(4),t.JRh(n.classroomObj.name),t.R7$(3),t.SpI(" ",t.bMT(13,11,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==n.statusObj.loading),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(17,13,"lang_button_delete")," "))},dependencies:[r.bT,w.R,h.wp],encapsulation:2}),i})();function Hi(e,i){1&e&&t.nrm(0,"azt-loading-ui")}function Ki(e,i){if(1&e&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const o=t.XpG(3).$implicit;t.R7$(),t.JRh(t.bMT(2,1,o.groupObj.name))}}function qi(e,i){if(1&e&&(t.j41(0,"span",23),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&e){const o=t.XpG(3).$implicit;t.FS9("matTooltip",t.bMT(1,2,o.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,o.groupObj.name))}}function Zi(e,i){if(1&e&&(t.j41(0,"mat-radio-button",19),t.DNE(1,Ki,3,3,"span",20)(2,qi,4,6,"span",21),t.k0s()),2&e){const o=t.XpG(2).$implicit;t.Y8G("value",o.groupObj.id),t.R7$(),t.Y8G("ngIf",o.groupObj.name&&o.groupObj.name.length<15),t.R7$(),t.Y8G("ngIf",o.groupObj.name&&o.groupObj.name.length>=15)}}function tr(e,i){if(1&e&&(t.j41(0,"div",17),t.DNE(1,Zi,3,3,"mat-radio-button",18),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",null!=o.groupObj)}}function er(e,i){1&e&&(t.j41(0,"div",24)(1,"mat-radio-button",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(),t.Y8G("value",0),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_classroom_list_other")," "))}function nr(e,i){if(1&e&&(t.qex(0),t.DNE(1,tr,2,1,"div",15)(2,er,4,4,"div",16),t.bVm()),2&e){const o=i.$implicit;t.R7$(),t.Y8G("ngIf",null!=o.groupObj),t.R7$(),t.Y8G("ngIf",null==o.groupObj)}}function or(e,i){1&e&&t.nrm(0,"azt-loading-ui",25)}let sr=(()=>{var e;class i extends x._{closeDialog(){this.dialogRef.close()}chooseGroup(){let s=this.form.getRawValue();this.groupId=s.groupId!=this.fakeGroupValue?s.groupId:void 0}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(n=>{1==n.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(s=>{if(1==s.success){for(var n of(this.activeClassroomData=s?.data?.activeClassroomData??[],this.activeClassroomData))n.classroomObjs.find(m=>m.id==this.classId)&&(this.form=new c.gE({groupId:new c.MJ(n.groupObj.id,{nonNullable:!0,validators:[c.k0.required]})}));this.successStatusObj()}else this.errorStatusObj(s.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(s,n,a){super(a,n),this.classroomGroupService=s,this.dialogRef=n,this.data=a,this.classId=0,this.fakeGroupValue=-2,this.classId=a.classId,this.form=new c.gE({groupId:new c.MJ(void 0,{nonNullable:!0,validators:[c.k0.required]})})}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU($.kG),t.rXU(C.CP,8),t.rXU(C.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-move-classroom-to-group"]],features:[t.Vt3],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],[4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"mr-1"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.DNE(10,Hi,1,0,"azt-loading-ui",7),t.j41(11,"mat-radio-group",8),t.bIt("change",function(){return n.chooseGroup()}),t.j41(12,"div",9),t.DNE(13,nr,3,2,"ng-container",10),t.k0s()()()()()(),t.j41(14,"div",11)(15,"button",12),t.bIt("click",function(){return n.closeDialog()}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",13),t.bIt("click",function(){return n.updateClassroomToGroup()}),t.DNE(19,or,1,0,"azt-loading-ui",14),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()),2&s&&(t.R7$(),t.Y8G("formGroup",n.form),t.R7$(4),t.SpI(" ",t.bMT(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.R7$(5),t.Y8G("ngIf",n.statusObj.loading),t.R7$(3),t.Y8G("ngForOf",n.activeClassroomData),t.R7$(3),t.JRh(t.bMT(17,10,"lang_button_cancel")),t.R7$(2),t.Y8G("disabled",n.form.controls.groupId.errors),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(21,12,"lang_button_update")," "))},dependencies:[r.Sq,r.bT,Rt.VT,Rt._g,B.oV,c.qT,c.BC,c.cb,c.j4,c.JD,Tt.t,ot.U,w.R,h.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),i})();const ar=e=>[e],ir=()=>({"text-slate-500":!0}),q=()=>({"mr-2":!0});function rr(e,i){1&e&&(t.j41(0,"div",15)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_homework_add_home_work_share")))}function lr(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",16)(1,"a",17),t.bIt("click",function(n){return t.eBV(o),t.Njj(n.preventDefault())}),t.nrm(2,"lucide-icon",18),t.k0s()()}if(2&e){t.XpG();const o=t.sdS(17);t.R7$(),t.Y8G("matMenuTriggerFor",o),t.R7$(),t.Y8G("ngClass",t.lJ4(2,ir))}}function cr(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"a",19),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.editClassroomDialog())}),t.nrm(2,"lucide-icon",20),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,q)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_sua_lop")," "))}function dr(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"a",21),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.copyClassroomObj())}),t.nrm(2,"lucide-icon",22),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,q)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_nhan_ban_lop")," "))}function mr(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"a",23),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.moveClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,q)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function _r(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"a",25),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.moveSharedClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,q)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function ur(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"a",26),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.moveClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,q)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function pr(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.moveSharedClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,q)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function gr(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.updateClassroom())}),t.nrm(2,"lucide-icon",29),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,q)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_core_sua_di_chuyen")," "))}function hr(e,i){if(1&e){const o=t.RV6();t.j41(0,"li")(1,"a",30),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.deleteClassroomDialog())}),t.nrm(2,"lucide-icon",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,q)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_xoa_lop")," "))}let Se=(()=>{var e;class i extends g.H{goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(sr,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(n=>{n&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(s=>{1==s.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(n.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(s=>{1==s.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(n.message??"")})}editClassroomDialog(){this.sAztDialogService.open(xe,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(n=>{n&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(Qi,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(n=>{n&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(s=>{1==s.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit(),this.programId=this.commonService.getMyQueryParam("programId")}constructor(s,n,a){super(),this.classroomGroupService=s,this.permissionTeamService=n,this.sAztDialogService=a,this.eventOfClassroomMenu=new t.bkB,this.screenTemplate=""}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU($.kG),t.rXU($.km),t.rXU(L.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.Vt3],decls:31,vars:36,consts:[["c","isDisabled"],["classroomMenuBox",""],[1,"relative"],["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","cursor-pointer","block",2,"background","#eee",3,"routerLink"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["class","ml-auto absolute top-0 right-0","style","margin: 15px",4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ribbon"],[1,"ml-auto","absolute","top-0","right-0",2,"margin","15px"],["azt-track-service","information-class-box-tDPvhBl5vWp",1,"clickable","flex","items-center","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"click","matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["name","copy","size","16",3,"ngClass"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["name","database","size","16",3,"ngClass"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["name","timer-reset","size","16",3,"ngClass"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["name","shuffle","size","16",3,"ngClass"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["name","trash","size","16",3,"ngClass"]],template:function(s,n){if(1&s&&(t.j41(0,"div",2)(1,"a",3),t.nI1(2,"navigationLocalize"),t.j41(3,"div",4)(4,"a",5,0),t.EFF(6),t.k0s()(),t.j41(7,"div",6)(8,"div",7),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.DNE(14,rr,4,3,"div",9),t.k0s(),t.DNE(15,lr,3,3,"div",10),t.k0s(),t.j41(16,"mat-menu",11,1)(18,"div",12)(19,"ul",13),t.DNE(20,cr,5,5,"li",14),t.nI1(21,"editPermission"),t.DNE(22,dr,5,5,"li",14),t.nI1(23,"fullPermission"),t.DNE(24,mr,5,5,"li",14)(25,_r,5,5,"li",14)(26,ur,5,5,"li",14)(27,pr,5,5,"li",14)(28,gr,5,5,"li",14)(29,hr,5,5,"li",14),t.nI1(30,"deletePermission"),t.k0s()()()),2&s){const a=t.sdS(5);t.R7$(),t.Y8G("routerLink",t.eq3(34,ar,t.bMT(2,19,"/admin/student/classroom-details/"+n.classroomObj.id+(n.programId?"/3":"/0")))),t.R7$(3),t.FS9("matTooltip",n.classroomObj.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.R7$(2),t.SpI(" ",n.classroomObj.name," "),t.R7$(3),t.Lme("",t.bMT(10,21,"lang_auto_si_so"),": ",n.classroomObj.countStudents,""),t.R7$(3),t.Lme("",t.bMT(13,23,"lang_auto_nam_hoc"),": ",n.classroomObj.year,""),t.R7$(2),t.Y8G("ngIf",n.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf",n.classroomObj.permissionObj),t.R7$(5),t.Y8G("ngIf",""==n.screenTemplate&&t.i5U(21,25,n.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==n.screenTemplate&&t.i5U(23,28,n.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==n.screenTemplate&&!n.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf",""==n.screenTemplate&&n.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf","storage"==n.screenTemplate),t.R7$(),t.Y8G("ngIf","showListPeopleWhoWillShare"==n.screenTemplate),t.R7$(),t.Y8G("ngIf",""==n.screenTemplate&&n.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf",t.i5U(30,31,n.classroomObj,"classroom"))}},dependencies:[r.YU,r.bT,A.kk,A.Cp,B.oV,S.Wk,k.WGl,vt.f,h.F2,h.wp,h.gC,h.FV,h.AJ],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00,#68cc009c);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]}),i})();function fr(e,i){1&e&&t.nrm(0,"azt-loading-ui",10)}let br=(()=>{var e;class i extends x._{closeDialog(s){this.dialogRef.close(s)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(s=>{1==s.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(s.message??"",!0),this.dialogRef.close())}))}constructor(s,n,a){super(a,n),this.classroomGroupService=s,this.dialogRef=n,this.data=a,this.currentGroupOfClassroomDataThatIsEdited=a.groupObj}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU($.kG),t.rXU(C.CP,8),t.rXU(C.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-delete-group"]],features:[t.Vt3],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"span",5),t.EFF(8),t.k0s()()()()(),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return n.closeDialog(!1)}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.bIt("click",function(){return n.deleteGroupOfClassroom()}),t.DNE(14,fr,1,0,"azt-loading-ui",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(5),t.SpI(" ",t.bMT(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.R7$(3),t.JRh(null==n.currentGroupOfClassroomDataThatIsEdited?null:n.currentGroupOfClassroomDataThatIsEdited.name),t.R7$(3),t.SpI(" ",t.bMT(12,8,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==n.statusObj.loading),t.R7$(),t.Y8G("ngIf",n.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(16,10,"lang_button_delete")," "))},dependencies:[r.bT,w.R,h.wp],encapsulation:2}),i})();const Ie=()=>({"mr-2":!0});function vr(e,i){if(1&e){const o=t.RV6();t.j41(0,"button",26),t.bIt("click",function(n){return t.eBV(o),t.Njj(n.stopPropagation())}),t.nrm(1,"lucide-icon",27),t.k0s()}if(2&e){t.XpG();const o=t.sdS(11);t.Y8G("matMenuTriggerFor",o)}}function Cr(e,i){1&e&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_enter_name_group")," "))}let je=(()=>{var e;class i extends g.H{collapseByGroupId(s){this.collapseByGroupIdEvent.emit(s)}deleteGroupDialog(){this.sAztDialogService.open(br,{width:"400px",data:{groupObj:this.groupObj},restoreFocus:!1}).afterClosed().subscribe(n=>{n&&this.updateGroupSuccessEvent.emit(!0)})}updateGroupOfClassroom(s){if(""!=s.trim()){var n={groupId:this.groupObj?.id??0,name:s};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(n).subscribe(a=>{1==a.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.updateGroupSuccessEvent.emit(!0)):this.errorStatusObj(a.message??"",!0)}))}}constructor(s,n){super(),this.classroomGroupService=s,this.sAztDialogService=n,this.updateGroupSuccessEvent=new t.bkB,this.collapseByGroupIdEvent=new t.bkB}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU($.kG),t.rXU(L.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-teacher-classroom-show-group-box"]],inputs:{groupObj:"groupObj",isOwned:"isOwned"},outputs:{updateGroupSuccessEvent:"updateGroupSuccessEvent",collapseByGroupIdEvent:"collapseByGroupIdEvent"},features:[t.Vt3],decls:43,vars:35,consts:[["menu","matMenu"],["matMenuGroupOfClassroom",""],["nameGroup",""],[1,"flex","items-center"],[1,"text-lg","font-medium","truncate","mr-3"],["azt-track-service","azt-list-classroom-view-mpTg8jgQkF",1,"flex","items-center","clickable",3,"click"],[3,"name","size"],[1,"font-medium","truncate"],[1,"dropdown"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click","matMenuTriggerFor"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","16",3,"ngClass"],["xPosition","after"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"click","disabled"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"click","matMenuTriggerFor"],["name","ellipsis-vertical","size","16"],[1,"alert","alert-danger","p-1","mt-2"]],template:function(s,n){if(1&s){const a=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"span",5),t.bIt("click",function(){return t.eBV(a),t.Njj(n.collapseByGroupId(n.groupObj))}),t.nrm(3,"lucide-icon",6),t.j41(4,"h2",7),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()()(),t.j41(8,"div",8),t.DNE(9,vr,2,1,"button",9),t.j41(10,"mat-menu",null,0)(12,"div",10)(13,"button",11),t.bIt("click",function(m){return t.eBV(a),t.Njj(m.stopPropagation())}),t.nrm(14,"lucide-icon",12),t.j41(15,"span"),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"button",13),t.bIt("click",function(){return t.eBV(a),t.Njj(n.deleteGroupDialog())}),t.nrm(19,"lucide-icon",14),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()()()()(),t.j41(23,"mat-menu",15,1)(25,"div",16)(26,"div",17)(27,"div",18)(28,"h2",19),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"div",20),t.bIt("click",function(m){return t.eBV(a),t.Njj(m.stopPropagation())}),t.nrm(32,"input",21,2),t.nI1(34,"mytranslate"),t.DNE(35,Cr,3,3,"div",22),t.k0s(),t.j41(36,"div",23)(37,"button",24),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s(),t.j41(40,"button",25),t.bIt("click",function(){t.eBV(a);const m=t.sdS(33);return t.Njj(n.updateGroupOfClassroom(m.value))}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s()()()()()()}if(2&s){const a=t.sdS(24),l=t.sdS(33);t.R7$(3),t.Y8G("name",n.groupObj.isExpand?"chevron-down":"chevron-right")("size",24),t.R7$(2),t.Lme("",t.bMT(6,17,n.groupObj.name)," ","("+n.groupObj.totalViewClassrooms+" "+t.bMT(7,19,"lang_testbank_test_list_classes")+")",""),t.R7$(4),t.Y8G("ngIf",n.groupObj.id>0&&n.isOwned),t.R7$(4),t.Y8G("matMenuTriggerFor",a),t.R7$(),t.Y8G("ngClass",t.lJ4(33,Ie)),t.R7$(2),t.JRh(t.bMT(17,21,"lang_button_edit")),t.R7$(3),t.Y8G("ngClass",t.lJ4(34,Ie)),t.R7$(2),t.JRh(t.bMT(22,23,"lang_button_delete")),t.R7$(8),t.JRh(t.bMT(30,25,"lang_student_classroom_list_update_group")),t.R7$(3),t.FS9("value",n.groupObj.name),t.FS9("placeholder",t.bMT(34,27,"lang_auto_nhap_ten_nhom")),t.R7$(3),t.Y8G("ngIf",""==l.value.trim()),t.R7$(3),t.SpI(" ",t.bMT(39,29,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",""==l.value.trim()),t.R7$(),t.SpI(" ",t.bMT(42,31,"lang_student_classroom_list_update")," ")}},dependencies:[r.YU,r.bT,A.kk,A.Cp,k.WGl,h.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),i})();const xr=e=>[e];function kr(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function Sr(e,i){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",18)(2,"azt-information-class-box",19),t.bIt("eventOfClassroomMenu",function(n){t.eBV(o);const a=t.XpG(5);return t.Njj(a.eventOfClassroomMenu(n))}),t.k0s()(),t.bVm()}if(2&e){const o=i.$implicit;t.R7$(),t.Y8G("hidden",!o.isShowClassroom),t.R7$(),t.Y8G("classroomObj",o)}}function Ir(e,i){if(1&e&&(t.j41(0,"div",17),t.DNE(1,Sr,3,2,"ng-container",9),t.k0s()),2&e){const o=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngForOf",o.classroomObjs)}}function jr(e,i){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function Tr(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",12)(1,"app-teacher-classroom-show-group-box",13),t.bIt("updateGroupSuccessEvent",function(n){t.eBV(o);const a=t.XpG(3);return t.Njj(a.updateGroupSuccessEvent(n))})("collapseByGroupIdEvent",function(){t.eBV(o);const n=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.collapseByGroupId(n.groupObj))}),t.k0s(),t.j41(2,"div",14),t.DNE(3,Ir,2,1,"div",15)(4,jr,3,3,"div",16),t.k0s()()}if(2&e){const o=t.XpG().$implicit;t.R7$(),t.Y8G("groupObj",o.groupObj)("isOwned",o.isOwned),t.R7$(),t.Y8G("hidden",!o.groupObj.isExpand),t.R7$(),t.Y8G("ngIf",o.classroomObjs.length),t.R7$(),t.Y8G("ngIf",0==o.classroomObjs.length)}}function Or(e,i){if(1&e&&(t.j41(0,"div"),t.DNE(1,Tr,5,5,"div",11),t.k0s()),2&e){const o=i.$implicit;t.R7$(),t.Y8G("ngIf",o.groupObj.isShowGroup)}}function yr(e,i){if(1&e&&(t.j41(0,"div",21),t.nI1(1,"navigationLocalize"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&e){const o=t.XpG(2);t.Y8G("routerLink",t.eq3(7,xr,t.bMT(1,3,"/admin/student/manage-classroom/1"))),t.R7$(2),t.Lme(" ",t.bMT(3,5,"lang_student_classroom_list_storage")," (",o.totalStorageClassroom,") ")}}function Rr(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.nI1(3,"mytranslate"),t.bIt("onSearch",function(n){t.eBV(o);const a=t.XpG();return t.Njj(a.searchByName(n.searchObj))}),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.collapseAll(!n.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,Or,2,1,"div",9)(7,yr,4,9,"div",10)}if(2&e){const o=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,5,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",o.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(),t.Y8G("ngForOf",o.viewClassroomGroupObjs),t.R7$(),t.Y8G("ngIf",o.totalStorageClassroom)}}let Gr=(()=>{var e;class i extends ke{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!0}}return(e=i).\u0275fac=function(s){return new(s||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-teacher-active-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[["doneLoading",""],[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"onSearch","isServerSearch","placeholder"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer",3,"routerLink",4,"ngIf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"updateGroupSuccessEvent","collapseByGroupIdEvent","groupObj","isOwned"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"eventOfClassroomMenu","classroomObj"],[1,"text-center","col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer",3,"routerLink"]],template:function(s,n){if(1&s&&(t.j41(0,"div",1),t.DNE(1,kr,1,1,"azt-loading-effect",2)(2,Rr,8,7,"ng-template",null,0,t.C5r),t.k0s()),2&s){const a=t.sdS(3);t.R7$(),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[S.Wk,r.Sq,r.bT,D.K,Se,H.W,k.WGl,je,h.F2,h.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),i})();function Fr(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function Er(e,i){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",17)(2,"azt-information-class-box",18),t.bIt("eventOfClassroomMenu",function(n){t.eBV(o);const a=t.XpG(5);return t.Njj(a.eventOfClassroomMenu(n))}),t.k0s()(),t.bVm()}if(2&e){const o=i.$implicit;t.R7$(),t.Y8G("hidden",!o.isShowClassroom),t.R7$(),t.Y8G("classroomObj",o)("screenTemplate","storage")}}function wr(e,i){if(1&e&&(t.j41(0,"div",16),t.DNE(1,Er,3,3,"ng-container",9),t.k0s()),2&e){const o=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngForOf",o.classroomObjs)}}function Dr(e,i){1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function Mr(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",11)(1,"app-teacher-classroom-show-group-box",12),t.bIt("updateGroupSuccessEvent",function(n){t.eBV(o);const a=t.XpG(3);return t.Njj(a.updateGroupSuccessEvent(n))})("collapseByGroupIdEvent",function(){t.eBV(o);const n=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.collapseByGroupId(n.groupObj))}),t.k0s(),t.j41(2,"div",13),t.DNE(3,wr,2,1,"div",14)(4,Dr,3,3,"div",15),t.k0s()()}if(2&e){const o=t.XpG().$implicit;t.R7$(),t.Y8G("groupObj",o.groupObj)("isOwned",o.isOwned),t.R7$(),t.Y8G("hidden",!o.groupObj.isExpand),t.R7$(),t.Y8G("ngIf",o.classroomObjs.length),t.R7$(),t.Y8G("ngIf",0==o.classroomObjs.length)}}function $r(e,i){if(1&e&&(t.j41(0,"div"),t.DNE(1,Mr,5,5,"div",10),t.k0s()),2&e){const o=i.$implicit;t.R7$(),t.Y8G("ngIf",o.groupObj.isShowGroup)}}function zr(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.nI1(3,"mytranslate"),t.bIt("onSearch",function(n){t.eBV(o);const a=t.XpG();return t.Njj(a.searchByName(n.searchObj))}),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.collapseAll(!n.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,$r,2,1,"div",9)}if(2&e){const o=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,4,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",o.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(),t.Y8G("ngForOf",o.viewClassroomGroupObjs)}}let Nr=(()=>{var e;class i extends ke{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!1}}return(e=i).\u0275fac=function(s){return new(s||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-teacher-archive-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[["doneLoading",""],[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"onSearch","isServerSearch","placeholder"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"updateGroupSuccessEvent","collapseByGroupIdEvent","groupObj","isOwned"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"eventOfClassroomMenu","classroomObj","screenTemplate"],[1,"text-center","col-span-12","p-2"]],template:function(s,n){if(1&s&&(t.j41(0,"div",1),t.DNE(1,Fr,1,1,"azt-loading-effect",2)(2,zr,7,6,"ng-template",null,0,t.C5r),t.k0s()),2&s){const a=t.sdS(3);t.R7$(),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[r.Sq,r.bT,D.K,Se,H.W,k.WGl,je,h.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),i})();const Ar=["childActiveClassrooms"],Pr=["childArchiveClassrooms"],U=()=>({"mr-2":!0}),Te=()=>[],Jt=()=>({"ml-1":!0});function Yr(e,i){1&e&&(t.j41(0,"span",34),t.EFF(1,"1"),t.k0s())}function Br(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",35),2&e){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function Lr(e,i){1&e&&(t.qex(0),t.nrm(1,"app-teacher-active-classrooms",37,4),t.bVm()),2&e&&(t.R7$(),t.Y8G("classroomGroupData",t.lJ4(1,Te)))}function Vr(e,i){1&e&&t.nrm(0,"app-teacher-archive-classrooms",37,5),2&e&&t.Y8G("classroomGroupData",t.lJ4(1,Te))}function Xr(e,i){if(1&e&&(t.j41(0,"div"),t.DNE(1,Lr,3,2,"ng-container",36)(2,Vr,2,2,"ng-template",null,3,t.C5r),t.k0s()),2&e){const o=t.sdS(3),s=t.XpG();t.R7$(),t.Y8G("ngIf",s.isShowActiveClassroom)("ngIfElse",o)}}function Ur(e,i){1&e&&t.nrm(0,"lucide-icon",38),2&e&&t.Y8G("ngClass",t.lJ4(1,Jt))}function Jr(e,i){1&e&&t.nrm(0,"lucide-icon",38),2&e&&t.Y8G("ngClass",t.lJ4(1,Jt))}function Wr(e,i){1&e&&t.nrm(0,"lucide-icon",38),2&e&&t.Y8G("ngClass",t.lJ4(1,Jt))}let Qr=(()=>{var e;class i extends g.H{changeFilter(s){this.typeFilter=s,this.viewActiveClassrooms?.reloadClassrooms(this.typeFilter),this.viewArchiveClassrooms?.reloadClassrooms(this.typeFilter)}createClassroomDialog(){this.sAztDialogService.open(xe,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(n=>{n&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(p,{restoreFocus:!1}).afterClosed().subscribe(n=>{n&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}openDialogAutomaticIdentification(){this.sAztDialogService.open(re.O,{data:{needGetClassroomGroups:!0,type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(s=>{s&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}ngOnInit(){this.waitDestroy((0,f.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var s=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.isShowActiveClassroom="0"==s;let n=this.commonService.getMyQueryParam("programId");this.backToLink=n&&""!=n?"/business/educational-program/"+n:this.isShowActiveClassroom?"/admin/dashboard":"/admin/student/manage-classroom/0"})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(s,n,a){super(),this.activeRoute=s,this.sAztDialogService=n,this.mobileWebviewService=a,this.backToLink="",this.typeFilter="all",this.isShowActiveClassroom=!1}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(S.nX),t.rXU(L.i),t.rXU(Ui.f))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-teacher-classroom"]],viewQuery:function(s,n){if(1&s&&(t.GBs(Ar,5),t.GBs(Pr,5)),2&s){let a;t.mGM(a=t.lsd())&&(n.viewActiveClassrooms=a.first),t.mGM(a=t.lsd())&&(n.viewArchiveClassrooms=a.first)}},features:[t.Vt3],decls:69,vars:59,consts:[["doneLoading",""],["menuClassList","matMenu"],["menuFilter","matMenu"],["showArchiveBox",""],["childActiveClassrooms",""],["childArchiveClassrooms",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["name","plus","size","16",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],["name","plus","size","16"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","16",3,"ngClass"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["xPosition","before"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["name","rows-4","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","user-check","size","16",3,"ngClass"],["name","tags","size","16",3,"ngClass"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[3,"classroomGroupData"],["name","check","size","16",3,"ngClass"]],template:function(s,n){if(1&s){const a=t.RV6();t.j41(0,"teacher-layout",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h3",10),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",11)(9,"button",12),t.bIt("click",function(){return t.eBV(a),t.Njj(n.createClassroomDialog())}),t.nrm(10,"lucide-icon",13),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",14),t.nrm(14,"lucide-icon",15),t.k0s(),t.j41(15,"button",16),t.bIt("click",function(){return t.eBV(a),t.Njj(n.createClassroomForNewCourseDialog())}),t.nrm(16,"lucide-icon",13),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"button",17),t.bIt("click",function(){return t.eBV(a),t.Njj(n.openDialogAutomaticIdentification())}),t.nrm(20,"lucide-icon",18),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"button",19),t.nrm(24,"lucide-icon",20),t.EFF(25),t.nI1(26,"mytranslate"),t.DNE(27,Yr,2,0,"span",21),t.k0s()()(),t.j41(28,"div",22)(29,"div",23),t.DNE(30,Br,1,1,"azt-loading-effect",24)(31,Xr,4,2,"ng-template",null,0,t.C5r),t.k0s()()()(),t.j41(33,"mat-menu",25,1)(35,"div",26)(36,"ul",27)(37,"li")(38,"button",28),t.bIt("click",function(){return t.eBV(a),t.Njj(n.createClassroomForNewCourseDialog())}),t.nrm(39,"lucide-icon",13),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s()(),t.j41(42,"li")(43,"button",29),t.bIt("click",function(){return t.eBV(a),t.Njj(n.openDialogAutomaticIdentification())}),t.nrm(44,"lucide-icon",18),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()()()()(),t.j41(47,"mat-menu",25,2)(49,"div",26)(50,"ul",27)(51,"li")(52,"button",28),t.bIt("click",function(){return t.eBV(a),t.Njj(n.changeFilter("all"))}),t.nrm(53,"lucide-icon",30),t.EFF(54),t.nI1(55,"mytranslate"),t.DNE(56,Ur,1,2,"lucide-icon",31),t.k0s()(),t.j41(57,"li")(58,"button",29),t.bIt("click",function(){return t.eBV(a),t.Njj(n.changeFilter("owner"))}),t.nrm(59,"lucide-icon",32),t.EFF(60),t.nI1(61,"mytranslate"),t.DNE(62,Jr,1,2,"lucide-icon",31),t.k0s()(),t.j41(63,"li")(64,"button",28),t.bIt("click",function(){return t.eBV(a),t.Njj(n.changeFilter("user"))}),t.nrm(65,"lucide-icon",33),t.EFF(66),t.nI1(67,"mytranslate"),t.DNE(68,Wr,1,2,"lucide-icon",31),t.k0s()()()()()}if(2&s){const a=t.sdS(32),l=t.sdS(34),m=t.sdS(48);t.Y8G("headerBackToLink",n.backToLink),t.R7$(5),t.SpI(" ",n.isShowActiveClassroom?t.bMT(6,28,"lang_student_classroom_list_header_title"):t.bMT(7,30,"lang_auto_kho_luu_tru")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(50,U)),t.R7$(),t.SpI(" ",t.bMT(12,32,"lang_student_classroom_list_create_class")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",l),t.R7$(3),t.Y8G("ngClass",t.lJ4(51,U)),t.R7$(),t.SpI(" ",t.bMT(18,34,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(52,U)),t.R7$(),t.SpI(" ",t.bMT(22,36,"lang_auto_danh_so_bao_danh")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",m),t.R7$(),t.Y8G("ngClass",t.lJ4(53,U)),t.R7$(),t.SpI(" ",t.bMT(26,38,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf","all"!=n.typeFilter),t.R7$(3),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a),t.R7$(9),t.Y8G("ngClass",t.lJ4(54,U)),t.R7$(),t.SpI(" ",t.bMT(41,40,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(55,U)),t.R7$(),t.SpI(" ",t.bMT(46,42,"lang_auto_danh_so_bao_danh")," "),t.R7$(8),t.Y8G("ngClass",t.lJ4(56,U)),t.R7$(),t.SpI(" ",t.bMT(55,44,"lang_homework_content_store_all")," "),t.R7$(2),t.Y8G("ngIf",""==n.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(57,U)),t.R7$(),t.SpI(" ",t.bMT(61,46,"lang_core_lop_cua_toi")," "),t.R7$(2),t.Y8G("ngIf","owner"==n.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(58,U)),t.R7$(),t.SpI(" ",t.bMT(67,48,"lang_auto_lop_duoc_chia_se")," "),t.R7$(2),t.Y8G("ngIf","user"==n.typeFilter)}},dependencies:[r.YU,r.bT,A.kk,A.Cp,D.K,N.Q,k.WGl,Gr,Nr,h.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),i})(),Hr=(()=>{var e;class i extends g.H{}return(e=i).\u0275fac=(()=>{let o;return function(n){return(o||(o=t.xGo(e)))(n||e)}})(),e.\u0275cmp=t.VBU({type:e,selectors:[["homework-master-page"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","student-layout"]],template:function(s,n){1&s&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[S.n3],encapsulation:2}),i})();function Kr(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h2",3),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"button",6),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.btnCloseDialog())}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"button",7),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.confirmQuit())}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&e){const o=t.XpG();t.R7$(3),t.SpI("",o.data.type&&"update_phone_student"==o.data.type?t.bMT(4,3,"lang_student_utils_confirm_merge_verifi")+"?":t.bMT(5,5,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.R7$(6),t.SpI(" ",t.bMT(10,7,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(13,9,"lang_cms_common_confirm_btn")," ")}}let qr=(()=>{var e;class i extends x._{confirmQuit(){this.dialogRef.close(!0)}btnCloseDialog(){this.dialogRef.close(!1)}constructor(s,n){super(n,s),this.dialogRef=s,this.data=n}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(C.CP,8),t.rXU(C.Vh))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-merge-student-confirm-box"]],features:[t.Vt3],decls:1,vars:1,consts:[["class","box",4,"ngIf"],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[1,"text-base","font-medium","mr-auto"],[1,"flex","justify-end","p-3"],[1,"azt-block-button"],["azt-track-service","confirm-merge-Yvv9eaXGFnm","matRipple","",1,"btn","min-width-100","btn-outline-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q","matRipple","",1,"btn","min-width-100","btn-primary",3,"click"]],template:function(s,n){1&s&&t.DNE(0,Kr,14,11,"div",0),2&s&&t.Y8G("ngIf",n.data)},dependencies:[r.bT,It.r6,h.wp],encapsulation:2}),i})();const Zr=e=>({"bg-success":e});function tl(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function el(e,i){if(1&e&&(t.j41(0,"div",21)(1,"b"),t.EFF(2),t.k0s()()),2&e){const o=t.XpG().$implicit,s=t.XpG(2);t.Y8G("ngClass",t.eq3(2,Zr,s.haveSelected(o))),t.R7$(2),t.JRh(o.fullName)}}function nl(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG(2);return t.Njj(a.selectObj(n))}),t.DNE(1,el,3,4,"div",20),t.k0s()}if(2&e){const o=i.$implicit,s=t.XpG(2);t.R7$(),t.Y8G("ngIf",!s.inMergeObjs(o))}}function ol(e,i){if(1&e){const o=t.RV6();t.j41(0,"div")(1,"div",22),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"b",23),t.EFF(5),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"b",23),t.EFF(9),t.k0s(),t.EFF(10," \xa0\xa0 "),t.j41(11,"span",24),t.bIt("click",function(){const n=t.eBV(o).index,a=t.XpG(2);return t.Njj(a.removeMergeArray(n))}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&e){const o=i.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_student_merge_student_merge_student")," "),t.R7$(3),t.JRh(null==o.from?null:o.from.fullName),t.R7$(),t.SpI(" ",t.bMT(7,7,"lang_student_merge_student_return")," "),t.R7$(3),t.JRh(null==o.to?null:o.to.fullName),t.R7$(3),t.JRh(t.bMT(13,9,"lang_auto_xoa"))}}function sl(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",22)(1,"div",26)(2,"b"),t.EFF(3),t.k0s(),t.j41(4,"button",27),t.bIt("click",function(){t.eBV(o);const n=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.revertStudent(n.id))}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&e){const o=t.XpG().$implicit;t.R7$(3),t.JRh(o.fullName),t.R7$(2),t.SpI(" ",t.bMT(6,2,"lang_button_revert")," ")}}function al(e,i){if(1&e&&(t.j41(0,"div"),t.DNE(1,sl,7,4,"div",25),t.k0s()),2&e){const o=i.$implicit,s=t.XpG(2);t.R7$(),t.Y8G("ngIf",!s.inMergeObjs(o))}}function il(e,i){if(1&e){const o=t.RV6();t.j41(0,"div",4)(1,"mat-tab-group",5)(2,"mat-tab",6),t.nI1(3,"mytranslate"),t.j41(4,"div",7)(5,"div",8)(6,"div",9),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,nl,2,1,"div",10),t.k0s(),t.j41(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",9),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.DNE(16,ol,14,11,"div",14),t.j41(17,"div",15)(18,"button",16),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.showConfirmBox())}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()()()(),t.j41(21,"mat-tab",6),t.nI1(22,"mytranslate"),t.j41(23,"div",17)(24,"div",18)(25,"div")(26,"div",15),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.DNE(29,al,2,1,"div",14),t.k0s()()()()()()}if(2&e){const o=t.XpG();t.R7$(),t.Y8G("selectedIndex",o.selectedIndex),t.R7$(),t.FS9("label",t.bMT(3,11,"lang_student_merge_student_lable")),t.R7$(5),t.SpI(" ",t.bMT(8,13,"lang_student_merge_student_required_click_merge")," "),t.R7$(2),t.Y8G("ngForOf",o.studentObjs),t.R7$(5),t.SpI(" ",t.bMT(15,15,"lang_student_merge_student_list_student_merge")," "),t.R7$(2),t.Y8G("ngForOf",o.studentMergeObjs),t.R7$(2),t.Y8G("disabled",o.studentMergeObjs&&o.studentMergeObjs.length<1),t.R7$(),t.SpI(" ",t.bMT(20,17,"lang_student_merge_student_start_merge_list")," "),t.R7$(2),t.FS9("label",t.bMT(22,19,"lang_student_merge_student_revert")),t.R7$(6),t.SpI(" ",t.bMT(28,21,"lang_student_merge_student_list_submitted")," "),t.R7$(2),t.Y8G("ngForOf",o.studentMergeListObjs)}}let rl=(()=>{var e;class i extends g.H{showConfirmBox(){this.sAztDialogService.open(qr,{data:this.confirmBox,width:"500px"}).afterClosed().subscribe(s=>{s&&this.sendToServer()})}inMergeObjs(s){let n=!1,a=this.studentMergeObjs?.length??0;for(let l=0;l<a;l++)(this.studentMergeObjs?.[l].from?.id==s.id||this.studentMergeObjs?.[l].to?.id==s.id)&&(n=!0);return n}haveSelected(s){let n=!1;for(let a=0;a<this.selectObjs.length;a++)this.selectObjs[a].id==s.id&&(n=!0);return n}selectObj(s){this.haveSelected(s)?this.selectObjs=[]:this.selectObjs.push(s),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(s){this.studentMergeObjs?.[s]&&this.studentMergeObjs.splice(s,1)}sendToServer(){const s=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let n=[],a=this.studentMergeObjs?.length??0;for(let u=0;u<a;u++){var l=this.studentMergeObjs?.[u].from?.id,m=this.studentMergeObjs?.[u].to?.id;l&&m&&n.push({fromId:l,toId:m})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:s,mergeObjs:n}).subscribe(u=>{1==u.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(u.message??"",!0)}))}getData(){this.initStatusObj();const s=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(s).subscribe(n=>{1==n.success?(this.studentObjs=this.sortService.sortFirstNameStudents(n?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const s=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(s).subscribe(n=>{1==n.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(n?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}revertStudent(s){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(s).subscribe(n=>{1==n.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(s,n,a,l,m){super(),this.activeRoute=s,this.studentService=n,this.mergeStudentService=a,this.sortService=l,this.sAztDialogService=m,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(S.nX),t.rXU(P.b0),t.rXU(P.$$),t.rXU(he.g),t.rXU(L.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-merge-student"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"click","disabled"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"]],template:function(s,n){if(1&s&&(t.j41(0,"teacher-layout",1),t.DNE(1,tl,1,1,"azt-loading-effect",2)(2,il,30,23,"ng-template",null,0,t.C5r),t.k0s()),2&s){const a=t.sdS(3);t.Y8G("headerBackToLink",n.backToLink),t.R7$(),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[r.YU,r.Sq,r.bT,jt.mq,jt.T8,D.K,N.Q,h.wp],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]}),i})();var ll=d(16583);function cl(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function dl(e,i){if(1&e&&t.nrm(0,"azt-student-profile",4),2&e){const o=t.XpG();t.Y8G("studentId",o.studentId)("select",o.select)("classroomId",o.classroomId)("backToLink",o.backToLink)("paramBackToLink",o.paramBackToLink)("classroomList",o.classroomList)("isTeacherDashboard",!0)}}let ml=(()=>{var e;class i extends g.H{getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(s=>{1===s.success?(this.classroomList=s.data?.objs??[],this.classroomList.find(n=>n.id+"-"+n.studentId==this.select.value)||this.select.setValue(""),this.successStatusObj()):this.errorStatusObj(s.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,f.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var s=this.commonService.getMyParam(this.activeRoute,"classroom_id"),n=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(s||"",10),this.studentId=parseInt(n||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??`/admin/student/classroom-details/${this.classroomId}/0`,this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.select.setValue(this.classroomId+"-"+this.studentId),this.getListClassroomByStudentId()}))}constructor(s,n,a){super(),this.sAztDialogService=s,this.activeRoute=n,this.studentProfileV2Service=a,this.select=new c.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[]}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(L.i),t.rXU(S.nX),t.rXU(P.m_))},e.\u0275cmp=t.VBU({type:e,selectors:[["student-profile"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"studentId","select","classroomId","backToLink","paramBackToLink","classroomList","isTeacherDashboard"]],template:function(s,n){if(1&s&&(t.j41(0,"teacher-layout",1),t.DNE(1,cl,1,1,"azt-loading-effect",2)(2,dl,1,7,"ng-template",null,0,t.C5r),t.k0s()),2&s){const a=t.sdS(3);t.Y8G("headerBackToLink",n.paramBackToLink),t.R7$(),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[r.bT,D.K,ll.x,N.Q],encapsulation:2}),i})();var _l=d(18586),ul=d(25898);function pl(e,i){1&e&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function gl(e,i){1&e&&t.nrm(0,"azt-loading-ui",18)}function hl(e,i){if(1&e&&t.nrm(0,"azt-loading-effect",19),2&e){const o=t.XpG();t.Y8G("currentStatusObj",o.statusObj)}}function fl(e,i){1&e&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function bl(e,i){if(1&e){const o=t.RV6();t.j41(0,"tr")(1,"td",29),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG(3);return t.Njj(a.goToProfile(n.classroomId,n.id))}),t.nrm(2,"azt-student-info-box",30),t.k0s(),t.j41(3,"td",31),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",32)(7,"div",33)(8,"span"),t.EFF(9),t.nI1(10,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.j41(11,"td",32)(12,"form",34)(13,"textarea",35),t.nI1(14,"mytranslate"),t.bIt("change",function(){const n=t.eBV(o).$implicit;return t.Njj(n.commentControl.controls.isEdited.setValue(!0))}),t.k0s()()(),t.j41(15,"td",32)(16,"span",36,1),t.nI1(18,"mytranslate"),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG(3);return t.Njj(a.showAllComment(n))}),t.nrm(19,"lucide-icon",37),t.k0s()()()}if(2&e){const o=i.$implicit,s=t.sdS(17);t.R7$(2),t.Y8G("name",o.fullName)("avatar",o.avatar)("gender",o.gender)("parentFullName",o.parentFullName)("parentId",o.parentId)("parentPhone",o.parentPhone)("hasUser",o.hasUser)("schoolName",o.schoolName)("classrooms",o.classrooms)("joinedAt",o.joinedAt)("phone",o.phone)("identificationNumber",o.identificationNumber),t.R7$(2),t.JRh(o.identificationNumber?t.i5U(5,20,o.identificationNumber,6):""),t.R7$(5),t.SpI(" ",t.bMT(10,23,o.commentControl.controls.updatedAt.value)," "),t.R7$(3),t.Y8G("formGroup",o.commentControl),t.R7$(),t.FS9("placeholder",t.bMT(14,25,"lang_auto_nhap_nhan_xet")),t.Y8G("id","add_comment_"+o.id),t.R7$(3),t.FS9("matTooltip",t.bMT(18,27,"lang_student_show_all_comment")),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",s.isDisabled)}}function vl(e,i){if(1&e&&(t.j41(0,"div",23)(1,"table",24)(2,"thead")(3,"tr")(4,"th",25),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",26),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",27),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",27),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.nrm(16,"th",27),t.k0s()(),t.j41(17,"tbody"),t.DNE(18,bl,20,29,"tr",28),t.k0s()()()),2&e){const o=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,7,"lang_auto_so_bao_danh")),t.R7$(3),t.JRh(t.bMT(12,9,"lang_student_add_comment_date")),t.R7$(3),t.JRh(t.bMT(15,11,"lang_student_add_comment")),t.R7$(4),t.Y8G("ngForOf",o.listStudent)}}function Cl(e,i){if(1&e&&t.DNE(0,fl,3,3,"div",20)(1,vl,19,13,"div",21),2&e){const o=t.XpG();t.Y8G("ngIf",0==o.listStudent.length&&0==o.totalStudent),t.R7$(),t.Y8G("ngIf",o.listStudent.length>0)}}function xl(e,i){if(1&e){const o=t.RV6();t.j41(0,"azt-paging",41),t.bIt("goToPaginationPage",function(n){t.eBV(o);const a=t.XpG(2);return t.Njj(a.setPageStudent(n))}),t.k0s()}if(2&e){const o=t.XpG(2);t.Y8G("pageObj",o.pageObj)}}function kl(e,i){if(1&e&&(t.j41(0,"div",38),t.nrm(1,"div"),t.DNE(2,xl,1,1,"azt-paging",39),t.j41(3,"div",40),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.Y8G("ngIf",o.totalStudent>o.pageObj.pageSize),t.R7$(2),t.Lme("",o.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}const Il=[{path:"",component:Hr,canActivate:[b.t],children:[{path:"merge-student/:id",component:rl},{path:"profile-student/:classroom_id/:id",component:ml},{path:"manage-classroom/:id",component:Qr},{path:"classroom-details/:id/:tabId",component:Wa},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:ri},{path:"add-comment/:classroom_id/:program_id/:session_id",component:(()=>{var e;class i extends g.H{goToProfile(s,n){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+s+"/"+n,"?backto="+encodeURIComponent("/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(s){var n="/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,a="?page="+s+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(n,a),this.initStatusObj(),this.pageObj.setPageNumber(s),this.getListStudent()}onSearchBox(s){this.searchContentObj=s,this.setPageStudent(1)}showAllComment(s){this.sAztDialogService.open(_l.U,{width:"700px",restoreFocus:!1,data:{student:s,isTeacher:!0}}).afterClosed().subscribe(n=>{n&&this.getListStudent()})}countChangedComment(){let s=0;return this.listStudent.forEach(n=>{n.commentControl.controls.isEdited.value&&!n.commentControl.controls.comment.value&&s++}),1==s}saveComment(){this.isSave=!0;let s=this.listStudent.filter(a=>a.commentControl.controls.isEdited.value&&a.commentControl.controls.comment.value).map(a=>({id:0,studentId:a.id,comment:a.commentControl.controls.comment.value}))??[],n={classroomId:this.classroomId,studentAssessments:s};if(0==s.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost(n).subscribe(a=>{a.success?(this.initStatusObj(),this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!0}).subscribe(n=>{n?(this.listStudent=[],n.list.forEach(a=>{let l=this.sAztAssessmentStudentService.getLastAssessmentStudent(a);this.listStudent.push({...a,commentControl:new c.gE({id:new c.MJ(0,{nonNullable:!0}),updatedAt:new c.MJ(l?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new c.MJ(l?.comment??"",{nonNullable:!0}),isEdited:new c.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(a.assessments),editComment:!1})}),this.totalStudent=n.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,f.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"));let s=this.commonService.getMyQueryParam("backto");this.backToLink=s||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent()}),super.ngOnInit()}constructor(s,n,a,l){super(),this.sAztAssessmentStudentService=s,this.activeRoute=n,this.studentService=a,this.sAztDialogService=l,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.searchContentObj=new mt.Z,this.pageObj=new ft.d(20)}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(ul.n),t.rXU(S.nX),t.rXU(Ot.b),t.rXU(L.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-add-student-comment"]],features:[t.Vt3],decls:22,vars:19,consts:[["doneLoading",""],["c","isDisabled"],[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"onSearch","isServerSearch","searchContentObj","placeholder"],[3,"colorBackground"],[1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"click","disabled"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-1"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[3,"formGroup"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change","id","placeholder"],[1,"mr-2","inline-block","clickable",3,"click","matTooltip","isDisabledTooltip","matTooltipDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"goToPaginationPage","pageObj"]],template:function(s,n){if(1&s){const a=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,pl,3,3,"div",6),t.k0s(),t.j41(7,"div",7)(8,"div",8)(9,"div",9)(10,"azt-search-box",10),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(m){return t.eBV(a),t.Njj(n.onSearchBox(m.searchObj))}),t.k0s()(),t.j41(12,"flexed-on-the-top",11)(13,"button",12),t.bIt("click",function(){return t.eBV(a),t.Njj(n.saveComment())}),t.DNE(14,gl,1,0,"azt-loading-ui",13),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()(),t.j41(17,"div",14),t.DNE(18,hl,1,1,"azt-loading-effect",15)(19,Cl,2,2,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(21,kl,6,5,"div",16),t.k0s()}if(2&s){const a=t.sdS(20);t.Y8G("headerBackToLink",n.backToLink),t.R7$(4),t.JRh(t.bMT(5,13,"lang_student_assessment_student")),t.R7$(2),t.Y8G("ngIf",n.isMobileDevice&&n.listStudent.length>0),t.R7$(4),t.Y8G("isServerSearch",!0)("searchContentObj",n.searchContentObj)("placeholder",t.bMT(11,15,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(),t.Y8G("disabled",n.isSave||n.countChangedComment()),t.R7$(),t.Y8G("ngIf",n.isSave),t.R7$(),t.SpI(" ",t.bMT(16,17,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",a),t.R7$(3),t.Y8G("ngIf",n.totalStudent>0)}},dependencies:[r.Sq,r.bT,B.oV,c.qT,c.me,c.BC,c.cb,c.j4,c.JD,D.K,kt.q,Tt.t,vt.f,w.R,Ce.$,H.W,_t.B,N.Q,k.WGl,h.wp,h.Po,h.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),i})()},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:Si},{path:"submit-score/:classroom_id/:program_id/:session_id",component:ji},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let jl=(()=>{var e;class i{}return(e=i).\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[S.iI.forChild(Il),S.iI,I.XE]}),i})();var Tl=d(14505),Ol=d(27985);let yl=(()=>{var e;class i{}return(e=i).\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({providers:[{provide:rt.vn,useValue:y.c.azt_tiny_mce_script_src}],imports:[S.iI,r.MD,gt.s,rt.sv,c.YN,c.X1,C.hM,ht.L,pt.Lk,jl,ct.xv,z.Q,j.b,E.AC,k.flO.pick(k.Ptg),Z.Id,lt.Fr,G.AzotaBusinessModule,Tl.h,dt.An]}),i})();t.wjB(p,function(){return[r.Sq,r.bT,c.qT,c.cb,c.j4,Ol.D,w.R,k.WGl,Z.Yh]},function(){return[h.wp]})},78745:(Kt,it,d)=>{d.d(it,{d:()=>ht});var r=d(59640),c=d(48891),C=d(54460),S=d(17818),rt=d(47712),lt=d(15343),k=d(64160),pt=d(15437),E=d(76975);const ct=()=>({"mr-2":!0});function dt(j,z){if(1&j){const y=c.RV6();c.qex(0),c.j41(1,"div",6)(2,"p",7),c.EFF(3),c.nI1(4,"mytranslate"),c.k0s(),c.j41(5,"p",7),c.EFF(6),c.nI1(7,"mytranslate"),c.k0s(),c.j41(8,"div",8),c.nrm(9,"input",9),c.j41(10,"button",10),c.bIt("click",function(){c.eBV(y);const x=c.XpG();return c.Njj(x.showCopySuccess())}),c.nrm(11,"lucide-icon",11),c.EFF(12),c.nI1(13,"mytranslate"),c.k0s()()(),c.bVm()}if(2&j){const y=c.XpG();c.R7$(3),c.JRh(c.bMT(4,6,"lang_auto_hoac")),c.R7$(3),c.JRh(c.bMT(7,8,"lang_classroom_QR_join_link_copy")),c.R7$(3),c.Y8G("value",y.linkUrl),c.R7$(),c.Y8G("cdkCopyToClipboard",y.copyLinkToClipboard(y.linkUrl)),c.R7$(),c.Y8G("ngClass",c.lJ4(12,ct)),c.R7$(),c.SpI(" ",c.bMT(13,10,"lang_auto_sao_chep")," ")}}let Z=(()=>{var j;class z extends r.H{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1,this.qrCodeDownloadLink=""}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}copyLinkToClipboard(G){return G}onChangeURL(G){this.qrCodeDownloadLink=G}downloadQrCode(){try{let G=""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg";this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,G)}catch{console.log("Download QrCode error")}}}return(j=z).\u0275fac=(()=>{let y;return function(x){return(y||(y=c.xGo(j)))(x||j)}})(),j.\u0275cmp=c.VBU({type:j,selectors:[["azt-show-link"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},features:[c.Vt3],decls:8,vars:11,consts:[["azt-track-service","download-qr-code-9t-9Wiu2xv",1,"box","p-3","text-center",3,"click"],[2,"background","#fff","padding","5px"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"qrCodeURL","allowEmptyString","qrdata","elementType","width","errorCorrectionLevel"],["azt-track-service","download-qr-code-RqVBz6g1z7",1,"btn","btn-outline-primary","btn-transparent","btn-sm","mx-auto","mt-2",3,"click"],["name","download","size","16",3,"ngClass"],[4,"ngIf"],[1,"text-center"],[1,"h5","mt-2","font-medium"],[1,"azt-copy","relative","mt-2"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","download-qr-code-yW-aFu0tO",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click","cdkCopyToClipboard"],["name","copy","size","16",3,"ngClass"]],template:function(G,x){1&G&&(c.j41(0,"div",0),c.bIt("click",function(tt){return tt.stopPropagation()}),c.j41(1,"div",1)(2,"qrcode",2),c.bIt("qrCodeURL",function(tt){return x.onChangeURL(tt)}),c.k0s()(),c.j41(3,"a",3),c.bIt("click",function(){return x.downloadQrCode()}),c.nrm(4,"lucide-icon",4),c.EFF(5),c.nI1(6,"mytranslate"),c.k0s(),c.DNE(7,dt,14,13,"ng-container",5),c.k0s()),2&G&&(c.R7$(2),c.Y8G("allowEmptyString",!0)("qrdata",x.linkUrl)("elementType","url")("width",128)("errorCorrectionLevel","M"),c.R7$(2),c.Y8G("ngClass",c.lJ4(10,ct)),c.R7$(),c.SpI(" ",c.bMT(6,8,"lang_auto_tai_ve_may")," "),c.R7$(2),c.Y8G("ngIf",x.showLink))},dependencies:[C.YU,C.bT,k.dF,lt.WGl,pt.c,E.wp],encapsulation:2}),z})();const gt=j=>({"w-80":j});let ht=(()=>{var j;class z extends r.H{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1}}return(j=z).\u0275fac=(()=>{let y;return function(x){return(y||(y=c.xGo(j)))(x||j)}})(),j.\u0275cmp=c.VBU({type:j,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},features:[c.Vt3],decls:7,vars:10,consts:[["showQrCode","matMenu"],["azt-track-service","download-qr-code-hiQXy_iTc",1,"btn","btn-outline-primary","btn-transparent","p-1",3,"matMenuTriggerFor","matTooltip"],["name","qr-code","size","24"],["xPosition","before"],[3,"ngClass"],[3,"linkUrl","fileName","showLink"]],template:function(G,x){if(1&G&&(c.j41(0,"button",1),c.nI1(1,"mytranslate"),c.nrm(2,"lucide-icon",2),c.k0s(),c.j41(3,"mat-menu",3,0)(5,"div",4),c.nrm(6,"azt-show-link",5),c.k0s()()),2&G){const W=c.sdS(4);c.FS9("matTooltip",c.bMT(1,6,"lang_auto_quet_hoac_tai_ma_qr_code")),c.Y8G("matMenuTriggerFor",W),c.R7$(5),c.Y8G("ngClass",c.eq3(8,gt,x.showLink)),c.R7$(),c.Y8G("linkUrl",x.linkUrl)("fileName",x.fileName)("showLink",x.showLink)}},dependencies:[C.YU,S.kk,S.Cp,rt.oV,lt.WGl,Z,E.wp],encapsulation:2}),z})()},35048:(Kt,it,d)=>{d.d(it,{w:()=>Yt});var r=d(48891),c=d(10936),C=d(59640),S=d(27208),rt=d(68774),lt=d(42280),k=d(54460),pt=d(47712),E=d(18718),ct=d(2915),dt=d(69135),Z=d(32099),gt=d(76975);const ht=(p,I)=>({"dark:bg-darkmode-400 bg-slate-100":p,"border-b border-slate-200/60 dark:border-darkmode-400":I});function j(p,I){if(1&p&&r.nrm(0,"azt-loading-effect",10),2&p){const b=r.XpG();r.Y8G("currentStatusObj",b.statusObj)}}function z(p,I){if(1&p&&(r.j41(0,"span"),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&p){const b=r.XpG(3);r.R7$(),r.JRh(r.bMT(2,1,"lang_auto_da_chon")+": "+b.totalStudentsSelected)}}function y(p,I){if(1&p&&(r.j41(0,"span"),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&p){const b=r.XpG(3);r.R7$(),r.JRh(b.data.classroomName+(b.totalStudentsSelected?" ("+r.bMT(2,1,"lang_auto_da_chon")+": "+b.totalStudentsSelected+")":""))}}function G(p,I){}function x(p,I){if(1&p&&(r.j41(0,"div")(1,"azt-mat-dialog-content",24),r.DNE(2,G,0,0,"ng-template",25),r.k0s()()),2&p){r.XpG(3);const b=r.sdS(8);r.R7$(),r.Y8G("defaultHeight",40),r.R7$(),r.Y8G("ngTemplateOutlet",b)}}function W(p,I){}function tt(p,I){if(1&p&&(r.j41(0,"div"),r.DNE(1,W,0,0,"ng-template",25),r.k0s()),2&p){r.XpG(3);const b=r.sdS(8);r.R7$(),r.Y8G("ngTemplateOutlet",b)}}function t(p,I){if(1&p){const b=r.RV6();r.qex(0),r.j41(1,"div",12)(2,"div",13),r.DNE(3,z,3,3,"span",14)(4,y,3,3,"span",14),r.j41(5,"div",15)(6,"azt-search-box",16),r.nI1(7,"mytranslate"),r.bIt("onSearch",function(g){r.eBV(b);const Q=r.XpG(2);return r.Njj(Q.onSearchBox(g.searchObj))}),r.k0s()()(),r.j41(8,"div",17)(9,"div",18)(10,"input",19),r.bIt("change",function(){r.eBV(b);const g=r.XpG(2);return r.Njj(g.selectAllStudentOfClass())}),r.k0s(),r.j41(11,"label",20),r.EFF(12),r.nI1(13,"mytranslate"),r.k0s()(),r.j41(14,"div",21)(15,"input",22),r.bIt("change",function(){r.eBV(b);const g=r.XpG(2);return r.Njj(g.calculateFormData())}),r.k0s(),r.j41(16,"label",23),r.EFF(17),r.nI1(18,"mytranslate"),r.k0s()()()(),r.DNE(19,x,3,2,"div",14)(20,tt,2,1,"div",14),r.bVm()}if(2&p){const b=r.XpG(2);r.R7$(),r.Y8G("ngClass",r.l_i(18,ht,b.isDialog,!b.isDialog)),r.R7$(2),r.Y8G("ngIf",!b.isDialog),r.R7$(),r.Y8G("ngIf",b.isDialog),r.R7$(2),r.Y8G("isServerSearch",!1)("styleInput","form-control-sm ")("placeholder",r.bMT(7,12,"lang_student_classroom_list_detail_search_name_student")),r.R7$(4),r.Y8G("formControl",b.selectAllFormControl),r.R7$(2),r.SpI(" ",r.bMT(13,14,b.selectAllFormControl.value?"lang_remove_all":"lang_select_all")," "),r.R7$(3),r.Y8G("formControl",b.showCheckedFormControl),r.R7$(2),r.SpI(" ",r.bMT(18,16,"lang_testbank_selected_students")," "),r.R7$(2),r.Y8G("ngIf",b.isDialog),r.R7$(),r.Y8G("ngIf",!b.isDialog)}}function $(p,I){1&p&&(r.j41(0,"div",26)(1,"span"),r.EFF(2),r.nI1(3,"mytranslate"),r.k0s()()),2&p&&(r.R7$(2),r.JRh(r.bMT(3,1,"lang_core_class_has_no_student")))}function wt(p,I){if(1&p&&r.DNE(0,t,21,21,"ng-container",11)(1,$,4,3,"ng-template",null,2,r.C5r),2&p){const b=r.sdS(2),f=r.XpG();r.Y8G("ngIf",f.studentObjs.length>0)("ngIfElse",b)}}function Dt(p,I){if(1&p){const b=r.RV6();r.j41(0,"div",27)(1,"button",28),r.bIt("click",function(){r.eBV(b);const g=r.XpG();return r.Njj(g.btnCloseDialog())}),r.EFF(2),r.nI1(3,"mytranslate"),r.k0s()()}2&p&&(r.R7$(2),r.SpI(" ",r.bMT(3,1,"lang_cms_common_ok")," "))}function Mt(p,I){1&p&&(r.qex(0),r.j41(1,"div",26)(2,"span",29),r.EFF(3),r.nI1(4,"mytranslate"),r.k0s()(),r.bVm()),2&p&&(r.R7$(3),r.JRh(r.bMT(4,1,"lang_testbank_no_students_selected")))}function $t(p,I){if(1&p){const b=r.RV6();r.j41(0,"div",34)(1,"div",35)(2,"input",36),r.bIt("change",function(){r.eBV(b);const g=r.XpG(4);return r.Njj(g.calculateFormData())}),r.k0s(),r.j41(3,"label",37,4),r.nI1(5,"mytranslate"),r.EFF(6),r.nI1(7,"mytranslate"),r.k0s()()()}if(2&p){const b=r.sdS(4),f=r.XpG().$implicit;r.R7$(2),r.FS9("id","azt-checkbox-student-"+f.id),r.Y8G("formControl",f.isChecked),r.R7$(),r.FS9("for","azt-checkbox-student-"+f.id),r.Y8G("matTooltip",r.bMT(5,8,f.fullName))("isDisabledTooltip",!1)("matTooltipDisabled",b.isDisabled)("matTooltipShowDelay",500),r.R7$(3),r.SpI(" ",r.bMT(7,10,f.fullName)," ")}}function zt(p,I){if(1&p&&(r.qex(0),r.DNE(1,$t,8,12,"div",33),r.bVm()),2&p){const b=I.$implicit;r.R7$(),r.Y8G("ngIf",b.isShowStudent)}}function Nt(p,I){1&p&&(r.j41(0,"div",26),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&p&&(r.R7$(),r.SpI(" ",r.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function At(p,I){if(1&p&&(r.j41(0,"div",30),r.DNE(1,zt,2,1,"ng-container",31),r.k0s(),r.DNE(2,Nt,3,3,"div",32)),2&p){const b=r.XpG(2);r.R7$(),r.Y8G("ngForOf",b.studentObjs),r.R7$(),r.Y8G("ngIf",0==b.totalStudentsShow)}}function Pt(p,I){if(1&p&&r.DNE(0,Mt,5,3,"ng-container",11)(1,At,3,2,"ng-template",null,3,r.C5r),2&p){const b=r.sdS(2),f=r.XpG();r.Y8G("ngIf",f.totalStudentsSelected<=0&&f.showCheckedFormControl.value)("ngIfElse",b)}}let Yt=(()=>{var p;class I extends C.H{resetAll(){this.selectAllFormControl.reset(),this.showCheckedFormControl.reset(),this.selectAllStudentOfClass()}btnCloseDialog(){if(this.studentObjs.length<=0)return this.closeBox.emit();let f={classroomId:this.data.classroomId,classroomName:this.data.classroomName,studentIdsSelected:this.studentObjs.filter(g=>g.isChecked.value).map(g=>g.id)};this.closeBox.emit(f)}onSearchBox(f){this.searchContentObj=f,this.calculateFormData()}selectAllStudentOfClass(){this.studentObjs.map(f=>f.isChecked.setValue(this.selectAllFormControl.value)),this.calculateFormData()}calculateFormData(){let f=this.commonService.convertVietnameseToEnglish(this.searchContentObj.searchContent).toLowerCase().trim();this.studentObjs.forEach(g=>{const Q=this.commonService.convertVietnameseToEnglish(g.fullName??"").toLowerCase().trim();let N=""==f||Q.includes(f);g.isShowStudent=(!this.showCheckedFormControl.value||g.isChecked.value)&&N}),this.totalStudentsSelected=this.studentObjs.filter(g=>g.isChecked.value).length,this.selectAllFormControl.setValue(this.totalStudentsSelected==this.studentObjs.length),this.totalStudentsShow=this.studentObjs.filter(g=>g.isShowStudent).length,this.isDialog||this.btnCloseDialog()}getData(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.data.classroomId).subscribe(f=>{if(!f.success)return this.errorStatusObj(f.message,!0);let g=f.data?.studentObjs??[];g=0==f.data?.classroomObj.sortType?this.sortService.sortFirstNameStudents(this.commonService.myClone(g)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(g)??[],"pos","id"),this.initFormData(g),this.stopStatusObj()}))}initFormData(f){this.studentObjs=f.map(g=>({...g,isShowStudent:!0,isChecked:new c.MJ(this.data.studentIdsSelected.includes(g.id),{nonNullable:!0})})),this.calculateFormData()}ngOnInit(){this.getData()}constructor(f,g){super(),this.sortService=f,this.studentProfileV2Service=g,this.selectAllFormControl=new c.MJ(!1,{nonNullable:!0}),this.showCheckedFormControl=new c.MJ(!1,{nonNullable:!0}),this.studentObjs=[],this.totalStudentsSelected=0,this.totalStudentsShow=0,this.searchContentObj=new S.Z,this.isDialog=!0,this.closeBox=new r.bkB}}return(p=I).\u0275fac=function(f){return new(f||p)(r.rXU(rt.g),r.rXU(lt.m_))},p.\u0275cmp=r.VBU({type:p,selectors:[["azt-select-student"]],inputs:{isDialog:"isDialog",data:"data"},outputs:{closeBox:"closeBox"},features:[r.Vt3],decls:9,vars:3,consts:[["doneLoading",""],["templateSelectStudent",""],["emptyStudents",""],["checkedBox",""],["c","isDisabled"],["id","selectStudent",1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","p-3 text-right",4,"ngIf"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[1,"p-3","flex","flex-col","sm:flex-row","sm:h-auto","sm:items-center",3,"ngClass"],[1,"font-medium","mr-auto"],[4,"ngIf"],[1,"w-full","relative","flex","items-center","mt-2"],[3,"onSearch","isServerSearch","styleInput","placeholder"],[1,"flex","items-center","mt-2","sm:mt-0"],[1,"form-check","mr-3"],["id","selected-all","type","checkbox",1,"form-check-input",3,"change","formControl"],["for","selected-all",1,"form-check-label"],[1,"form-check"],["id","show-student-checked","type","checkbox",1,"form-check-input",3,"change","formControl"],["for","show-student-checked",1,"form-check-label"],[3,"defaultHeight"],[3,"ngTemplateOutlet"],[1,"h-full","flex","items-center","justify-center","p-5"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"],[1,"mx-auto"],[1,"p-3","grid","grid-cols-12","gap-3"],[4,"ngFor","ngForOf"],["class","h-full flex items-center justify-center p-5",4,"ngIf"],["class","col-span-12 md:col-span-4 mt-2",4,"ngIf"],[1,"col-span-12","md:col-span-4","mt-2"],[1,"azt-checkbox-item"],["type","checkbox",1,"form-check-input",3,"change","id","formControl"],[1,"form-check-label","truncate",2,"vertical-align","middle",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","matTooltipShowDelay","for"]],template:function(f,g){if(1&f&&(r.j41(0,"div",5)(1,"div",6)(2,"div",7),r.DNE(3,j,1,1,"azt-loading-effect",8)(4,wt,3,2,"ng-template",null,0,r.C5r),r.k0s()(),r.DNE(6,Dt,4,3,"div",9),r.k0s(),r.DNE(7,Pt,3,2,"ng-template",null,1,r.C5r)),2&f){const Q=r.sdS(5);r.R7$(3),r.Y8G("ngIf",g.statusObj.loading)("ngIfElse",Q),r.R7$(3),r.Y8G("ngIf",g.isDialog)}},dependencies:[k.YU,k.Sq,k.bT,k.T3,pt.oV,c.Zm,c.BC,c.l_,E.K,ct.U,dt.f,Z.W,gt.wp],encapsulation:2}),I})()}}]);