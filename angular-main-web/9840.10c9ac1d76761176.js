"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[9840],{99503:(O,D,i)=>{i.d(D,{fb:()=>u,ij:()=>f});var t=i(81519),p=i(48891),C=i(20381),a=i.n(C),h=i(53793);const _=a()||C,f=new p.nKC("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function r(){return{useUtc:!1}}});function g(s,c){const l=Array(s);for(let e=0;e<s;e++)l[e]=c(e);return l}let u=(()=>{var s;class c extends t.$O{constructor(e){super(),this._options=e,this.commonService=(0,p.WQX)(h.R),this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""},_.locale(),this.setLocale(this.commonService.getCurrentLang()||_.locale())}setLocale(e){super.setLocale(e);const n=_.localeData(e);this._localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:n.months(),shortMonths:n.monthsShort(),dates:g(31,o=>this.createDate(2017,0,o+1).format("D")),longDaysOfWeek:n.weekdays(),shortDaysOfWeek:n.weekdaysShort(),narrowDaysOfWeek:n.weekdaysMin()}}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return"long"===e?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(e){return"long"===e?this._localeData.longDaysOfWeek:"short"===e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return e.clone().locale(this.locale)}createDate(e,n,o){if(n<0||n>11)throw Error(`Invalid month index "${n}". Month index has to be between 0 and 11.`);if(o<1)throw Error(`Invalid date "${o}". Date has to be greater than 0.`);const m=this._createMoment({year:e,month:n,date:o}).locale(this.locale);if(!m.isValid())throw Error(`Invalid date "${o}" for month with index "${n}".`);return m}today(){return this._createMoment().locale(this.locale)}parse(e,n){return e&&"string"==typeof e?this._createMoment(e,n,this.locale):e?this._createMoment(e).locale(this.locale):null}format(e,n){if(e=this.clone(e),!this.isValid(e))throw Error("MomentDateAdapter: Cannot format invalid date.");return e.format(n)}addCalendarYears(e,n){return this.clone(e).add({years:n})}addCalendarMonths(e,n){return this.clone(e).add({months:n})}addCalendarDays(e,n){return this.clone(e).add({days:n})}toIso8601(e){return this.clone(e).format()}deserialize(e){let n;if(e instanceof Date)n=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;n=this._createMoment(e,_.ISO_8601).locale(this.locale)}return n&&this.isValid(n)?this._createMoment(n).locale(this.locale):super.deserialize(e)}isDateInstance(e){return _.isMoment(e)}isValid(e){return this.clone(e).isValid()}invalid(){return _.invalid()}getHour(e){return e.hours()}getMinute(e){return e.minutes()}getSecond(e){return e.seconds()}setHour(e,n){e.hours(n)}setMinute(e,n){e.minutes(n)}setSecond(e,n){e.seconds(n)}_createMoment(e,n,o){const{strict:m,useUtc:d}=this._options||{};return d?_.utc(e,n,o,m):_(e,n,o,m)}}return(s=c).\u0275fac=function(e){return new(e||s)(p.KVO(f,8))},s.\u0275prov=p.jDH({token:s,factory:s.\u0275fac}),c})()},43166:(O,D,i)=>{i.d(D,{x:()=>a});var t=i(10936),p=i(48891),C=i(53793);let a=(()=>{var h;class _{filter(r,g){return null==r?[]:r=r.filter(u=>this.removeAllSpecialChars((null!=g?u[g]:u).toString()).includes(this.removeAllSpecialChars(this.searchControl.value)))}mergeSchoolLevel(r){let g=[];return r.forEach(u=>null!=u.schoolLevel&&g.push(u.schoolLevel)),g}removeAllSpecialChars(r){return r=(r=this.commonService.myTranslateInstant(r)??r).toLowerCase().trim(),r=this.commonService.convertVietnameseToEnglish(r),r=this.commonService.removeSpecialStringInSearch(r),(r=this.commonService.removeNonAlphabetic(r)).toLowerCase().trim()}constructor(r){this.commonService=r,this.searchControl=new t.MJ("",{nonNullable:!0})}}return(h=_).\u0275fac=function(r){return new(r||h)(p.rXU(C.R))},h.\u0275dir=p.FsC({type:h,selectors:[["","searchInList",""]],exportAs:["searchInList"]}),_})()},75421:(O,D,i)=>{i.d(D,{u:()=>s});var t=i(10936),p=i(89163),C=i(33887),a=i(48891),h=i(54460),_=i(15343),f=i(76975);const r=()=>({"mr-2 text-danger":!0});function g(c,l){if(1&c&&a.nrm(0,"lucide-icon",10),2&c){const e=a.XpG();a.Y8G("name",e.data.iconName)("ngClass",a.lJ4(2,r))}}function u(c,l){if(1&c&&(a.j41(0,"div",11)(1,"div",3)(2,"span"),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s(),a.j41(5,"b"),a.EFF(6),a.k0s(),a.j41(7,"span"),a.EFF(8),a.nI1(9,"mytranslate"),a.k0s()(),a.j41(10,"div",12),a.nrm(11,"input",13),a.k0s()()),2&c){const e=a.XpG();a.R7$(3),a.JRh(a.bMT(4,4,"lang_azt_enter")+" "),a.R7$(3),a.JRh('"'+e.data.textConfirm+'" '),a.R7$(2),a.JRh(a.bMT(9,6,"lang_azt_for_delete_data")),a.R7$(3),a.Y8G("formControl",e.confirmValue)}}let s=(()=>{var c;class l extends C._{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(n,o){super(o,n),this.dialogRef=n,this.data=o,this.confirmValue=new t.MJ("",{nonNullable:!0})}}return(c=l).\u0275fac=function(n){return new(n||c)(a.rXU(p.CP,8),a.rXU(p.Vh,8))},c.\u0275cmp=a.VBU({type:c,selectors:[["azt-dialog-danger"]],features:[a.Vt3],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md"],["size","24",3,"name","ngClass",4,"ngIf"],[1,"text-md",3,"innerHtml"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click","disabled"],["size","24",3,"name","ngClass"],[1,"mt-3"],[1,"mt-2"],["type","text",1,"form-control",3,"formControl"]],template:function(n,o){1&n&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),a.DNE(4,g,1,3,"lucide-icon",4),a.nrm(5,"span",5),a.k0s(),a.DNE(6,u,12,8,"div",6),a.k0s()(),a.j41(7,"div",7)(8,"button",8),a.bIt("click",function(){return o.btnCloseDialog()}),a.EFF(9),a.nI1(10,"mytranslate"),a.k0s(),a.j41(11,"button",9),a.bIt("click",function(){return o.confirmDialog()}),a.EFF(12),a.nI1(13,"mytranslate"),a.k0s()()()),2&n&&(a.R7$(4),a.Y8G("ngIf",o.data.iconName),a.R7$(),a.Y8G("innerHtml",o.data.content,a.npT),a.R7$(),a.Y8G("ngIf",o.data.textConfirm),a.R7$(3),a.SpI(" ",a.bMT(10,6,"lang_auto_huy")," "),a.R7$(2),a.Y8G("disabled",o.data.textConfirm&&o.data.textConfirm!==o.confirmValue.value),a.R7$(),a.SpI(" ",a.bMT(13,8,"lang_auto_xac_nhan")," "))},dependencies:[h.YU,h.bT,t.me,t.BC,t.l_,_.WGl,f.wp],encapsulation:2}),l})()},96670:(O,D,i)=>{i.d(D,{y:()=>u});var t=i(48891),p=i(64198),C=i(9516),a=i(54460),h=i(25571),_=i(76975);const f=[[["","btnUpload",""]],[["","btnRemove",""]],[["","body",""]],[["","header",""]]],r=["[btnUpload]","[btnRemove]","[body]","[header]"];function g(s,c){if(1&s){const l=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),t.SdG(4,3),t.k0s(),t.j41(5,"div",10)(6,"div",11)(7,"image-cropper",12),t.bIt("imageCropped",function(n){t.eBV(l);const o=t.XpG();return t.Njj(o.imageCropped(n))}),t.k0s()()(),t.j41(8,"div",13)(9,"button",14),t.bIt("click",function(){t.eBV(l);const n=t.XpG();return t.Njj(n.removeDialog())}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"button",15),t.bIt("click",function(){t.eBV(l);const n=t.XpG();return t.Njj(n.submitImage())}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()()()}if(2&s){const l=t.XpG();t.Y8G("ngClass",l.isMobileWebView?"box-mobile-web-view":"box-web"),t.R7$(7),t.Y8G("imageChangedEvent",l.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",l.aspectRatio)("resizeToWidth",150)("cropperMinWidth",128),t.R7$(3),t.JRh(t.bMT(11,8,"lang_auto_huy")),t.R7$(3),t.JRh(t.bMT(14,10,"lang_auto_cap_nhat"))}}let u=(()=>{var s;class c extends C.L{constructor(){super(...arguments),this.aspectRatio=1,this.uploadComplete=new t.bkB,this.imageChangedEvent=void 0,this.imageFileName="",this.hasClicked=!1}checkPermissionCameraAndImagePicker(e){this.hasClicked=!1,this.onOpenFileDictionary();var n=this.commonService.appVersion();this.isMobileWebView&&n?(this.mobileWebviewService.sendSimpleMessage("CHECK_PERMISSION_IMAGE_PICKER"),this.mobileWebviewService.getWebviewPermissionImagePicker().subscribe(o=>{this.hasClicked||(o?.url&&this.uploadComplete.emit({url:o.url}),this.hasClicked=!0)})):e.click()}fileChangeEvent(e){const o=e.target.files;if(o){if((0,p.hD)(o[0]?.size)>=this.limitSize)return this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_vui_long_chon_tep_co_kich_thuoc_nho_hon",this.limitSize.toString(),"MB"));this.imageChangedEvent=e,this.imageFileName=o?.length?o[0]?.name:""}}imageCropped(e){fetch(e.objectUrl??"").then(n=>n.blob()).then(n=>{const o=new FileReader;o.onload=()=>{let d=this.b64toFile(o.result,this.imageFileName);this.saveImage=d},o.readAsDataURL(n)}).catch(n=>{console.error(this.commonService.translateToKeyParam("lang_auto_co_loi_xay_ra",n))})}submitImage(){const e=this.imageChangedEvent?.target;e.files=null,this.imageChangedEvent=void 0,this.saveImage&&this.uploadFile(this.saveImage,"").then(n=>{n&&this.uploadComplete.emit(n)})}removeDialog(){const e=this.imageChangedEvent?.target;e.files=null,this.imageChangedEvent=void 0}emitUploadComplete(e){}b64toFile(e,n){e=e.replace("data:image/png;base64,","");let d=window.atob(e),I=[];for(let v=0;v<d.length;v+=512){let M=d.slice(v,v+512),A=new Array(M.length);for(let E=0;E<M.length;E++)A[E]=M.charCodeAt(E);let b=new Uint8Array(A);I.push(b)}return new File(I,n,{type:"image/png"})}}return(s=c).\u0275fac=(()=>{let l;return function(n){return(l||(l=t.xGo(s)))(n||s)}})(),s.\u0275cmp=t.VBU({type:s,selectors:[["azt-upload-image-cropper"]],inputs:{aspectRatio:"aspectRatio"},outputs:{uploadComplete:"uploadComplete"},features:[t.Vt3],ngContentSelectors:r,decls:10,vars:2,consts:[["formChoseFile",""],[1,"h-full"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[1,"flex","items-center","ml-0","sm:ml-3"],[1,"cursor-pointer",3,"click"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],[3,"imageCropped","imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth"],[1,"modal-footer"],["control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"]],template:function(e,n){if(1&e){const o=t.RV6();t.NAR(f),t.j41(0,"div",1)(1,"input",2,0),t.bIt("change",function(d){return t.eBV(o),t.Njj(n.fileChangeEvent(d))})("cancel",function(d){return t.eBV(o),t.Njj(n.onCancelSelect(d))}),t.k0s(),t.j41(3,"div",3)(4,"div",4),t.bIt("click",function(){t.eBV(o);const d=t.sdS(2);return t.Njj(n.checkPermissionCameraAndImagePicker(d))}),t.SdG(5),t.k0s(),t.SdG(6,1),t.k0s(),t.j41(7,"div",4),t.bIt("click",function(){t.eBV(o);const d=t.sdS(2);return t.Njj(n.checkPermissionCameraAndImagePicker(d))}),t.SdG(8,2),t.k0s()(),t.DNE(9,g,15,12,"div",5)}2&e&&(t.R7$(),t.FS9("accept",n.fileType),t.R7$(8),t.Y8G("ngIf",n.imageChangedEvent))},dependencies:[a.YU,a.bT,h._D,_.wp],styles:[".source-image{margin:auto!important}.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:auto}.box-web[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px}.box-mobile-web-view[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px;display:flex;align-items:center;justify-content:center}"]}),c})()}}]);