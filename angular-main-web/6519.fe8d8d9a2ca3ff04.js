"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[6519],{43166:(Y,T,l)=>{l.d(T,{x:()=>c});var m=l(10936),i=l(48891),C=l(53793);let c=(()=>{var f;class j{filter(_,b){return null==_?[]:_=_.filter(I=>this.removeAllSpecialChars((null!=b?I[b]:I).toString()).includes(this.removeAllSpecialChars(this.searchControl.value)))}mergeSchoolLevel(_){let b=[];return _.forEach(I=>null!=I.schoolLevel&&b.push(I.schoolLevel)),b}removeAllSpecialChars(_){return _=(_=this.commonService.myTranslateInstant(_)??_).toLowerCase().trim(),_=this.commonService.convertVietnameseToEnglish(_),_=this.commonService.removeSpecialStringInSearch(_),(_=this.commonService.removeNonAlphabetic(_)).toLowerCase().trim()}constructor(_){this.commonService=_,this.searchControl=new m.MJ("",{nonNullable:!0})}}return(f=j).\u0275fac=function(_){return new(_||f)(i.rXU(C.R))},f.\u0275dir=i.FsC({type:f,selectors:[["","searchInList",""]],exportAs:["searchInList"]}),j})()},24592:(Y,T,l)=>{l.d(T,{C:()=>C});var m=l(48891),i=l(53793);let C=(()=>{var c;class f{constructor(){this.commonService=(0,m.WQX)(i.R)}replaceAdsContent(p){if(!p.template||!p.productAttributes)return p;let _=p.productAttributes;return _.push({id:0,productId:0,attributeId:0,value:p.name,attribute:{id:0,categoryId:0,displayName:"NAME",variableName:"NAME"}}),_.push({id:0,productId:0,attributeId:0,value:p.actionUrl??"",attribute:{id:0,categoryId:0,displayName:"URL",variableName:"URL"}}),_.push({id:0,productId:0,attributeId:0,value:p.description??"",attribute:{id:0,categoryId:0,displayName:"DESCRIPTION",variableName:"DESCRIPTION"}}),_.push({id:0,productId:0,attributeId:0,value:p.thumbnailUrl??"",attribute:{id:0,categoryId:0,displayName:"THUMBNAIL",variableName:"THUMBNAIL"}}),_.forEach(b=>{b.attribute?.variableName&&(p.template=this.commonService.replaceAll(p.template,"${"+b.attribute.variableName.toUpperCase()+"}",b.value))}),p}}return(c=f).\u0275fac=function(p){return new(p||c)},c.\u0275prov=m.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),f})()},86359:(Y,T,l)=>{l.d(T,{f:()=>j});var m=l(48891),i=l(79767),C=l(59640),c=l(24592),f=l(76975);let j=(()=>{var p;class _ extends C.H{constructor(){super(...arguments),this.sAztShowAdsBoxService=(0,m.WQX)(c.C)}ngOnChanges(){this.obj=this.sAztShowAdsBoxService.replaceAdsContent(this.obj)}ngAfterViewInit(){setTimeout(()=>{try{(i.A.adsbygoogle=i.A.adsbygoogle||[]).push({})}catch(I){console.error("ads",I)}},900)}}return(p=_).\u0275fac=(()=>{let b;return function(k){return(b||(b=m.xGo(p)))(k||p)}})(),p.\u0275cmp=m.VBU({type:p,selectors:[["azt-frontend-ads-item"]],inputs:{obj:"obj"},features:[m.Vt3,m.OA$],decls:2,vars:3,consts:[[3,"innerHTML"]],template:function(I,k){if(1&I&&(m.nrm(0,"div",0),m.nI1(1,"safeNormalHtmlContent")),2&I){let v;m.Y8G("innerHTML",m.bMT(1,1,null!==(v=k.obj.template)&&void 0!==v?v:""),m.npT)}},dependencies:[f._y],encapsulation:2}),_})()},75421:(Y,T,l)=>{l.d(T,{u:()=>k});var m=l(10936),i=l(89163),C=l(33887),c=l(48891),f=l(54460),j=l(15343),p=l(76975);const _=()=>({"mr-2 text-danger":!0});function b(v,A){if(1&v&&c.nrm(0,"lucide-icon",10),2&v){const F=c.XpG();c.Y8G("name",F.data.iconName)("ngClass",c.lJ4(2,_))}}function I(v,A){if(1&v&&(c.j41(0,"div",11)(1,"div",3)(2,"span"),c.EFF(3),c.nI1(4,"mytranslate"),c.k0s(),c.j41(5,"b"),c.EFF(6),c.k0s(),c.j41(7,"span"),c.EFF(8),c.nI1(9,"mytranslate"),c.k0s()(),c.j41(10,"div",12),c.nrm(11,"input",13),c.k0s()()),2&v){const F=c.XpG();c.R7$(3),c.JRh(c.bMT(4,4,"lang_azt_enter")+" "),c.R7$(3),c.JRh('"'+F.data.textConfirm+'" '),c.R7$(2),c.JRh(c.bMT(9,6,"lang_azt_for_delete_data")),c.R7$(3),c.Y8G("formControl",F.confirmValue)}}let k=(()=>{var v;class A extends C._{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(O,t){super(t,O),this.dialogRef=O,this.data=t,this.confirmValue=new m.MJ("",{nonNullable:!0})}}return(v=A).\u0275fac=function(O){return new(O||v)(c.rXU(i.CP,8),c.rXU(i.Vh,8))},v.\u0275cmp=c.VBU({type:v,selectors:[["azt-dialog-danger"]],features:[c.Vt3],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md"],["size","24",3,"name","ngClass",4,"ngIf"],[1,"text-md",3,"innerHtml"],["class","mt-3",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click","disabled"],["size","24",3,"name","ngClass"],[1,"mt-3"],[1,"mt-2"],["type","text",1,"form-control",3,"formControl"]],template:function(O,t){1&O&&(c.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),c.DNE(4,b,1,3,"lucide-icon",4),c.nrm(5,"span",5),c.k0s(),c.DNE(6,I,12,8,"div",6),c.k0s()(),c.j41(7,"div",7)(8,"button",8),c.bIt("click",function(){return t.btnCloseDialog()}),c.EFF(9),c.nI1(10,"mytranslate"),c.k0s(),c.j41(11,"button",9),c.bIt("click",function(){return t.confirmDialog()}),c.EFF(12),c.nI1(13,"mytranslate"),c.k0s()()()),2&O&&(c.R7$(4),c.Y8G("ngIf",t.data.iconName),c.R7$(),c.Y8G("innerHtml",t.data.content,c.npT),c.R7$(),c.Y8G("ngIf",t.data.textConfirm),c.R7$(3),c.SpI(" ",c.bMT(10,6,"lang_auto_huy")," "),c.R7$(2),c.Y8G("disabled",t.data.textConfirm&&t.data.textConfirm!==t.confirmValue.value),c.R7$(),c.SpI(" ",c.bMT(13,8,"lang_auto_xac_nhan")," "))},dependencies:[f.YU,f.bT,m.me,m.BC,m.l_,j.WGl,p.wp],encapsulation:2}),A})()},20013:(Y,T,l)=>{l.d(T,{T:()=>_});var m=l(48891),i=l(9516),C=l(54460),c=l(52811);const f=["*"];function j(b,I){1&b&&m.SdG(0,0,["*ngIf","!isUploadFile"])}function p(b,I){1&b&&(m.j41(0,"span",5),m.nrm(1,"azt-loading-ui"),m.k0s())}let _=(()=>{var b;class I extends i.L{constructor(){super(...arguments),this.uploadComplete=new m.bkB}emitUploadComplete(v){v.length>0&&this.uploadComplete.emit(v[0])}}return(b=I).\u0275fac=(()=>{let k;return function(A){return(k||(k=m.xGo(b)))(A||b)}})(),b.\u0275cmp=m.VBU({type:b,selectors:[["azt-upload-single-box"]],outputs:{uploadComplete:"uploadComplete"},features:[m.Vt3],ngContentSelectors:f,decls:6,vars:3,consts:[["formChoseFile",""],[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[4,"ngIf"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"w-4","h-4","inline-block"]],template:function(v,A){if(1&v){const F=m.RV6();m.NAR(),m.j41(0,"div",1),m.bIt("click",function(){m.eBV(F);const t=m.sdS(2);return m.Njj(A.onOpenFileDictionary()&&t.click())}),m.j41(1,"input",2,0),m.bIt("change",function(t){return m.eBV(F),m.Njj(A.onFileSelected(t))})("cancel",function(t){return m.eBV(F),m.Njj(A.onCancelSelect(t))}),m.k0s(),m.DNE(3,j,1,0,"ng-content",3),m.j41(4,"div"),m.DNE(5,p,2,0,"span",4),m.k0s()()}2&v&&(m.R7$(),m.FS9("accept",A.fileType),m.R7$(2),m.Y8G("ngIf",!A.isUploadFile),m.R7$(2),m.Y8G("ngIf",A.isUploadFile))},dependencies:[C.bT,c.R],encapsulation:2}),I})()},89121:(Y,T,l)=>{l.d(T,{z:()=>c});var m=l(59640),i=l(48891),C=l(65162);let c=(()=>{var f;class j extends m.H{constructor(){super(...arguments),this.id="default-id"}}return(f=j).\u0275fac=(()=>{let p;return function(b){return(p||(p=i.xGo(f)))(b||f)}})(),f.\u0275cmp=i.VBU({type:f,selectors:[["app-common-master-page"]],inputs:{id:"id"},features:[i.Vt3],decls:2,vars:1,consts:[[3,"id"]],template:function(_,b){1&_&&(i.j41(0,"div",0),i.nrm(1,"router-outlet"),i.k0s()),2&_&&i.FS9("id",b.id)},dependencies:[C.n3],encapsulation:2}),j})()},46519:(Y,T,l)=>{l.r(T),l.d(T,{AzotaAdsModule:()=>en});var m=l(54460),i=l(10936),C=l(65162),c=l(69223),f=l(15343),j=l(10123),p=l(44233),_=l(5502),b=l(21656),I=l(70050),k=l(7050),v=l(35143),A=l(43234),F=l(1133),O=l(89121),t=l(48891),G=l(59640),L=l(15766),tt=l(15255),E=l(40967),It=l(53793);let at=(()=>{var e;class r{constructor(){this.commonListService=(0,t.WQX)(tt.Nz),this.commonService=(0,t.WQX)(It.R)}getSchoolLevelAndSubjects(n){this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(o=>{o.success||(this.commonService.snackError(o.message),n([],[],[],[],!1));let s=o.data?.schoolLevelSubjectObjs.map(y=>y.schoolLevel).filter(this.commonService.notEmpty)??[],d=this.commonService.concatMultipleArray(o.data?.schoolLevelSubjectObjs.map(y=>y.schoolSubjectObjs)??[]),u=this.commonService.uniqueArray(s.map(y=>y.key).filter(this.commonService.notEmpty)),S=this.commonService.uniqueArray(d.map(y=>y.key).filter(this.commonService.notEmpty));u=u.filter(y=>"azt_lang_core_khoi_khac"!=y),S=S.filter(y=>"azt_lang_core_khoi_khac"!=y),n(s,d,u,S,!0)})}getSelectedLevelAndSubjects(n,o,s){let d=n.filter(h=>"level"==h.filterType).map(h=>h.filterObjectId),u=n.filter(h=>"subject"==h.filterType).map(h=>h.filterObjectId);return{selectedSchoolLevels:this.commonService.uniqueArray(o.filter(h=>d?.includes(h.id)).map(h=>h.key).filter(this.commonService.notEmpty)),selectedSchoolSubjects:this.commonService.uniqueArray(s.filter(h=>u?.includes(h.id)).map(h=>h.key).filter(this.commonService.notEmpty))}}}return(e=r).\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),r})(),ot=(()=>{var e;class r extends G.H{changeProvince(n){if(!n)return this.form.controls.provinceIds.setValue([]);this.form.controls.provinceIds.setValue(this.allProvinceObjs.map(o=>o.id))}changeSchoolLevel(n){if(!n)return this.form.controls.schoolLevels.setValue([]);this.form.controls.schoolLevels.setValue(this.allSchoolLevels)}changeSchoolSubject(n){if(!n)return this.form.controls.schoolSubjects.setValue([]);this.form.controls.schoolSubjects.setValue(this.allSchoolSubjects)}handleDestroy(){this.myNavigation(this.backToLink)}addNewFieldForm(){this.form.controls.attributesList.push(this.createFieldForm("","",""))}removeFileForm(n){this.form.controls.attributesList.removeAt(n)}createFieldForm(n,o,s,d){return new i.gE({id:new i.MJ(d,{nonNullable:!0}),displayName:new i.MJ(n,{nonNullable:!0,validators:[i.k0.required,L.M.noWhiteSpace]}),variableName:new i.MJ(o,{nonNullable:!0,validators:[i.k0.required,L.M.noWhiteSpace]}),description:new i.MJ(s,{nonNullable:!0})})}ngOnInit(){super.ngOnInit()}constructor(){super(),this.commonListService=(0,t.WQX)(tt.Nz),this.sAztCategoryAdsService=(0,t.WQX)(at),this.categoryService=(0,t.WQX)(E.M$),this.activeRoute=(0,t.WQX)(C.nX),this.backToLink="",this.categoryId=0,this.listPositions=this.commonService.getEnumValues(E.rA),this.allProvinceObjs=[],this.allSchoolLevels=[],this.allSchoolSubjects=[],this.allSchoolLevelObjs=[],this.allSchoolSubjectObjs=[],this.form=new i.gE({name:new i.MJ("",{nonNullable:!0,validators:[i.k0.required,L.M.noWhiteSpace]}),adsPosition:new i.MJ(E.rA.ALLPOSITION,{nonNullable:!0,validators:[i.k0.required]}),desc:new i.MJ("",{nonNullable:!0}),attributesList:new i.Yp([]),schoolLevels:new i.MJ([],{nonNullable:!0}),schoolSubjects:new i.MJ([],{nonNullable:!0}),provinceIds:new i.MJ([],{nonNullable:!0})})}}return(e=r).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["base-ads-category-form"]],features:[t.Vt3],decls:0,vars:0,template:function(n,o){},encapsulation:2}),r})();var w=l(47426),J=l(95670),X=l(4375),rt=l(81587),W=l(43166),x=l(96451),R=l(76975);const jt=()=>({"mr-1":!0}),st=e=>({"border-danger":e});function At(e,r){1&e&&(t.j41(0,"div",31)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("",t.bMT(3,1,"lang_azt_please_enter_category_name"),"!"))}function St(e,r){if(1&e&&(t.j41(0,"mat-option",32),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.Y8G("value",a),t.R7$(),t.SpI(" ",a," ")}}function Tt(e,r){1&e&&(t.j41(0,"div",31)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("",t.bMT(3,1,"lang_azt_please_enter_information_field"),"!"))}function Ft(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",33),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.changeSchoolLevel(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_select_all")))}function kt(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",33),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.changeSchoolLevel(!1))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_remove_all")))}function Ot(e,r){if(1&e&&(t.j41(0,"mat-option",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const a=r.$implicit;t.Y8G("value",a),t.R7$(),t.JRh(t.bMT(2,2,a))}}function Rt(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",33),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.changeSchoolSubject(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_select_all")))}function Et(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",33),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.changeSchoolSubject(!1))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_remove_all")))}function $t(e,r){if(1&e&&(t.j41(0,"mat-option",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const a=r.$implicit;t.Y8G("value",a),t.R7$(),t.JRh(t.bMT(2,2,a))}}function zt(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",33),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.changeProvince(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_select_all")))}function Mt(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",33),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.changeProvince(!1))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_remove_all")))}function Lt(e,r){if(1&e&&(t.j41(0,"mat-option",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const a=r.$implicit;t.Y8G("value",a.id),t.R7$(),t.JRh(t.bMT(2,2,a.name))}}function Gt(e,r){if(1&e){const a=t.RV6();t.j41(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",22)(4,"span",37),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.nrm(7,"input",38),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",39)(10,"button",40),t.bIt("click",function(){const o=t.eBV(a).index,s=t.XpG();return t.Njj(s.removeFileForm(o))}),t.nrm(11,"lucide-icon",41),t.k0s()()(),t.j41(12,"div",42)(13,"div",8)(14,"div",43),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.nrm(17,"input",44),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"div",11)(20,"label",45),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"div",8),t.nrm(24,"textarea",46),t.nI1(25,"mytranslate"),t.k0s()()()()()}if(2&e){const a=r.$implicit;t.R7$(),t.Y8G("formGroup",a),t.R7$(4),t.SpI(" ",t.bMT(6,9,"lang_azt_field_name")," "),t.R7$(2),t.FS9("placeholder",t.bMT(8,11,"lang_azt_field_name")+"..."),t.Y8G("ngClass",t.eq3(21,st,a.controls.displayName.errors&&a.controls.displayName.touched)),t.R7$(8),t.SpI(" ",t.bMT(16,13,"lang_azt_variable_name")," "),t.R7$(2),t.FS9("placeholder",t.bMT(18,15,"lang_azt_variable_name")+"..."),t.Y8G("ngClass",t.eq3(23,st,a.controls.variableName.errors&&a.controls.variableName.touched)),t.R7$(4),t.JRh(t.bMT(22,17,"lang_azt_field_description")),t.R7$(3),t.FS9("placeholder",t.bMT(25,19,"lang_azt_field_description")+"...")}}let xt=(()=>{var e;class r extends ot{saveAdsCategory(){if(this.form.invalid)return this.form.markAllAsTouched();this.initStatusObj();const n=this.convertFormToParam();this.waitDestroy(this.categoryService.apiCategoryCreateCategoryPost(n).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_cms_add_success",!0),this.handleDestroy()}))}convertFormToParam(){const{attributesList:n,name:o,adsPosition:s,desc:d,schoolLevels:u,schoolSubjects:S,provinceIds:y}=this.form.controls,h=n.controls.map(g=>({displayName:g.controls.displayName.value,variableName:g.controls.variableName.value.toUpperCase(),description:g.controls.description.value}));let N=this.commonService.uniqueArray(this.allSchoolLevelObjs.filter(g=>u.value.includes(g?.key??"")).map(g=>g.id)),D=this.commonService.uniqueArray(this.allSchoolSubjectObjs.filter(g=>S.value.includes(g?.key??"")).map(g=>g.id)),U=N.map(g=>({filterType:"level",filterObjectId:g})),H=D.map(g=>({filterType:"subject",filterObjectId:g})),$=y.value.map(g=>({filterType:"province",filterObjectId:g})),z=U;return z=z.concat(H),z=z.concat($),{name:o.value,position:s.value,description:d.value,attributes:h,filterOptions:z}}initData(){this.initStatusObj(),this.commonListService.apiCommonListProvincesGet().subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.allProvinceObjs=n.data?.objs??[],this.sAztCategoryAdsService.getSchoolLevelAndSubjects((o,s,d,u,S)=>{if(!S)return this.stopStatusObj();this.allSchoolLevelObjs=o,this.allSchoolSubjectObjs=s,this.allSchoolLevels=d,this.allSchoolSubjects=u,this.successStatusObj()})})}ngOnInit(){super.ngOnInit(),this.backToLink=this.commonService.getMyQueryParam("backto")??"/azota-ads/ads-category",this.initData()}constructor(){super()}}return(e=r).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["create-ads-category"]],features:[t.Vt3],decls:87,vars:67,consts:[["searchInListPosition","searchInList"],[3,"headerBackToLink"],[1,"mt-5"],[1,"text-md","uppercase","font-medium"],[1,"box","mt-4","p-5"],[3,"formGroup"],[1,"azt-form-group"],["for","name",1,"form-label","font-medium"],[1,"input-group"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],["class","text-danger text-xs font-medium mt-2",4,"ngIf"],[1,"azt-form-group","mt-3"],["id","bankIdInput","appearance","outline"],["searchInList","",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["for","desc",1,"form-label","font-medium"],["formControlName","desc","name","desc","id","desc",1,"form-control",2,"height","80px",3,"placeholder"],[1,"form-label","font-medium","mb-3"],["class","link-color clickable",3,"click",4,"ngIf"],[1,"w-full","mat-multiple-select-box"],["multiple","",3,"formControl"],[1,"flex","items-center"],["for","name",1,"font-medium","mr-2"],[1,"link-color","clickable","flex","items-center",3,"click"],["name","plus","size","18",3,"ngClass"],[1,"grid","grid-cols-12","gap-4","mt-3"],["class","col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"flex","ml-auto","w-full","justify-end","mt-3"],["type","button",1,"btn","btn-secondary","min-width-100","mr-2",3,"click"],[1,"btn","btn-primary","min-width-100",3,"click"],[1,"text-danger","text-xs","font-medium","mt-2"],[3,"value"],[1,"link-color","clickable",3,"click"],[1,"col-span-12","md:col-span-6"],[1,"border","border-slate-200","dark:border-darkmode-400","rounded-md","pb-1",3,"formGroup"],[1,"p-2","bg-slate-100","dark:bg-darkmode-400","flex","items-center"],[1,"mr-2"],["type","text","formControlName","displayName",1,"form-control","form-control-sm",2,"width","9rem",3,"ngClass","placeholder"],[1,"ml-auto"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],["name","trash-2","size","18"],[1,"p-3"],[1,"input-group-text","whitespace-nowrap",2,"width","125px"],["type","text","formControlName","variableName",1,"form-control","form-control-sm",3,"ngClass","placeholder"],["for","name",1,"form-label"],["type","text","formControlName","description",1,"form-control","form-control-sm",2,"height","60px",3,"placeholder"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"teacher-layout",1)(1,"div",2)(2,"h3",3),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",4)(6,"form",5)(7,"div",6)(8,"label",7),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",8),t.nrm(12,"input",9),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,At,4,3,"div",10),t.k0s(),t.j41(15,"div",11)(16,"label",7),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"mat-form-field",12)(20,"mat-select",13,0)(22,"mat-option"),t.nrm(23,"ngx-mat-select-search",14),t.nI1(24,"mytranslate"),t.nI1(25,"mytranslate"),t.k0s(),t.DNE(26,St,2,2,"mat-option",15),t.k0s()()(),t.j41(27,"div",11)(28,"label",16),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"div",8),t.nrm(32,"textarea",17),t.nI1(33,"mytranslate"),t.k0s(),t.DNE(34,Tt,4,3,"div",10),t.k0s(),t.j41(35,"div",11)(36,"label",18),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.EFF(39," ( "),t.DNE(40,Ft,3,3,"span",19)(41,kt,3,3,"span",19),t.EFF(42," ) "),t.j41(43,"mat-form-field",20)(44,"mat-select",21),t.DNE(45,Ot,3,4,"mat-option",15),t.k0s()()(),t.j41(46,"div",11)(47,"label",18),t.EFF(48),t.nI1(49,"mytranslate"),t.k0s(),t.EFF(50," ( "),t.DNE(51,Rt,3,3,"span",19)(52,Et,3,3,"span",19),t.EFF(53," ) "),t.j41(54,"mat-form-field",20)(55,"mat-select",21),t.DNE(56,$t,3,4,"mat-option",15),t.k0s()()(),t.j41(57,"div",11)(58,"label",18),t.EFF(59),t.nI1(60,"mytranslate"),t.k0s(),t.EFF(61," ( "),t.DNE(62,zt,3,3,"span",19)(63,Mt,3,3,"span",19),t.EFF(64," ) "),t.j41(65,"mat-form-field",20)(66,"mat-select",21),t.DNE(67,Lt,3,4,"mat-option",15),t.k0s()()(),t.j41(68,"div",11)(69,"div",22)(70,"label",23),t.EFF(71),t.nI1(72,"mytranslate"),t.k0s(),t.j41(73,"span",24),t.bIt("click",function(){return t.eBV(s),t.Njj(o.addNewFieldForm())}),t.nrm(74,"lucide-icon",25),t.EFF(75),t.nI1(76,"mytranslate"),t.k0s()(),t.j41(77,"div",26),t.DNE(78,Gt,26,25,"div",27),t.k0s()()()(),t.j41(79,"div",28)(80,"button",29),t.bIt("click",function(){return t.eBV(s),t.Njj(o.handleDestroy())}),t.EFF(81),t.nI1(82,"mytranslate"),t.k0s(),t.j41(83,"button",30),t.bIt("click",function(){return t.eBV(s),t.Njj(o.saveAdsCategory())}),t.j41(84,"span"),t.EFF(85),t.nI1(86,"mytranslate"),t.k0s()()()()()}if(2&n){const s=t.sdS(21);t.Y8G("headerBackToLink",o.backToLink),t.R7$(3),t.SpI(" ",t.bMT(4,36,"lang_azt_add_category")," "),t.R7$(3),t.Y8G("formGroup",o.form),t.R7$(3),t.JRh(t.bMT(10,38,"lang_azt_category_name")),t.R7$(3),t.FS9("placeholder",t.bMT(13,40,"lang_azt_enter_category_name")),t.R7$(2),t.Y8G("ngIf",o.form.controls.name.errors&&o.form.controls.name.touched),t.R7$(3),t.JRh(t.bMT(18,42,"lang_azt_category_ads_position")),t.R7$(3),t.Y8G("formControl",o.form.controls.adsPosition),t.R7$(3),t.FS9("placeholderLabel",t.bMT(24,44,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(25,46,"lang_search_not_found")),t.Y8G("formControl",s.searchControl),t.R7$(3),t.Y8G("ngForOf",s.filter(o.listPositions,void 0)),t.R7$(3),t.JRh(t.bMT(30,48,"lang_auto_mo_ta")),t.R7$(3),t.FS9("placeholder",t.bMT(33,50,"lang_core_nhap_mo_ta")),t.R7$(2),t.Y8G("ngIf",o.form.controls.desc.errors&&o.form.controls.desc.touched),t.R7$(3),t.JRh(t.bMT(38,52,"lang_admin_ads_select_school_level")),t.R7$(3),t.Y8G("ngIf",!o.form.controls.schoolLevels.value.length),t.R7$(),t.Y8G("ngIf",o.form.controls.schoolLevels.value.length),t.R7$(3),t.Y8G("formControl",o.form.controls.schoolLevels),t.R7$(),t.Y8G("ngForOf",o.allSchoolLevels),t.R7$(3),t.JRh(t.bMT(49,54,"lang_admin_ads_select_school_subject")),t.R7$(3),t.Y8G("ngIf",!o.form.controls.schoolSubjects.value.length),t.R7$(),t.Y8G("ngIf",o.form.controls.schoolSubjects.value.length),t.R7$(3),t.Y8G("formControl",o.form.controls.schoolSubjects),t.R7$(),t.Y8G("ngForOf",o.allSchoolSubjects),t.R7$(3),t.JRh(t.bMT(60,56,"lang_admin_ads_select_province")),t.R7$(3),t.Y8G("ngIf",!o.form.controls.provinceIds.value.length),t.R7$(),t.Y8G("ngIf",o.form.controls.provinceIds.value.length),t.R7$(3),t.Y8G("formControl",o.form.controls.provinceIds),t.R7$(),t.Y8G("ngForOf",o.allProvinceObjs),t.R7$(4),t.JRh(t.bMT(72,58,"lang_azt_information_field")),t.R7$(3),t.Y8G("ngClass",t.lJ4(66,jt)),t.R7$(),t.SpI(" ",t.bMT(76,60,"lang_azt_add_information_field")," "),t.R7$(3),t.Y8G("ngForOf",o.form.controls.attributesList.controls),t.R7$(3),t.SpI(" ",t.bMT(82,62,"lang_button_cancel")," "),t.R7$(4),t.JRh(t.bMT(86,64,"lang_button_save"))}},dependencies:[m.YU,m.Sq,m.bT,i.qT,i.me,i.BC,i.cb,w.wT,J.rl,X.VO,i.l_,i.j4,i.JD,rt.t,W.x,x.Q,f.WGl,p.U9,R.wp],encapsulation:2}),r})();var K=l(82653),P=l(18718);const it=e=>({"border-danger":e});function Nt(e,r){if(1&e&&t.nrm(0,"azt-loading-effect",4),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function Dt(e,r){1&e&&(t.j41(0,"div",33)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("",t.bMT(3,1,"lang_azt_please_enter_category_name"),"!"))}function Ut(e,r){if(1&e&&(t.j41(0,"mat-option",34),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.Y8G("value",a),t.R7$(),t.SpI(" ",a," ")}}function Yt(e,r){1&e&&(t.j41(0,"div",33)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI("",t.bMT(3,1,"lang_azt_please_enter_information_field"),"!"))}function Pt(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",35),t.bIt("click",function(){t.eBV(a);const o=t.XpG(2);return t.Njj(o.changeSchoolLevel(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_select_all")))}function Vt(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",35),t.bIt("click",function(){t.eBV(a);const o=t.XpG(2);return t.Njj(o.changeSchoolLevel(!1))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_remove_all")))}function Bt(e,r){if(1&e&&(t.j41(0,"mat-option",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const a=r.$implicit;t.Y8G("value",a),t.R7$(),t.JRh(t.bMT(2,2,a))}}function wt(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",35),t.bIt("click",function(){t.eBV(a);const o=t.XpG(2);return t.Njj(o.changeSchoolSubject(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_select_all")))}function Jt(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",35),t.bIt("click",function(){t.eBV(a);const o=t.XpG(2);return t.Njj(o.changeSchoolSubject(!1))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_remove_all")))}function Xt(e,r){if(1&e&&(t.j41(0,"mat-option",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const a=r.$implicit;t.Y8G("value",a),t.R7$(),t.JRh(t.bMT(2,2,a))}}function Wt(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",35),t.bIt("click",function(){t.eBV(a);const o=t.XpG(2);return t.Njj(o.changeProvince(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_select_all")))}function Kt(e,r){if(1&e){const a=t.RV6();t.j41(0,"span",35),t.bIt("click",function(){t.eBV(a);const o=t.XpG(2);return t.Njj(o.changeProvince(!1))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_remove_all")))}function Qt(e,r){if(1&e&&(t.j41(0,"mat-option",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e){const a=r.$implicit;t.Y8G("value",a.id),t.R7$(),t.JRh(t.bMT(2,2,a.name))}}function Ht(e,r){1&e&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_admin_ads_category_attributes_are_empty")))}function Zt(e,r){if(1&e){const a=t.RV6();t.j41(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"span",40),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.nrm(7,"input",41),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",42)(10,"button",43),t.bIt("click",function(){const o=t.eBV(a).index,s=t.XpG(2);return t.Njj(s.removeFileForm(o))}),t.j41(11,"span",44),t.nrm(12,"lucide-icon",45),t.k0s()()()(),t.j41(13,"div",46)(14,"div",11)(15,"div",47),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.nrm(18,"input",48),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"div",14)(21,"label",49),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"div",11),t.nrm(25,"textarea",50),t.nI1(26,"mytranslate"),t.k0s()()()()()}if(2&e){const a=r.$implicit;t.R7$(),t.Y8G("formGroup",a),t.R7$(4),t.SpI(" ",t.bMT(6,9,"lang_azt_field_name")," "),t.R7$(2),t.FS9("placeholder",t.bMT(8,11,"lang_azt_field_name")+"..."),t.Y8G("ngClass",t.eq3(21,it,a.controls.displayName.errors&&a.controls.displayName.touched)),t.R7$(9),t.SpI(" ",t.bMT(17,13,"lang_azt_variable_name")," "),t.R7$(2),t.FS9("placeholder",t.bMT(19,15,"lang_azt_variable_name")+"..."),t.Y8G("ngClass",t.eq3(23,it,a.controls.variableName.errors&&a.controls.variableName.touched)),t.R7$(4),t.JRh(t.bMT(23,17,"lang_azt_field_description")),t.R7$(3),t.FS9("placeholder",t.bMT(26,19,"lang_azt_field_description")+"...")}}function qt(e,r){if(1&e){const a=t.RV6();t.j41(0,"div",5)(1,"h3",6),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",7)(5,"form",8)(6,"div",9)(7,"label",10),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",11),t.nrm(11,"input",12),t.nI1(12,"mytranslate"),t.k0s(),t.DNE(13,Dt,4,3,"div",13),t.k0s(),t.j41(14,"div",14)(15,"label",10),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"mat-form-field",15)(19,"mat-select",16,1)(21,"mat-option"),t.nrm(22,"ngx-mat-select-search",17),t.nI1(23,"mytranslate"),t.nI1(24,"mytranslate"),t.k0s(),t.DNE(25,Ut,2,2,"mat-option",18),t.k0s()()(),t.j41(26,"div",14)(27,"label",19),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s(),t.j41(30,"div",11),t.nrm(31,"textarea",20),t.nI1(32,"mytranslate"),t.k0s(),t.DNE(33,Yt,4,3,"div",13),t.k0s(),t.j41(34,"div",14)(35,"label",21),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s(),t.EFF(38," ( "),t.DNE(39,Pt,3,3,"span",22)(40,Vt,3,3,"span",22),t.EFF(41," ) "),t.j41(42,"mat-form-field",23)(43,"mat-select",24),t.DNE(44,Bt,3,4,"mat-option",18),t.k0s()()(),t.j41(45,"div",14)(46,"label",21),t.EFF(47),t.nI1(48,"mytranslate"),t.k0s(),t.EFF(49," ( "),t.DNE(50,wt,3,3,"span",22)(51,Jt,3,3,"span",22),t.EFF(52," ) "),t.j41(53,"mat-form-field",23)(54,"mat-select",24),t.DNE(55,Xt,3,4,"mat-option",18),t.k0s()()(),t.j41(56,"div",14)(57,"label",21),t.EFF(58),t.nI1(59,"mytranslate"),t.k0s(),t.EFF(60," ( "),t.DNE(61,Wt,3,3,"span",22)(62,Kt,3,3,"span",22),t.EFF(63," ) "),t.j41(64,"mat-form-field",23)(65,"mat-select",24),t.DNE(66,Qt,3,4,"mat-option",18),t.k0s()()(),t.j41(67,"div",14)(68,"div",25)(69,"label",26),t.EFF(70),t.nI1(71,"mytranslate"),t.k0s()(),t.DNE(72,Ht,3,3,"div",27),t.j41(73,"div",28),t.DNE(74,Zt,27,25,"div",29),t.k0s()()()(),t.j41(75,"div",30)(76,"button",31),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.handleDestroy())}),t.EFF(77),t.nI1(78,"mytranslate"),t.k0s(),t.j41(79,"button",32),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.updateAdsCategory())}),t.j41(80,"span"),t.EFF(81),t.nI1(82,"mytranslate"),t.k0s()()()()}if(2&e){const a=t.sdS(20),n=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,34,"lang_azt_update_category")," "),t.R7$(3),t.Y8G("formGroup",n.form),t.R7$(3),t.JRh(t.bMT(9,36,"lang_azt_category_name")),t.R7$(3),t.FS9("placeholder",t.bMT(12,38,"lang_azt_enter_category_name")),t.R7$(2),t.Y8G("ngIf",n.form.controls.name.errors&&n.form.controls.name.touched),t.R7$(3),t.JRh(t.bMT(17,40,"lang_azt_category_ads_position")),t.R7$(3),t.Y8G("formControl",n.form.controls.adsPosition),t.R7$(3),t.FS9("placeholderLabel",t.bMT(23,42,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(24,44,"lang_search_not_found")),t.Y8G("formControl",a.searchControl),t.R7$(3),t.Y8G("ngForOf",a.filter(n.listPositions,void 0)),t.R7$(3),t.JRh(t.bMT(29,46,"lang_auto_mo_ta")),t.R7$(3),t.FS9("placeholder",t.bMT(32,48,"lang_core_nhap_mo_ta")),t.R7$(2),t.Y8G("ngIf",n.form.controls.desc.errors&&n.form.controls.desc.touched),t.R7$(3),t.JRh(t.bMT(37,50,"lang_admin_ads_select_school_level")),t.R7$(3),t.Y8G("ngIf",!n.form.controls.schoolLevels.value.length),t.R7$(),t.Y8G("ngIf",n.form.controls.schoolLevels.value.length),t.R7$(3),t.Y8G("formControl",n.form.controls.schoolLevels),t.R7$(),t.Y8G("ngForOf",n.allSchoolLevels),t.R7$(3),t.JRh(t.bMT(48,52,"lang_admin_ads_select_school_subject")),t.R7$(3),t.Y8G("ngIf",!n.form.controls.schoolSubjects.value.length),t.R7$(),t.Y8G("ngIf",n.form.controls.schoolSubjects.value.length),t.R7$(3),t.Y8G("formControl",n.form.controls.schoolSubjects),t.R7$(),t.Y8G("ngForOf",n.allSchoolSubjects),t.R7$(3),t.JRh(t.bMT(59,54,"lang_admin_ads_select_province")),t.R7$(3),t.Y8G("ngIf",!n.form.controls.provinceIds.value.length),t.R7$(),t.Y8G("ngIf",n.form.controls.provinceIds.value.length),t.R7$(3),t.Y8G("formControl",n.form.controls.provinceIds),t.R7$(),t.Y8G("ngForOf",n.allProvinceObjs),t.R7$(4),t.JRh(t.bMT(71,56,"lang_azt_information_field")),t.R7$(2),t.Y8G("ngIf",!n.form.controls.attributesList.controls.length),t.R7$(2),t.Y8G("ngForOf",n.form.controls.attributesList.controls),t.R7$(3),t.SpI(" ",t.bMT(78,58,"lang_button_cancel")," "),t.R7$(4),t.JRh(t.bMT(82,60,"lang_button_update"))}}let te=(()=>{var e;class r extends ot{updateAdsCategory(){if(this.form.invalid)return this.form.markAllAsTouched();const n=this.convertFormToParam();this.waitDestroy(this.categoryService.apiCategoryUpdateCategoryPut(n,this.categoryId).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj("lang_cms_update_success",!0),this.handleDestroy()}))}getData(){this.initStatusObj(),this.waitDestroy((0,K.p)([this.categoryService.apiCategoryGetCategoryGet(this.categoryId),this.commonListService.apiCommonListProvincesGet()]).subscribe(([n,o])=>{if(!n.success)return this.errorStatusObj(n.message,!0);if(!o.success)return this.errorStatusObj(o.message,!0);this.allProvinceObjs=o.data?.objs??[];const s=n.data;this.form.controls.name.setValue(s?.name??""),this.form.controls.adsPosition.setValue(this.commonService.getEnumTypeWithDefault(E.rA,s?.position??"",E.rA.ALLPOSITION)),this.form.controls.desc.setValue(s?.description??""),s?.attributes?.forEach(u=>{this.form.controls.attributesList.push(this.createFieldForm(u.displayName,u.variableName,u.description??"",u.id))});let d=(s?.filters??[]).filter(u=>"province"==u.filterType).map(u=>u.filterObjectId).filter(this.commonService.notEmpty);this.form.controls.provinceIds.setValue(d),this.sAztCategoryAdsService.getSchoolLevelAndSubjects((u,S,y,h,N)=>{if(!N)return this.stopStatusObj();this.allSchoolLevelObjs=u,this.allSchoolSubjectObjs=S,this.allSchoolLevels=y,this.allSchoolSubjects=h;const{selectedSchoolLevels:D,selectedSchoolSubjects:U}=this.sAztCategoryAdsService.getSelectedLevelAndSubjects(s?.filters??[],u,S);this.form.controls.schoolLevels.setValue(D),this.form.controls.schoolSubjects.setValue(U),this.successStatusObj()})}))}convertFormToParam(){const{attributesList:n,name:o,adsPosition:s,desc:d,schoolLevels:u,schoolSubjects:S,provinceIds:y}=this.form.controls,h=n.controls.map(g=>({id:g.controls.id?.value??0,displayName:g.controls.displayName.value,variableName:g.controls.variableName.value.toUpperCase(),description:g.controls.description.value}));let N=this.commonService.uniqueArray(this.allSchoolLevelObjs.filter(g=>u.value.includes(g?.key??"")).map(g=>g.id)),D=this.commonService.uniqueArray(this.allSchoolSubjectObjs.filter(g=>S.value.includes(g?.key??"")).map(g=>g.id)),U=N.map(g=>({filterType:"level",filterObjectId:g})),H=D.map(g=>({filterType:"subject",filterObjectId:g})),$=y.value.map(g=>({filterType:"province",filterObjectId:g})),z=U;return z=z.concat(H),z=z.concat($),{name:o.value,position:s.value,description:d.value,attributes:h,filterOptions:z}}ngOnInit(){super.ngOnInit(),this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"categoryId")??0),this.backToLink=this.commonService.getMyQueryParam("backto")??"/azota-ads/ads-category",this.getData()}constructor(){super()}}return(e=r).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["update-ads-category"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["searchInListPosition","searchInList"],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"mt-5"],[1,"text-md","uppercase","font-medium"],[1,"box","mt-4","p-5"],[3,"formGroup"],[1,"azt-form-group"],["for","name",1,"form-label","font-medium"],[1,"input-group"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],["class","text-danger text-xs font-medium mt-2",4,"ngIf"],[1,"azt-form-group","mt-3"],["id","bankIdInput","appearance","outline"],["searchInList","",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["for","desc",1,"form-label","font-medium"],["formControlName","desc","name","desc","id","desc",1,"form-control",2,"height","80px",3,"placeholder"],[1,"form-label","font-medium","mb-3"],["class","link-color clickable",3,"click",4,"ngIf"],[1,"w-full","mat-multiple-select-box"],["multiple","",3,"formControl"],[1,"flex","flex-col","sm:flex-row","sm:items-center"],["for","name",1,"form-label","font-medium","mr-2"],[4,"ngIf"],[1,"grid","grid-cols-12","gap-4","mt-3"],["class","col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"flex","ml-auto","w-full","justify-end","mt-3"],["type","button",1,"btn","btn-secondary","min-width-100","mr-2",3,"click"],[1,"btn","btn-primary","min-width-100",3,"click"],[1,"text-danger","text-xs","font-medium","mt-2"],[3,"value"],[1,"link-color","clickable",3,"click"],[1,"col-span-12","md:col-span-6"],[1,"border","border-slate-200","dark:border-darkmode-400","rounded-md","pb-1",3,"formGroup"],[1,"p-2","bg-slate-100","dark:bg-darkmode-400","flex","items-center"],[1,"flex","items-center"],[1,"mr-2"],["type","text","formControlName","displayName",1,"form-control","form-control-sm",2,"width","9rem",3,"ngClass","placeholder"],[1,"ml-auto"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"w-4","h-4","inline-block"],["name","trash-2","size","18"],[1,"p-3"],[1,"input-group-text","whitespace-nowrap",2,"width","125px"],["type","text","formControlName","variableName",1,"form-control","form-control-sm",3,"ngClass","placeholder"],["for","name",1,"form-label"],["type","text","formControlName","description",1,"form-control","form-control-sm",2,"height","60px",3,"placeholder"]],template:function(n,o){if(1&n&&(t.j41(0,"teacher-layout",2),t.DNE(1,Nt,1,1,"azt-loading-effect",3)(2,qt,83,62,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(3);t.Y8G("headerBackToLink",o.backToLink),t.R7$(),t.Y8G("ngIf",1==o.statusObj.loading)("ngIfElse",s)}},dependencies:[m.YU,m.Sq,m.bT,i.qT,i.me,i.BC,i.cb,w.wT,J.rl,X.VO,i.l_,i.j4,i.JD,P.K,rt.t,W.x,x.Q,f.WGl,p.U9,R.wp],encapsulation:2}),r})();var lt=l(75421),et=l(46899),ct=l(7557);const mt=e=>[e],Q=()=>({"mr-1":!0}),dt=e=>({backTo:e});function ee(e,r){if(1&e&&t.nrm(0,"azt-loading-effect",8),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function ne(e,r){1&e&&(t.j41(0,"span"),t.EFF(1,",\xa0"),t.k0s())}function ae(e,r){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.DNE(3,ne,2,0,"span",26),t.k0s()),2&e){const a=r.$implicit,n=r.last;t.R7$(),t.SpI(" ",t.bMT(2,2,a)," "),t.R7$(2),t.Y8G("ngIf",!n)}}function oe(e,r){if(1&e&&(t.j41(0,"div"),t.DNE(1,ae,4,4,"span",24),t.k0s()),2&e){const a=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",a.schoolLevels)}}function re(e,r){1&e&&(t.j41(0,"span"),t.EFF(1,",\xa0"),t.k0s())}function se(e,r){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.DNE(3,re,2,0,"span",26),t.k0s()),2&e){const a=r.$implicit,n=r.last;t.R7$(),t.SpI(" ",t.bMT(2,2,a)," "),t.R7$(2),t.Y8G("ngIf",!n)}}function ie(e,r){if(1&e&&(t.j41(0,"div"),t.DNE(1,se,4,4,"span",24),t.k0s()),2&e){const a=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",a.schoolSubjects)}}function le(e,r){1&e&&(t.j41(0,"span"),t.EFF(1,",\xa0"),t.k0s())}function ce(e,r){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.DNE(3,le,2,0,"span",26),t.k0s()),2&e){const a=r.$implicit,n=r.last;t.R7$(),t.SpI(" ",t.bMT(2,2,a)," "),t.R7$(2),t.Y8G("ngIf",!n)}}function me(e,r){if(1&e&&(t.j41(0,"div"),t.DNE(1,ce,4,4,"span",24),t.k0s()),2&e){const a=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",a.provinceNames)}}function de(e,r){if(1&e){const a=t.RV6();t.j41(0,"tr")(1,"td",25),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.DNE(5,oe,2,1,"div",26)(6,ie,2,1,"div",26)(7,me,2,1,"div",26),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td",27)(11,"button",28),t.nI1(12,"navigationLocalize"),t.nrm(13,"lucide-icon",29),t.j41(14,"span",30),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"button",31),t.bIt("click",function(){const o=t.eBV(a).$implicit,s=t.XpG(3);return t.Njj(s.handelUpdateAdsCategory(o.id))}),t.nrm(18,"lucide-icon",29),t.j41(19,"span",30),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()(),t.j41(22,"button",32),t.nI1(23,"navigationLocalize"),t.nrm(24,"lucide-icon",33),t.j41(25,"span",30),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s()(),t.j41(28,"button",34),t.bIt("click",function(){const o=t.eBV(a),s=o.$implicit,d=o.index,u=t.XpG(3);return t.Njj(u.handleRemoveAdsCategory(s,d))}),t.nrm(29,"lucide-icon",35),t.j41(30,"span",30),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()()()()}if(2&e){const a=r.$implicit,n=r.index,o=t.XpG(3);t.R7$(2),t.JRh(n+1),t.R7$(2),t.Lme(" ",a.name," - ",a.position," "),t.R7$(),t.Y8G("ngIf",null==a.schoolLevels?null:a.schoolLevels.length),t.R7$(),t.Y8G("ngIf",null==a.schoolSubjects?null:a.schoolSubjects.length),t.R7$(),t.Y8G("ngIf",null==a.provinceNames?null:a.provinceNames.length),t.R7$(2),t.JRh(a.description),t.R7$(2),t.Y8G("routerLink",t.bMT(12,19,"/azota-ads/create-ads-template/"+a.id))("queryParams",t.eq3(31,dt,o.backTo)),t.R7$(2),t.Y8G("ngClass",t.lJ4(33,Q)),t.R7$(2),t.JRh(t.bMT(16,21,"lang_cms_admin_ads_edit_ads_template")),t.R7$(3),t.Y8G("ngClass",t.lJ4(34,Q)),t.R7$(2),t.JRh(t.bMT(21,23,"lang_auto_sua")),t.R7$(2),t.Y8G("routerLink",t.bMT(23,25,"/azota-ads/ads-list/"+a.id))("queryParams",t.eq3(35,dt,o.backTo)),t.R7$(2),t.Y8G("ngClass",t.lJ4(37,Q)),t.R7$(2),t.JRh(t.bMT(27,27,"lang_common_view")),t.R7$(3),t.Y8G("ngClass",t.lJ4(38,Q)),t.R7$(2),t.JRh(t.bMT(32,29,"lang_auto_xoa"))}}function _e(e,r){if(1&e&&(t.qex(0),t.DNE(1,de,33,39,"tr",24),t.bVm()),2&e){const a=t.XpG(2);t.R7$(),t.Y8G("ngForOf",a.adsCategoryList)}}function pe(e,r){1&e&&(t.j41(0,"tr",36)(1,"td",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_homework_homework_list_not_found")," "))}function ue(e,r){if(1&e){const a=t.RV6();t.j41(0,"div",9)(1,"div",10)(2,"h3",11),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",12)(6,"button",13),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.handelCreateAdsCategory())}),t.j41(7,"span",14),t.nrm(8,"lucide-icon",15),t.k0s(),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()(),t.j41(11,"div",16)(12,"div",17)(13,"drag-scroll")(14,"table",18)(15,"thead")(16,"tr",19)(17,"th",20),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",21),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"th"),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",22),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()(),t.j41(29,"tbody"),t.DNE(30,_e,2,1,"ng-container",23)(31,pe,4,3,"ng-template",null,1,t.C5r),t.k0s()()()()()()}if(2&e){const a=t.sdS(32),n=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,8,"lang_azt_advertisement_category_list")," "),t.R7$(6),t.SpI(" ",t.bMT(10,10,"lang_azt_add_category")," "),t.R7$(9),t.JRh(t.bMT(19,12,"lang_auto_STT")),t.R7$(3),t.JRh(t.bMT(22,14,"lang_azt_category_name")),t.R7$(3),t.JRh(t.bMT(25,16,"lang_auto_mo_ta")),t.R7$(3),t.JRh(t.bMT(28,18,"lang_auto_hanh_dong")),t.R7$(3),t.Y8G("ngIf",n.adsCategoryList.length)("ngIfElse",a)}}let ge=(()=>{var e;class r extends G.H{handleRemoveAdsCategory(n,o){const s=`${this.commonService.myTranslateInstant("lang_azt_are_you_sure_you_want_to_delete_category")} <b>${n.name}<b/>?`;this.dialogService.open(lt.u,{data:{content:s},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(d=>{d&&this.waitDestroy(this.categoryService.apiCategoryDeleteCategoryDelete(n.id).subscribe(u=>{if(!u.success)return this.errorStatusObj(u.message,!0);this.adsCategoryList.splice(o,1),this.successStatusObj("lang_admin_guide_delete_success",!0)}))})}handelCreateAdsCategory(){this.myNavigationWithQueryString("/azota-ads/create-ads-category",`?backto=${this.backTo}`)}handelUpdateAdsCategory(n){this.myNavigationWithQueryString(`/azota-ads/update-ads-category/${n}`,`?backto=${this.backTo}`)}getData(){this.initStatusObj(),this.waitDestroy((0,K.p)([this.categoryService.apiCategoryListCategoriesGet(),this.commonListService.apiCommonListProvincesGet()]).subscribe(([n,o])=>n.success?o.success?void this.sAztCategoryAdsService.getSchoolLevelAndSubjects((s,d,u,S,y)=>{if(!y)return this.stopStatusObj();n.data?.objs?.forEach(h=>{const{selectedSchoolLevels:N,selectedSchoolSubjects:D}=this.sAztCategoryAdsService.getSelectedLevelAndSubjects(h.filters??[],s,d);let U=(h.filters??[]).filter($=>"province"==$.filterType).map($=>$.filterObjectId).filter(this.commonService.notEmpty),H=(o.data?.objs??[]).filter($=>U.includes($.id)).map($=>$.name);this.adsCategoryList.push({...h,schoolLevels:N,schoolSubjects:D,provinceNames:H})}),this.successStatusObj()}):this.errorStatusObj(o.message,!0):this.errorStatusObj(n.message,!0)))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(n,o){super(),this.dialogService=n,this.categoryService=o,this.commonListService=(0,t.WQX)(tt.Nz),this.sAztCategoryAdsService=(0,t.WQX)(at),this.adsCategoryList=[],this.backTo="/azota-ads/ads-category"}}return(e=r).\u0275fac=function(n){return new(n||e)(t.rXU(et.i),t.rXU(ct.M))},e.\u0275cmp=t.VBU({type:e,selectors:[["ads-category"]],features:[t.Vt3],decls:14,vars:21,consts:[["doneLoading",""],["emptyData",""],[3,"headerBackToLink"],[1,"mb-3","mt-3","flex","items-center"],[1,"clickable","btn","btn-dark-soft","mr-3",3,"routerLink"],["name","check","size","16",3,"ngClass"],[1,"clickable","btn","btn-info","mr-3",3,"routerLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"ads-category","mt-5"],[1,"flex","flex-col","sm:flex-row","sm:items-center"],[1,"text-lg","font-medium","mr-4"],[1,"mt-2","sm:mt-0","sm:ml-auto"],[1,"btn","btn-primary",3,"click"],[1,"w-5","h-5","mr-2","inline-block"],["name","plus","size","20"],[1,"mt-3"],[1,"intro-y","h-full"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap","text-center","p-2",2,"width","50px"],[2,"width","300px"],[1,"text-center","whitespace-nowrap",2,"width","100px"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"text-center"],[4,"ngIf"],[1,"text-center","whitespace-nowrap"],[1,"btn","btn-sm","btn-info","mr-2",3,"routerLink","queryParams"],["name","square-pen","size","18",3,"ngClass"],[1,"azt-hidden","md:inline-block"],[1,"btn","btn-sm","btn-primary-soft","mr-2",3,"click"],[1,"btn","btn-sm","btn-success-soft","mr-2",3,"routerLink","queryParams"],["name","eye","size","18",3,"ngClass"],[1,"btn","btn-sm","btn-danger-soft",3,"click"],["name","trash-2","size","18",3,"ngClass"],[2,"height","80px"],["colspan","4",1,"text-center","p-5"]],template:function(n,o){if(1&n&&(t.j41(0,"teacher-layout",2)(1,"div",3)(2,"a",4),t.nI1(3,"navigationLocalize"),t.nrm(4,"lucide-icon",5),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"a",6),t.nI1(8,"navigationLocalize"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.DNE(11,ee,1,1,"azt-loading-effect",7)(12,ue,33,20,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(13);t.Y8G("headerBackToLink","/super-role/admin-tool"),t.R7$(2),t.Y8G("routerLink",t.eq3(16,mt,t.bMT(3,8,"/azota-ads/ads-category"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(18,Q)),t.R7$(),t.SpI(" ",t.bMT(6,10,"lang_azt_manage_categories")," "),t.R7$(2),t.Y8G("routerLink",t.eq3(19,mt,t.bMT(8,12,"/azota-ads/ads-list/0"))),t.R7$(2),t.SpI(" ",t.bMT(10,14,"lang_azt_manage_ads")," "),t.R7$(2),t.Y8G("ngIf",1==o.statusObj.loading)("ngIfElse",s)}},dependencies:[C.Wk,m.YU,m.Sq,m.bT,P.K,x.Q,f.WGl,j.jd,j.Ew,R.F2,R.wp],encapsulation:2}),r})();var _t=l(82040),pt=l(39712),ut=l(89163),be=l(33887),gt=l(52811);const fe=e=>({"error-border":e});function he(e,r){1&e&&(t.j41(0,"span",12),t.nrm(1,"azt-loading-ui"),t.k0s())}let ve=(()=>{var e;class r extends be._{closeDialog(){this.dialogRef.close(void 0)}saveObj(){this.initStatusObj(),this.waitDestroy(this.partnerService.apiPartnerCreatePartnerPost({name:this.nameFormControl.value}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.waitDestroy(this.partnerService.apiPartnerListPartnersGet().subscribe(s=>{if(!s.success)return this.closeDialog();this.stopStatusObj(),this.dialogRef.close(s.data?.objs??[])}))}))}ngOnInit(){super.ngOnInit()}constructor(n,o,s){super(s,o),this.partnerService=n,this.dialogRef=o,this.data=s,this.nameFormControl=new i.MJ("",{nonNullable:!0,validators:[L.M.noWhiteSpace]})}}return(e=r).\u0275fac=function(n){return new(n||e)(t.rXU(E.KM),t.rXU(ut.CP,8),t.rXU(ut.Vh))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-create-partner-dialog"]],features:[t.Vt3],decls:19,vars:15,consts:[[1,"box","p-2"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"box","mt-4","p-2"],[1,"grid","grid-cols-12","mb-3"],[1,"col-span-12","lg:col-span-12"],[1,"form-label","mb-0","font-medium","flex","items-center"],[1,"setting-input"],["type","text",1,"form-control",3,"formControl","ngClass"],[1,"p-2","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",4)(9,"div",6),t.nrm(10,"input",7),t.k0s()()()(),t.j41(11,"div",8)(12,"button",9),t.bIt("click",function(){return o.closeDialog()}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"button",10),t.bIt("click",function(){return o.saveObj()}),t.DNE(16,he,2,0,"span",11),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(6),t.SpI(" ",t.bMT(7,7,"lang_cms_admin_create_ads_partner")," "),t.R7$(4),t.Y8G("formControl",o.nameFormControl)("ngClass",t.eq3(13,fe,o.nameFormControl.invalid)),t.R7$(3),t.SpI(" ",t.bMT(14,9,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",o.statusObj.loading||o.nameFormControl.invalid),t.R7$(),t.Y8G("ngIf",o.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(18,11,"lang_auto_luu")," "))},dependencies:[m.YU,m.bT,i.me,i.BC,i.l_,gt.R,R.wp],encapsulation:2}),r})(),bt=(()=>{var e;class r extends G.H{cancel(){this.commonService.myNavigation(this.backTo)}uploadThumbnailImage(n){this.form.controls.thumbnailUrl.setValue(n.url??"")}createPartner(){this.sAztDialogService.open(ve,{width:"500px",restoreFocus:!1,data:{}}).afterClosed().subscribe(n=>{null!=n&&(this.partnerObjs=n)})}constructor(){super(),this.sAztDialogService=(0,t.WQX)(et.i),this.categoryId=0,this.templateObj=void 0,this.partnerObjs=[],this.attributeObjs=[],this.allUploadToCdnMenuTypes=pt.b8,this.allUploadFileTypes=pt.PO,this.backTo="",this.form=new i.gE({name:new i.MJ("",{nonNullable:!0,validators:[L.M.noWhiteSpace]}),partnerId:new i.MJ(0,{nonNullable:!0,validators:[i.k0.min(1)]}),actionUrl:new i.MJ("",{nonNullable:!0,validators:[L.M.noWhiteSpace]}),description:new i.MJ("",{nonNullable:!0}),thumbnailUrl:new i.MJ("",{nonNullable:!0}),isActive:new i.MJ(!0,{nonNullable:!0}),attributeObjs:new i.Yp([])})}}return(e=r).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-base-create-or-update-ads"]],features:[t.Vt3],decls:0,vars:0,template:function(n,o){},encapsulation:2}),r})();var Ce=l(17149),ye=l(85388),ft=l(60403),ht=l(7343),vt=l(20013),nt=l(86359);const V=e=>({"error-border":e}),Ie=e=>[e];function je(e,r){if(1&e&&t.nrm(0,"azt-loading-effect",4),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function Ae(e,r){if(1&e&&(t.j41(0,"mat-option",34),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.Y8G("value",a.id),t.R7$(),t.SpI(" ",a.name," ")}}function Se(e,r){if(1&e&&(t.j41(0,"div",10)(1,"div",11)(2,"label",12),t.EFF(3),t.k0s()(),t.j41(4,"div",11)(5,"div",20),t.nrm(6,"input",21),t.k0s()()()),2&e){const a=r.$implicit;t.R7$(3),t.Lme("",a.controls.attributeDisplayName.value," - ",a.controls.attributeVariableName.value,""),t.R7$(3),t.Y8G("formControl",a.controls.attributeValue)("ngClass",t.eq3(4,V,a.controls.attributeValue.invalid))}}function Te(e,r){if(1&e&&(t.j41(0,"div",35)(1,"div",11),t.nrm(2,"azt-frontend-ads-item",36),t.k0s()()),2&e){const a=t.XpG(2);t.R7$(2),t.Y8G("obj",a.currentAdsObj)}}function Fe(e,r){if(1&e){const a=t.RV6();t.j41(0,"div",5)(1,"form",6)(2,"div",7)(3,"h3",8),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",9)(7,"div",10)(8,"div",11)(9,"label",12),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"div",13)(13,"div",14)(14,"mat-form-field",15)(15,"mat-select",16,1)(17,"mat-option"),t.nrm(18,"ngx-mat-select-search",17),t.nI1(19,"mytranslate"),t.nI1(20,"mytranslate"),t.k0s(),t.DNE(21,Ae,2,2,"mat-option",18),t.k0s()()(),t.j41(22,"div",19),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.createPartner())}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()(),t.j41(25,"div",10)(26,"div",11)(27,"label",12),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()(),t.j41(30,"div",11)(31,"div",20),t.nrm(32,"input",21),t.k0s()()(),t.j41(33,"div",10)(34,"div",11)(35,"label",12),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()(),t.j41(38,"div",11)(39,"div",20),t.nrm(40,"input",21),t.k0s()()(),t.j41(41,"div",10)(42,"div",11)(43,"label",12),t.EFF(44),t.nI1(45,"mytranslate"),t.k0s()(),t.j41(46,"div",11)(47,"div",20),t.nrm(48,"textarea",21),t.k0s()()(),t.j41(49,"div",10)(50,"div",11)(51,"label",12),t.EFF(52),t.nI1(53,"mytranslate"),t.k0s()(),t.j41(54,"div",11)(55,"div",20),t.nrm(56,"input",21),t.k0s()(),t.j41(57,"div",22)(58,"azt-upload-single-box",23),t.bIt("uploadComplete",function(o){t.eBV(a);const s=t.XpG();return t.Njj(s.uploadThumbnailImage(o))}),t.EFF(59),t.nI1(60,"mytranslate"),t.k0s()()(),t.DNE(61,Se,7,6,"div",24),t.j41(62,"div",10)(63,"div",11)(64,"div",25),t.nrm(65,"input",26),t.j41(66,"label",27),t.EFF(67),t.nI1(68,"mytranslate"),t.k0s()()()(),t.nrm(69,"hr",28),t.DNE(70,Te,3,1,"div",29),t.k0s(),t.j41(71,"div",30)(72,"button",31),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.cancel())}),t.EFF(73),t.nI1(74,"mytranslate"),t.k0s(),t.j41(75,"button",32),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.saveObj(!1))}),t.EFF(76),t.nI1(77,"mytranslate"),t.k0s(),t.j41(78,"button",33),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.saveObj(!0))}),t.EFF(79),t.nI1(80,"mytranslate"),t.k0s()()()()()}if(2&e){const a=t.sdS(16),n=t.XpG();t.R7$(),t.Y8G("formGroup",n.form),t.R7$(3),t.SpI(" ",t.bMT(5,35,n.adsId?"lang_cms_admin_edit_ads_title":"lang_cms_admin_create_ads_title")," "),t.R7$(6),t.SpI(" ",t.bMT(11,37,"lang_cms_admin_create_ads_partner")," "),t.R7$(4),t.Y8G("ngClass",t.eq3(63,V,n.form.controls.partnerId.invalid)),t.R7$(),t.Y8G("formControl",n.form.controls.partnerId),t.R7$(3),t.FS9("placeholderLabel",t.bMT(19,39,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(20,41,"lang_search_not_found")),t.Y8G("formControl",a.searchControl),t.R7$(3),t.Y8G("ngForOf",a.filter(n.partnerObjs,"name")),t.R7$(2),t.JRh(t.bMT(24,43,"lang_cms_admin_create_ads_create_new_partner")),t.R7$(5),t.SpI(" ",t.bMT(29,45,"lang_cms_admin_create_ads_name")," "),t.R7$(4),t.Y8G("formControl",n.form.controls.name)("ngClass",t.eq3(65,V,n.form.controls.name.invalid)),t.R7$(4),t.SpI(" ",t.bMT(37,47,"lang_cms_admin_create_ads_action_url")," "),t.R7$(4),t.Y8G("formControl",n.form.controls.actionUrl)("ngClass",t.eq3(67,V,n.form.controls.actionUrl.invalid)),t.R7$(4),t.SpI(" ",t.bMT(45,49,"lang_cms_admin_create_ads_description")," "),t.R7$(4),t.Y8G("formControl",n.form.controls.description)("ngClass",t.eq3(69,V,n.form.controls.description.invalid)),t.R7$(4),t.SpI(" ",t.bMT(53,51,"lang_cms_admin_create_ads_thumbnail_url")," "),t.R7$(4),t.Y8G("formControl",n.form.controls.thumbnailUrl)("ngClass",t.eq3(71,V,n.form.controls.thumbnailUrl.invalid)),t.R7$(2),t.Y8G("uploadToCdnMenu",n.allUploadToCdnMenuTypes.ADMIN)("fileType",t.eq3(73,Ie,n.allUploadFileTypes.IMAGE))("allowCompressImage",!1),t.R7$(),t.SpI(" ",t.bMT(60,53,"lang_cms_admin_create_ads_upload_image")," "),t.R7$(2),t.Y8G("ngForOf",n.form.controls.attributeObjs.controls),t.R7$(4),t.Y8G("formControl",n.form.controls.isActive),t.R7$(2),t.JRh(t.bMT(68,55,"lang_cms_admin_create_ads_is_active")),t.R7$(3),t.Y8G("ngIf",n.currentAdsObj),t.R7$(3),t.JRh(t.bMT(74,57,"lang_auto_huy")),t.R7$(2),t.Y8G("disabled",n.form.invalid),t.R7$(),t.JRh(t.bMT(77,59,"lang_auto_luu")),t.R7$(2),t.Y8G("disabled",n.form.invalid),t.R7$(),t.JRh(t.bMT(80,61,"lang_core_luu_va_dong"))}}let ke=(()=>{var e;class r extends bt{initForm(){this.form.controls.partnerId.setValue(this.commonService.getFirstOfArray(this.partnerObjs)?.id??0),this.attributeObjs.forEach(n=>{this.form.controls.attributeObjs.push(new i.gE({attributeId:new i.MJ(n.id,{nonNullable:!0}),attributeDisplayName:new i.MJ(n.displayName,{nonNullable:!0}),attributeVariableName:new i.MJ(n.variableName,{nonNullable:!0}),attributeValue:new i.MJ("",{nonNullable:!0})}))})}initData(){this.initStatusObj(),this.waitDestroy((0,K.p)([this.categoryTemplateService.apiCategoryTemplateListCategoryTemplateGet(this.categoryId),this.categoryAttributeService.apiCategoryAttributeListCategoryAttributesGet(this.categoryId),this.partnerService.apiPartnerListPartnersGet()]).pipe((0,_t.M)(([n,o,s])=>n.success?o.success?s.success?(this.templateObj=n.data,this.attributeObjs=o.data?.objs??[],this.partnerObjs=s.data?.objs??[],this.initForm(),void this.stopStatusObj()):this.errorStatusObj(s.message,!0):this.errorStatusObj(o.message,!0):this.errorStatusObj(n.message,!0))).subscribe())}saveObj(n){this.initStatusObj();let o=this.form.getRawValue(),s={categoryId:this.categoryId,partnerId:o.partnerId,name:o.name,description:o.description,thumbnailUrl:o.thumbnailUrl,actionUrl:o.actionUrl,isActive:o.isActive?1:0,attributes:o.attributeObjs.map(d=>({attributeId:d.attributeId,value:d.attributeValue}))};this.waitDestroy(this.productService.apiProductCreateProductPost(s).subscribe(d=>{if(!d.success)return this.errorStatusObj(d.message,!0);this.successStatusObj("lang_cms_add_success",!0),n&&this.cancel()}))}ngOnInit(){super.ngOnInit(),this.commonService.translateMetaData({title:"lang_cms_admin_common_ads",description:"lang_cms_admin_common_ads",image:"lang_cms_test_image"}),this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"categoryId")??0),this.backTo="/azota-ads/ads-list/"+this.categoryId,this.initData(),this.form.valueChanges.subscribe(n=>{let o=this.form.controls.attributeObjs.getRawValue().map(s=>({id:0,productId:0,attributeId:s.attributeId,value:s.attributeValue,attribute:{id:s.attributeId,categoryId:this.categoryId,displayName:s.attributeDisplayName,variableName:s.attributeVariableName}}));this.currentAdsObj={id:0,categoryId:this.categoryId,partnerId:this.form.controls.partnerId.value,name:this.form.controls.name.value,description:this.form.controls.description.value,thumbnailUrl:this.form.controls.thumbnailUrl.value,actionUrl:this.form.controls.actionUrl.value,isActive:this.form.controls.isActive.value?1:0,template:this.templateObj?.data,productAttributes:o}})}constructor(n,o,s,d,u){super(),this.partnerService=n,this.productService=o,this.categoryAttributeService=s,this.categoryTemplateService=d,this.activeRoute=u,this.adsId=0}}return(e=r).\u0275fac=function(n){return new(n||e)(t.rXU(Ce.K),t.rXU(ye.b),t.rXU(ft.C),t.rXU(ht.O),t.rXU(C.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-create-ads"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["searchInListPartner","searchInList"],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"mt-5"],[3,"formGroup"],[1,"azt-config-document","mx-auto",2,"max-width","1000px"],[1,"text-md","uppercase","font-medium"],[1,"box","mt-4","p-5"],[1,"grid","grid-cols-12","mb-3"],[1,"col-span-12","lg:col-span-12"],[1,"form-label","mb-0","font-medium","flex","items-center"],[1,"col-span-12"],[1,"azt-form-group"],["appearance","outline",2,"width","100%",3,"ngClass"],["searchInList","",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],[1,"link-color","clickable","pt-1",3,"click"],[1,"setting-input"],["type","text",1,"form-control",3,"formControl","ngClass"],[1,"link-color","clickable","pt-1"],[1,"inline-block",3,"uploadComplete","uploadToCdnMenu","fileType","allowCompressImage"],["class","grid grid-cols-12 mb-3",4,"ngFor","ngForOf"],[1,"form-check","form-switch","items-center","w-full","clickable"],["id","isActive","type","checkbox",1,"form-check-input","mr-2",3,"formControl"],["for","isActive",1,"flex","items-center","mr-auto"],[1,"mb-3"],["class","grid grid-cols-12mb-3",4,"ngIf"],[1,"text-right","mt-5"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","btn-primary-soft","w-24","mr-3",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[3,"value"],[1,"grid","grid-cols-12mb-3"],[3,"obj"]],template:function(n,o){if(1&n&&(t.j41(0,"teacher-layout",2),t.DNE(1,je,1,1,"azt-loading-effect",3)(2,Fe,81,75,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(3);t.Y8G("headerBackToLink",o.backTo),t.R7$(),t.Y8G("ngIf",1==o.statusObj.loading)("ngIfElse",s)}},dependencies:[m.YU,m.Sq,m.bT,i.qT,i.me,i.Zm,i.BC,i.cb,w.wT,J.rl,X.VO,i.l_,i.j4,P.K,vt.T,nt.f,W.x,x.Q,p.U9,R.wp],encapsulation:2}),r})();const B=e=>({"error-border":e}),Oe=e=>[e];function Re(e,r){if(1&e&&t.nrm(0,"azt-loading-effect",4),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function Ee(e,r){if(1&e&&(t.j41(0,"mat-option",34),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.Y8G("value",a.id),t.R7$(),t.SpI(" ",a.name," ")}}function $e(e,r){if(1&e&&(t.j41(0,"div",10)(1,"div",11)(2,"label",12),t.EFF(3),t.k0s()(),t.j41(4,"div",11)(5,"div",20),t.nrm(6,"input",21),t.k0s()()()),2&e){const a=r.$implicit;t.R7$(3),t.Lme("",a.controls.attributeDisplayName.value," - ",a.controls.attributeVariableName.value,""),t.R7$(3),t.Y8G("formControl",a.controls.attributeValue)("ngClass",t.eq3(4,B,a.controls.attributeValue.invalid))}}function ze(e,r){if(1&e&&(t.j41(0,"div",35)(1,"div",11),t.nrm(2,"azt-frontend-ads-item",36),t.k0s()()),2&e){const a=t.XpG(2);t.R7$(2),t.Y8G("obj",a.currentAdsObj)}}function Me(e,r){if(1&e){const a=t.RV6();t.j41(0,"div",5)(1,"form",6)(2,"div",7)(3,"h3",8),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",9)(7,"div",10)(8,"div",11)(9,"label",12),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"div",13)(13,"div",14)(14,"mat-form-field",15)(15,"mat-select",16,1)(17,"mat-option"),t.nrm(18,"ngx-mat-select-search",17),t.nI1(19,"mytranslate"),t.nI1(20,"mytranslate"),t.k0s(),t.DNE(21,Ee,2,2,"mat-option",18),t.k0s()()(),t.j41(22,"div",19),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.createPartner())}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()()(),t.j41(25,"div",10)(26,"div",11)(27,"label",12),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()(),t.j41(30,"div",11)(31,"div",20),t.nrm(32,"input",21),t.k0s()()(),t.j41(33,"div",10)(34,"div",11)(35,"label",12),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()(),t.j41(38,"div",11)(39,"div",20),t.nrm(40,"input",21),t.k0s()()(),t.j41(41,"div",10)(42,"div",11)(43,"label",12),t.EFF(44),t.nI1(45,"mytranslate"),t.k0s()(),t.j41(46,"div",11)(47,"div",20),t.nrm(48,"textarea",21),t.k0s()()(),t.j41(49,"div",10)(50,"div",11)(51,"label",12),t.EFF(52),t.nI1(53,"mytranslate"),t.k0s()(),t.j41(54,"div",11)(55,"div",20),t.nrm(56,"input",21),t.k0s()(),t.j41(57,"div",22)(58,"azt-upload-single-box",23),t.bIt("uploadComplete",function(o){t.eBV(a);const s=t.XpG();return t.Njj(s.uploadThumbnailImage(o))}),t.EFF(59),t.nI1(60,"mytranslate"),t.k0s()()(),t.DNE(61,$e,7,6,"div",24),t.j41(62,"div",10)(63,"div",11)(64,"div",25),t.nrm(65,"input",26),t.j41(66,"label",27),t.EFF(67),t.nI1(68,"mytranslate"),t.k0s()()()(),t.nrm(69,"hr",28),t.DNE(70,ze,3,1,"div",29),t.k0s(),t.j41(71,"div",30)(72,"button",31),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.cancel())}),t.EFF(73),t.nI1(74,"mytranslate"),t.k0s(),t.j41(75,"button",32),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.saveObj(!1))}),t.EFF(76),t.nI1(77,"mytranslate"),t.k0s(),t.j41(78,"button",33),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.saveObj(!0))}),t.EFF(79),t.nI1(80,"mytranslate"),t.k0s()()()()()}if(2&e){const a=t.sdS(16),n=t.XpG();t.R7$(),t.Y8G("formGroup",n.form),t.R7$(3),t.SpI(" ",t.bMT(5,35,n.adsId?"lang_cms_admin_edit_ads_title":"lang_cms_admin_create_ads_title")," "),t.R7$(6),t.SpI(" ",t.bMT(11,37,"lang_cms_admin_create_ads_partner")," "),t.R7$(4),t.Y8G("ngClass",t.eq3(63,B,n.form.controls.partnerId.invalid)),t.R7$(),t.Y8G("formControl",n.form.controls.partnerId),t.R7$(3),t.FS9("placeholderLabel",t.bMT(19,39,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(20,41,"lang_search_not_found")),t.Y8G("formControl",a.searchControl),t.R7$(3),t.Y8G("ngForOf",a.filter(n.partnerObjs,"name")),t.R7$(2),t.JRh(t.bMT(24,43,"lang_cms_admin_create_ads_create_new_partner")),t.R7$(5),t.SpI(" ",t.bMT(29,45,"lang_cms_admin_create_ads_name")," "),t.R7$(4),t.Y8G("formControl",n.form.controls.name)("ngClass",t.eq3(65,B,n.form.controls.name.invalid)),t.R7$(4),t.SpI(" ",t.bMT(37,47,"lang_cms_admin_create_ads_action_url")," "),t.R7$(4),t.Y8G("formControl",n.form.controls.actionUrl)("ngClass",t.eq3(67,B,n.form.controls.actionUrl.invalid)),t.R7$(4),t.SpI(" ",t.bMT(45,49,"lang_cms_admin_create_ads_description")," "),t.R7$(4),t.Y8G("formControl",n.form.controls.description)("ngClass",t.eq3(69,B,n.form.controls.description.invalid)),t.R7$(4),t.SpI(" ",t.bMT(53,51,"lang_cms_admin_create_ads_thumbnail_url")," "),t.R7$(4),t.Y8G("formControl",n.form.controls.thumbnailUrl)("ngClass",t.eq3(71,B,n.form.controls.thumbnailUrl.invalid)),t.R7$(2),t.Y8G("uploadToCdnMenu",n.allUploadToCdnMenuTypes.ADMIN)("fileType",t.eq3(73,Oe,n.allUploadFileTypes.IMAGE))("allowCompressImage",!1),t.R7$(),t.SpI(" ",t.bMT(60,53,"lang_cms_admin_create_ads_upload_image")," "),t.R7$(2),t.Y8G("ngForOf",n.form.controls.attributeObjs.controls),t.R7$(4),t.Y8G("formControl",n.form.controls.isActive),t.R7$(2),t.JRh(t.bMT(68,55,"lang_cms_admin_create_ads_is_active")),t.R7$(3),t.Y8G("ngIf",n.currentAdsObj),t.R7$(3),t.JRh(t.bMT(74,57,"lang_auto_huy")),t.R7$(2),t.Y8G("disabled",n.form.invalid),t.R7$(),t.JRh(t.bMT(77,59,"lang_auto_luu")),t.R7$(2),t.Y8G("disabled",n.form.invalid),t.R7$(),t.JRh(t.bMT(80,61,"lang_core_luu_va_dong"))}}let Le=(()=>{var e;class r extends bt{initForm(){this.form.controls.partnerId.setValue(this.updateAdsObj?.partnerId??0),this.form.controls.name.setValue(this.updateAdsObj?.name??""),this.form.controls.actionUrl.setValue(this.updateAdsObj?.actionUrl??""),this.form.controls.description.setValue(this.updateAdsObj?.description??""),this.form.controls.thumbnailUrl.setValue(this.updateAdsObj?.thumbnailUrl??""),this.form.controls.isActive.setValue(!!this.updateAdsObj?.isActive),this.attributeObjs.forEach(n=>{let o=this.updateAdsObj?.productAttributes?.find(s=>s.attributeId==n.id);this.form.controls.attributeObjs.push(new i.gE({attributeId:new i.MJ(n.id,{nonNullable:!0}),attributeDisplayName:new i.MJ(n.displayName,{nonNullable:!0}),attributeVariableName:new i.MJ(n.variableName,{nonNullable:!0}),attributeValue:new i.MJ(o?.value??"",{nonNullable:!0})}))})}initData(){this.initStatusObj(),this.waitDestroy((0,K.p)([this.categoryTemplateService.apiCategoryTemplateListCategoryTemplateGet(this.categoryId),this.categoryAttributeService.apiCategoryAttributeListCategoryAttributesGet(this.categoryId),this.partnerService.apiPartnerListPartnersGet(),this.productService.apiProductGetProductGet(this.adsId)]).pipe((0,_t.M)(([n,o,s,d])=>n.success?o.success?s.success?(this.templateObj=n.data,this.attributeObjs=o.data?.objs??[],this.partnerObjs=s.data?.objs??[],this.updateAdsObj=d.data,this.initForm(),void this.stopStatusObj()):this.errorStatusObj(s.message,!0):this.errorStatusObj(o.message,!0):this.errorStatusObj(n.message,!0))).subscribe())}saveObj(n){this.initStatusObj();let o=this.form.getRawValue(),s={categoryId:this.categoryId,partnerId:o.partnerId,name:o.name,description:o.description,thumbnailUrl:o.thumbnailUrl,actionUrl:o.actionUrl,isActive:o.isActive?1:0,attributes:o.attributeObjs.map(d=>({attributeId:d.attributeId,value:d.attributeValue}))};this.waitDestroy(this.productService.apiProductUpdateProductPut(s,this.adsId).subscribe(d=>{if(!d.success)return this.errorStatusObj(d.message,!0);this.successStatusObj("lang_cms_update_success",!0),n&&this.cancel()}))}ngOnInit(){super.ngOnInit(),this.commonService.translateMetaData({title:"lang_cms_admin_common_ads",description:"lang_cms_admin_common_ads",image:"lang_cms_test_image"}),this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"categoryId")??0),this.adsId=Number(this.commonService.getMyParam(this.activeRoute,"adsId")??0),this.backTo="/azota-ads/ads-list/"+this.categoryId,this.initData(),this.form.valueChanges.subscribe(n=>{let o=this.form.controls.attributeObjs.getRawValue().map(s=>({id:0,productId:0,attributeId:s.attributeId,value:s.attributeValue,attribute:{id:s.attributeId,categoryId:this.categoryId,displayName:s.attributeDisplayName,variableName:s.attributeVariableName}}));this.currentAdsObj={id:0,categoryId:this.categoryId,partnerId:this.form.controls.partnerId.value,name:this.form.controls.name.value,description:this.form.controls.description.value,thumbnailUrl:this.form.controls.thumbnailUrl.value,actionUrl:this.form.controls.actionUrl.value,isActive:this.form.controls.isActive.value?1:0,template:this.templateObj?.data,productAttributes:o}})}constructor(n,o,s,d,u){super(),this.partnerService=n,this.productService=o,this.categoryAttributeService=s,this.categoryTemplateService=d,this.activeRoute=u,this.adsId=0,this.updateAdsObj=void 0,this.form=new i.gE({name:new i.MJ("",{nonNullable:!0,validators:[L.M.noWhiteSpace]}),partnerId:new i.MJ(0,{nonNullable:!0,validators:[i.k0.min(1)]}),actionUrl:new i.MJ("",{nonNullable:!0,validators:[L.M.noWhiteSpace]}),description:new i.MJ("",{nonNullable:!0}),thumbnailUrl:new i.MJ("",{nonNullable:!0}),isActive:new i.MJ(!0,{nonNullable:!0}),attributeObjs:new i.Yp([])})}}return(e=r).\u0275fac=function(n){return new(n||e)(t.rXU(E.KM),t.rXU(E.bk),t.rXU(E.CT),t.rXU(E.Or),t.rXU(C.nX))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-update-ads"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],["searchInListPartner","searchInList"],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"mt-5"],[3,"formGroup"],[1,"azt-config-document","mx-auto",2,"max-width","1000px"],[1,"text-md","uppercase","font-medium"],[1,"box","mt-4","p-5"],[1,"grid","grid-cols-12","mb-3"],[1,"col-span-12","lg:col-span-12"],[1,"form-label","mb-0","font-medium","flex","items-center"],[1,"col-span-12"],[1,"azt-form-group"],["appearance","outline",2,"width","100%",3,"ngClass"],["searchInList","",3,"formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],[1,"link-color","clickable","pt-1",3,"click"],[1,"setting-input"],["type","text",1,"form-control",3,"formControl","ngClass"],[1,"link-color","clickable","pt-1"],[1,"inline-block",3,"uploadComplete","uploadToCdnMenu","fileType","allowCompressImage"],["class","grid grid-cols-12 mb-3",4,"ngFor","ngForOf"],[1,"form-check","form-switch","items-center","w-full","clickable"],["id","isActive","type","checkbox",1,"form-check-input","mr-2",3,"formControl"],["for","isActive",1,"flex","items-center","mr-auto"],[1,"mb-3"],["class","grid grid-cols-12mb-3",4,"ngIf"],[1,"text-right","mt-5"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","btn-primary-soft","w-24","mr-3",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[3,"value"],[1,"grid","grid-cols-12mb-3"],[3,"obj"]],template:function(n,o){if(1&n&&(t.j41(0,"teacher-layout",2),t.DNE(1,Re,1,1,"azt-loading-effect",3)(2,Me,81,75,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(3);t.Y8G("headerBackToLink",o.backTo),t.R7$(),t.Y8G("ngIf",1==o.statusObj.loading)("ngIfElse",s)}},dependencies:[m.YU,m.Sq,m.bT,i.qT,i.me,i.Zm,i.BC,i.cb,w.wT,J.rl,X.VO,i.l_,i.j4,P.K,vt.T,nt.f,W.x,x.Q,p.U9,R.wp],encapsulation:2}),r})();var Ge=l(76627),Ct=l(25329);const yt=e=>[e],Z=()=>({"mr-1":!0}),q=e=>({backTo:e}),xe=(e,r)=>({"btn-success-soft":e,"btn-pending-soft":r});function Ne(e,r){if(1&e&&t.nrm(0,"azt-loading-effect",10),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function De(e,r){if(1&e&&(t.j41(0,"mat-option",20),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.Y8G("value",a.id),t.R7$(),t.Lme("",a.name," - ",a.position,"")}}function Ue(e,r){1&e&&(t.j41(0,"span",37),t.nrm(1,"azt-loading-ui"),t.k0s())}function Ye(e,r){1&e&&(t.j41(0,"span",37),t.nrm(1,"azt-loading-ui"),t.k0s())}function Pe(e,r){if(1&e){const a=t.RV6();t.j41(0,"mat-card",24)(1,"mat-card-content",25)(2,"div",26)(3,"div",27)(4,"b"),t.EFF(5),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"div",28)(8,"a",29),t.nI1(9,"navigationLocalize"),t.nrm(10,"lucide-icon",30),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",31),t.bIt("click",function(){const o=t.eBV(a).$implicit,s=t.XpG(4);return t.Njj(s.changeStatus(o))}),t.DNE(14,Ue,2,0,"span",32),t.nrm(15,"lucide-icon",33),t.j41(16,"span",34),t.EFF(17),t.nI1(18,"mytranslate"),t.nI1(19,"mytranslate"),t.k0s()(),t.j41(20,"button",35),t.bIt("click",function(){const o=t.eBV(a).$implicit,s=t.XpG(4);return t.Njj(s.deleteObj(o))}),t.DNE(21,Ye,2,0,"span",32),t.nrm(22,"lucide-icon",36),t.j41(23,"span",34),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()()()()()}if(2&e){const a=r.$implicit,n=r.index,o=t.XpG(4);t.R7$(5),t.SpI("",n+1,"."),t.R7$(),t.SpI(" ",a.name," "),t.R7$(2),t.Y8G("routerLink",t.bMT(9,13,"/azota-ads/edit-ads/"+a.categoryId+"/"+a.id))("queryParams",t.eq3(23,q,o.backTo)),t.R7$(2),t.Y8G("ngClass",t.lJ4(25,Z)),t.R7$(),t.SpI(" ",t.bMT(12,15,"lang_auto_sua")," "),t.R7$(2),t.Y8G("ngClass",t.l_i(26,xe,a.isActive,!a.isActive)),t.R7$(),t.Y8G("ngIf",o.changeStatusId==a.id),t.R7$(),t.Y8G("ngClass",t.lJ4(29,Z)),t.R7$(2),t.JRh(a.isActive?t.bMT(18,17,"lang_cms_admin_ads_is_active"):t.bMT(19,19,"lang_cms_admin_ads_is_inactive")),t.R7$(4),t.Y8G("ngIf",o.deletingId==a.id),t.R7$(),t.Y8G("ngClass",t.lJ4(30,Z)),t.R7$(2),t.JRh(t.bMT(25,21,"lang_auto_xoa"))}}function Ve(e,r){if(1&e&&(t.j41(0,"div",21)(1,"div",22),t.DNE(2,Pe,26,31,"mat-card",23),t.k0s()()),2&e){const a=t.XpG(3);t.R7$(2),t.Y8G("ngForOf",a.objs)}}function Be(e,r){if(1&e){const a=t.RV6();t.qex(0),t.j41(1,"div",12)(2,"mat-form-field",13)(3,"mat-select",14,2),t.bIt("selectionChange",function(){t.eBV(a);const o=t.XpG(2);return t.Njj(o.changeCategoryId())}),t.j41(5,"mat-option"),t.nrm(6,"ngx-mat-select-search",15),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,De,2,3,"mat-option",16),t.k0s()(),t.j41(10,"span",17),t.nI1(11,"navigationLocalize"),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"a",18),t.nI1(15,"navigationLocalize"),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.DNE(18,Ve,3,1,"div",19),t.bVm()}if(2&e){const a=t.sdS(4),n=t.XpG(2);t.R7$(3),t.Y8G("formControl",n.currentCategoryFormControl),t.R7$(3),t.FS9("placeholderLabel",t.bMT(7,12,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(8,14,"lang_search_not_found")),t.Y8G("formControl",a.searchControl),t.R7$(3),t.Y8G("ngForOf",a.filter(n.categoryObjs,"position")),t.R7$(),t.Y8G("routerLink",t.bMT(11,16,"/azota-ads/create-ads-template/"+n.currentCategoryFormControl.value))("queryParams",t.eq3(24,q,n.backTo)),t.R7$(2),t.SpI(" ",t.bMT(13,18,"lang_cms_admin_ads_edit_ads_template")," "),t.R7$(2),t.Y8G("routerLink",t.bMT(15,20,"/azota-ads/create-ads/"+n.currentCategoryFormControl.value))("queryParams",t.eq3(26,q,n.backTo)),t.R7$(2),t.SpI(" ",t.bMT(17,22,"lang_cms_admin_ads_create_new_ads")," "),t.R7$(2),t.Y8G("ngIf",n.objs.length>0)}}function we(e,r){if(1&e&&(t.j41(0,"span",38),t.nI1(1,"navigationLocalize"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&e){const a=t.XpG(2);t.Y8G("routerLink",t.bMT(1,3,"/azota-ads/create-ads-category"))("queryParams",t.eq3(7,q,a.backTo)),t.R7$(2),t.JRh(t.bMT(3,5,"lang_cms_admin_ads_create_new_category"))}}function Je(e,r){if(1&e&&t.DNE(0,Be,19,28,"ng-container",11)(1,we,4,9,"ng-template",null,1,t.C5r),2&e){const a=t.sdS(2),n=t.XpG();t.Y8G("ngIf",n.categoryObjs.length>0)("ngIfElse",a)}}function We(e,r){if(1&e&&t.nrm(0,"azt-loading-effect",3),2&e){const a=t.XpG();t.Y8G("currentStatusObj",a.statusObj)}}function Ke(e,r){if(1&e&&(t.j41(0,"div",11)(1,"span",12),t.EFF(2),t.k0s(),t.j41(3,"span",13),t.EFF(4),t.k0s()()),2&e){const a=r.$implicit;t.R7$(2),t.SpI(" ","${"+a.variableName+"}"," "),t.R7$(2),t.SpI(" ","- "+a.description," ")}}function Qe(e,r){if(1&e&&(t.j41(0,"div",24)(1,"div",16),t.nrm(2,"azt-frontend-ads-item",25),t.k0s()()),2&e){const a=t.XpG(2);t.R7$(2),t.Y8G("obj",a.currentAdsObj)}}function He(e,r){if(1&e){const a=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h3",6),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7)(6,"div",8)(7,"h3",9),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",10)(11,"div",11)(12,"span",12),t.EFF(13),t.k0s(),t.j41(14,"span",13),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",11)(18,"span",12),t.EFF(19),t.k0s(),t.j41(20,"span",13),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()(),t.j41(23,"div",11)(24,"span",12),t.EFF(25),t.k0s(),t.j41(26,"span",13),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()(),t.j41(29,"div",11)(30,"span",12),t.EFF(31),t.k0s(),t.j41(32,"span",13),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s()(),t.DNE(35,Ke,5,2,"div",14),t.k0s()(),t.j41(36,"div",15)(37,"div",16)(38,"h3",9),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s()(),t.j41(41,"div",17),t.nrm(42,"editor",18),t.nI1(43,"getTinyMceKey"),t.nI1(44,"getTinyMceConfig"),t.k0s()(),t.nrm(45,"hr",19),t.DNE(46,Qe,3,1,"div",20),t.k0s(),t.j41(47,"div",21)(48,"button",22),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.handleDestroy())}),t.EFF(49),t.nI1(50,"mytranslate"),t.k0s(),t.j41(51,"button",23),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.saveTemplate())}),t.EFF(52),t.nI1(53,"mytranslate"),t.k0s()()()()}if(2&e){const a=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,19,"lang_azt_create_ads_template")," "),t.R7$(5),t.SpI(" ",t.bMT(9,21,"lang_azt_information_field")," "),t.R7$(5),t.JRh("${NAME}"),t.R7$(2),t.SpI(" ","- "+t.bMT(16,23,"lang_cms_admin_create_ads_name")," "),t.R7$(4),t.JRh("${URL}"),t.R7$(2),t.SpI(" ","- "+t.bMT(22,25,"lang_cms_admin_create_ads_action_url")," "),t.R7$(4),t.JRh("${DESCRIPTION}"),t.R7$(2),t.SpI(" ","- "+t.bMT(28,27,"lang_cms_admin_create_ads_description")," "),t.R7$(4),t.JRh("${THUMBNAIL}"),t.R7$(2),t.Lme("","- "+t.bMT(34,29,"lang_cms_admin_create_ads_thumbnail_url")," - ",a.adsDefaultThumbnail,""),t.R7$(2),t.Y8G("ngForOf",a.categoryAttributeList),t.R7$(4),t.SpI(" ",t.bMT(40,31,"lang_auto_noi_dung")," "),t.R7$(3),t.FS9("apiKey",t.bMT(43,33,"")),t.Y8G("formControl",a.template)("init",t.bMT(44,35,"admin_common")),t.R7$(4),t.Y8G("ngIf",a.currentAdsObj),t.R7$(3),t.JRh(t.bMT(50,37,"lang_auto_huy")),t.R7$(3),t.JRh(t.bMT(53,39,"lang_auto_luu"))}}const qe=[{path:"",component:O.z,children:[{path:"ads-list/:categoryId",component:(()=>{var e;class r extends G.H{changeStatus(n){if(null==this.objs.find(d=>d.id==n.id))return;this.changeStatusId=n.id;let s=n.isActive?this.productService.apiProductDeactivateProductPut(n.id):this.productService.apiProductActivateProductPut(n.id);this.waitDestroy(s.subscribe(d=>{if(this.changeStatusId=0,!d.success)return this.errorStatusObj(d.message,!0);n.isActive=n.isActive?0:1}))}deleteObj(n){const o=this.commonService.myTranslateInstant("lang_cms_admin_ads_are_your_sure_to_delete_this_ads")+`: <b>${n.name}<b/>?`;this.sAztDialogService.open(lt.u,{data:{content:o},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(s=>{s&&(this.deletingId=n.id,this.waitDestroy(this.productService.apiProductDeleteProductsPost({productIds:[n.id]}).subscribe(d=>{if(this.deletingId=0,!d.success)return this.errorStatusObj(d.message,!0);this.objs=this.objs.filter(u=>u.id!=n.id)})))})}changeCategoryId(){this.commonService.myNavigation("/azota-ads/ads-list/"+this.currentCategoryFormControl.value)}getData(){this.initStatusObj(),this.getCategory(n=>{if(n)return this.errorStatusObj(n,!0);let o=this.getDefaultCategoryId();this.currentCategoryFormControl.value!=o&&this.currentCategoryFormControl.setValue(o),this.waitDestroy(this.productService.apiProductListProductsPost({categoryId:o,page:1,size:1e4}).subscribe(d=>{if(!d.success)return this.errorStatusObj(d.message,!0);this.objs=d.data?.objs??[],this.stopStatusObj()}))})}getCategory(n){this.waitDestroy(this.categoryService.apiCategoryListCategoriesGet().subscribe(o=>{if(!o.success)return n(o.message);this.categoryObjs=o.data?.objs??[],n(void 0)}))}getDefaultCategoryId(){let n=Number(this.commonService.getMyParam(this.activeRoute,"categoryId")??0);return null!=this.categoryObjs.find(o=>o.id==n)?n:this.commonService.getFirstOfArray(this.categoryObjs)?.id??0}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,Ge.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData()})),this.commonService.translateMetaData({title:"lang_cms_admin_common_ads",description:"lang_cms_admin_common_ads",image:"lang_cms_test_image"}),this.headerBackTo=this.commonService.getMyQueryParam("backTo")??"/azota-ads/ads-category",this.backTo=this.commonService.getMyQueryParam("backTo")??this.commonService.getCurrentUrlWithoutLocale()}constructor(n,o,s,d){super(),this.categoryService=n,this.productService=o,this.activeRoute=s,this.sAztDialogService=d,this.currentCategoryFormControl=new i.MJ(0,{nonNullable:!0}),this.objs=[],this.categoryObjs=[],this.deletingId=0,this.changeStatusId=0,this.backTo="",this.headerBackTo=""}}return(e=r).\u0275fac=function(n){return new(n||e)(t.rXU(ct.M),t.rXU(E.bk),t.rXU(C.nX),t.rXU(et.i))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-common-guide"]],features:[t.Vt3],decls:15,vars:21,consts:[["doneLoading",""],["emptyCategory",""],["searchInListCategory","searchInList"],[3,"headerBackToLink"],[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"mb-3","mt-3","flex","items-center"],[1,"clickable","btn","btn-info","mr-3",3,"routerLink"],[1,"clickable","btn","btn-dark-soft","mr-3",3,"routerLink"],["name","check","size","16",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[1,"mb-3","box","p-2","flex"],["appearance","outline"],["searchInList","",3,"selectionChange","formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],[1,"clickable","flex-none","btn","btn-secondary","ml-3",3,"routerLink","queryParams"],[1,"clickable","flex-none","btn","btn-primary","ml-3",3,"routerLink","queryParams"],["class","card mt-1",4,"ngIf"],[3,"value"],[1,"card","mt-1"],[1,"card-body"],["appearance","outlined","class","mb-2","style","background-color: #fff; border: none",4,"ngFor","ngForOf"],["appearance","outlined",1,"mb-2",2,"background-color","#fff","border","none"],[1,"form-control",2,"overflow-y","auto"],[1,"flex","align-items-center"],[1,"w-full"],[1,"flex-none","items-center"],[1,"btn","btn-sm","btn-primary-soft","mr-2",3,"routerLink","queryParams"],["name","square-pen","size","18",3,"ngClass"],[1,"btn","btn-sm","mr-2",3,"click","ngClass"],["class","w-4 h-4 flex mr-1",4,"ngIf"],["name","shield-check","size","18",3,"ngClass"],[1,"azt-hidden","md:inline-block"],[1,"btn","btn-sm","btn-danger-soft",3,"click"],["name","trash-2","size","18",3,"ngClass"],[1,"w-4","h-4","flex","mr-1"],[1,"clickable","btn","btn-primary",3,"routerLink","queryParams"]],template:function(n,o){if(1&n&&(t.j41(0,"teacher-layout",3)(1,"div",4)(2,"div",5)(3,"a",6),t.nI1(4,"navigationLocalize"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"a",7),t.nI1(8,"navigationLocalize"),t.nrm(9,"lucide-icon",8),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.DNE(12,Ne,1,1,"azt-loading-effect",9)(13,Je,3,2,"ng-template",null,0,t.C5r),t.k0s()()),2&n){const s=t.sdS(14);t.Y8G("headerBackToLink",o.headerBackTo),t.R7$(3),t.Y8G("routerLink",t.eq3(16,yt,t.bMT(4,8,"/azota-ads/ads-category"))),t.R7$(2),t.SpI(" ",t.bMT(6,10,"lang_azt_manage_categories")," "),t.R7$(2),t.Y8G("routerLink",t.eq3(18,yt,t.bMT(8,12,"/azota-ads/ads-list/0"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(20,Z)),t.R7$(),t.SpI(" ",t.bMT(11,14,"lang_azt_manage_ads")," "),t.R7$(2),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",s)}},dependencies:[C.Wk,m.YU,m.Sq,m.bT,i.BC,w.wT,Ct.RN,Ct.m2,J.rl,X.VO,i.l_,P.K,gt.R,W.x,x.Q,f.WGl,p.U9,R.F2,R.wp],encapsulation:2}),r})()},{path:"create-ads/:categoryId",component:ke},{path:"edit-ads/:categoryId/:adsId",component:Le},{path:"ads-category",component:ge},{path:"create-ads-category",component:xt},{path:"update-ads-category/:categoryId",component:te},{path:"create-ads-template/:categoryId",component:(()=>{var e;class r extends G.H{saveTemplate(){const n={categoryId:this.categoryId,data:this.commonService.replaceAll(this.template.value,this.adsDefaultThumbnail,"${THUMBNAIL}")??""};this.waitDestroy(this.categoryTemplateService.apiCategoryTemplateUpsertCategoryTemplatePost(n).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.successStatusObj("T\u1ea1o template th\xe0nh c\xf4ng"),this.myNavigation(`/azota-ads/ads-list/${this.categoryId}`)}))}handleDestroy(){this.myNavigation(this.backToLink)}initAds(){this.currentAdsObj={id:0,categoryId:this.categoryId,partnerId:0,name:"NAME_SAMPLE",description:"DESCRIPTION_SAMPLE",thumbnailUrl:A.c.adsDefaultThumbnail,actionUrl:"https://google.com.vn",isActive:1,template:this.template.value,productAttributes:this.categoryAttributeList.map(n=>({id:0,productId:0,attributeId:n.id,value:n.variableName,attribute:{id:n.id,categoryId:this.categoryId,displayName:n.displayName,variableName:n.variableName}}))}}getData(n){this.initStatusObj();const o=this.categoryAttributeService.apiCategoryAttributeListCategoryAttributesGet(n),s=this.categoryTemplateService.apiCategoryTemplateListCategoryTemplateGet(n);this.waitDestroy((0,K.p)([o,s]).subscribe({next:([d,u])=>d.success?u.success?(this.categoryAttributeList=d.data?.objs??[],this.template.setValue(this.commonService.replaceAll(u.data?.data,"${THUMBNAIL}",this.adsDefaultThumbnail)??""),void this.successStatusObj()):this.errorStatusObj(u.message,!0):this.errorStatusObj(d.message,!0),error:d=>this.errorStatusObj(d.message,!0)}))}ngOnInit(){super.ngOnInit(),this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"categoryId")??0),this.backToLink=this.commonService.getMyQueryParam("backto")??"/azota-ads/ads-category",this.getData(this.categoryId),this.template.valueChanges.subscribe(n=>{this.initAds()})}constructor(n,o,s){super(),this.activeRoute=n,this.categoryTemplateService=o,this.categoryAttributeService=s,this.backToLink="",this.categoryId=0,this.template=new i.MJ("",{nonNullable:!0,validators:[i.k0.required]}),this.categoryAttributeList=[],this.adsDefaultThumbnail=A.c.adsDefaultThumbnail}}return(e=r).\u0275fac=function(n){return new(n||e)(t.rXU(C.nX),t.rXU(ht.O),t.rXU(ft.C))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-create-ads-template"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"mt-5"],[1,"azt-config-document","mx-auto",2,"max-width","1000px"],[1,"text-md","uppercase","font-medium"],[1,"box","p-5","mt-3"],[1,"mt-0"],[1,"text-md","font-medium"],[1,"mt-2"],[1,"mt-3"],[1,"rounded-md","bg-slate-200","px-3","py-1","text-slate-600","text-xs","dark:bg-darkmode-300","dark:text-slate-400","inline-block"],[1,"mt-1","mr-1","text-xs","leading-relaxed","text-slate-500"],["class","mt-3",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","mt-4"],[1,"col-span-12","lg:col-span-12"],[1,"col-span-12","lg:col-span-12","mt-3"],[3,"formControl","apiKey","init"],[1,"mt-3","mb-3"],["class","grid grid-cols-12mb-3",4,"ngIf"],[1,"text-right","mt-5"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","btn-primary","w-24",3,"click"],[1,"grid","grid-cols-12mb-3"],[3,"obj"]],template:function(n,o){if(1&n&&(t.j41(0,"teacher-layout",1),t.DNE(1,We,1,1,"azt-loading-effect",2)(2,He,54,41,"ng-template",null,0,t.C5r),t.k0s()),2&n){const s=t.sdS(3);t.Y8G("headerBackToLink",o.backToLink),t.R7$(),t.Y8G("ngIf",1==o.statusObj.loading)("ngIfElse",s)}},dependencies:[m.Sq,m.bT,i.BC,c.xn,i.l_,P.K,nt.f,x.Q,R.wp,R.Hw,R.yc],encapsulation:2}),r})()}]}];let tn=(()=>{var e;class r{}return(e=r).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[C.iI.forChild(qe),C.iI,F.XE]}),r})(),en=(()=>{var e;class r{}return(e=r).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({providers:[{provide:c.vn,useValue:A.c.azt_tiny_mce_script_src}],imports:[C.iI,m.MD,i.YN,c.sv,b.s,i.X1,tn,v.Q,I.L,_.Id,k.b,f.flO.pick(f.Ptg),j.AC,p.An]}),r})()}}]);